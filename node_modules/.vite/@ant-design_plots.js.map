{
  "version": 3,
  "sources": ["../size-sensor/lib/id.js", "../size-sensor/lib/debounce.js", "../size-sensor/lib/constant.js", "../size-sensor/lib/sensors/object.js", "../size-sensor/lib/sensors/resizeObserver.js", "../size-sensor/lib/sensors/index.js", "../size-sensor/lib/sensorPool.js", "../size-sensor/lib/index.js", "../pdfast/src/helper.js", "../pdfast/src/index.js", "../@ant-design/plots/es/components/area/index.js", "../@antv/g2/src/index.ts", "../tslib/tslib.es6.js", "../@antv/util/src/is-array-like.ts", "../@antv/util/src/contains.ts", "../@antv/util/src/filter.ts", "../@antv/util/src/difference.ts", "../@antv/util/src/is-type.ts", "../@antv/util/src/is-function.ts", "../@antv/util/src/is-nil.ts", "../@antv/util/src/is-array.ts", "../@antv/util/src/is-object.ts", "../@antv/util/src/each.ts", "../@antv/util/src/keys.ts", "../@antv/util/src/is-match.ts", "../@antv/util/src/is-object-like.ts", "../@antv/util/src/is-plain-object.ts", "../@antv/util/src/find.ts", "../@antv/util/src/find-index.ts", "../@antv/util/src/first-value.ts", "../@antv/util/src/flatten.ts", "../@antv/util/src/max.ts", "../@antv/util/src/min.ts", "../@antv/util/src/get-range.ts", "../@antv/util/src/pull.ts", "../@antv/util/src/pull-at.ts", "../@antv/util/src/reduce.ts", "../@antv/util/src/remove.ts", "../@antv/util/src/is-string.ts", "../@antv/util/src/sort-by.ts", "../@antv/util/src/uniq.ts", "../@antv/util/src/values-of-key.ts", "../@antv/util/src/head.ts", "../@antv/util/src/last.ts", "../@antv/util/src/every.ts", "../@antv/util/src/some.ts", "../@antv/util/src/group-by.ts", "../@antv/util/src/group-to-map.ts", "../@antv/util/src/group.ts", "../@antv/util/src/clamp.ts", "../@antv/util/src/fixed-base.ts", "../@antv/util/src/is-number.ts", "../@antv/util/src/is-integer.ts", "../@antv/util/src/is-number-equal.ts", "../@antv/util/src/max-by.ts", "../@antv/util/src/min-by.ts", "../@antv/util/src/mod.ts", "../@antv/util/src/to-degree.ts", "../@antv/util/src/to-radian.ts", "../@antv/util/src/for-in.ts", "../@antv/util/src/has.ts", "../@antv/util/src/has-key.ts", "../@antv/util/src/values.ts", "../@antv/util/src/to-string.ts", "../@antv/util/src/lower-case.ts", "../@antv/util/src/substitute.ts", "../@antv/util/src/upper-first.ts", "../@antv/util/src/get-type.ts", "../@antv/util/src/is-boolean.ts", "../@antv/util/src/is-date.ts", "../@antv/util/src/is-null.ts", "../@antv/util/src/is-prototype.ts", "../@antv/util/src/is-undefined.ts", "../@antv/util/src/is-element.ts", "../@antv/util/src/request-animation-frame.ts", "../@antv/util/src/clear-animation-frame.ts", "../@antv/util/src/mix.ts", "../@antv/util/src/clone.ts", "../@antv/util/src/debounce.ts", "../@antv/util/src/memoize.ts", "../@antv/util/src/deep-mix.ts", "../@antv/util/src/index-of.ts", "../@antv/util/src/is-empty.ts", "../@antv/util/src/is-equal.ts", "../@antv/util/src/map.ts", "../@antv/util/src/map-values.ts", "../@antv/util/src/get.ts", "../@antv/util/src/set.ts", "../@antv/util/src/pick.ts", "../@antv/util/src/omit.ts", "../@antv/util/src/throttle.ts", "../@antv/util/src/to-array.ts", "../@antv/util/src/unique-id.ts", "../@antv/util/src/noop.ts", "../@antv/util/src/size.ts", "../@antv/util/src/measure-text-width.ts", "../@antv/util/src/get-ellipsis-text.ts", "../@antv/util/src/cache.ts", "../@antv/g2/src/constant.ts", "../@antv/g2/src/engine/index.ts", "../@antv/dom-util/src/add-event-listener.ts", "../@antv/dom-util/src/create-dom.ts", "../@antv/dom-util/src/get-style.ts", "../@antv/dom-util/src/get-height.ts", "../@antv/dom-util/src/get-outer-height.ts", "../@antv/dom-util/src/get-width.ts", "../@antv/dom-util/src/get-outer-width.ts", "../@antv/dom-util/src/modify-css.ts", "../@antv/g2/src/util/dom.ts", "../@antv/event-emitter/src/index.ts", "../@antv/g2/src/base.ts", "../@antv/g-base/src/util/path.ts", "../@antv/g-base/src/event/graph-event.ts", "../@antv/g-base/src/util/util.ts", "../@antv/g-base/src/abstract/base.ts", "../detect-browser/es/index.js", "../gl-matrix/esm/common.js", "../gl-matrix/esm/mat3.js", "../gl-matrix/esm/vec3.js", "../gl-matrix/esm/vec4.js", "../gl-matrix/esm/quat.js", "../gl-matrix/esm/vec2.js", "../@antv/matrix-util/src/ext.ts", "../@antv/g-base/src/util/matrix.ts", "../@antv/g-base/src/abstract/element.ts", "../@antv/g-base/src/abstract/container.ts", "../d3-timer/src/timer.js", "../d3-color/src/define.js", "../d3-color/src/color.js", "../d3-color/src/math.js", "../d3-color/src/lab.js", "../d3-color/src/cubehelix.js", "../d3-interpolate/src/basis.js", "../d3-interpolate/src/basisClosed.js", "../d3-interpolate/src/constant.js", "../d3-interpolate/src/color.js", "../d3-interpolate/src/rgb.js", "../d3-interpolate/src/numberArray.js", "../d3-interpolate/src/array.js", "../d3-interpolate/src/date.js", "../d3-interpolate/src/number.js", "../d3-interpolate/src/object.js", "../d3-interpolate/src/string.js", "../d3-interpolate/src/value.js", "../d3-interpolate/src/transform/decompose.js", "../d3-interpolate/src/transform/parse.js", "../d3-interpolate/src/transform/index.js", "../d3-interpolate/src/hsl.js", "../d3-interpolate/src/hcl.js", "../d3-interpolate/src/cubehelix.js", "../d3-ease/src/index.js", "../d3-ease/src/linear.js", "../d3-ease/src/quad.js", "../d3-ease/src/cubic.js", "../d3-ease/src/poly.js", "../d3-ease/src/sin.js", "../d3-ease/src/math.js", "../d3-ease/src/exp.js", "../d3-ease/src/circle.js", "../d3-ease/src/bounce.js", "../d3-ease/src/back.js", "../d3-ease/src/elastic.js", "../@antv/g-base/src/animate/register.ts", "../@antv/g-base/src/util/color.ts", "../@antv/g-base/src/animate/timeline.ts", "../@antv/g-base/src/event/event-contoller.ts", "../@antv/g-base/src/abstract/canvas.ts", "../@antv/g-base/src/abstract/group.ts", "../@antv/g-base/src/abstract/shape.ts", "../@antv/g-base/src/bbox/register.ts", "../@antv/g-base/src/bbox/rect.ts", "../@antv/g-base/src/bbox/circle.ts", "../@antv/g-math/src/util.ts", "../@antv/g-math/src/line.ts", "../@antv/g-math/src/bezier.ts", "../@antv/g-math/src/quadratic.ts", "../@antv/g-math/src/cubic.ts", "../@antv/g-math/src/ellipse.ts", "../@antv/g-math/src/arc.ts", "../@antv/g-math/src/segments.ts", "../@antv/g-math/src/polyline.ts", "../@antv/g-base/src/bbox/util.ts", "../@antv/g-base/src/bbox/polyline.ts", "../@antv/g-base/src/bbox/polygon.ts", "../@antv/g-base/src/util/offscreen.ts", "../@antv/g-base/src/util/text.ts", "../@antv/g-base/src/bbox/text.ts", "../@antv/path-util/src/parse-path.ts", "../@antv/path-util/src/catmull-rom-2-bezier.ts", "../@antv/path-util/src/parse-path-string.ts", "../@antv/path-util/src/path-2-absolute.ts", "../@antv/path-util/src/process/arc-2-cubic.ts", "../@antv/path-util/src/get-arc-params.ts", "../@antv/path-util/src/path-2-segments.ts", "../@antv/path-util/src/get-line-intersect.ts", "../@antv/path-util/src/point-in-polygon.ts", "../@antv/path-util/src/is-polygons-intersect.ts", "../@antv/g-base/src/bbox/path.ts", "../@antv/g-base/src/bbox/line.ts", "../@antv/g-base/src/bbox/ellipse.ts", "../@antv/g-base/src/bbox/index.ts", "../@antv/adjust/src/constant.ts", "../@antv/adjust/src/adjusts/adjust.ts", "../@antv/adjust/src/factory.ts", "../@antv/adjust/node_modules/tslib/tslib.es6.js", "../@antv/adjust/src/adjusts/dodge.ts", "../@antv/adjust/src/adjusts/jitter.ts", "../@antv/adjust/src/adjusts/stack.ts", "../@antv/adjust/src/adjusts/symmetric.ts", "../@antv/adjust/src/index.ts", "../@antv/attr/src/attributes/base.ts", "../@antv/attr/node_modules/tslib/tslib.es6.js", "../@antv/color-util/src/index.ts", "../@antv/attr/src/attributes/color.ts", "../@antv/attr/src/attributes/opacity.ts", "../@antv/attr/src/attributes/position.ts", "../@antv/attr/src/attributes/shape.ts", "../@antv/attr/src/attributes/size.ts", "../@antv/scale/src/tick-method/register.ts", "../@antv/scale/src/base.ts", "../@antv/scale/src/category/base.ts", "../fecha/src/fecha.ts", "../@antv/scale/src/util/bisector.ts", "../@antv/scale/src/util/time.ts", "../@antv/scale/src/category/time.ts", "../@antv/scale/src/continuous/base.ts", "../@antv/scale/src/continuous/linear.ts", "../@antv/scale/src/util/math.ts", "../@antv/scale/src/continuous/log.ts", "../@antv/scale/src/continuous/pow.ts", "../@antv/scale/src/continuous/time.ts", "../@antv/scale/src/continuous/quantize.ts", "../@antv/scale/src/continuous/quantile.ts", "../@antv/scale/src/factory.ts", "../@antv/scale/src/identity/index.ts", "../@antv/scale/src/tick-method/cat.ts", "../@antv/scale/src/util/d3-linear.ts", "../@antv/scale/src/util/interval.ts", "../@antv/scale/src/util/strict-limit.ts", "../@antv/scale/src/tick-method/d3-linear.ts", "../@antv/scale/src/util/pretty-number.ts", "../@antv/scale/src/util/extended.ts", "../@antv/scale/src/tick-method/linear.ts", "../@antv/scale/src/tick-method/log.ts", "../@antv/scale/src/util/pretty.ts", "../@antv/scale/src/tick-method/pow.ts", "../@antv/scale/src/tick-method/quantile.ts", "../@antv/scale/src/tick-method/r-prettry.ts", "../@antv/scale/src/tick-method/time.ts", "../@antv/scale/src/tick-method/time-cat.ts", "../@antv/scale/src/tick-method/time-pretty.ts", "../@antv/scale/src/tick-method/index.ts", "../@antv/scale/src/index.ts", "../@antv/attr/src/factory.ts", "../@antv/attr/src/index.ts", "../@antv/coord/src/coord/base.ts", "../@antv/coord/src/coord/cartesian.ts", "../@antv/coord/src/coord/helix.ts", "../@antv/coord/src/coord/polar.ts", "../@antv/coord/src/factory.ts", "../@antv/coord/src/index.ts", "../@antv/component/src/annotation/index.ts", "../@antv/component/src/util/event.ts", "../@antv/component/src/util/matrix.ts", "../@antv/component/src/util/util.ts", "../@antv/component/src/abstract/component.ts", "../@antv/component/src/abstract/group-component.ts", "../@antv/component/src/util/text.ts", "../@antv/component/src/util/label.ts", "../@antv/component/src/util/graphic.ts", "../@antv/component/src/util/theme.ts", "../@antv/component/src/annotation/line.ts", "../@antv/component/src/annotation/text.ts", "../@antv/component/src/annotation/arc.ts", "../@antv/component/src/annotation/region.ts", "../@antv/component/src/annotation/image.ts", "../@antv/component/src/annotation/data-marker.ts", "../@antv/component/src/annotation/data-region.ts", "../@antv/component/src/annotation/region-filter.ts", "../@antv/component/src/annotation/shape.ts", "../@antv/component/src/abstract/html-component.ts", "../@antv/component/src/annotation/html.ts", "../@antv/component/src/axis/index.ts", "../@antv/component/src/util/state.ts", "../@antv/component/src/axis/base.ts", "../@antv/component/src/axis/overlap/index.ts", "../@antv/component/src/axis/overlap/auto-ellipsis.ts", "../@antv/component/src/axis/overlap/auto-hide.ts", "../@antv/component/src/axis/overlap/auto-rotate.ts", "../@antv/component/src/axis/line.ts", "../@antv/component/src/axis/circle.ts", "../@antv/component/src/crosshair/index.ts", "../@antv/component/src/crosshair/base.ts", "../@antv/component/src/crosshair/line.ts", "../@antv/component/src/crosshair/circle.ts", "../@antv/component/src/crosshair/css-const.ts", "../@antv/component/src/crosshair/html-theme.ts", "../@antv/component/src/crosshair/html.ts", "../@antv/component/src/grid/index.ts", "../@antv/component/src/grid/base.ts", "../@antv/component/src/grid/circle.ts", "../@antv/component/src/grid/line.ts", "../@antv/component/src/legend/index.ts", "../@antv/component/src/legend/base.ts", "../@antv/component/src/legend/category.ts", "../@antv/component/src/legend/continuous.ts", "../@antv/component/src/tooltip/index.ts", "../@antv/component/src/tooltip/css-const.ts", "../@antv/component/src/tooltip/html-theme.ts", "../@antv/component/src/util/align.ts", "../@antv/component/src/tooltip/html.ts", "../@antv/component/src/trend/constant.ts", "../@antv/component/src/trend/path.ts", "../@antv/component/src/trend/trend.ts", "../@antv/component/src/slider/handler.ts", "../@antv/component/src/slider/constant.ts", "../@antv/component/src/slider/slider.ts", "../@antv/component/src/scrollbar/scrollbar.ts", "../@antv/g2/src/dependents.ts", "../@antv/g2/src/util/graphics.ts", "../@antv/g2/src/util/helper.ts", "../@antv/g2/src/util/bbox.ts", "../@antv/g2/src/util/coordinate.ts", "../@antv/g2/src/util/scale.ts", "../@antv/g2/src/util/axis.ts", "../@antv/g2/src/facet/facet.ts", "../@antv/g2/src/facet/index.ts", "../@antv/g2/src/interaction/action/base.ts", "../@antv/g2/src/interaction/action/callback.ts", "../@antv/g2/src/interaction/action/register.ts", "../@antv/g2/src/geometry/shape/util/path.ts", "../@antv/g2/src/interaction/action/util.ts", "../@antv/g2/src/interaction/context.ts", "../@antv/g2/src/interaction/interaction.ts", "../@antv/g2/src/interaction/grammar-interaction.ts", "../@antv/g2/src/interaction/index.ts", "../@antv/g2/src/theme/util/create-by-style-sheet.ts", "../@antv/g2/src/theme/style-sheet/light.ts", "../@antv/g2/src/theme/util/create-theme.ts", "../@antv/g2/src/theme/index.ts", "../@antv/g2/src/util/tooltip.ts", "../@antv/g2/src/util/padding.ts", "../@antv/g2/src/chart/controller/index.ts", "../@antv/g2/src/chart/controller/coordinate.ts", "../@antv/g2/src/chart/event.ts", "../@antv/g2/src/chart/layout/index.ts", "../@antv/g2/src/chart/util/scale-pool.ts", "../@antv/g2/src/chart/layout/padding-cal.ts", "../@antv/g2/src/chart/layout/auto.ts", "../@antv/g2/src/chart/util/sync-view-padding.ts", "../@antv/g2/src/chart/view.ts", "../@antv/g2/src/chart/chart.ts", "../@antv/g2/src/chart/controller/base.ts", "../@antv/g2/src/chart/controller/tooltip.ts", "../@antv/g2/src/animate/animation/index.ts", "../@antv/g2/src/animate/index.ts", "../@antv/g2/src/geometry/shape/constant.ts", "../@antv/g2/src/geometry/element/index.ts", "../@antv/g2/src/geometry/label/index.ts", "../@antv/g2/src/geometry/shape/base.ts", "../@antv/g2/src/geometry/util/group-data.ts", "../@antv/g2/src/geometry/util/is-model-change.ts", "../@antv/g2/src/geometry/util/parse-fields.ts", "../@antv/g2/src/geometry/util/diff.ts", "../@antv/g2/src/geometry/base.ts", "../@antv/g2/src/util/transform.ts", "../@antv/g2/src/geometry/label/util/index.ts", "../@antv/g2/src/component/update-label.ts", "../@antv/g2/src/component/labels.ts", "../@antv/g2/src/geometry/label/base.ts", "../@antv/g2/src/util/attr.ts", "../@antv/g2/src/util/marker.ts", "../@antv/g2/src/util/legend.ts", "../@antv/g2/src/geometry/shape/util/get-path-points.ts", "../@antv/g2/src/geometry/shape/util/get-style.ts", "../@antv/g2/src/geometry/shape/util/split-points.ts", "../@antv/g2/src/geometry/shape/line/util.ts", "../@antv/g2/src/geometry/shape/line/index.ts", "../@antv/g2/src/core.ts", "../@antv/g2/src/theme/style-sheet/dark.ts", "../@antv/g-canvas/src/index.ts", "../@antv/g-canvas/src/shape/index.ts", "../@antv/g-canvas/src/util/util.ts", "../@antv/g-canvas/src/util/parse.ts", "../@antv/g-canvas/src/util/arc-params.ts", "../@antv/g-canvas/src/util/arrow.ts", "../@antv/g-canvas/src/util/draw.ts", "../@antv/g-canvas/src/group.ts", "../@antv/g-canvas/src/shape/base.ts", "../@antv/g-canvas/src/shape/circle.ts", "../@antv/g-canvas/src/shape/ellipse.ts", "../@antv/g-canvas/src/shape/image.ts", "../@antv/g-canvas/src/util/in-stroke/line.ts", "../@antv/g-canvas/src/shape/line.ts", "../@antv/g-canvas/src/shape/marker.ts", "../@antv/g-canvas/src/util/in-path/point-in-path.ts", "../@antv/g-canvas/src/util/in-path/polygon.ts", "../@antv/g-canvas/src/util/in-stroke/arc.ts", "../@antv/g-canvas/src/util/path.ts", "../@antv/g-canvas/src/shape/path.ts", "../@antv/g-canvas/src/util/in-stroke/polyline.ts", "../@antv/g-canvas/src/shape/polygon.ts", "../@antv/g-canvas/src/shape/polyline.ts", "../@antv/g-canvas/src/util/in-stroke/rect.ts", "../@antv/g-canvas/src/util/in-stroke/rect-radius.ts", "../@antv/g-canvas/src/shape/rect.ts", "../@antv/g-canvas/src/shape/text.ts", "../@antv/g-canvas/src/util/hit.ts", "../@antv/g-canvas/src/canvas.ts", "../@antv/g-svg/src/index.ts", "../@antv/g-svg/src/shape/index.ts", "../@antv/g-svg/src/constant.ts", "../@antv/g-svg/src/util/dom.ts", "../@antv/g-svg/src/util/svg.ts", "../@antv/g-svg/src/util/draw.ts", "../@antv/g-svg/src/group.ts", "../@antv/g-svg/src/shape/base.ts", "../@antv/g-svg/src/shape/circle.ts", "../@antv/g-svg/src/shape/dom.ts", "../@antv/g-svg/src/shape/ellipse.ts", "../@antv/g-svg/src/shape/image.ts", "../@antv/g-svg/src/shape/line.ts", "../@antv/g-svg/src/shape/marker/symbols.ts", "../@antv/g-svg/src/shape/marker/index.ts", "../@antv/g-svg/src/shape/path.ts", "../@antv/g-svg/src/shape/polygon.ts", "../@antv/g-svg/src/shape/polyline.ts", "../@antv/g-svg/src/util/format.ts", "../@antv/g-svg/src/shape/rect.ts", "../@antv/g-svg/src/shape/text.ts", "../@antv/g-svg/src/defs/gradient.ts", "../@antv/g-svg/src/defs/shadow.ts", "../@antv/g-svg/src/defs/arrow.ts", "../@antv/g-svg/src/defs/clip.ts", "../@antv/g-svg/src/defs/pattern.ts", "../@antv/g-svg/src/defs/index.ts", "../@antv/g-svg/src/canvas.ts", "../@antv/g2/src/geometry/path.ts", "../@antv/g2/src/geometry/shape/area/util.ts", "../@antv/g2/src/geometry/shape/area/index.ts", "../@antv/g2/src/geometry/area.ts", "../@antv/g2/src/geometry/shape/edge/index.ts", "../@antv/g2/src/geometry/edge.ts", "../@antv/g2/src/geometry/heatmap.ts", "../@antv/g2/src/geometry/shape/interval/util.ts", "../@antv/g2/src/geometry/shape/interval/index.ts", "../@antv/g2/src/geometry/util/shape-size.ts", "../@antv/g2/src/geometry/interval.ts", "../@antv/g2/src/geometry/line.ts", "../@antv/g2/src/geometry/shape/point/util.ts", "../@antv/g2/src/geometry/shape/point/index.ts", "../@antv/g2/src/geometry/point.ts", "../@antv/g2/src/geometry/shape/polygon/index.ts", "../@antv/g2/src/geometry/polygon.ts", "../@antv/g2/src/geometry/shape/schema/index.ts", "../@antv/g2/src/geometry/schema.ts", "../@antv/g2/src/geometry/shape/violin/index.ts", "../@antv/g2/src/geometry/violin.ts", "../@antv/g2/src/geometry/shape/area/line.ts", "../@antv/g2/src/geometry/shape/area/smooth.ts", "../@antv/g2/src/geometry/shape/area/smooth-line.ts", "../@antv/g2/src/geometry/shape/edge/util.ts", "../@antv/g2/src/geometry/shape/edge/arc.ts", "../@antv/g2/src/geometry/shape/edge/smooth.ts", "../@antv/g2/src/geometry/shape/edge/vhv.ts", "../@antv/g2/src/geometry/shape/interval/funnel.ts", "../@antv/g2/src/geometry/shape/interval/hollow-rect.ts", "../@antv/g2/src/geometry/shape/interval/line.ts", "../@antv/g2/src/geometry/shape/interval/pyramid.ts", "../@antv/g2/src/geometry/shape/interval/tick.ts", "../@antv/g2/src/geometry/shape/line/step.ts", "../@antv/g2/src/geometry/shape/point/hollow.ts", "../@antv/g2/src/geometry/shape/point/image.ts", "../@antv/g2/src/geometry/shape/point/solid.ts", "../@antv/g2/src/geometry/shape/schema/box.ts", "../@antv/g2/src/geometry/shape/schema/candle.ts", "../@antv/g2/src/geometry/shape/polygon/square.ts", "../@antv/g2/src/geometry/shape/violin/smooth.ts", "../@antv/g2/src/geometry/shape/violin/hollow.ts", "../@antv/g2/src/geometry/label/interval.ts", "../@antv/g2/src/geometry/label/polar.ts", "../@antv/g2/src/geometry/label/pie.ts", "../@antv/g2/src/geometry/label/layout/pie/distribute.ts", "../@antv/g2/src/geometry/label/layout/pie/util.ts", "../@antv/g2/src/geometry/label/layout/pie/outer.ts", "../@antv/g2/src/geometry/label/layout/pie/spider.ts", "../@antv/g2/src/geometry/label/layout/limit-in-canvas.ts", "../@antv/g2/src/geometry/label/layout/limit-in-shape.ts", "../@antv/g2/src/geometry/label/layout/overlap.ts", "../@antv/g2/src/util/collision-detect.ts", "../@antv/g2/src/geometry/label/util/createWorker.ts", "../@antv/g2/src/geometry/label/layout/worker/hide-overlap.ts", "../@antv/g2/src/geometry/label/layout/hide-overlap.ts", "../@antv/g2/src/util/color.ts", "../@antv/g2/src/geometry/label/layout/adjust-color.ts", "../@antv/g2/src/geometry/label/layout/interval/adjust-position.ts", "../@antv/g2/src/geometry/label/layout/interval/hide-overlap.ts", "../@antv/g2/src/geometry/label/layout/point/adjust-position.ts", "../@antv/g2/src/geometry/label/layout/path/adjust-position.ts", "../@antv/g2/src/util/context.ts", "../@antv/g2/src/util/text.ts", "../@antv/g2/src/geometry/label/layout/limit-in-plot.ts", "../@antv/g2/src/animate/animation/fade.ts", "../@antv/g2/src/animate/animation/util.ts", "../@antv/g2/src/animate/animation/grow-in.ts", "../@antv/g2/src/animate/animation/path-in.ts", "../@antv/g2/src/animate/animation/position-update.ts", "../@antv/g2/src/animate/animation/scale-in.ts", "../@antv/g2/src/animate/animation/sector-path-update.ts", "../@antv/g2/src/animate/animation/wave-in.ts", "../@antv/g2/src/animate/animation/zoom.ts", "../@antv/g2/src/util/facet.ts", "../@antv/g2/src/facet/circle.ts", "../@antv/g2/src/facet/list.ts", "../@antv/g2/src/facet/matrix.ts", "../@antv/g2/src/facet/mirror.ts", "../@antv/g2/src/facet/rect.ts", "../@antv/g2/src/facet/tree.ts", "../@antv/g2/src/util/stat.ts", "../@antv/g2/src/util/annotation.ts", "../@antv/g2/src/chart/controller/annotation.ts", "../@antv/g2/src/util/grid.ts", "../@antv/g2/src/chart/controller/axis.ts", "../@antv/g2/src/util/direction.ts", "../@antv/g2/src/chart/controller/legend.ts", "../@antv/g2/src/chart/controller/slider.ts", "../@antv/g2/src/chart/controller/scrollbar.ts", "../@antv/g2/src/interaction/action/active-region.ts", "../@antv/g2/src/interaction/action/component/tooltip/geometry.ts", "../@antv/g2/src/interaction/action/component/tooltip/sibling.ts", "../@antv/g2/src/interaction/action/component/tooltip/ellipsis-text.ts", "../@antv/g2/src/interaction/action/element/state-base.ts", "../@antv/g2/src/interaction/action/element/state.ts", "../@antv/g2/src/interaction/action/element/active.ts", "../@antv/g2/src/interaction/action/element/link-by-color.ts", "../@antv/g2/src/interaction/action/element/range-state.ts", "../@antv/g2/src/interaction/action/element/range-active.ts", "../@antv/g2/src/interaction/action/element/single-state.ts", "../@antv/g2/src/interaction/action/element/single-active.ts", "../@antv/g2/src/interaction/action/element/highlight-util.ts", "../@antv/g2/src/interaction/action/element/highlight.ts", "../@antv/g2/src/interaction/action/element/highlight-by-color.ts", "../@antv/g2/src/interaction/action/element/highlight-by-x.ts", "../@antv/g2/src/interaction/action/element/range-highlight.ts", "../@antv/g2/src/interaction/action/element/single-highlight.ts", "../@antv/g2/src/interaction/action/element/range-selected.ts", "../@antv/g2/src/interaction/action/element/selected.ts", "../@antv/g2/src/interaction/action/element/single-selected.ts", "../@antv/g2/src/interaction/action/component/list-state.ts", "../@antv/g2/src/interaction/action/component/list-active.ts", "../@antv/g2/src/interaction/action/component/list-highlight-util.ts", "../@antv/g2/src/interaction/action/component/list-highlight.ts", "../@antv/g2/src/interaction/action/component/list-selected.ts", "../@antv/g2/src/interaction/action/component/list-unchecked.ts", "../@antv/g2/src/interaction/action/component/list-checked.ts", "../@antv/g2/src/interaction/action/component/list-focus.ts", "../@antv/g2/src/interaction/action/component/list-radio.ts", "../@antv/g2/src/interaction/action/mask/base.ts", "../@antv/g2/src/interaction/action/mask/circle.ts", "../@antv/g2/src/interaction/action/mask/rect.ts", "../@antv/g2/src/interaction/action/mask/dim-rect.ts", "../@antv/g2/src/interaction/action/mask/path.ts", "../@antv/g2/src/interaction/action/mask/smooth-path.ts", "../@antv/g2/src/interaction/action/cursor.ts", "../@antv/g2/src/interaction/action/data/filter.ts", "../@antv/g2/src/interaction/action/data/range-filter.ts", "../@antv/g2/src/interaction/action/data/sibling-filter.ts", "../@antv/g2/src/interaction/action/element/filter.ts", "../@antv/g2/src/interaction/action/element/sibling-filter.ts", "../@antv/g2/src/interaction/action/view/button.ts", "../@antv/g2/src/interaction/action/view/drag.ts", "../@antv/g2/src/interaction/action/view/move.ts", "../@antv/g2/src/interaction/action/view/scale-transform.ts", "../@antv/g2/src/interaction/action/view/scale-translate.ts", "../@antv/g2/src/interaction/action/view/scale-zoom.ts", "../@antv/g2/src/interaction/action/view/mousewheel-scroll.ts", "../@antv/g2/src/interaction/action/component/axis/axis-description.ts", "../@antv/g2plot/src/utils/flow.ts", "../@antv/g2plot/src/utils/pick.ts", "../@antv/g2plot/src/utils/template.ts", "../@antv/g2plot/src/utils/invariant.ts", "../@antv/g2plot/src/utils/dom.ts", "../@antv/g2plot/src/utils/geometry.ts", "../@antv/g2plot/src/utils/view.ts", "../@antv/g2plot/src/utils/label.ts", "../@antv/g2plot/src/utils/path.ts", "../@antv/g2plot/src/utils/deep-assign.ts", "../@antv/g2plot/src/utils/kebab-case.ts", "../@antv/g2plot/src/utils/statistic.ts", "../@antv/g2plot/src/utils/context.ts", "../@antv/g2plot/src/utils/measure-text.ts", "../@antv/g2plot/src/utils/number.ts", "../@antv/g2plot/src/utils/data.ts", "../@antv/g2plot/src/utils/padding.ts", "../@antv/g2plot/src/core/global.ts", "../@antv/g2plot/src/core/locale.ts", "../@antv/g2plot/src/locales/en_US.ts", "../@antv/g2plot/src/locales/zh_CN.ts", "../@antv/g2plot/src/core/plot.ts", "../@antv/g2plot/src/constant.ts", "../@antv/g2plot/src/utils/pattern/util.ts", "../@antv/g2plot/src/utils/pattern/dot.ts", "../@antv/g2plot/src/utils/pattern/line.ts", "../@antv/g2plot/src/utils/pattern/square.ts", "../@antv/g2plot/src/utils/pattern/index.ts", "../@antv/g2plot/src/adaptor/pattern.ts", "../@antv/g2plot/src/adaptor/common.ts", "../@antv/g2plot/src/utils/tooltip.ts", "../@antv/g2plot/src/adaptor/geometries/base.ts", "../@antv/g2plot/src/adaptor/geometries/area.ts", "../@antv/g2plot/src/adaptor/geometries/line.ts", "../@antv/g2plot/src/adaptor/geometries/point.ts", "../@antv/g2plot/src/adaptor/geometries/interval.ts", "../@antv/g2plot/src/adaptor/geometries/polygon.ts", "../@antv/g2plot/src/adaptor/geometries/edge.ts", "../@antv/g2plot/src/adaptor/geometries/schema.ts", "../@antv/g2plot/src/adaptor/geometries/violin.ts", "../@antv/g2plot/src/plots/line/adaptor.ts", "../@antv/g2plot/src/plots/line/constants.ts", "../@antv/g2plot/src/plots/line/interactions/marker-active.ts", "../@antv/g2plot/src/plots/line/interactions/index.ts", "../@antv/g2plot/src/plots/line/index.ts", "../@antv/g2plot/src/utils/transform/percent.ts", "../@antv/g2plot/src/plots/area/adaptor.ts", "../@antv/g2plot/src/plots/area/constants.ts", "../@antv/g2plot/src/plots/area/index.ts", "../@antv/g2plot/src/utils/conversion.ts", "../@antv/g2plot/src/adaptor/conversion-tag.ts", "../@antv/g2plot/src/adaptor/connected-area.ts", "../@antv/g2plot/src/interactions/actions/reset-button.ts", "../@antv/g2plot/src/interactions/brush.ts", "../@antv/g2plot/src/adaptor/brush.ts", "../@antv/g2plot/src/plots/column/adaptor.ts", "../@antv/g2plot/src/plots/column/constants.ts", "../@antv/g2plot/src/plots/column/index.ts", "../@antv/g2plot/src/plots/bar/adaptor.ts", "../@antv/g2plot/src/plots/bar/constants.ts", "../@antv/g2plot/src/plots/bar/index.ts", "../@antv/g2plot/src/plots/pie/contants.ts", "../@antv/g2plot/src/plots/pie/utils.ts", "../@antv/g2plot/src/utils/matrix.ts", "../@antv/g2plot/src/plots/pie/interactions/actions/legend-active.ts", "../@antv/g2plot/src/plots/pie/interactions/util.ts", "../@antv/g2plot/src/plots/pie/interactions/actions/statistic-active.ts", "../@antv/g2plot/src/plots/pie/interactions/index.ts", "../@antv/g2plot/src/plots/pie/adaptor.ts", "../@antv/g2plot/src/plots/pie/index.ts", "../@antv/g2plot/src/plots/rose/adaptor.ts", "../@antv/g2plot/src/plots/rose/constant.ts", "../@antv/g2plot/src/plots/rose/index.ts", "../@antv/g2plot/src/utils/transform/word-cloud.ts", "../@antv/g2plot/src/plots/word-cloud/utils.ts", "../@antv/g2plot/src/plots/word-cloud/constant.ts", "../@antv/g2plot/src/plots/word-cloud/adaptor.ts", "../@antv/g2plot/src/plots/word-cloud/shapes/word-cloud.ts", "../@antv/g2plot/src/plots/word-cloud/index.ts", "../d3-regression/dist/d3-regression.esm.js", "../@antv/g2plot/src/plots/scatter/util.ts", "../@antv/g2plot/src/plots/scatter/adaptor.ts", "../@antv/g2plot/src/plots/scatter/constant.ts", "../@antv/g2plot/src/interactions/drag-move.ts", "../@antv/g2plot/src/plots/scatter/index.ts", "../@antv/g2plot/src/plots/radar/adaptor.ts", "../@antv/g2plot/src/plots/radar/interactions/radar-tooltip-action.ts", "../@antv/g2plot/src/plots/radar/interactions/index.ts", "../@antv/g2plot/src/plots/radar/index.ts", "../@antv/g2plot/src/plots/dual-axes/types.ts", "../@antv/g2plot/src/plots/dual-axes/constant.ts", "../@antv/g2plot/src/plots/dual-axes/util/option.ts", "../@antv/g2plot/src/plots/dual-axes/util/legend.ts", "../@antv/g2plot/src/plots/dual-axes/util/geometry.ts", "../@antv/g2plot/src/plots/dual-axes/util/render-sider.ts", "../@antv/g2plot/src/plots/dual-axes/adaptor.ts", "../@antv/g2plot/src/plots/dual-axes/index.ts", "../@antv/g2plot/src/plots/tiny-line/constants.ts", "../@antv/g2plot/src/plots/tiny-line/utils.ts", "../@antv/g2plot/src/plots/tiny-area/adaptor.ts", "../@antv/g2plot/src/plots/tiny-line/adaptor.ts", "../@antv/g2plot/src/plots/tiny-line/index.ts", "../@antv/g2plot/src/plots/tiny-column/adaptor.ts", "../@antv/g2plot/src/plots/tiny-column/constants.ts", "../@antv/g2plot/src/plots/tiny-column/index.ts", "../@antv/g2plot/src/plots/tiny-area/constants.ts", "../@antv/g2plot/src/plots/tiny-area/index.ts", "../@antv/g2plot/src/utils/transform/histogram.ts", "../@antv/g2plot/src/plots/histogram/constant.ts", "../@antv/g2plot/src/plots/histogram/adaptor.ts", "../@antv/g2plot/src/plots/histogram/index.ts", "../@antv/g2plot/src/plots/progress/constants.ts", "../@antv/g2plot/src/plots/progress/utils.ts", "../@antv/g2plot/src/plots/progress/adaptor.ts", "../@antv/g2plot/src/plots/progress/index.ts", "../@antv/g2plot/src/plots/ring-progress/adaptor.ts", "../@antv/g2plot/src/plots/ring-progress/constants.ts", "../@antv/g2plot/src/plots/ring-progress/index.ts", "../@antv/g2plot/src/plots/heatmap/adaptor.ts", "../@antv/g2plot/src/plots/heatmap/constant.ts", "../@antv/g2plot/src/plots/heatmap/shapes/circle.ts", "../@antv/g2plot/src/plots/heatmap/shapes/square.ts", "../@antv/g2plot/src/plots/heatmap/index.ts", "../@antv/g2plot/src/plots/box/constant.ts", "../@antv/g2plot/src/plots/box/utils.ts", "../@antv/g2plot/src/plots/box/adaptor.ts", "../@antv/g2plot/src/plots/box/index.ts", "../@antv/g2plot/src/plots/violin/utils.ts", "../@antv/g2plot/src/utils/transform/quantile.ts", "../@antv/g2plot/src/plots/violin/constant.ts", "../@antv/g2plot/src/plots/violin/adaptor.ts", "../@antv/g2plot/src/plots/violin/index.ts", "../@antv/g2plot/src/utils/color/blend.ts", "../fmin/src/bisect.js", "../fmin/src/blas1.js", "../fmin/src/nelderMead.js", "../fmin/src/linesearch.js", "../fmin/src/conjugateGradient.js", "../@antv/g2plot/src/plots/venn/layout/circleintersection.ts", "../@antv/g2plot/src/plots/venn/layout/layout.ts", "../@antv/g2plot/src/plots/venn/layout/diagram.ts", "../@antv/g2plot/src/plots/venn/constant.ts", "../@antv/g2plot/src/plots/venn/utils.ts", "../@antv/g2plot/src/plots/venn/shape.ts", "../@antv/g2plot/src/plots/venn/label.ts", "../@antv/g2plot/src/plots/venn/interactions/util.ts", "../@antv/g2plot/src/plots/venn/interactions/actions/active.ts", "../@antv/g2plot/src/plots/venn/interactions/actions/highlight.ts", "../@antv/g2plot/src/plots/venn/interactions/actions/selected.ts", "../@antv/g2plot/src/plots/venn/interactions/index.ts", "../@antv/g2plot/src/plots/venn/adaptor.ts", "../@antv/g2plot/src/plots/venn/index.ts", "../@antv/g2plot/src/plots/stock/constant.ts", "../@antv/g2plot/src/plots/stock/utils.ts", "../@antv/g2plot/src/plots/stock/adaptor.ts", "../@antv/g2plot/src/plots/stock/index.ts", "../@antv/g2plot/src/plots/funnel/constant.ts", "../@antv/g2plot/src/plots/funnel/geometries/common.ts", "../@antv/g2plot/src/plots/funnel/geometries/basic.ts", "../@antv/g2plot/src/plots/funnel/geometries/compare.ts", "../@antv/g2plot/src/plots/funnel/geometries/facet.ts", "../@antv/g2plot/src/plots/funnel/geometries/dynamic-height.ts", "../@antv/g2plot/src/plots/funnel/adaptor.ts", "../@antv/g2plot/src/plots/funnel/index.ts", "../@antv/g2plot/src/plots/liquid/utils.ts", "../@antv/g2plot/src/plots/liquid/adaptor.ts", "../@antv/g2plot/src/plots/liquid/constants.ts", "../@antv/g2plot/src/plots/liquid/shapes/liquid.ts", "../@antv/g2plot/src/plots/liquid/index.ts", "../@antv/g2plot/src/plots/bullet/utils.ts", "../@antv/g2plot/src/plots/bullet/adaptor.ts", "../@antv/g2plot/src/plots/bullet/constant.ts", "../@antv/g2plot/src/plots/bullet/index.ts", "../@antv/g2plot/src/utils/hierarchy/util.ts", "../@antv/g2plot/src/plots/sunburst/constant.ts", "../@antv/g2plot/src/interactions/actions/drill-down.ts", "../d3-hierarchy/src/index.js", "../d3-hierarchy/src/cluster.js", "../d3-hierarchy/src/hierarchy/count.js", "../d3-hierarchy/src/hierarchy/each.js", "../d3-hierarchy/src/hierarchy/eachBefore.js", "../d3-hierarchy/src/hierarchy/eachAfter.js", "../d3-hierarchy/src/hierarchy/find.js", "../d3-hierarchy/src/hierarchy/sum.js", "../d3-hierarchy/src/hierarchy/sort.js", "../d3-hierarchy/src/hierarchy/path.js", "../d3-hierarchy/src/hierarchy/ancestors.js", "../d3-hierarchy/src/hierarchy/descendants.js", "../d3-hierarchy/src/hierarchy/leaves.js", "../d3-hierarchy/src/hierarchy/links.js", "../d3-hierarchy/src/hierarchy/iterator.js", "../d3-hierarchy/src/hierarchy/index.js", "../d3-hierarchy/src/array.js", "../d3-hierarchy/src/pack/enclose.js", "../d3-hierarchy/src/pack/siblings.js", "../d3-hierarchy/src/accessors.js", "../d3-hierarchy/src/constant.js", "../d3-hierarchy/src/pack/index.js", "../d3-hierarchy/src/treemap/round.js", "../d3-hierarchy/src/treemap/dice.js", "../d3-hierarchy/src/partition.js", "../d3-hierarchy/src/stratify.js", "../d3-hierarchy/src/tree.js", "../d3-hierarchy/src/treemap/slice.js", "../d3-hierarchy/src/treemap/squarify.js", "../d3-hierarchy/src/treemap/index.js", "../d3-hierarchy/src/treemap/binary.js", "../d3-hierarchy/src/treemap/sliceDice.js", "../d3-hierarchy/src/treemap/resquarify.js", "../@antv/g2plot/src/utils/hierarchy/partition.ts", "../@antv/g2plot/src/utils/hierarchy/treemap.ts", "../@antv/g2plot/src/plots/sunburst/utils.ts", "../@antv/g2plot/src/plots/sunburst/adaptor.ts", "../@antv/g2plot/src/interactions/drill-down.ts", "../@antv/g2plot/src/plots/sunburst/index.ts", "../@antv/g2plot/src/plots/gauge/constants.ts", "../@antv/g2plot/src/plots/gauge/utils.ts", "../@antv/g2plot/src/plots/gauge/adaptor.ts", "../@antv/g2plot/src/plots/gauge/shapes/indicator.ts", "../@antv/g2plot/src/plots/gauge/shapes/meter-gauge.ts", "../@antv/g2plot/src/plots/gauge/index.ts", "../@antv/g2plot/src/plots/waterfall/constant.ts", "../@antv/g2plot/src/plots/waterfall/utils.ts", "../@antv/g2plot/src/plots/waterfall/shape.ts", "../@antv/g2plot/src/plots/waterfall/adaptor.ts", "../@antv/g2plot/src/plots/waterfall/index.ts", "../@antv/g2plot/src/plots/radial-bar/utils.ts", "../@antv/g2plot/src/plots/radial-bar/adaptor.ts", "../@antv/g2plot/src/plots/radial-bar/constant.ts", "../@antv/g2plot/src/plots/radial-bar/index.ts", "../@antv/g2plot/src/plots/bidirectional-bar/constant.ts", "../@antv/g2plot/src/plots/bidirectional-bar/utils.ts", "../@antv/g2plot/src/plots/bidirectional-bar/adaptor.ts", "../@antv/g2plot/src/plots/bidirectional-bar/index.ts", "../@antv/g2plot/src/plots/treemap/utils.ts", "../@antv/g2plot/src/plots/treemap/adaptor.ts", "../@antv/g2plot/src/plots/treemap/constant.ts", "../@antv/g2plot/src/plots/treemap/index.ts", "../@antv/g2plot/src/plots/sankey/sankey/align.ts", "../@antv/g2plot/src/plots/sankey/sankey/helper.ts", "../@antv/g2plot/src/plots/sankey/sankey/sankey.ts", "../@antv/g2plot/src/plots/sankey/layout.ts", "../@antv/g2plot/src/plots/sankey/circle.ts", "../@antv/g2plot/src/plots/sankey/helper.ts", "../@antv/g2plot/src/plots/sankey/constant.ts", "../@antv/g2plot/src/plots/sankey/adaptor.ts", "../@antv/g2plot/src/plots/sankey/interactions/actions/node-drag.ts", "../@antv/g2plot/src/plots/sankey/interactions/node-draggable.ts", "../@antv/g2plot/src/plots/sankey/index.ts", "../@antv/g2plot/src/utils/transform/chord.ts", "../@antv/g2plot/src/plots/chord/constant.ts", "../@antv/g2plot/src/plots/chord/adaptor.ts", "../@antv/g2plot/src/plots/chord/index.ts", "../@antv/g2plot/src/utils/hierarchy/pack.ts", "../@antv/g2plot/src/plots/circle-packing/utils.ts", "../@antv/g2plot/src/plots/circle-packing/constant.ts", "../@antv/g2plot/src/plots/circle-packing/adaptor.ts", "../@antv/g2plot/src/plots/circle-packing/index.ts", "../@antv/g2plot/src/plugin/index.ts", "../@antv/g2plot/src/plots/mix/utils.ts", "../@antv/g2plot/src/plots/mix/adaptor.ts", "../@antv/g2plot/src/plots/mix/interactions/utils.ts", "../@antv/g2plot/src/plots/mix/interactions/association.ts", "../@antv/g2plot/src/plots/mix/index.ts", "../@antv/g2plot/src/plots/facet/utils.ts", "../@antv/g2plot/src/plots/facet/adaptor.ts", "../@antv/g2plot/src/plots/facet/constant.ts", "../@antv/g2plot/src/plots/facet/index.ts", "../@antv/g2plot/src/lab.ts", "../@antv/g2plot/src/index.ts", "../@ant-design/plots/es/hooks/useChart.js", "../@ant-design/plots/es/util/createNode.js", "../@ant-design/plots/es/util/utils.js", "../@ant-design/plots/es/util/getChart.js", "../@ant-design/plots/es/errorBoundary/index.js", "../@ant-design/plots/es/util/createLoading.js", "../react-content-loader/src/shared/uid.ts", "../react-content-loader/src/web/Svg.tsx", "../react-content-loader/src/web/ContentLoader.tsx", "../react-content-loader/src/web/presets/FacebookStyle.tsx", "../react-content-loader/src/web/presets/InstagramStyle.tsx", "../react-content-loader/src/web/presets/CodeStyle.tsx", "../react-content-loader/src/web/presets/ListStyle.tsx", "../react-content-loader/src/web/presets/BulletListStyle.tsx", "../@ant-design/plots/es/components/bar/index.js", "../@ant-design/plots/es/components/bullet/index.js", "../@ant-design/plots/es/components/column/index.js", "../@ant-design/plots/es/components/funnel/index.js", "../@ant-design/plots/es/components/histogram/index.js", "../@ant-design/plots/es/components/line/index.js", "../@ant-design/plots/es/components/box/index.js", "../@ant-design/plots/es/components/liquid/index.js", "../@ant-design/plots/es/components/heatmap/index.js", "../@ant-design/plots/es/components/pie/index.js", "../@ant-design/plots/es/components/gauge/index.js", "../@ant-design/plots/es/components/progress/index.js", "../@ant-design/plots/es/components/radar/index.js", "../@ant-design/plots/es/components/ringProgress/index.js", "../@ant-design/plots/es/components/rose/index.js", "../@ant-design/plots/es/components/chord/index.js", "../@ant-design/plots/es/components/scatter/index.js", "../@ant-design/plots/es/components/tinyArea/index.js", "../@ant-design/plots/es/components/tinyColumn/index.js", "../@ant-design/plots/es/components/dualAxes/index.js", "../@ant-design/plots/es/components/tinyLine/index.js", "../@ant-design/plots/es/components/waterfall/index.js", "../@ant-design/plots/es/components/wordCloud/index.js", "../@ant-design/plots/es/components/sunburst/index.js", "../@ant-design/plots/es/components/stock/index.js", "../@ant-design/plots/es/components/radialBar/index.js", "../@ant-design/plots/es/components/sankey/index.js", "../@ant-design/plots/es/components/treemap/index.js", "../@ant-design/plots/es/components/violin/index.js", "../@ant-design/plots/es/components/venn/index.js", "../@ant-design/plots/es/components/circlePacking/index.js", "../@ant-design/plots/es/components/facet/index.js", "../@ant-design/plots/es/components/mix/index.js", "../@ant-design/plots/es/components/bidirectionalBar/index.js", "../@ant-design/plots/es/index.js", "dep:@ant-design_plots"],
  "sourcesContent": ["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar id = 1;\n/**\n * generate unique id in application\n * @return {string}\n */\n\nvar _default = function _default() {\n  return \"\".concat(id++);\n};\n\nexports[\"default\"] = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar _default = function _default(fn) {\n  var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 60;\n  var timer = null;\n  return function () {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      fn.apply(_this, args);\n    }, delay);\n  };\n};\n\nexports[\"default\"] = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SensorTabIndex = exports.SensorClassName = exports.SizeSensorId = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar SizeSensorId = 'size-sensor-id';\nexports.SizeSensorId = SizeSensorId;\nvar SensorClassName = 'size-sensor-object';\nexports.SensorClassName = SensorClassName;\nvar SensorTabIndex = '-1';\nexports.SensorTabIndex = SensorTabIndex;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nvar _constant = require(\"../constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * create object DOM of sensor\n   * @returns {HTMLObjectElement}\n   */\n\n  var newSensor = function newSensor() {\n    // adjust style\n    if (getComputedStyle(element).position === 'static') {\n      element.style.position = 'relative';\n    }\n\n    var obj = document.createElement('object');\n\n    obj.onload = function () {\n      obj.contentDocument.defaultView.addEventListener('resize', resizeListener); // \u76F4\u63A5\u89E6\u53D1\u4E00\u6B21 resize\n\n      resizeListener();\n    };\n\n    obj.style.display = 'block';\n    obj.style.position = 'absolute';\n    obj.style.top = '0';\n    obj.style.left = '0';\n    obj.style.height = '100%';\n    obj.style.width = '100%';\n    obj.style.overflow = 'hidden';\n    obj.style.pointerEvents = 'none';\n    obj.style.zIndex = '-1';\n    obj.style.opacity = '0';\n    obj.setAttribute('class', _constant.SensorClassName);\n    obj.setAttribute('tabindex', _constant.SensorTabIndex);\n    obj.type = 'text/html'; // append into dom\n\n    element.appendChild(obj); // for ie, should set data attribute delay, or will be white screen\n\n    obj.data = 'about:blank';\n    return obj;\n  };\n  /**\n   * trigger listeners\n   */\n\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all listener\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * listen with one callback function\n   * @param cb\n   */\n\n  var bind = function bind(cb) {\n    // if not exist sensor, then create one\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy all\n   */\n\n\n  var destroy = function destroy() {\n    if (sensor && sensor.parentNode) {\n      if (sensor.contentDocument) {\n        // remote event\n        sensor.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n      } // remove dom\n\n\n      sensor.parentNode.removeChild(sensor); // initial variable\n\n      sensor = undefined;\n      listeners = [];\n    }\n  };\n  /**\n   * cancel listener bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * trigger listeners\n   */\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * create ResizeObserver sensor\n   * @returns\n   */\n\n  var newSensor = function newSensor() {\n    var s = new ResizeObserver(resizeListener); // listen element\n\n    s.observe(element); // trigger once\n\n    resizeListener();\n    return s;\n  };\n  /**\n   * listen with callback\n   * @param cb\n   */\n\n\n  var bind = function bind(cb) {\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy\n   */\n\n\n  var destroy = function destroy() {\n    sensor.disconnect();\n    listeners = [];\n    sensor = undefined;\n  };\n  /**\n   * cancel bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _object = require(\"./object\");\n\nvar _resizeObserver = require(\"./resizeObserver\");\n\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\n\n/**\n * sensor strategies\n */\n// export const createSensor = createObjectSensor;\nvar createSensor = typeof ResizeObserver !== 'undefined' ? _resizeObserver.createSensor : _object.createSensor;\nexports.createSensor = createSensor;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeSensor = exports.getSensor = void 0;\n\nvar _id = _interopRequireDefault(require(\"./id\"));\n\nvar _sensors = require(\"./sensors\");\n\nvar _constant = require(\"./constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\n/**\n * all the sensor objects.\n * sensor pool\n */\nvar Sensors = {};\n/**\n * get one sensor\n * @param element\n * @returns {*}\n */\n\nvar getSensor = function getSensor(element) {\n  var sensorId = element.getAttribute(_constant.SizeSensorId); // 1. if the sensor exists, then use it\n\n  if (sensorId && Sensors[sensorId]) {\n    return Sensors[sensorId];\n  } // 2. not exist, then create one\n\n\n  var newId = (0, _id[\"default\"])();\n  element.setAttribute(_constant.SizeSensorId, newId);\n  var sensor = (0, _sensors.createSensor)(element); // add sensor into pool\n\n  Sensors[newId] = sensor;\n  return sensor;\n};\n/**\n * \u79FB\u9664 sensor\n * @param sensor\n */\n\n\nexports.getSensor = getSensor;\n\nvar removeSensor = function removeSensor(sensor) {\n  var sensorId = sensor.element.getAttribute(_constant.SizeSensorId); // remove attribute\n\n  sensor.element.removeAttribute(_constant.SizeSensorId); // remove event, dom of the sensor used\n\n  sensor.destroy(); // exist, then remove from pool\n\n  if (sensorId && Sensors[sensorId]) {\n    delete Sensors[sensorId];\n  }\n};\n\nexports.removeSensor = removeSensor;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ver = exports.clear = exports.bind = void 0;\n\nvar _sensorPool = require(\"./sensorPool\");\n\n/**\n * Created by hustcc on 18/6/9.[\u9AD8\u8003\u65F6\u95F4]\n * Contract: i@hust.cc\n */\n\n/**\n * bind an element with resize callback function\n * @param {*} element\n * @param {*} cb\n */\nvar bind = function bind(element, cb) {\n  var sensor = (0, _sensorPool.getSensor)(element); // listen with callback\n\n  sensor.bind(cb); // return unbind function\n\n  return function () {\n    sensor.unbind(cb);\n  };\n};\n/**\n * clear all the listener and sensor of an element\n * @param element\n */\n\n\nexports.bind = bind;\n\nvar clear = function clear(element) {\n  var sensor = (0, _sensorPool.getSensor)(element);\n  (0, _sensorPool.removeSensor)(sensor);\n};\n\nexports.clear = clear;\nvar ver = \"1.0.1\";\nexports.ver = ver;", "'use strict';\n\nvar self = module.exports;\n\nmodule.exports.isNumber = function (x) {\n  return (typeof x === 'number');\n};\n\nmodule.exports.findMin = function (arr) {\n  if (arr.length === 0) {\n    return Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMax = function (arr) {\n  if (arr.length === 0) {\n    return -Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMinMulti = function (arr) {\n  var curr = self.findMin(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, self.findMin(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.findMaxMulti = function (arr) {\n  var curr = self.findMax(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, self.findMax(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.inside = function (min, max, x) {\n  return (min <= x) && (x <= max);\n};\n", "'use strict';\n\nvar DEFAULT_SIZE = 50;\nvar DEFAULT_WIDTH = 2;\n\nvar LN_2 = Math.log(2);\nvar self = module.exports;\n\nvar helper = require('./helper');\n\n// Triangle\nfunction kernel(x) {\n  return 1 - Math.abs(x);\n}\n\n/**\n * Get min and max value for the pdf, covering all arr data range while respecting options' data\n * @param arr\n * @param options\n * @returns {*}\n */\nmodule.exports.getUnifiedMinMax = function (arr, options) {\n  return self.getUnifiedMinMaxMulti([arr], options);\n};\n\nmodule.exports.getUnifiedMinMaxMulti = function (arrMulti, options) {\n  options = options || {};\n\n  var relaxMin = false;\n  var relaxMax = false;\n\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var min = helper.isNumber(options.min) ? options.min : (relaxMin = true, helper.findMinMulti(arrMulti));\n  var max = helper.isNumber(options.max) ? options.max : (relaxMax = true, helper.findMaxMulti(arrMulti));\n\n  var range = max - min;\n  var step = range / (size - 1);\n\n  // Relax?\n  if (relaxMin) {\n    min = min - 2 * width * step;\n  }\n  if (relaxMax) {\n    max = max + 2 * width * step;\n  }\n\n  return {\n    min: min,\n    max: max\n  };\n};\n\nmodule.exports.create = function (arr, options) {\n  options = options || {};\n\n  if (!arr || (arr.length === 0)) {\n    return [];\n  }\n\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var normalizedMinMax = self.getUnifiedMinMax(arr, {\n    size: size,\n    width: width,\n    min: options.min,\n    max: options.max\n  });\n\n  var min = normalizedMinMax.min;\n  var max = normalizedMinMax.max;\n\n  var range = max - min;\n  var step = range / (size - 1);\n  if (range === 0) {\n    // Special case...\n    return [{x: min, y: 1}];\n  }\n\n  // Good to go\n\n  var buckets = [];\n  for (var i = 0; i < size; i++) {\n    buckets.push({\n      x: min + i * step,\n      y: 0\n    });\n  }\n\n  var xToBucket = function (x) {\n    return Math.floor((x - min) / step);\n  };\n\n  var partialArea = generatePartialAreas(kernel, width);\n  var fullArea = partialArea[width];\n  var c = partialArea[width-1] - partialArea[width-2];\n\n  var initalValue = 0;\n  arr.forEach(function (x) {\n    var bucket = xToBucket(x);\n\n    // Totally outside?\n    if ((bucket + width < 0) || (bucket - width >= buckets.length)) {\n      return;\n    }\n\n    var start = Math.max(bucket - width, 0);\n    var mid = bucket;\n    var end = Math.min(bucket + width, buckets.length - 1);\n\n    var leftBlockCount = start - (bucket - width);\n    var rightBlockCount = (bucket + width) - end;\n    var spilledAreaLeft = partialArea[-width-1 + leftBlockCount] || 0;\n    var spilledAreaRight = partialArea[-width-1 + rightBlockCount] || 0;\n    var weight = fullArea / (fullArea - spilledAreaLeft - spilledAreaRight);\n\n    if (leftBlockCount > 0) {\n      initalValue += weight * (leftBlockCount - 1) * c;\n    }\n\n    // Add grads\n    var startGradPos = Math.max(0, bucket-width+1);\n    if (helper.inside(0, buckets.length-1, startGradPos)) {\n      buckets[startGradPos].y += weight * 1 * c;\n    }\n    if (helper.inside(0, buckets.length-1, mid + 1)) {\n      buckets[mid + 1].y -= weight * 2 * c;\n    }\n    if (helper.inside(0, buckets.length-1, end + 1)) {\n      buckets[end + 1].y += weight * 1 * c;\n    }\n  });\n\n  var accumulator = initalValue;\n  var gradAccumulator = 0;\n  var area = 0;\n  buckets.forEach(function (bucket) {\n    gradAccumulator += bucket.y;\n    accumulator += gradAccumulator;\n\n    bucket.y = accumulator;\n    area += accumulator;\n  });\n\n  // Normalize\n  if (area > 0) {\n    buckets.forEach(function (bucket) {\n      bucket.y /= area;\n    });\n  }\n\n  return buckets;\n};\n\nfunction generatePartialAreas(kernel, width) {\n  var partialAreas = {};\n\n  var accumulator = 0;\n  for (var i = -width; i <= width; i++) {\n    accumulator += kernel(i/width);\n    partialAreas[i] = accumulator;\n  }\n\n  return partialAreas;\n}\n\nmodule.exports.getExpectedValueFromPdf = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var expected = 0;\n\n  pdf.forEach(function (obj) {\n    expected += obj.x * obj.y;\n  });\n\n  return expected;\n};\n\nmodule.exports.getXWithLeftTailArea = function (pdf, area) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var accumulator = 0;\n  var last = 0;\n  for (var i = 0; i < pdf.length; i++) {\n    last = i;\n    accumulator += pdf[i].y;\n\n    if (accumulator >= area) {\n      break;\n    }\n  }\n\n  return pdf[last].x;\n};\n\nmodule.exports.getPerplexity = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var entropy = 0;\n  pdf.forEach(function (obj) {\n    var ln = Math.log(obj.y);\n\n    if (isFinite(ln)) {\n      entropy += obj.y * ln;\n    }\n  });\n  entropy = -entropy / LN_2;\n\n  return Math.pow(2, entropy);\n};\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Area as G2plotArea } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar AreaChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotArea, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default AreaChart;\n", "import { GeometryCfg } from './geometry/base';\nimport { IInteractionContext } from './interface';\n\n// \u6CE8\u518C\u9ED1\u6697\u4E3B\u9898\nimport { registerTheme } from './core';\nimport { antvDark } from './theme/style-sheet/dark';\nimport { createThemeByStyleSheet } from './theme/util/create-by-style-sheet';\nregisterTheme('dark', createThemeByStyleSheet(antvDark));\n\n// \u6CE8\u518C G \u6E32\u67D3\u5F15\u64CE\nimport * as CanvasEngine from '@antv/g-canvas';\nimport * as SVGEngine from '@antv/g-svg';\nimport { registerEngine } from './core';\n\nregisterEngine('canvas', CanvasEngine);\nregisterEngine('svg', SVGEngine);\n\n// \u6CE8\u518C G2 \u5185\u7F6E\u7684 geometry\nimport { registerGeometry } from './core';\nimport Area, { AreaCfg } from './geometry/area';\nimport Edge from './geometry/edge';\nimport Heatmap from './geometry/heatmap';\nimport Interval, { IntervalCfg } from './geometry/interval';\nimport Line from './geometry/line';\nimport Path, { PathCfg } from './geometry/path';\nimport Point from './geometry/point';\nimport Polygon from './geometry/polygon';\nimport Schema from './geometry/schema';\nimport Violin from './geometry/violin';\n\nregisterGeometry('Polygon', Polygon);\nregisterGeometry('Interval', Interval);\nregisterGeometry('Schema', Schema);\nregisterGeometry('Path', Path);\nregisterGeometry('Point', Point);\nregisterGeometry('Line', Line);\nregisterGeometry('Area', Area);\nregisterGeometry('Edge', Edge);\nregisterGeometry('Heatmap', Heatmap);\nregisterGeometry('Violin', Violin);\n\n// \u5F15\u5165\u6240\u6709\u5185\u7F6E\u7684 shapes\nimport './geometry/shape/area/line';\nimport './geometry/shape/area/smooth';\nimport './geometry/shape/area/smooth-line';\n\nimport './geometry/shape/edge/arc';\nimport './geometry/shape/edge/smooth';\nimport './geometry/shape/edge/vhv';\n\nimport './geometry/shape/interval/funnel';\nimport './geometry/shape/interval/hollow-rect';\nimport './geometry/shape/interval/line';\nimport './geometry/shape/interval/pyramid';\nimport './geometry/shape/interval/tick';\n\nimport './geometry/shape/line/step';\n\nimport './geometry/shape/point/hollow';\nimport './geometry/shape/point/image';\nimport './geometry/shape/point/solid';\n\nimport './geometry/shape/schema/box';\nimport './geometry/shape/schema/candle';\n\nimport './geometry/shape/polygon/square';\n\nimport './geometry/shape/violin/smooth';\nimport './geometry/shape/violin/hollow';\n\n// \u6CE8\u518C Geometry \u5185\u7F6E\u7684 label\nimport { registerGeometryLabel } from './core';\nimport GeometryLabel from './geometry/label/base';\nimport IntervalLabel from './geometry/label/interval';\nimport PieLabel from './geometry/label/pie';\nimport PolarLabel from './geometry/label/polar';\n\nregisterGeometryLabel('base', GeometryLabel);\nregisterGeometryLabel('interval', IntervalLabel);\nregisterGeometryLabel('pie', PieLabel);\nregisterGeometryLabel('polar', PolarLabel);\n\n// \u6CE8\u518C Geometry label \u5185\u7F6E\u7684\u5E03\u5C40\u51FD\u6570\nimport { registerGeometryLabelLayout } from './core';\nimport { distribute } from './geometry/label/layout/pie/distribute';\nimport { pieOuterLabelLayout } from './geometry/label/layout/pie/outer';\nimport { pieSpiderLabelLayout } from './geometry/label/layout/pie/spider';\nimport { limitInCanvas } from './geometry/label/layout/limit-in-canvas';\nimport { limitInShape } from './geometry/label/layout/limit-in-shape';\nimport { fixedOverlap, overlap } from './geometry/label/layout/overlap';\nimport { hideOverlap } from './geometry/label/layout/hide-overlap';\nimport { adjustColor } from './geometry/label/layout/adjust-color';\nimport { intervalAdjustPosition } from './geometry/label/layout/interval/adjust-position';\nimport { intervalHideOverlap } from './geometry/label/layout/interval/hide-overlap';\nimport { pointAdjustPosition } from './geometry/label/layout/point/adjust-position';\nimport { pathAdjustPosition } from './geometry/label/layout/path/adjust-position';\nimport { limitInPlot } from './geometry/label/layout/limit-in-plot';\n\nregisterGeometryLabelLayout('overlap', overlap);\nregisterGeometryLabelLayout('distribute', distribute);\nregisterGeometryLabelLayout('fixed-overlap', fixedOverlap);\nregisterGeometryLabelLayout('hide-overlap', hideOverlap);\nregisterGeometryLabelLayout('limit-in-shape', limitInShape);\nregisterGeometryLabelLayout('limit-in-canvas', limitInCanvas);\nregisterGeometryLabelLayout('limit-in-plot', limitInPlot);\nregisterGeometryLabelLayout('pie-outer', pieOuterLabelLayout);\nregisterGeometryLabelLayout('adjust-color', adjustColor);\nregisterGeometryLabelLayout('interval-adjust-position', intervalAdjustPosition);\nregisterGeometryLabelLayout('interval-hide-overlap', intervalHideOverlap);\nregisterGeometryLabelLayout('point-adjust-position', pointAdjustPosition);\nregisterGeometryLabelLayout('pie-spider', pieSpiderLabelLayout);\nregisterGeometryLabelLayout('path-adjust-position', pathAdjustPosition);\n\n// \u6CE8\u518C\u9700\u8981\u7684\u52A8\u753B\u6267\u884C\u51FD\u6570\nimport { fadeIn, fadeOut } from './animate/animation/fade';\nimport { growInX, growInXY, growInY } from './animate/animation/grow-in';\nimport { pathIn } from './animate/animation/path-in';\nimport { positionUpdate } from './animate/animation/position-update';\nimport { scaleInX, scaleInY } from './animate/animation/scale-in';\nimport { sectorPathUpdate } from './animate/animation/sector-path-update';\nimport { waveIn } from './animate/animation/wave-in';\nimport { zoomIn, zoomOut } from './animate/animation/zoom';\nimport { registerAnimation } from './core';\n\nregisterAnimation('fade-in', fadeIn);\nregisterAnimation('fade-out', fadeOut);\nregisterAnimation('grow-in-x', growInX);\nregisterAnimation('grow-in-xy', growInXY);\nregisterAnimation('grow-in-y', growInY);\nregisterAnimation('scale-in-x', scaleInX);\nregisterAnimation('scale-in-y', scaleInY);\nregisterAnimation('wave-in', waveIn);\nregisterAnimation('zoom-in', zoomIn);\nregisterAnimation('zoom-out', zoomOut);\nregisterAnimation('position-update', positionUpdate);\nregisterAnimation('sector-path-update', sectorPathUpdate);\nregisterAnimation('path-in', pathIn);\n\n// \u6CE8\u518C\u5185\u7F6E\u7684 Facet\nimport { registerFacet } from './core';\nimport Circle from './facet/circle';\nimport List from './facet/list';\nimport Matrix from './facet/matrix';\nimport Mirror from './facet/mirror';\nimport Rect from './facet/rect';\nimport Tree from './facet/tree';\n\nregisterFacet('rect', Rect);\nregisterFacet('mirror', Mirror);\nregisterFacet('list', List);\nregisterFacet('matrix', Matrix);\nregisterFacet('circle', Circle);\nregisterFacet('tree', Tree);\n\n// \u6CE8\u518C\u5185\u7F6E\u7684 Component\nimport { registerComponentController } from './core';\n\nimport Annotation from './chart/controller/annotation';\nimport Axis from './chart/controller/axis';\nimport Legend from './chart/controller/legend';\nimport Slider from './chart/controller/slider';\nimport Tooltip from './chart/controller/tooltip';\nimport Scrollbar from './chart/controller/scrollbar';\n\n// register build-in components\nregisterComponentController('axis', Axis);\nregisterComponentController('legend', Legend);\nregisterComponentController('tooltip', Tooltip);\nregisterComponentController('annotation', Annotation);\nregisterComponentController('slider', Slider);\nregisterComponentController('scrollbar', Scrollbar);\n\n// \u6CE8\u518C Interaction Action\nimport { registerAction } from './core';\nimport ActiveRegion from './interaction/action/active-region';\nimport SiblingTooltip from './interaction/action/component/tooltip/sibling';\nimport TooltipAction from './interaction/action/component/tooltip/geometry';\nimport EllipsisTextAction from './interaction/action/component/tooltip/ellipsis-text';\n\nimport ElementActive from './interaction/action/element/active';\nimport ElementLinkByColor from './interaction/action/element/link-by-color';\nimport ElementRangeActive from './interaction/action/element/range-active';\nimport ElementSingleActive from './interaction/action/element/single-active';\n\nimport ElementHighlight from './interaction/action/element/highlight';\nimport ElementHighlightByColor from './interaction/action/element/highlight-by-color';\nimport ElementHighlightByX from './interaction/action/element/highlight-by-x';\n\nimport ElementRangeHighlight, { ELEMENT_RANGE_HIGHLIGHT_EVENTS } from './interaction/action/element/range-highlight';\nimport ElementSingleHighlight from './interaction/action/element/single-highlight';\n\nimport ElementRangeSelected from './interaction/action/element/range-selected';\nimport ElementSelected from './interaction/action/element/selected';\nimport ElementSingleSelected from './interaction/action/element/single-selected';\n\nimport ListActive from './interaction/action/component/list-active';\nimport ListHighlight from './interaction/action/component/list-highlight';\nimport ListSelected from './interaction/action/component/list-selected';\nimport ListUnchecked from './interaction/action/component/list-unchecked';\nimport ListChecked from './interaction/action/component/list-checked';\nimport ListFocus from './interaction/action/component/list-focus';\nimport ListRadio from './interaction/action/component/list-radio';\n\nimport CircleMask from './interaction/action/mask/circle';\nimport DimMask from './interaction/action/mask/dim-rect';\nimport PathMask from './interaction/action/mask/path';\nimport RectMask from './interaction/action/mask/rect';\nimport SmoothPathMask from './interaction/action/mask/smooth-path';\n\nimport CursorAction from './interaction/action/cursor';\nimport DataFilter from './interaction/action/data/filter';\nimport DataRangeFilter, { BRUSH_FILTER_EVENTS } from './interaction/action/data/range-filter';\nimport SiblingFilter from './interaction/action/data/sibling-filter';\n\nimport ElementFilter from './interaction/action/element/filter';\nimport ElementSiblingFilter from './interaction/action/element/sibling-filter';\nimport ButtonAction from './interaction/action/view/button';\nimport ViewDrag from './interaction/action/view/drag';\nimport ViewMove from './interaction/action/view/move';\nimport ScaleTranslate from './interaction/action/view/scale-translate';\nimport ScaleZoom from './interaction/action/view/scale-zoom';\nimport MousewheelScroll from './interaction/action/view/mousewheel-scroll';\nimport AxisDescription from './interaction/action/component/axis/axis-description'\n\nregisterAction('tooltip', TooltipAction);\nregisterAction('sibling-tooltip', SiblingTooltip);\nregisterAction('ellipsis-text', EllipsisTextAction);\nregisterAction('element-active', ElementActive);\nregisterAction('element-single-active', ElementSingleActive);\nregisterAction('element-range-active', ElementRangeActive);\n\nregisterAction('element-highlight', ElementHighlight);\nregisterAction('element-highlight-by-x', ElementHighlightByX);\nregisterAction('element-highlight-by-color', ElementHighlightByColor);\n\nregisterAction('element-single-highlight', ElementSingleHighlight);\nregisterAction('element-range-highlight', ElementRangeHighlight);\nregisterAction('element-sibling-highlight', ElementRangeHighlight, {\n  effectSiblings: true,\n  effectByRecord: true,\n});\n\nregisterAction('element-selected', ElementSelected);\nregisterAction('element-single-selected', ElementSingleSelected);\nregisterAction('element-range-selected', ElementRangeSelected);\nregisterAction('element-link-by-color', ElementLinkByColor);\n\nregisterAction('active-region', ActiveRegion);\nregisterAction('list-active', ListActive);\nregisterAction('list-selected', ListSelected);\nregisterAction('list-highlight', ListHighlight);\nregisterAction('list-unchecked', ListUnchecked);\nregisterAction('list-checked', ListChecked);\nregisterAction('list-focus', ListFocus);\nregisterAction('list-radio', ListRadio);\n\nregisterAction('legend-item-highlight', ListHighlight, {\n  componentNames: ['legend'],\n});\n\nregisterAction('axis-label-highlight', ListHighlight, {\n  componentNames: ['axis'],\n});\nregisterAction('axis-description', AxisDescription)\n\nregisterAction('rect-mask', RectMask);\nregisterAction('x-rect-mask', DimMask, { dim: 'x' });\nregisterAction('y-rect-mask', DimMask, { dim: 'y' });\nregisterAction('circle-mask', CircleMask);\nregisterAction('path-mask', PathMask);\nregisterAction('smooth-path-mask', SmoothPathMask);\n\nregisterAction('cursor', CursorAction);\nregisterAction('data-filter', DataFilter);\n\nregisterAction('brush', DataRangeFilter);\nregisterAction('brush-x', DataRangeFilter, { dims: ['x'] });\nregisterAction('brush-y', DataRangeFilter, { dims: ['y'] });\nregisterAction('sibling-filter', SiblingFilter);\nregisterAction('sibling-x-filter', SiblingFilter);\nregisterAction('sibling-y-filter', SiblingFilter);\n\nregisterAction('element-filter', ElementFilter);\nregisterAction('element-sibling-filter', ElementSiblingFilter);\nregisterAction('element-sibling-filter-record', ElementSiblingFilter, { byRecord: true });\n\nregisterAction('view-drag', ViewDrag);\nregisterAction('view-move', ViewMove);\n\nregisterAction('scale-translate', ScaleTranslate);\nregisterAction('scale-zoom', ScaleZoom);\nregisterAction('reset-button', ButtonAction, {\n  name: 'reset-button',\n  text: 'reset',\n});\n\nregisterAction('mousewheel-scroll', MousewheelScroll);\n\n// \u6CE8\u518C\u9ED8\u8BA4\u7684 Interaction \u4EA4\u4E92\u884C\u4E3A\nimport { registerInteraction } from './core';\n\nfunction isPointInView(context: IInteractionContext) {\n  return context.isInPlot();\n}\n\n// \u6CE8\u518C tooltip \u7684 interaction\nregisterInteraction('tooltip', {\n  start: [\n    { trigger: 'plot:mousemove', action: 'tooltip:show', throttle: { wait: 50, leading: true, trailing: false } },\n    { trigger: 'plot:touchmove', action: 'tooltip:show', throttle: { wait: 50, leading: true, trailing: false } },\n  ],\n  end: [\n    { trigger: 'plot:mouseleave', action: 'tooltip:hide' },\n    { trigger: 'plot:leave', action: 'tooltip:hide' },\n    { trigger: 'plot:touchend', action: 'tooltip:hide' },\n  ],\n});\n\nregisterInteraction('ellipsis-text', {\n  start: [\n    {\n      trigger: 'legend-item-name:mousemove',\n      action: 'ellipsis-text:show',\n      throttle: { wait: 50, leading: true, trailing: false },\n    },\n    {\n      trigger: 'legend-item-name:touchstart',\n      action: 'ellipsis-text:show',\n      throttle: { wait: 50, leading: true, trailing: false },\n    },\n    {\n      trigger: 'axis-label:mousemove',\n      action: 'ellipsis-text:show',\n      throttle: { wait: 50, leading: true, trailing: false },\n    },\n    {\n      trigger: 'axis-label:touchstart',\n      action: 'ellipsis-text:show',\n      throttle: { wait: 50, leading: true, trailing: false },\n    },\n  ],\n  end: [\n    { trigger: 'legend-item-name:mouseleave', action: 'ellipsis-text:hide' },\n    { trigger: 'legend-item-name:touchend', action: 'ellipsis-text:hide' },\n    { trigger: 'axis-label:mouseleave', action: 'ellipsis-text:hide' },\n    { trigger: 'axis-label:touchend', action: 'ellipsis-text:hide' },\n  ],\n});\n\n// \u79FB\u52A8\u5230 element \u4E0A active\nregisterInteraction('element-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'element-active:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'element-active:reset' }],\n});\n\n// \u70B9\u51FB\u9009\u4E2D\uFF0C\u5141\u8BB8\u53D6\u6D88\nregisterInteraction('element-selected', {\n  start: [{ trigger: 'element:click', action: 'element-selected:toggle' }],\n});\n\n// hover highlight\uFF0C\u5141\u8BB8\u53D6\u6D88\nregisterInteraction('element-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'element-highlight:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'element-highlight:reset' }],\n});\n\n// hover highlight by x\uFF0C\u5141\u8BB8\u53D6\u6D88\nregisterInteraction('element-highlight-by-x', {\n  start: [{ trigger: 'element:mouseenter', action: 'element-highlight-by-x:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'element-highlight-by-x:reset' }],\n});\n\n// hover highlight by y\uFF0C\u5141\u8BB8\u53D6\u6D88\nregisterInteraction('element-highlight-by-color', {\n  start: [{ trigger: 'element:mouseenter', action: 'element-highlight-by-color:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'element-highlight-by-color:reset' }],\n});\n\n// legend hover\uFF0Celement active\nregisterInteraction('legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: ['list-active:active', 'element-active:active'] }],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['list-active:reset', 'element-active:reset'] }],\n});\n\n// legend hover\uFF0Celement active\nregisterInteraction('legend-highlight', {\n  start: [\n    { trigger: 'legend-item:mouseenter', action: ['legend-item-highlight:highlight', 'element-highlight:highlight'] },\n  ],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['legend-item-highlight:reset', 'element-highlight:reset'] }],\n});\n\n// legend hover\uFF0Celement active\nregisterInteraction('axis-label-highlight', {\n  start: [\n    { trigger: 'axis-label:mouseenter', action: ['axis-label-highlight:highlight', 'element-highlight:highlight'] },\n  ],\n  end: [{ trigger: 'axis-label:mouseleave', action: ['axis-label-highlight:reset', 'element-highlight:reset'] }],\n});\n\n// legend hover\uFF0Celement active\nregisterInteraction('element-list-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: ['list-highlight:highlight', 'element-highlight:highlight'] }],\n  end: [{ trigger: 'element:mouseleave', action: ['list-highlight:reset', 'element-highlight:reset'] }],\n});\n\n// \u6846\u9009\nregisterInteraction('element-range-highlight', {\n  showEnable: [\n    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n    { trigger: 'mask:mouseenter', action: 'cursor:move' },\n    { trigger: 'plot:mouseleave', action: 'cursor:default' },\n    { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n  ],\n  start: [\n    {\n      trigger: 'plot:mousedown',\n      isEnable(context) {\n        // \u4E0D\u8981\u70B9\u51FB\u5728 mask \u4E0A\u91CD\u65B0\u5F00\u59CB\n        return !context.isInShape('mask');\n      },\n      action: ['rect-mask:start', 'rect-mask:show'],\n    },\n    {\n      trigger: 'mask:dragstart',\n      action: ['rect-mask:moveStart'],\n    },\n  ],\n  processing: [\n    {\n      trigger: 'plot:mousemove',\n      action: ['rect-mask:resize'],\n    },\n    {\n      trigger: 'mask:drag',\n      action: ['rect-mask:move'],\n    },\n    {\n      trigger: 'mask:change',\n      action: ['element-range-highlight:highlight'],\n    },\n  ],\n  end: [\n    { trigger: 'plot:mouseup', action: ['rect-mask:end'] },\n    { trigger: 'mask:dragend', action: ['rect-mask:moveEnd'] },\n    {\n      trigger: 'document:mouseup',\n      isEnable(context) {\n        return !context.isInPlot();\n      },\n      action: ['element-range-highlight:clear', 'rect-mask:end', 'rect-mask:hide'],\n    },\n  ],\n  rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', 'rect-mask:hide'] }],\n});\n\nregisterInteraction('brush', {\n  showEnable: [\n    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n    { trigger: 'plot:mouseleave', action: 'cursor:default' },\n  ],\n  start: [\n    {\n      trigger: 'mousedown',\n      isEnable: isPointInView,\n      action: ['brush:start', 'rect-mask:start', 'rect-mask:show'],\n    },\n  ],\n  processing: [\n    {\n      trigger: 'mousemove',\n      isEnable: isPointInView,\n      action: ['rect-mask:resize'],\n    },\n  ],\n  end: [\n    {\n      trigger: 'mouseup',\n      isEnable: isPointInView,\n      action: ['brush:filter', 'brush:end', 'rect-mask:end', 'rect-mask:hide', 'reset-button:show'],\n    },\n  ],\n  rollback: [{ trigger: 'reset-button:click', action: ['brush:reset', 'reset-button:hide', 'cursor:crosshair'] }],\n});\n\nregisterInteraction('brush-visible', {\n  showEnable: [\n    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n    { trigger: 'plot:mouseleave', action: 'cursor:default' },\n  ],\n  start: [\n    {\n      trigger: 'plot:mousedown',\n      action: ['rect-mask:start', 'rect-mask:show'],\n    },\n  ],\n  processing: [\n    {\n      trigger: 'plot:mousemove',\n      action: ['rect-mask:resize'],\n    },\n    { trigger: 'mask:change', action: ['element-range-highlight:highlight'] },\n  ],\n  end: [\n    {\n      trigger: 'plot:mouseup',\n      action: ['rect-mask:end', 'rect-mask:hide', 'element-filter:filter', 'element-range-highlight:clear'],\n    },\n  ],\n  rollback: [\n    {\n      trigger: 'dblclick',\n      action: ['element-filter:clear'],\n    },\n  ],\n});\n\nregisterInteraction('brush-x', {\n  showEnable: [\n    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n    { trigger: 'plot:mouseleave', action: 'cursor:default' },\n  ],\n  start: [\n    {\n      trigger: 'mousedown',\n      isEnable: isPointInView,\n      action: ['brush-x:start', 'x-rect-mask:start', 'x-rect-mask:show'],\n    },\n  ],\n  processing: [\n    {\n      trigger: 'mousemove',\n      isEnable: isPointInView,\n      action: ['x-rect-mask:resize'],\n    },\n  ],\n  end: [\n    {\n      trigger: 'mouseup',\n      isEnable: isPointInView,\n      action: ['brush-x:filter', 'brush-x:end', 'x-rect-mask:end', 'x-rect-mask:hide'],\n    },\n  ],\n  rollback: [{ trigger: 'dblclick', action: ['brush-x:reset'] }],\n});\n\nregisterInteraction('element-path-highlight', {\n  showEnable: [\n    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n    { trigger: 'plot:mouseleave', action: 'cursor:default' },\n  ],\n  start: [\n    { trigger: 'mousedown', isEnable: isPointInView, action: 'path-mask:start' },\n    { trigger: 'mousedown', isEnable: isPointInView, action: 'path-mask:show' },\n  ],\n  processing: [{ trigger: 'mousemove', action: 'path-mask:addPoint' }],\n  end: [{ trigger: 'mouseup', action: 'path-mask:end' }],\n  rollback: [{ trigger: 'dblclick', action: 'path-mask:hide' }],\n});\n\n// \u70B9\u51FB\u9009\u4E2D\uFF0C\u5141\u8BB8\u53D6\u6D88\nregisterInteraction('element-single-selected', {\n  start: [{ trigger: 'element:click', action: 'element-single-selected:toggle' }],\n});\n\n// \u7B5B\u9009\u6570\u636E\nregisterInteraction('legend-filter', {\n  showEnable: [\n    { trigger: 'legend-item:mouseenter', action: ['cursor:pointer', 'list-radio:show'] },\n    { trigger: 'legend-item:mouseleave', action: ['cursor:default', 'list-radio:hide'] },\n  ],\n  start: [\n    {\n      trigger: 'legend-item:click',\n      isEnable: (context) => {\n        return !context.isInShape('legend-item-radio');\n      },\n      action: ['list-unchecked:toggle', 'data-filter:filter', 'list-radio:show'],\n    },\n    //  \u6B63\u53CD\u9009\u6570\u636E: \u53EA\u6709\u5F53 radio === truthy \u7684\u65F6\u5019\u624D\u4F1A\u6709 legend-item-radio \u8FD9\u4E2A\u5143\u7D20\n    {\n      trigger: 'legend-item-radio:mouseenter',\n      action: ['list-radio:showTip'],\n    },\n    {\n      trigger: 'legend-item-radio:mouseleave',\n      action: ['list-radio:hideTip'],\n    },\n    {\n      trigger: 'legend-item-radio:click',\n      action: ['list-focus:toggle', 'data-filter:filter', 'list-radio:show'],\n    },\n  ],\n});\n\n// \u7B5B\u9009\u6570\u636E\nregisterInteraction('continuous-filter', {\n  start: [{ trigger: 'legend:valuechanged', action: 'data-filter:filter' }],\n});\n// \u7B5B\u9009\u6570\u636E\nregisterInteraction('continuous-visible-filter', {\n  start: [{ trigger: 'legend:valuechanged', action: 'element-filter:filter' }],\n});\n\n// \u7B5B\u9009\u56FE\u5F62\nregisterInteraction('legend-visible-filter', {\n  showEnable: [\n    { trigger: 'legend-item:mouseenter', action: 'cursor:pointer' },\n    { trigger: 'legend-item:mouseleave', action: 'cursor:default' },\n  ],\n  start: [{ trigger: 'legend-item:click', action: ['list-unchecked:toggle', 'element-filter:filter'] }],\n});\n\n// \u51FA\u73B0\u80CC\u666F\u6846\nregisterInteraction('active-region', {\n  start: [{ trigger: 'plot:mousemove', action: 'active-region:show' }],\n  end: [{ trigger: 'plot:mouseleave', action: 'active-region:hide' }],\n});\n\n// \u663E\u793A\u5750\u6807\u8F74\u6807\u9898\u8BE6\u60C5\u4FE1\u606F\nregisterInteraction('axis-description', {\n  start: [{ trigger: 'axis-description:mousemove', action: 'axis-description:show' }],\n  end: [{ trigger: 'axis-description:mouseleave', action: 'axis-description:hide' }]\n})\n\nfunction isWheelDown(event) {\n  event.gEvent.preventDefault();\n  return event.gEvent.originalEvent.deltaY > 0;\n}\nregisterInteraction('view-zoom', {\n  start: [\n    {\n      trigger: 'plot:mousewheel',\n      isEnable(context) {\n        return isWheelDown(context.event);\n      },\n      action: 'scale-zoom:zoomOut',\n      throttle: { wait: 100, leading: true, trailing: false },\n    },\n    {\n      trigger: 'plot:mousewheel',\n      isEnable(context) {\n        return !isWheelDown(context.event);\n      },\n      action: 'scale-zoom:zoomIn',\n      throttle: { wait: 100, leading: true, trailing: false },\n    },\n  ],\n});\n\nregisterInteraction('sibling-tooltip', {\n  start: [{ trigger: 'plot:mousemove', action: 'sibling-tooltip:show' }],\n  end: [{ trigger: 'plot:mouseleave', action: 'sibling-tooltip:hide' }],\n});\n\nregisterInteraction('plot-mousewheel-scroll', {\n  start: [{ trigger: 'plot:mousewheel', action: 'mousewheel-scroll:scroll' }],\n});\n\n// \u8BA9 TS \u652F\u6301 View \u539F\u578B\u4E0A\u6DFB\u52A0\u7684\u521B\u5EFA Geometry \u65B9\u6CD5\u7684\u667A\u80FD\u63D0\u793A\n/**\n * \u5F80 View \u539F\u578B\u4E0A\u6DFB\u52A0\u7684\u521B\u5EFA Geometry \u7684\u65B9\u6CD5\n *\n * Tips:\n * view module augmentation, detail: http://www.typescriptlang.org/docs/handbook/declaration-merging.html#module-augmentation\n */\ndeclare module './chart/view' {\n  interface View {\n    /**\n     * \u521B\u5EFA Polygon \u51E0\u4F55\u6807\u8BB0\u3002\n     * @param [cfg] \u4F20\u5165 Polygon \u6784\u9020\u51FD\u6570\u7684\u914D\u7F6E\u3002\n     * @returns polygon \u8FD4\u56DE Polygon \u5B9E\u4F8B\u3002\n     */\n    polygon(cfg?: Partial<GeometryCfg>): Polygon;\n    /**\n     * \u521B\u5EFA Point \u51E0\u4F55\u6807\u8BB0\u3002\n     * @param [cfg] \u4F20\u5165 Point \u6784\u9020\u51FD\u6570\u7684\u914D\u7F6E\u3002\n     * @returns point \u8FD4\u56DE Point \u5B9E\u4F8B\u3002\n     */\n    point(cfg?: Partial<GeometryCfg>): Point;\n    /**\n     * \u521B\u5EFA Interval \u51E0\u4F55\u6807\u8BB0\u3002\n     * @param [cfg] \u4F20\u5165 Interval \u6784\u9020\u51FD\u6570\u7684\u914D\u7F6E\u3002\n     * @returns interval \u8FD4\u56DE Interval \u5B9E\u4F8B\u3002\n     */\n    interval(cfg?: Partial<IntervalCfg>): Interval;\n    /**\n     * \u521B\u5EFA Schema \u51E0\u4F55\u6807\u8BB0\u3002\n     * @param [cfg] \u4F20\u5165 Schema \u6784\u9020\u51FD\u6570\u7684\u914D\u7F6E\u3002\n     * @returns schema \u8FD4\u56DE Schema \u5B9E\u4F8B\u3002\n     */\n    schema(cfg?: Partial<GeometryCfg>): Schema;\n    /**\n     * \u521B\u5EFA Path \u51E0\u4F55\u6807\u8BB0\u3002\n     * @param [cfg] \u4F20\u5165 Path \u6784\u9020\u51FD\u6570\u7684\u914D\u7F6E\u3002\n     * @returns path \u8FD4\u56DE Path \u5B9E\u4F8B\u3002\n     */\n    path(cfg?: Partial<PathCfg>): Path;\n    /**\n     * \u521B\u5EFA Line \u51E0\u4F55\u6807\u8BB0\u3002\n     * @param [cfg] \u4F20\u5165 Line \u6784\u9020\u51FD\u6570\u7684\u914D\u7F6E\u3002\n     * @returns line \u8FD4\u56DE Line \u5B9E\u4F8B\u3002\n     */\n    line(cfg?: Partial<PathCfg>): Line;\n    /**\n     * \u521B\u5EFA Area \u51E0\u4F55\u6807\u8BB0\u3002\n     * @param [cfg] \u4F20\u5165 Area \u6784\u9020\u51FD\u6570\u7684\u914D\u7F6E\u3002\n     * @returns area \u8FD4\u56DE Area \u5B9E\u4F8B\u3002\n     */\n    area(cfg?: Partial<AreaCfg>): Area;\n    /**\n     * \u521B\u5EFA Edge \u51E0\u4F55\u6807\u8BB0\u3002\n     * @param [cfg] \u4F20\u5165 Edge \u6784\u9020\u51FD\u6570\u7684\u914D\u7F6E\u3002\n     * @returns schema \u8FD4\u56DE Edge \u5B9E\u4F8B\u3002\n     */\n    edge(cfg?: Partial<GeometryCfg>): Edge;\n    /**\n     * \u521B\u5EFA Heatmap \u51E0\u4F55\u6807\u8BB0\u3002\n     * @param [cfg] \u4F20\u5165 Heatmap \u6784\u9020\u51FD\u6570\u7684\u914D\u7F6E\u3002\n     * @returns heatmap \u8FD4\u56DE Heatmap \u5B9E\u4F8B\u3002\n     */\n    heatmap(cfg?: Partial<GeometryCfg>): Heatmap;\n    /**\n     * \u521B\u5EFA Violin \u51E0\u4F55\u6807\u8BB0\u3002\n     * @param [cfg] \u4F20\u5165 Violin \u6784\u9020\u51FD\u6570\u7684\u914D\u7F6E\u3002\n     * @returns violin \u8FD4\u56DE Violin \u5B9E\u4F8B\u3002\n     */\n    violin(cfg?: Partial<GeometryCfg>): Violin;\n  }\n}\n\n// \u66B4\u9732\u4E00\u4E9B\u5E38\u91CF\nexport { VIEW_LIFE_CIRCLE } from './constant';\n/** brush \u8303\u56F4\u7B5B\u9009\u7684\u4E00\u4E9B\u4E8B\u4EF6\u5E38\u91CF */\nexport { BRUSH_FILTER_EVENTS, ELEMENT_RANGE_HIGHLIGHT_EVENTS };\n\nexport * from './core';\n", "/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "/**\n * view \u4E2D\u4E09\u5C42 group \u5206\u5C42 key\n */\nexport enum LAYER {\n  /** \u524D\u666F\u5C42 */\n  FORE = 'fore',\n  /** \u4E2D\u95F4\u5C42 */\n  MID = 'mid',\n  /** \u80CC\u666F\u5C42 */\n  BG = 'bg',\n}\n\n/**\n * \u7EC4\u4EF6\u5728\u753B\u5E03\u7684\u5E03\u5C40\u65B9\u4F4D 12 \u65B9\u4F4D\n */\nexport enum DIRECTION {\n  TOP = 'top',\n  TOP_LEFT = 'top-left',\n  TOP_RIGHT = 'top-right',\n  RIGHT = 'right',\n  RIGHT_TOP = 'right-top',\n  RIGHT_BOTTOM = 'right-bottom',\n  LEFT = 'left',\n  LEFT_TOP = 'left-top',\n  LEFT_BOTTOM = 'left-bottom',\n  BOTTOM = 'bottom',\n  BOTTOM_LEFT = 'bottom-left',\n  BOTTOM_RIGHT = 'bottom-right',\n  RADIUS = 'radius',\n  CIRCLE = 'circle',\n  // no direction information\n  NONE = 'none',\n}\n\n/**\n * \u7EC4\u4EF6\u7684\u7C7B\u578B\uFF0C\u53EF\u80FD\u4F1A\u5F71\u54CD\u5230\u5E03\u5C40\u7B97\u6CD5\n */\nexport enum COMPONENT_TYPE {\n  /** axis \u7EC4\u4EF6 */\n  AXIS = 'axis',\n  /** grid \u7EC4\u4EF6 */\n  GRID = 'grid',\n  /** legend \u7EC4\u4EF6 */\n  LEGEND = 'legend',\n  /** tooltip \u7EC4\u4EF6 */\n  TOOLTIP = 'tooltip',\n  /** annotation \u7EC4\u4EF6 */\n  ANNOTATION = 'annotation',\n  /** \u7F29\u7565\u8F74\u7EC4\u4EF6 */\n  SLIDER = 'slider',\n  /** \u6EDA\u52A8\u6761\u7EC4\u4EF6 */\n  SCROLLBAR = 'scrollbar',\n  /** \u5176\u4ED6\u7EC4\u4EF6\uFF0C\u81EA\u5B9A\u4E49\u7EC4\u4EF6 */\n  OTHER = 'other',\n}\n\n/**\n * \u4E09\u5C42 group \u7684 z index\n */\nexport const GROUP_Z_INDEX = {\n  FORE: 3,\n  MID: 2,\n  BG: 1,\n};\n\n/**\n * View \u7684\u751F\u547D\u5468\u671F\u9636\u6BB5\uFF08\u548C 3.x \u7684\u751F\u547D\u5468\u671F\u7565\u6709\u4E0D\u540C\uFF09\n * \u6211\u4EEC\u9700\u8981\u5148\u786E\u5B9A\u5728\u90A3\u5199\u573A\u666F\u9700\u8981\u7528\u5230\u751F\u547D\u5468\u671F\uFF0C\u5982\u679C\u53EA\u662F\u4E3A\u4E86\u5728\u751F\u547D\u5468\u671F\u63D2\u5165\u4E00\u4E0B\u4EC0\u4E48\u7EC4\u4EF6\u4E4B\u7C7B\u7684\uFF0C\u90A3\u4E48\u5728\u73B0\u6709\u67B6\u6784\u5C31\u662F\u4E0D\u9700\u8981\u7684\n */\nexport enum VIEW_LIFE_CIRCLE {\n  BEFORE_RENDER = 'beforerender',\n  AFTER_RENDER = 'afterrender',\n\n  BEFORE_PAINT = 'beforepaint',\n  AFTER_PAINT = 'afterpaint',\n\n  BEFORE_CHANGE_DATA = 'beforechangedata',\n  AFTER_CHANGE_DATA = 'afterchangedata',\n\n  BEFORE_CLEAR = 'beforeclear',\n  AFTER_CLEAR = 'afterclear',\n\n  BEFORE_DESTROY = 'beforedestroy',\n\n  BEFORE_CHANGE_SIZE = 'beforechangesize',\n  AFTER_CHANGE_SIZE = 'afterchangesize',\n}\n\n/**\n * geometry \u7684\u751F\u547D\u5468\u671F\n */\nexport enum GEOMETRY_LIFE_CIRCLE {\n  BEFORE_DRAW_ANIMATE = 'beforeanimate',\n  AFTER_DRAW_ANIMATE = 'afteranimate',\n\n  BEFORE_RENDER_LABEL = 'beforerenderlabel',\n  AFTER_RENDER_LABEL = 'afterrenderlabel',\n}\n\n/**\n * \u7ED8\u56FE\u533A\u7684\u4E8B\u4EF6\u5217\u8868\n */\nexport enum PLOT_EVENTS {\n  // mouse \u4E8B\u4EF6\n  MOUSE_ENTER = 'plot:mouseenter',\n  MOUSE_DOWN = 'plot:mousedown',\n  MOUSE_MOVE = 'plot:mousemove',\n  MOUSE_UP = 'plot:mouseup',\n  MOUSE_LEAVE = 'plot:mouseleave',\n  // \u79FB\u52A8\u7AEF\u4E8B\u4EF6\n  TOUCH_START = 'plot:touchstart',\n  TOUCH_MOVE = 'plot:touchmove',\n  TOUCH_END = 'plot:touchend',\n  TOUCH_CANCEL = 'plot:touchcancel',\n  // click \u4E8B\u4EF6\n  CLICK = 'plot:click',\n  DBLCLICK = 'plot:dblclick',\n  CONTEXTMENU = 'plot:contextmenu',\n\n  LEAVE = 'plot:leave',\n  ENTER = 'plot:enter',\n}\n\n/**\n * Element \u56FE\u5F62\u4EA4\u4E92\u72B6\u6001\n */\nexport enum ELEMENT_STATE {\n  ACTIVE = 'active',\n  INACTIVE = 'inactive',\n  SELECTED = 'selected',\n  DEFAULT = 'default',\n}\n\n/** \u53C2\u4E0E\u5206\u7EC4\u7684\u56FE\u5F62\u5C5E\u6027\u540D */\nexport const GROUP_ATTRS = ['color', 'shape', 'size'];\n/** \u5B58\u50A8\u539F\u59CB\u6570\u636E\u7684\u5B57\u6BB5\u540D */\nexport const FIELD_ORIGIN = '_origin';\n/** \u6700\u5C0F\u7684\u56FE\u8868\u5BBD\u5EA6 */\nexport const MIN_CHART_WIDTH = 1;\n/** \u6700\u5C0F\u7684\u56FE\u8868\u9AD8\u5EA6 */\nexport const MIN_CHART_HEIGHT = 1;\n/** \u8F85\u52A9\u7EC4\u4EF6\u5360\u56FE\u8868\u7684\u5C3A\u5BF8\u7684\u6700\u5927\u6BD4\u4F8B\uFF1A\u5982\u56FE\u8868\u4E0A\u65B9\u7684\u56FE\u4F8B\u6700\u591A\u5360\u56FE\u8868\u9AD8\u5EA6\u768425% */\nexport const COMPONENT_MAX_VIEW_PERCENTAGE = 0.25;\n", "import { IG } from '../dependents';\n\nconst ENGINES: Record<string, IG> = {};\n\n/**\n * \u901A\u8FC7\u540D\u5B57\u83B7\u53D6\u6E32\u67D3 engine\n * @param name \u6E32\u67D3\u5F15\u64CE\u540D\u5B57\n * @returns G engine\n */\nexport function getEngine(name: string): IG {\n  const G = ENGINES[name];\n\n  if (!G) {\n    throw new Error(`G engine '${name}' is not exist, please register it at first.`);\n  }\n\n  return G;\n}\n\n/**\n * \u6CE8\u518C\u6E32\u67D3\u5F15\u64CE\n * @param name\n * @param engine\n */\nexport function registerEngine(name: string, engine: IG) {\n  ENGINES[name] = engine;\n}\n", null, null, null, null, null, null, null, null, "import { MIN_CHART_HEIGHT, MIN_CHART_WIDTH } from '../constant';\nimport { Size } from '../interface';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nfunction getElementSize(ele: HTMLElement): Size {\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n\n/**\n * is value a valid number\n * @param v the input value\n * @returns whether it is a number\n */\nfunction isNumber(v: any): boolean {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * calculate the chart size\n * @param ele DOM element\n * @param autoFit should auto fit\n * @param width chart width which is set by user\n * @param height chart height which is set by user\n * @returns the chart width and height\n */\nexport function getChartSize(ele: HTMLElement, autoFit: boolean, width: number, height: number): Size {\n  let w = width;\n  let h = height;\n\n  if (autoFit) {\n    const size = getElementSize(ele);\n\n    w = size.width ? size.width : w;\n    h = size.height ? size.height : h;\n  }\n\n  return {\n    width: Math.max(isNumber(w) ? w : MIN_CHART_WIDTH, MIN_CHART_WIDTH),\n    height: Math.max(isNumber(h) ? h : MIN_CHART_HEIGHT, MIN_CHART_HEIGHT),\n  };\n}\n\n/**\n * @ignore\n * remove html element from its parent\n * @param dom\n */\nexport function removeDom(dom: HTMLElement) {\n  const parent = dom.parentNode;\n\n  if (parent) {\n    parent.removeChild(dom);\n  }\n}\n\n/** @ignore */\nexport { createDom, modifyCSS } from '@antv/dom-util';\n", null, "import EE from '@antv/event-emitter';\n\ninterface BaseCfg {\n  visible?: boolean;\n}\n\n/**\n * G2 Chart\u3001View\u3001Geometry \u4EE5\u53CA Element \u7B49\u7684\u57FA\u7C7B\uFF0C\u63D0\u4F9B\u4E8B\u4EF6\u4EE5\u53CA\u4E00\u4E9B\u901A\u7528\u7684\u65B9\u6CD5\u3002\n */\nexport default class Base extends EE {\n  /** \u662F\u5426\u53EF\u89C1 */\n  public visible: boolean;\n  /** \u6807\u8BC6\u5BF9\u8C61\u662F\u5426\u5DF2\u9500\u6BC1 */\n  public destroyed: boolean = false;\n\n  constructor(cfg: BaseCfg) {\n    super();\n    const { visible = true } = cfg;\n    this.visible = visible;\n  }\n\n  /**\n   * \u663E\u793A\u3002\n   */\n  public show() {\n    const visible = this.visible;\n    if (!visible) {\n      this.changeVisible(true);\n    }\n  }\n\n  /**\n   * \u9690\u85CF\u3002\n   */\n  public hide() {\n    const visible = this.visible;\n    if (visible) {\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \u9500\u6BC1\u3002\n   */\n  public destroy() {\n    this.off();\n    this.destroyed = true;\n  }\n\n  /**\n   * \u663E\u793A\u6216\u8005\u9690\u85CF\u3002\n   * @param visible\n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.visible = visible;\n  }\n}\n", null, null, null, null, "var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexport { BrowserInfo };\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexport { NodeInfo };\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexport { SearchBotDeviceInfo };\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexport { BotInfo };\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexport { ReactNativeInfo };\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['pie', /^Microsoft Pocket Internet Explorer\\/(\\d+\\.\\d+)$/],\n    ['pie', /^Mozilla\\/\\d\\.\\d+\\s\\(compatible;\\s(?:MSP?IE|MSInternet Explorer) (\\d+\\.\\d+);.*Windows CE.*\\)$/],\n    ['netfront', /^Mozilla\\/\\d\\.\\d+.*NetFront\\/(\\d.\\d)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FB[AS]V\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['curl', /^curl\\/([0-9\\.]+)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Windows CE', /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nexport function detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nexport function browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexport function parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    // Do not use RegExp for split operation as some browser do not support it (See: http://blog.stevenlevithan.com/archives/cross-browser-split)\n    var versionParts = match[1] && match[1].split('.').join('_').split('_').slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArray(__spreadArray([], versionParts, true), createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length), true);\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nexport function detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexport function getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n", "/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};", "import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;", "import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();", "import * as glMatrix from \"./common.js\";\n/**\n * 4 Dimensional Vector\n * @module vec4\n */\n\n/**\n * Creates a new, empty vec4\n *\n * @returns {vec4} a new 4D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec4 initialized with values from an existing vector\n *\n * @param {ReadonlyVec4} a vector to clone\n * @returns {vec4} a new 4D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a new vec4 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} a new 4D vector\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the source vector\n * @returns {vec4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\n * Multiplies two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\n * Divides two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\n * Math.ceil the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to ceil\n * @returns {vec4} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\n * Math.floor the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to floor\n * @returns {vec4} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\n * Returns the minimum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\n * Returns the maximum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\n * Math.round the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to round\n * @returns {vec4} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\n * Adds two vec4's after scaling the second operand by a scalar value\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec4} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Calculates the length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Negates the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to negate\n * @returns {vec4} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to invert\n * @returns {vec4} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to normalize\n * @returns {vec4} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\n * Returns the cross-product of three vectors in a 4-dimensional space\n *\n * @param {ReadonlyVec4} result the receiving vector\n * @param {ReadonlyVec4} U the first vector\n * @param {ReadonlyVec4} V the second vector\n * @param {ReadonlyVec4} W the third vector\n * @returns {vec4} result\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec4} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec4} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec4} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\n * Transforms the vec4 with a mat4.\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec4} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\n * Transforms the vec4 with a quat\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec4} out\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to zero\n *\n * @param {vec4} out the receiving vector\n * @returns {vec4} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec4} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\n * Alias for {@link vec4.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec4.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec4.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec4.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec4.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec4.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec4s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();", "import * as glMatrix from \"./common.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\n/**\n * Quaternion\n * @module quat\n */\n\n/**\n * Creates a new identity quat\n *\n * @returns {quat} a new quaternion\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\n * Set a quat to the identity quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\n * Sets a quat from the given angle and rotation axis,\n * then returns it.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyVec3} axis the axis around which to rotate\n * @param {Number} rad the angle in radians\n * @returns {quat} out\n **/\n\nexport function setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\n * Gets the rotation axis and angle for a given\n *  quaternion. If a quaternion is created with\n *  setAxisAngle, this method will return the same\n *  values as providied in the original parameter list\n *  OR functionally equivalent values.\n * Example: The quaternion formed by axis [0, 0, 1] and\n *  angle -90 is the same as the quaternion formed by\n *  [0, 0, 1] and 270. This method favors the latter.\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\n * @param  {ReadonlyQuat} q     Quaternion to be decomposed\n * @return {Number}     Angle, in radians, of the rotation\n */\n\nexport function getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > glMatrix.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\n * Gets the angular distance between two unit quaternions\n *\n * @param  {ReadonlyQuat} a     Origin unit quaternion\n * @param  {ReadonlyQuat} b     Destination unit quaternion\n * @return {Number}     Angle, in radians, between the two quaternions\n */\n\nexport function getAngle(a, b) {\n  var dotproduct = dot(a, b);\n  return Math.acos(2 * dotproduct * dotproduct - 1);\n}\n/**\n * Multiplies two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n */\n\nexport function multiply(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the X axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateX(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Y axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateY(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Z axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateZ(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\n * Calculates the W component of a quat from the X, Y, and Z components.\n * Assumes that quaternion is 1 unit in length.\n * Any existing W component will be ignored.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate W component of\n * @returns {quat} out\n */\n\nexport function calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\n * Calculate the exponential of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nexport function exp(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var et = Math.exp(w);\n  var s = r > 0 ? et * Math.sin(r) / r : 0;\n  out[0] = x * s;\n  out[1] = y * s;\n  out[2] = z * s;\n  out[3] = et * Math.cos(r);\n  return out;\n}\n/**\n * Calculate the natural logarithm of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nexport function ln(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var t = r > 0 ? Math.atan2(r, w) / r : 0;\n  out[0] = x * t;\n  out[1] = y * t;\n  out[2] = z * t;\n  out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);\n  return out;\n}\n/**\n * Calculate the scalar power of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @param {Number} b amount to scale the quaternion by\n * @returns {quat} out\n */\n\nexport function pow(out, a, b) {\n  ln(out, a);\n  scale(out, out, b);\n  exp(out, out);\n  return out;\n}\n/**\n * Performs a spherical linear interpolation between two quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nexport function slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > glMatrix.EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\n * Generates a random unit quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nexport function random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = glMatrix.RANDOM();\n  var u2 = glMatrix.RANDOM();\n  var u3 = glMatrix.RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\n * Calculates the inverse of a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate inverse of\n * @returns {quat} out\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\n * Calculates the conjugate of a quat\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate conjugate of\n * @returns {quat} out\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a quaternion from the given 3x3 rotation matrix.\n *\n * NOTE: The resultant quaternion is not normalized, so you should be sure\n * to renormalize the quaternion yourself where necessary.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyMat3} m rotation matrix\n * @returns {quat} out\n * @function\n */\n\nexport function fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) i = 1;\n    if (m[8] > m[i * 3 + i]) i = 2;\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\n * Creates a quaternion from the given euler angle x, y, z.\n *\n * @param {quat} out the receiving quaternion\n * @param {x} Angle to rotate around X axis in degrees.\n * @param {y} Angle to rotate around Y axis in degrees.\n * @param {z} Angle to rotate around Z axis in degrees.\n * @returns {quat} out\n * @function\n */\n\nexport function fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\n * Returns a string representation of a quatenion\n *\n * @param {ReadonlyQuat} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"quat(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {ReadonlyQuat} a quaternion to clone\n * @returns {quat} a new quaternion\n * @function\n */\n\nexport var clone = vec4.clone;\n/**\n * Creates a new quat initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} a new quaternion\n * @function\n */\n\nexport var fromValues = vec4.fromValues;\n/**\n * Copy the values from one quat to another\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the source quaternion\n * @returns {quat} out\n * @function\n */\n\nexport var copy = vec4.copy;\n/**\n * Set the components of a quat to the given values\n *\n * @param {quat} out the receiving quaternion\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} out\n * @function\n */\n\nexport var set = vec4.set;\n/**\n * Adds two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n * @function\n */\n\nexport var add = vec4.add;\n/**\n * Alias for {@link quat.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Scales a quat by a scalar number\n *\n * @param {quat} out the receiving vector\n * @param {ReadonlyQuat} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {quat} out\n * @function\n */\n\nexport var scale = vec4.scale;\n/**\n * Calculates the dot product of two quat's\n *\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\n\nexport var dot = vec4.dot;\n/**\n * Performs a linear interpolation between two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n * @function\n */\n\nexport var lerp = vec4.lerp;\n/**\n * Calculates the length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport var length = vec4.length;\n/**\n * Alias for {@link quat.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Calculates the squared length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\n\nexport var squaredLength = vec4.squaredLength;\n/**\n * Alias for {@link quat.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Normalize a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quaternion to normalize\n * @returns {quat} out\n * @function\n */\n\nexport var normalize = vec4.normalize;\n/**\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyQuat} a The first quaternion.\n * @param {ReadonlyQuat} b The second quaternion.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport var exactEquals = vec4.exactEquals;\n/**\n * Returns whether or not the quaternions have approximately the same elements in the same position.\n *\n * @param {ReadonlyQuat} a The first vector.\n * @param {ReadonlyQuat} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport var equals = vec4.equals;\n/**\n * Sets a quaternion to represent the shortest rotation from one\n * vector to another.\n *\n * Both vectors are assumed to be unit length.\n *\n * @param {quat} out the receiving quaternion.\n * @param {ReadonlyVec3} a the initial vector\n * @param {ReadonlyVec3} b the destination vector\n * @returns {quat} out\n */\n\nexport var rotationTo = function () {\n  var tmpvec3 = vec3.create();\n  var xUnitVec3 = vec3.fromValues(1, 0, 0);\n  var yUnitVec3 = vec3.fromValues(0, 1, 0);\n  return function (out, a, b) {\n    var dot = vec3.dot(a, b);\n\n    if (dot < -0.999999) {\n      vec3.cross(tmpvec3, xUnitVec3, a);\n      if (vec3.len(tmpvec3) < 0.000001) vec3.cross(tmpvec3, yUnitVec3, a);\n      vec3.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n}();\n/**\n * Performs a spherical linear interpolation with two control points\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {ReadonlyQuat} c the third operand\n * @param {ReadonlyQuat} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nexport var sqlerp = function () {\n  var temp1 = create();\n  var temp2 = create();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\n * Sets the specified quaternion with values corresponding to the given\n * axes. Each axis is a vec3 and is expected to be unit length and\n * perpendicular to all other specified axes.\n *\n * @param {ReadonlyVec3} view  the vector representing the viewing direction\n * @param {ReadonlyVec3} right the vector representing the local \"right\" direction\n * @param {ReadonlyVec3} up    the vector representing the local \"up\" direction\n * @returns {quat} out\n */\n\nexport var setAxes = function () {\n  var matr = mat3.create();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize(out, fromMat3(out, matr));\n  };\n}();", "import * as glMatrix from \"./common.js\";\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();", null, null, null, null, "var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we\u2019ve set an alarm, if we haven\u2019t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n", "export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n", "import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n", "export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n", "import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {deg2rad, rad2deg} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * deg2rad;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return hcl2lab(this).rgb();\n  }\n}));\n", "import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {deg2rad, rad2deg} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n", "export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n", "import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n", "export default function(x) {\n  return function() {\n    return x;\n  };\n}\n", "import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n", "import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n", "export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n", "import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n", "export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n", "export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n", "import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n", "import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n", "import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n", "var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n", "import decompose, {identity} from \"./decompose.js\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n", "import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n", "import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n", "import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n", "import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n", "export {\n  linear as easeLinear\n} from \"./linear.js\";\n\nexport {\n  quadInOut as easeQuad,\n  quadIn as easeQuadIn,\n  quadOut as easeQuadOut,\n  quadInOut as easeQuadInOut\n} from \"./quad.js\";\n\nexport {\n  cubicInOut as easeCubic,\n  cubicIn as easeCubicIn,\n  cubicOut as easeCubicOut,\n  cubicInOut as easeCubicInOut\n} from \"./cubic.js\";\n\nexport {\n  polyInOut as easePoly,\n  polyIn as easePolyIn,\n  polyOut as easePolyOut,\n  polyInOut as easePolyInOut\n} from \"./poly.js\";\n\nexport {\n  sinInOut as easeSin,\n  sinIn as easeSinIn,\n  sinOut as easeSinOut,\n  sinInOut as easeSinInOut\n} from \"./sin.js\";\n\nexport {\n  expInOut as easeExp,\n  expIn as easeExpIn,\n  expOut as easeExpOut,\n  expInOut as easeExpInOut\n} from \"./exp.js\";\n\nexport {\n  circleInOut as easeCircle,\n  circleIn as easeCircleIn,\n  circleOut as easeCircleOut,\n  circleInOut as easeCircleInOut\n} from \"./circle.js\";\n\nexport {\n  bounceOut as easeBounce,\n  bounceIn as easeBounceIn,\n  bounceOut as easeBounceOut,\n  bounceInOut as easeBounceInOut\n} from \"./bounce.js\";\n\nexport {\n  backInOut as easeBack,\n  backIn as easeBackIn,\n  backOut as easeBackOut,\n  backInOut as easeBackInOut\n} from \"./back.js\";\n\nexport {\n  elasticOut as easeElastic,\n  elasticIn as easeElasticIn,\n  elasticOut as easeElasticOut,\n  elasticInOut as easeElasticInOut\n} from \"./elastic.js\";\n", "export function linear(t) {\n  return +t;\n}\n", "export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n", "export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n", "var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n", "var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n", "// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n", "import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n", "export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n", "var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n", "var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n", "import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n", null, null, null, null, null, null, "/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n", null, null, null, null, null, null, null, null, null, "const token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nconst twoDigitsOptional = \"\\\\d\\\\d?\";\nconst twoDigits = \"\\\\d\\\\d\";\nconst threeDigits = \"\\\\d{3}\";\nconst fourDigits = \"\\\\d{4}\";\nconst word = \"[^\\\\s]+\";\nconst literal = /\\[([^]*?)\\]/gm;\n\ntype DateInfo = {\n  year: number;\n  month: number;\n  day: number;\n  hour: number;\n  minute: number;\n  second: number;\n  millisecond: number;\n  isPm: number | null;\n  timezoneOffset: number | null;\n};\n\nexport type I18nSettings = {\n  amPm: [string, string];\n  dayNames: Days;\n  dayNamesShort: Days;\n  monthNames: Months;\n  monthNamesShort: Months;\n  DoFn(dayOfMonth: number): string;\n};\n\nexport type I18nSettingsOptional = Partial<I18nSettings>;\n\nexport type Days = [string, string, string, string, string, string, string];\nexport type Months = [\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string\n];\n\nfunction shorten<T extends string[]>(arr: T, sLen: number): string[] {\n  const newArr: string[] = [];\n  for (let i = 0, len = arr.length; i < len; i++) {\n    newArr.push(arr[i].substr(0, sLen));\n  }\n  return newArr;\n}\n\nconst monthUpdate = (\n  arrName: \"monthNames\" | \"monthNamesShort\" | \"dayNames\" | \"dayNamesShort\"\n) => (v: string, i18n: I18nSettings): number | null => {\n  const lowerCaseArr = i18n[arrName].map(v => v.toLowerCase());\n  const index = lowerCaseArr.indexOf(v.toLowerCase());\n  if (index > -1) {\n    return index;\n  }\n  return null;\n};\n\nexport function assign<A>(a: A): A;\nexport function assign<A, B>(a: A, b: B): A & B;\nexport function assign<A, B, C>(a: A, b: B, c: C): A & B & C;\nexport function assign<A, B, C, D>(a: A, b: B, c: C, d: D): A & B & C & D;\nexport function assign(origObj: any, ...args: any[]): any {\n  for (const obj of args) {\n    for (const key in obj) {\n      // @ts-ignore ex\n      origObj[key] = obj[key];\n    }\n  }\n  return origObj;\n}\n\nconst dayNames: Days = [\n  \"Sunday\",\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\"\n];\nconst monthNames: Months = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\"\n];\n\nconst monthNamesShort: Months = shorten(monthNames, 3) as Months;\nconst dayNamesShort: Days = shorten(dayNames, 3) as Days;\n\nconst defaultI18n: I18nSettings = {\n  dayNamesShort,\n  dayNames,\n  monthNamesShort,\n  monthNames,\n  amPm: [\"am\", \"pm\"],\n  DoFn(dayOfMonth: number) {\n    return (\n      dayOfMonth +\n      [\"th\", \"st\", \"nd\", \"rd\"][\n        dayOfMonth % 10 > 3\n          ? 0\n          : ((dayOfMonth - (dayOfMonth % 10) !== 10 ? 1 : 0) * dayOfMonth) % 10\n      ]\n    );\n  }\n};\nlet globalI18n = assign({}, defaultI18n);\nconst setGlobalDateI18n = (i18n: I18nSettingsOptional): I18nSettings =>\n  (globalI18n = assign(globalI18n, i18n));\n\nconst regexEscape = (str: string): string =>\n  str.replace(/[|\\\\{()[^$+*?.-]/g, \"\\\\$&\");\n\nconst pad = (val: string | number, len = 2): string => {\n  val = String(val);\n  while (val.length < len) {\n    val = \"0\" + val;\n  }\n  return val;\n};\n\nconst formatFlags: Record<\n  string,\n  (dateObj: Date, i18n: I18nSettings) => string\n> = {\n  D: (dateObj: Date): string => String(dateObj.getDate()),\n  DD: (dateObj: Date): string => pad(dateObj.getDate()),\n  Do: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.DoFn(dateObj.getDate()),\n  d: (dateObj: Date): string => String(dateObj.getDay()),\n  dd: (dateObj: Date): string => pad(dateObj.getDay()),\n  ddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNamesShort[dateObj.getDay()],\n  dddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNames[dateObj.getDay()],\n  M: (dateObj: Date): string => String(dateObj.getMonth() + 1),\n  MM: (dateObj: Date): string => pad(dateObj.getMonth() + 1),\n  MMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNamesShort[dateObj.getMonth()],\n  MMMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNames[dateObj.getMonth()],\n  YY: (dateObj: Date): string =>\n    pad(String(dateObj.getFullYear()), 4).substr(2),\n  YYYY: (dateObj: Date): string => pad(dateObj.getFullYear(), 4),\n  h: (dateObj: Date): string => String(dateObj.getHours() % 12 || 12),\n  hh: (dateObj: Date): string => pad(dateObj.getHours() % 12 || 12),\n  H: (dateObj: Date): string => String(dateObj.getHours()),\n  HH: (dateObj: Date): string => pad(dateObj.getHours()),\n  m: (dateObj: Date): string => String(dateObj.getMinutes()),\n  mm: (dateObj: Date): string => pad(dateObj.getMinutes()),\n  s: (dateObj: Date): string => String(dateObj.getSeconds()),\n  ss: (dateObj: Date): string => pad(dateObj.getSeconds()),\n  S: (dateObj: Date): string =>\n    String(Math.round(dateObj.getMilliseconds() / 100)),\n  SS: (dateObj: Date): string =>\n    pad(Math.round(dateObj.getMilliseconds() / 10), 2),\n  SSS: (dateObj: Date): string => pad(dateObj.getMilliseconds(), 3),\n  a: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1],\n  A: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12\n      ? i18n.amPm[0].toUpperCase()\n      : i18n.amPm[1].toUpperCase(),\n  ZZ(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60) * 100 + (Math.abs(offset) % 60), 4)\n    );\n  },\n  Z(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60), 2) +\n      \":\" +\n      pad(Math.abs(offset) % 60, 2)\n    );\n  }\n};\n\ntype ParseInfo = [\n  keyof DateInfo,\n  string,\n  ((v: string, i18n: I18nSettings) => number | null)?,\n  string?\n];\nconst monthParse = (v: string): number => +v - 1;\nconst emptyDigits: ParseInfo = [null, twoDigitsOptional];\nconst emptyWord: ParseInfo = [null, word];\nconst amPm: ParseInfo = [\n  \"isPm\",\n  word,\n  (v: string, i18n: I18nSettings): number | null => {\n    const val = v.toLowerCase();\n    if (val === i18n.amPm[0]) {\n      return 0;\n    } else if (val === i18n.amPm[1]) {\n      return 1;\n    }\n    return null;\n  }\n];\nconst timezoneOffset: ParseInfo = [\n  \"timezoneOffset\",\n  \"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z?\",\n  (v: string): number | null => {\n    const parts = (v + \"\").match(/([+-]|\\d\\d)/gi);\n\n    if (parts) {\n      const minutes = +parts[1] * 60 + parseInt(parts[2], 10);\n      return parts[0] === \"+\" ? minutes : -minutes;\n    }\n\n    return 0;\n  }\n];\nconst parseFlags: Record<string, ParseInfo> = {\n  D: [\"day\", twoDigitsOptional],\n  DD: [\"day\", twoDigits],\n  Do: [\"day\", twoDigitsOptional + word, (v: string): number => parseInt(v, 10)],\n  M: [\"month\", twoDigitsOptional, monthParse],\n  MM: [\"month\", twoDigits, monthParse],\n  YY: [\n    \"year\",\n    twoDigits,\n    (v: string): number => {\n      const now = new Date();\n      const cent = +(\"\" + now.getFullYear()).substr(0, 2);\n      return +(\"\" + (+v > 68 ? cent - 1 : cent) + v);\n    }\n  ],\n  h: [\"hour\", twoDigitsOptional, undefined, \"isPm\"],\n  hh: [\"hour\", twoDigits, undefined, \"isPm\"],\n  H: [\"hour\", twoDigitsOptional],\n  HH: [\"hour\", twoDigits],\n  m: [\"minute\", twoDigitsOptional],\n  mm: [\"minute\", twoDigits],\n  s: [\"second\", twoDigitsOptional],\n  ss: [\"second\", twoDigits],\n  YYYY: [\"year\", fourDigits],\n  S: [\"millisecond\", \"\\\\d\", (v: string): number => +v * 100],\n  SS: [\"millisecond\", twoDigits, (v: string): number => +v * 10],\n  SSS: [\"millisecond\", threeDigits],\n  d: emptyDigits,\n  dd: emptyDigits,\n  ddd: emptyWord,\n  dddd: emptyWord,\n  MMM: [\"month\", word, monthUpdate(\"monthNamesShort\")],\n  MMMM: [\"month\", word, monthUpdate(\"monthNames\")],\n  a: amPm,\n  A: amPm,\n  ZZ: timezoneOffset,\n  Z: timezoneOffset\n};\n\n// Some common format strings\nconst globalMasks: { [key: string]: string } = {\n  default: \"ddd MMM DD YYYY HH:mm:ss\",\n  shortDate: \"M/D/YY\",\n  mediumDate: \"MMM D, YYYY\",\n  longDate: \"MMMM D, YYYY\",\n  fullDate: \"dddd, MMMM D, YYYY\",\n  isoDate: \"YYYY-MM-DD\",\n  isoDateTime: \"YYYY-MM-DDTHH:mm:ssZ\",\n  shortTime: \"HH:mm\",\n  mediumTime: \"HH:mm:ss\",\n  longTime: \"HH:mm:ss.SSS\"\n};\nconst setGlobalDateMasks = (masks: {\n  [key: string]: string;\n}): { [key: string]: string } => assign(globalMasks, masks);\n\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n * @returns {string} Formatted date string\n */\nconst format = (\n  dateObj: Date,\n  mask: string = globalMasks[\"default\"],\n  i18n: I18nSettingsOptional = {}\n): string => {\n  if (typeof dateObj === \"number\") {\n    dateObj = new Date(dateObj);\n  }\n\n  if (\n    Object.prototype.toString.call(dateObj) !== \"[object Date]\" ||\n    isNaN(dateObj.getTime())\n  ) {\n    throw new Error(\"Invalid Date pass to format\");\n  }\n\n  mask = globalMasks[mask] || mask;\n\n  const literals: string[] = [];\n\n  // Make literals inactive by replacing them with @@@\n  mask = mask.replace(literal, function($0, $1) {\n    literals.push($1);\n    return \"@@@\";\n  });\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n  // Apply formatting rules\n  mask = mask.replace(token, $0 =>\n    formatFlags[$0](dateObj, combinedI18nSettings)\n  );\n  // Inline literal values back into the formatted value\n  return mask.replace(/@@@/g, () => literals.shift());\n};\n\n/**\n * Parse a date string into a Javascript Date object /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @param {i18n} I18nSettingsOptional Full or subset of I18N settings\n * @returns {Date|null} Returns Date object. Returns null what date string is invalid or doesn't match format\n */\nfunction parse(\n  dateStr: string,\n  format: string,\n  i18n: I18nSettingsOptional = {}\n): Date | null {\n  if (typeof format !== \"string\") {\n    throw new Error(\"Invalid format in fecha parse\");\n  }\n\n  // Check to see if the format is actually a mask\n  format = globalMasks[format] || format;\n\n  // Avoid regular expression denial of service, fail early for really long strings\n  // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n  if (dateStr.length > 1000) {\n    return null;\n  }\n\n  // Default to the beginning of the year.\n  const today = new Date();\n  const dateInfo: DateInfo = {\n    year: today.getFullYear(),\n    month: 0,\n    day: 1,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n    isPm: null,\n    timezoneOffset: null\n  };\n  const parseInfo: ParseInfo[] = [];\n  const literals: string[] = [];\n\n  // Replace all the literals with @@@. Hopefully a string that won't exist in the format\n  let newFormat = format.replace(literal, ($0, $1) => {\n    literals.push(regexEscape($1));\n    return \"@@@\";\n  });\n  const specifiedFields: { [field: string]: boolean } = {};\n  const requiredFields: { [field: string]: boolean } = {};\n\n  // Change every token that we find into the correct regex\n  newFormat = regexEscape(newFormat).replace(token, $0 => {\n    const info = parseFlags[$0];\n    const [field, regex, , requiredField] = info;\n\n    // Check if the person has specified the same field twice. This will lead to confusing results.\n    if (specifiedFields[field]) {\n      throw new Error(`Invalid format. ${field} specified twice in format`);\n    }\n\n    specifiedFields[field] = true;\n\n    // Check if there are any required fields. For instance, 12 hour time requires AM/PM specified\n    if (requiredField) {\n      requiredFields[requiredField] = true;\n    }\n\n    parseInfo.push(info);\n    return \"(\" + regex + \")\";\n  });\n\n  // Check all the required fields are present\n  Object.keys(requiredFields).forEach(field => {\n    if (!specifiedFields[field]) {\n      throw new Error(\n        `Invalid format. ${field} is required in specified format`\n      );\n    }\n  });\n\n  // Add back all the literals after\n  newFormat = newFormat.replace(/@@@/g, () => literals.shift());\n\n  // Check if the date string matches the format. If it doesn't return null\n  const matches = dateStr.match(new RegExp(newFormat, \"i\"));\n  if (!matches) {\n    return null;\n  }\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n\n  // For each match, call the parser function for that date part\n  for (let i = 1; i < matches.length; i++) {\n    const [field, , parser] = parseInfo[i - 1];\n    const value = parser\n      ? parser(matches[i], combinedI18nSettings)\n      : +matches[i];\n\n    // If the parser can't make sense of the value, return null\n    if (value == null) {\n      return null;\n    }\n\n    dateInfo[field] = value;\n  }\n\n  if (dateInfo.isPm === 1 && dateInfo.hour != null && +dateInfo.hour !== 12) {\n    dateInfo.hour = +dateInfo.hour + 12;\n  } else if (dateInfo.isPm === 0 && +dateInfo.hour === 12) {\n    dateInfo.hour = 0;\n  }\n\n  let dateTZ: Date;\n  if (dateInfo.timezoneOffset == null) {\n    dateTZ = new Date(\n      dateInfo.year,\n      dateInfo.month,\n      dateInfo.day,\n      dateInfo.hour,\n      dateInfo.minute,\n      dateInfo.second,\n      dateInfo.millisecond\n    );\n    const validateFields: [\n      \"month\" | \"day\" | \"hour\" | \"minute\" | \"second\",\n      \"getMonth\" | \"getDate\" | \"getHours\" | \"getMinutes\" | \"getSeconds\"\n    ][] = [\n      [\"month\", \"getMonth\"],\n      [\"day\", \"getDate\"],\n      [\"hour\", \"getHours\"],\n      [\"minute\", \"getMinutes\"],\n      [\"second\", \"getSeconds\"]\n    ];\n    for (let i = 0, len = validateFields.length; i < len; i++) {\n      // Check to make sure the date field is within the allowed range. Javascript dates allows values\n      // outside the allowed range. If the values don't match the value was invalid\n      if (\n        specifiedFields[validateFields[i][0]] &&\n        dateInfo[validateFields[i][0]] !== dateTZ[validateFields[i][1]]()\n      ) {\n        return null;\n      }\n    }\n  } else {\n    dateTZ = new Date(\n      Date.UTC(\n        dateInfo.year,\n        dateInfo.month,\n        dateInfo.day,\n        dateInfo.hour,\n        dateInfo.minute - dateInfo.timezoneOffset,\n        dateInfo.second,\n        dateInfo.millisecond\n      )\n    );\n\n    // We can't validate dates in another timezone unfortunately. Do a basic check instead\n    if (\n      dateInfo.month > 11 ||\n      dateInfo.month < 0 ||\n      dateInfo.day > 31 ||\n      dateInfo.day < 1 ||\n      dateInfo.hour > 23 ||\n      dateInfo.hour < 0 ||\n      dateInfo.minute > 59 ||\n      dateInfo.minute < 0 ||\n      dateInfo.second > 59 ||\n      dateInfo.second < 0\n    ) {\n      return null;\n    }\n  }\n\n  // Don't allow invalid dates\n\n  return dateTZ;\n}\nexport default {\n  format,\n  parse,\n  defaultI18n,\n  setGlobalDateI18n,\n  setGlobalDateMasks\n};\nexport { format, parse, defaultI18n, setGlobalDateI18n, setGlobalDateMasks };\n", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "/* \u4F9D\u8D56\u7684\u6A21\u5757\uFF0C\u5728\u8FD9\u91CC\u7EDF\u4E00\u5F15\u5165\uFF0C\u65B9\u4FBF\u6253\u5305\u4F18\u5316 */\n\n// G\nexport {\n  ICanvas,\n  IElement,\n  IGroup,\n  IShape,\n  PathCommand,\n  BBox,\n  Point,\n  ShapeAttrs,\n  Event,\n  AbstractGroup,\n  AbstractShape,\n} from '@antv/g-base';\n// \u9700\u8981\u6709 G-base \u63D0\u4F9B g engine \u7C7B\u578B\u5B9A\u4E49\nexport type IG = any;\n\n// adjust\nexport { registerAdjust, getAdjust, Adjust } from '@antv/adjust';\n\n// attr\nexport { getAttribute, Attribute } from '@antv/attr';\nexport { Color } from '@antv/attr';\n\n// coordinate\nexport { getCoordinate, registerCoordinate, Coordinate, CoordinateCfg } from '@antv/coord';\n\n// scale\nexport { getScale, registerScale, Scale, ScaleConfig, Tick } from '@antv/scale';\n\n// component\nimport {\n  Annotation,\n  Axis,\n  Component,\n  Crosshair,\n  Grid,\n  GroupComponent,\n  HtmlComponent,\n  Legend,\n  Slider,\n  Tooltip,\n  Scrollbar,\n} from '@antv/component';\n\nexport {\n  CategoryLegendCfg,\n  CircleAxisCfg,\n  LineAxisCfg,\n  GroupComponentCfg,\n  ListItem,\n  AxisLineCfg,\n  AxisTickLineCfg,\n  AxisSubTickLineCfg,\n  AxisTitleCfg,\n  AxisLabelCfg,\n  GridLineCfg,\n  LegendMarkerCfg,\n  LegendTitleCfg,\n  LegendBackgroundCfg,\n  LegendItemNameCfg,\n  LegendItemValueCfg,\n  LegendPageNavigatorCfg,\n  ContinueLegendCfg,\n  ContinueLegendTrackCfg,\n  ContinueLegendRailCfg,\n  ContinueLegendLabelCfg,\n  ContinueLegendHandlerCfg,\n  CrosshairLineCfg,\n  CrosshairTextCfg,\n  CrosshairTextBackgroundCfg,\n  SliderCfg,\n  TrendCfg,\n  EnhancedTextCfg,\n  LineAnnotationTextCfg,\n  IComponent,\n  IList,\n} from '@antv/component';\n\nexport { HtmlComponent, GroupComponent, Component, Crosshair };\nexport { Annotation };\n// axis\nconst { Line: LineAxis, Circle: CircleAxis } = Axis;\nexport { LineAxis, CircleAxis };\n// grid\nconst { Line: LineGrid, Circle: CircleGrid } = Grid;\nexport { LineGrid, CircleGrid };\n// legend\nconst { Category: CategoryLegend, Continuous: ContinuousLegend } = Legend;\nexport { CategoryLegend, ContinuousLegend };\n// Tooltip\nconst { Html: HtmlTooltip } = Tooltip;\nexport { HtmlTooltip };\n// Slider\nexport { Slider };\n// Scrollbar\nexport { Scrollbar };\n", "import { BBox } from '@antv/g-svg';\nimport { each, isEmpty, isNumber, isNumberEqual, max, min } from '@antv/util';\nimport { Coordinate, IShape, Point } from '../dependents';\nimport { ShapeInfo } from '../interface';\n\n// \u83B7\u53D6\u56FE\u5F62\u7684\u5305\u56F4\u76D2\nfunction getPointsBox(points) {\n  if (isEmpty(points)) {\n    return null;\n  }\n\n  let minX = points[0].x;\n  let maxX = points[0].x;\n  let minY = points[0].y;\n  let maxY = points[0].y;\n  each(points, (point) => {\n    minX = minX > point.x ? point.x : minX;\n    maxX = maxX < point.x ? point.x : maxX;\n    minY = minY > point.y ? point.y : minY;\n    maxY = maxY < point.y ? point.y : maxY;\n  });\n\n  return {\n    minX,\n    maxX,\n    minY,\n    maxY,\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2,\n  };\n}\n\nfunction uniqueValues<T = number>(array: T[]) {\n  return Array.from(new Set(array)).length === 1;\n}\n\nfunction mid(array: number[]) {\n  return (min(array) + max(array)) / 2;\n}\n\n/**\n * @ignore\n * \u6839\u636E\u5F27\u5EA6\u8BA1\u7B97\u6781\u5750\u6807\u7CFB\u4E0B\u7684\u5750\u6807\u70B9\n * @param centerX\n * @param centerY\n * @param radius\n * @param angleInRadian\n * @returns\n */\nexport function polarToCartesian(centerX: number, centerY: number, radius: number, angleInRadian: number) {\n  return {\n    x: centerX + radius * Math.cos(angleInRadian),\n    y: centerY + radius * Math.sin(angleInRadian),\n  };\n}\n\n/**\n * @ignore\n * \u6839\u636E\u8D77\u59CB\u89D2\u5EA6\u8BA1\u7B97\u7ED8\u5236\u6247\u5F62\u7684 path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getSectorPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number,\n  innerRadius: number = 0\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  const innerStart = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian);\n  const innerEnd = polarToCartesian(centerX, centerY, innerRadius, endAngleInRadian);\n\n  if (endAngleInRadian - startAngleInRadian === Math.PI * 2) {\n    // \u6574\u4E2A\u5706\u662F\u5206\u5272\u6210\u4E24\u4E2A\u5706\n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    const innerMiddlePoint = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian + Math.PI);\n    const circlePathCommands = [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, end.x, end.y],\n      ['M', innerStart.x, innerStart.y],\n    ];\n    if (innerRadius) {\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerMiddlePoint.x, innerMiddlePoint.y]);\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerEnd.x, innerEnd.y]);\n    }\n\n    circlePathCommands.push(['M', start.x, start.y]);\n    circlePathCommands.push(['Z']);\n\n    return circlePathCommands;\n  }\n\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  const sectorPathCommands = [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n    ['L', innerEnd.x, innerEnd.y],\n  ];\n  if (innerRadius) {\n    sectorPathCommands.push(['A', innerRadius, innerRadius, 0, arcSweep, 0, innerStart.x, innerStart.y]);\n  }\n  sectorPathCommands.push(['L', start.x, start.y]);\n  sectorPathCommands.push(['Z']);\n\n  return sectorPathCommands;\n}\n\n/**\n * @ignore\n * Gets arc path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getArcPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  if (isNumberEqual(endAngleInRadian - startAngleInRadian, Math.PI * 2)) {\n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    return [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, start.x, start.y],\n      ['A', radius, radius, 0, 1, 0, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 0, start.x, start.y],\n      ['Z'],\n    ];\n  }\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  return [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n  ];\n}\n\n/**\n * @ignore\n * \u4ECE\u6570\u636E\u6A21\u578B\u4E2D\u7684 points \u6362\u7B97\u89D2\u5EA6\n * @param shapeModel\n * @param coordinate\n * @returns\n */\nexport function getAngle(shapeModel: ShapeInfo, coordinate: Coordinate) {\n  const points = shapeModel.points;\n  const box = getPointsBox(points);\n  let endAngle;\n  let startAngle;\n  const { startAngle: coordStartAngle, endAngle: coordEndAngle } = coordinate;\n  const diffAngle = coordEndAngle - coordStartAngle;\n\n  if (coordinate.isTransposed) {\n    endAngle = box.maxY * diffAngle;\n    startAngle = box.minY * diffAngle;\n  } else {\n    endAngle = box.maxX * diffAngle;\n    startAngle = box.minX * diffAngle;\n  }\n  endAngle += coordStartAngle;\n  startAngle += coordStartAngle;\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n * \u8BA1\u7B97\u591A\u8FB9\u5F62\u91CD\u5FC3: https://en.wikipedia.org/wiki/Centroid#Of_a_polygon\n */\nexport function getPolygonCentroid(xs: number | number[], ys: number | number[]) {\n  if (isNumber(xs) && isNumber(ys)) {\n    // \u666E\u901A\u8272\u5757\u56FE\uFF0Cxs \u548C ys \u662F\u6570\u503C\n    return [xs, ys];\n  }\n\n  xs = xs as number[];\n  ys = ys as number[];\n  // \u5F53\u8FD9\u4E2A polygon \u7684\u70B9\u5728\u4E00\u6761\u7EBF\u4E0A\u7684\u65F6\u5019\n  // \u4E5F\u5C31\u662F\u8BF4 xs \u91CC\u9762\u7684\u503C\u90FD\u76F8\u540C\uFF0C\u6BD4\u5982\uFF1A[1, 1, 1, 1]\n  // \u6216\u8005\u8BF4 ys \u91CC\u9762\u7684\u503C\u90FD\u76F8\u540C\uFF0C\u6BD4\u5982\uFF1A[0, 0, 0, 0]\n  // \u4E0B\u9762\u8BA1\u7B97\u5F97\u5230\u7684 k = 0\n  // \u5BFC\u81F4\u8FD4\u56DE\u7684\u503C\u662F [NaN, NaN]\n  // \u6240\u4EE5\u8FD9\u91CC\u505A\u76F8\u5E94\u7684\u5904\u7406\n  if (uniqueValues(xs) || uniqueValues(ys)) return [mid(xs), mid(ys)];\n\n  let i = -1;\n  let x = 0;\n  let y = 0;\n  let former;\n  let current = xs.length - 1;\n  let diff;\n  let k = 0;\n  while (++i < xs.length) {\n    former = current;\n    current = i;\n    k += diff = xs[former] * ys[current] - xs[current] * ys[former];\n    x += (xs[former] + xs[current]) * diff;\n    y += (ys[former] + ys[current]) * diff;\n  }\n  k *= 3;\n  return [x / k, y / k];\n}\n\n/**\n * @ignore\n * \u83B7\u53D6\u9700\u8981\u66FF\u6362\u7684\u5C5E\u6027\uFF0C\u5982\u679C\u539F\u5148\u56FE\u5F62\u5143\u7D20\u5B58\u5728\uFF0C\u800C\u65B0\u56FE\u5F62\u4E0D\u5B58\u5728\uFF0C\u5219\u8BBE\u7F6E undefined\n */\nexport function getReplaceAttrs(sourceShape: IShape, targetShape: IShape) {\n  const originAttrs = sourceShape.attr();\n  const newAttrs = targetShape.attr();\n  each(originAttrs, (v, k) => {\n    if (newAttrs[k] === undefined) {\n      newAttrs[k] = undefined;\n    }\n  });\n  return newAttrs;\n}\n", "import { isArray, isString } from '@antv/util';\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n\n/**\n * @ignore\n * pads the current string/array with a given value (repeated, if needed) so that the resulting reaches a given length.\n * The padding is applied from the end of the current value.\n *\n * @param source\n * @param targetLength\n * @param padValue\n * @returns\n */\nexport function padEnd(source: string | any[], targetLength: number, padValue: any) {\n  if (isString(source)) {\n    return source.padEnd(targetLength, padValue);\n  } else if (isArray(source)) {\n    const sourceLength = source.length;\n    if (sourceLength < targetLength) {\n      const diff = targetLength - sourceLength;\n      for (let i = 0; i < diff; i++) {\n        source.push(padValue);\n      }\n    }\n  }\n\n  return source;\n}\n\n/**\n * @ignore\n * omit keys of an object.\n * @param obj\n * @param keys\n */\nexport function omit<T = any>(obj: T, keys: string[]): T {\n  if (typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      delete obj[key];\n    });\n  }\n\n  return obj;\n}\n\n/**\n * @ignore\n * @param sourceArray\n * @param targetArray\n * @param map\n */\nexport function uniq(sourceArray: any[], targetArray: any[] = [], map: Map<any, boolean> = new Map()) {\n  for (const source of sourceArray) {\n    if (!map.has(source)) {\n      targetArray.push(source);\n      map.set(source, true);\n    }\n  }\n  return targetArray;\n}\n", "import { each } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Padding, Point, Region } from '../interface';\nimport { BBox as BBoxObject } from '../dependents';\n\n/**\n * \u7528\u4E8E\u5305\u56F4\u76D2\u8BA1\u7B97\u3002\n */\nexport class BBox {\n  /** x \u8F74\u5750\u6807\u7CFB */\n  public x: number;\n  /** y \u8F74\u5750\u6807\u7CFB */\n  public y: number;\n  /** \u5305\u56F4\u76D2\u9AD8\u5EA6 */\n  public height: number;\n  /** \u5305\u56F4\u76D2\u5BBD\u5EA6 */\n  public width: number;\n\n  public static fromRange(minX: number, minY: number, maxX: number, maxY: number) {\n    return new BBox(minX, minY, maxX - minX, maxY - minY);\n  }\n\n  public static fromObject(bbox: BBoxObject) {\n    return new BBox(bbox.minX, bbox.minY, bbox.width, bbox.height);\n  }\n\n  constructor(x: number = 0, y: number = 0, width: number = 0, height: number = 0) {\n    this.x = x;\n    this.y = y;\n    this.height = height;\n    this.width = width;\n  }\n\n  public get minX(): number {\n    return this.x;\n  }\n\n  public get maxX(): number {\n    return this.x + this.width;\n  }\n\n  public get minY(): number {\n    return this.y;\n  }\n\n  public get maxY(): number {\n    return this.y + this.height;\n  }\n\n  public get tl(): Point {\n    return { x: this.x, y: this.y };\n  }\n\n  public get tr(): Point {\n    return { x: this.maxX, y: this.y };\n  }\n\n  public get bl(): Point {\n    return { x: this.x, y: this.maxY };\n  }\n\n  public get br(): Point {\n    return { x: this.maxX, y: this.maxY };\n  }\n\n  public get top(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.minY,\n    };\n  }\n\n  public get right(): Point {\n    return {\n      x: this.maxX,\n      y: this.y + this.height / 2,\n    };\n  }\n  public get bottom(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.maxY,\n    };\n  }\n  public get left(): Point {\n    return {\n      x: this.minX,\n      y: this.y + this.height / 2,\n    };\n  }\n  // end \u8BA1\u7B97\u5C5E\u6027\n\n  /**\n   * \u5305\u56F4\u76D2\u662F\u5426\u76F8\u7B49\n   * @param {BBox} bbox \u5305\u56F4\u76D2\n   * @returns      \u5305\u56F4\u76D2\u662F\u5426\u76F8\u7B49\n   */\n  public isEqual(bbox: BBox): boolean {\n    return this.x === bbox.x && this.y === bbox.y && this.width === bbox.width && this.height === bbox.height;\n  }\n\n  /**\n   * \u662F\u5426\u5305\u542B\u4E86\u53E6\u4E00\u4E2A\u5305\u56F4\u76D2\n   * @param child\n   */\n  public contains(child: BBox): boolean {\n    return child.minX >= this.minX && child.maxX <= this.maxX && child.minY >= this.minY && child.maxY <= this.maxY;\n  }\n\n  /**\n   * \u514B\u9686\u5305\u56F4\u76D2\n   * @returns \u5305\u56F4\u76D2\n   */\n  public clone(): BBox {\n    return new BBox(this.x, this.y, this.width, this.height);\n  }\n\n  /**\n   * \u53D6\u5E76\u96C6\n   * @param subBBox\n   */\n  public add(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.min(b.x, bbox.x);\n      bbox.y = Math.min(b.y, bbox.y);\n      bbox.width = Math.max(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.max(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * \u53D6\u4EA4\u96C6\n   * @param subBBox\n   */\n  public merge(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.max(b.x, bbox.x);\n      bbox.y = Math.max(b.y, bbox.y);\n      bbox.width = Math.min(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.min(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * bbox \u526A\u88C1\n   * @param subBBox\n   * @param direction\n   */\n  public cut(subBBox: BBox, direction: DIRECTION): BBox {\n    const width = subBBox.width;\n    const height = subBBox.height;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        return BBox.fromRange(this.minX, this.minY + height, this.maxX, this.maxY);\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        return BBox.fromRange(this.minX, this.minY, this.maxX - width, this.maxY);\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        return BBox.fromRange(this.minX, this.minY, this.maxX, this.maxY - height);\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        return BBox.fromRange(this.minX + width, this.minY, this.maxX, this.maxY);\n      default:\n        // \u5176\u4ED6\u60C5\u51B5\u4E0D\u88C1\u526A\uFF0C\u539F\u6837\u8FD4\u56DE\n        return this;\n    }\n  }\n\n  /**\n   * \u6536\u7F29\u5F62\u6210\u65B0\u7684\n   * @param gap\n   */\n  public shrink(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x + left, this.y + top, this.width - left - right, this.height - top - bottom);\n  }\n\n  /**\n   * \u6269\u5F20\u5F62\u6210\u65B0\u7684\n   * @param gap\n   */\n  public expand(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x - left, this.y - top, this.width + left + right, this.height + top + bottom);\n  }\n\n  /**\n   * get the gap of two bbox, if not exceed, then 0\n   * @param bbox\n   * @returns [top, right, bottom, left]\n   */\n  public exceed(bbox: BBox): Padding {\n    return [\n      Math.max(-this.minY + bbox.minY, 0),\n      Math.max(this.maxX - bbox.maxX, 0),\n      Math.max(this.maxY - bbox.maxY, 0),\n      Math.max(-this.minX + bbox.minX, 0),\n    ];\n  }\n\n  /**\n   * \u662F\u5426\u78B0\u649E\n   * @param bbox\n   */\n  public collide(bbox: BBox): boolean {\n    return this.minX < bbox.maxX && this.maxX > bbox.minX && this.minY < bbox.maxY && this.maxY > bbox.minY;\n  }\n\n  /**\n   * \u83B7\u53D6\u5305\u56F4\u76D2\u5927\u5C0F\n   * @returns \u5305\u56F4\u76D2\u5927\u5C0F\n   */\n  public size(): number {\n    return this.width * this.height;\n  }\n\n  /**\n   * \u70B9\u662F\u5426\u5728 bbox \u4E2D\n   * @param p\n   */\n  public isPointIn(p: Point) {\n    return p.x >= this.minX && p.x <= this.maxX && p.y >= this.minY && p.y <= this.maxY;\n  }\n}\n\n/**\n * \u4ECE\u4E00\u4E2A bbox \u7684 region \u83B7\u53D6 bbox\n * @param bbox\n * @param region\n */\nexport const getRegionBBox = (bbox: BBox, region: Region): BBox => {\n  const { start, end } = region;\n\n  return new BBox(\n    bbox.x + bbox.width * start.x,\n    bbox.y + bbox.height * start.y,\n    bbox.width * Math.abs(end.x - start.x),\n    bbox.height * Math.abs(end.y - start.y)\n  );\n};\n\n/**\n * \u5C06 bbox \u8F6C\u6362\u6210 points\n * @param bbox\n */\nexport function toPoints(bbox: Partial<BBox>): any[] {\n  return [\n    [bbox.minX, bbox.minY],\n    [bbox.maxX, bbox.minY],\n    [bbox.maxX, bbox.maxY],\n    [bbox.minX, bbox.maxY],\n  ];\n}\n", "import { Coordinate } from '../dependents';\nimport { Point } from '../interface';\nimport { getSectorPath } from './graphics';\nimport { isBetween } from './helper';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n * Gets x dimension length\n * @param coordinate\n * @returns x dimension length\n */\nexport function getXDimensionLength(coordinate): number {\n  if (coordinate.isPolar && !coordinate.isTransposed) {\n    // \u6781\u5750\u6807\u7CFB\u4E0B width \u4E3A\u5F27\u957F\n    return (coordinate.endAngle - coordinate.startAngle) * coordinate.getRadius();\n  }\n\n  // \u76F4\u89D2\u5750\u6807\u7CFB\n  const start = coordinate.convert({ x: 0, y: 0 });\n  const end = coordinate.convert({ x: 1, y: 0 });\n  // \u5750\u6807\u7CFB\u6709\u53EF\u80FD\u53D1\u751F transpose \u7B49\u53D8\u6362\uFF0C\u6240\u6709\u901A\u8FC7\u4E24\u70B9\u4E4B\u95F4\u7684\u8DDD\u79BB\u8FDB\u884C\u8BA1\u7B97\n  return Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n}\n\n/**\n * @ignore\n * Determines whether full circle is\n * @param coordinate\n * @returns true if full circle\n */\nexport function isFullCircle(coordinate: Coordinate): boolean {\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    return endAngle - startAngle === Math.PI * 2;\n  }\n  return false;\n}\n\n/**\n * @ignore\n * \u83B7\u53D6\u5F53\u524D\u70B9\u5230\u5750\u6807\u7CFB\u5706\u5FC3\u7684\u8DDD\u79BB\n * @param coordinate \u5750\u6807\u7CFB\n * @param point \u5F53\u524D\u70B9\n * @returns distance to center\n */\nexport function getDistanceToCenter(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter() as Point;\n  return Math.sqrt((point.x - center.x) ** 2 + (point.y - center.y) ** 2);\n}\n\n/**\n * @ignore\n * \u5750\u6807\u70B9\u662F\u5426\u5728\u5750\u6807\u7CFB\u4E2D\n * @param coordinate\n * @param point\n */\nexport function isPointInCoordinate(coordinate: Coordinate, point: Point) {\n  let result = false;\n\n  if (coordinate) {\n    if (coordinate.type === 'theta') {\n      const { start, end } = coordinate;\n      result = isBetween(point.x, start.x, end.x) && isBetween(point.y, start.y, end.y);\n    } else {\n      const invertPoint = coordinate.invert(point);\n\n      result = isBetween(invertPoint.x, 0, 1) && isBetween(invertPoint.y, 0, 1);\n    }\n  }\n\n  return result;\n}\n\n/**\n * @ignore\n * \u83B7\u53D6\u70B9\u5230\u5706\u5FC3\u7684\u8FDE\u7EBF\u4E0E\u6C34\u5E73\u65B9\u5411\u7684\u5939\u89D2\n */\nexport function getAngleByPoint(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter();\n  return Math.atan2(point.y - center.y, point.x - center.x);\n}\n\n/**\n * @ignore\n * \u83B7\u53D6\u540C\u5750\u6807\u7CFB\u8303\u56F4\u76F8\u540C\u7684\u526A\u5207\u533A\u57DF\n * @param coordinate\n * @returns\n */\nexport function getCoordinateClipCfg(coordinate: Coordinate, margin: number = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    const center = coordinate.getCenter();\n    const radius = coordinate.getRadius();\n\n    return {\n      type: 'path',\n      startState: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, startAngle),\n      },\n      endState: (ratio) => {\n        const diff = (endAngle - startAngle) * ratio + startAngle;\n        const path = getSectorPath(center.x, center.y, radius + margin, startAngle, diff);\n        return {\n          path,\n        };\n      },\n      attrs: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, endAngle),\n      },\n    };\n  }\n\n  let endState;\n  if (coordinate.isTransposed) {\n    endState = {\n      height: height + margin * 2,\n    };\n  } else {\n    endState = {\n      width: width + margin * 2,\n    };\n  }\n\n  return {\n    type: 'rect',\n    startState: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: coordinate.isTransposed ? width + margin * 2 : 0,\n      height: coordinate.isTransposed ? 0 : height + margin * 2,\n    },\n    endState,\n    attrs: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: width + margin * 2,\n      height: height + margin * 2,\n    },\n  };\n}\n\n/**\n * \u83B7\u53D6\u5750\u6807\u7CFB\u8303\u56F4\u7684 BBox\n * @param coordinate\n * @param margin\n */\nexport function getCoordinateBBox(coordinate: Coordinate, margin = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  const minX = Math.min(start.x, end.x);\n  const minY = Math.min(start.y, end.y);\n\n  return BBox.fromRange(minX - margin, minY - margin, minX + width + margin, minY + height + margin);\n}\n", "import { firstValue, get, isEmpty, isNil, isNumber, isString, valuesOfKey } from '@antv/util';\nimport { GROUP_ATTRS } from '../constant';\nimport { getScale, Scale, Coordinate } from '../dependents';\nimport { LooseObject, ScaleOption, ViewCfg } from '../interface';\nimport { isFullCircle } from './coordinate';\n\nconst dateRegex =\n  /^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\\2(?:29))(\\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;\n\n/**\n * \u83B7\u53D6\u5B57\u6BB5\u5BF9\u5E94\u6570\u636E\u7684\u7C7B\u578B\n * @param field \u6570\u636E\u5B57\u6BB5\u540D\n * @param data \u6570\u636E\u6E90\n * @returns default type \u8FD4\u56DE\u5BF9\u5E94\u7684\u6570\u636E\u7C7B\u578B\n */\nfunction getDefaultType(value: any): string {\n  let type = 'linear';\n  if (dateRegex.test(value)) {\n    type = 'timeCat';\n  } else if (isString(value)) {\n    type = 'cat';\n  }\n  return type;\n}\n\n/**\n * using the scale type if user specified, otherwise infer the type\n */\nexport function inferScaleType(scale: Scale, scaleDef: ScaleOption = {}, attrType: string, geometryType: string): string {\n  if (scaleDef.type) return scaleDef.type;\n  // identity scale \u76F4\u63A5\u8FD4\u56DE\n  // geometry \u7C7B\u578B\u6709: edge,heatmap,interval,line,path,point,polygon,schema,voilin\u7B49\uFF1B\u7406\u8BBA\u4E0A\uFF0Cinterval \u4E0B\uFF0C\u53EF\u4EE5\u7528 linear scale \u4F5C\u4E3A\u5206\u7EC4\u5B57\u6BB5\n  if (scale.type !== 'identity' && GROUP_ATTRS.includes(attrType) && ['interval'].includes(geometryType)) {\n    return 'cat';\n  }\n  return scale.isCategory ? 'cat' : scale.type;\n}\n\n/**\n * @ignore\n * \u4E3A\u6307\u5B9A\u7684 `field` \u5B57\u6BB5\u6570\u636E\u521B\u5EFA scale\n * @param field \u5B57\u6BB5\u540D\n * @param [data] \u6570\u636E\u96C6\uFF0C\u53EF\u4E3A\u7A7A\n * @param [scaleDef] \u5217\u5B9A\u4E49\uFF0C\u53EF\u4E3A\u7A7A\n * @returns scale \u8FD4\u56DE\u521B\u5EFA\u7684 Scale \u5B9E\u4F8B\n */\nexport function createScaleByField(field: string | number, data?: LooseObject[] | [], scaleDef?: ScaleOption): Scale {\n  const validData = data || [];\n\n  if (isNumber(field) || (isNil(firstValue(validData, field)) && isEmpty(scaleDef))) {\n    const Identity = getScale('identity');\n    return new Identity({\n      field: field.toString(),\n      values: [field],\n    });\n  }\n\n  const values = valuesOfKey(validData, field);\n\n  // \u5982\u679C\u5DF2\u7ECF\u5B9A\u4E49\u8FC7\u8FD9\u4E2A\u5EA6\u91CF (fix-later \u5355\u7EAF\u4ECE\u6570\u636E\u4E2D\uFF0C\u63A8\u65AD scale type \u662F\u4E0D\u7CBE\u786E\u7684)\n  const type = get(scaleDef, 'type', getDefaultType(values[0]));\n  const ScaleCtor = getScale(type);\n  return new ScaleCtor({\n    field,\n    values,\n    ...scaleDef,\n  });\n}\n\n/**\n * @ignore\n * \u540C\u6B65 scale\n * @todo \u662F\u5426\u53EF\u4EE5\u901A\u8FC7 scale.update() \u65B9\u6CD5\u8FDB\u884C\u66F4\u65B0\n * @param scale \u9700\u8981\u540C\u6B65\u7684 scale \u5B9E\u4F8B\n * @param newScale \u540C\u6B65\u6E90 Scale\n */\nexport function syncScale(scale: Scale, newScale: Scale) {\n  if (scale.type !== 'identity' && newScale.type !== 'identity') {\n    const obj = {};\n    for (const k in newScale) {\n      if (Object.prototype.hasOwnProperty.call(newScale, k)) {\n        obj[k] = newScale[k];\n      }\n    }\n\n    scale.change(obj);\n  }\n}\n\n/**\n * @ignore\n * get the scale name, if alias exist, return alias, or else field\n * @param scale\n * @returns the name of field\n */\nexport function getName(scale: Scale): string {\n  return scale.alias || scale.field;\n}\n\n/**\n * \u6839\u636E scale values \u548C coordinate \u83B7\u53D6\u5206\u7C7B\u9ED8\u8BA4 range\n * @param scale \u9700\u8981\u83B7\u53D6\u7684 scale \u5B9E\u4F8B\n * @param coordinate coordinate \u5B9E\u4F8B\n * @param theme theme\n */\nexport function getDefaultCategoryScaleRange(\n  scale: Scale,\n  coordinate: Coordinate,\n  theme: ViewCfg['theme']\n): Scale['range'] {\n  const { values } = scale;\n  const count = values.length;\n  let range;\n\n  if (count === 1) {\n    range = [0.5, 1]; // \u53EA\u6709\u4E00\u4E2A\u5206\u7C7B\u65F6,\u9632\u6B62\u8BA1\u7B97\u51FA\u73B0 [0.5,0.5] \u7684\u72B6\u6001\n  } else {\n    let widthRatio = 1;\n    let offset = 0;\n\n    if (isFullCircle(coordinate)) {\n      if (!coordinate.isTransposed) {\n        range = [0, 1 - 1 / count];\n      } else {\n        widthRatio = get(theme, 'widthRatio.multiplePie', 1 / 1.3);\n        offset = (1 / count) * widthRatio;\n        range = [offset / 2, 1 - offset / 2];\n      }\n    } else {\n      offset = 1 / count / 2; // \u4E24\u8FB9\u7559\u4E0B\u5206\u7C7B\u7A7A\u95F4\u7684\u4E00\u534A\n      range = [offset, 1 - offset]; // \u5750\u6807\u8F74\u6700\u524D\u9762\u548C\u6700\u540E\u9762\u7559\u4E0B\u7A7A\u767D\u9632\u6B62\u7ED8\u5236\u67F1\u72B6\u56FE\u65F6\n    }\n  }\n  return range;\n}\n\n/**\n * @function y\u8F74scale\u7684max\n * @param {yScale}\n */\nexport function getMaxScale(scale: Scale) {\n  // \u8FC7\u6EE4values[]\u4E2D NaN/undefined/null \u7B49\n  const values = scale.values.filter((item) => !isNil(item) && !isNaN(item));\n\n  return Math.max(...values, isNil(scale.max) ? -Infinity : scale.max);\n}\n", "import { deepMix, get, isBoolean } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale } from '../dependents';\nimport { AxisCfg, AxisOption, Point, Region } from '../interface';\nimport { getName } from './scale';\nimport { vec2 } from '@antv/matrix-util';\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is rect\n * @param direction\n * @returns axis coordinate region\n */\nexport function getLineAxisRelativeRegion(direction: DIRECTION): Region {\n  let start;\n  let end;\n\n  switch (direction) {\n    case DIRECTION.TOP:\n      start = { x: 0, y: 1 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.RIGHT:\n      start = { x: 1, y: 0 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.BOTTOM:\n      start = { x: 0, y: 0 };\n      end = { x: 1, y: 0 };\n      break;\n    case DIRECTION.LEFT:\n      start = { x: 0, y: 0 };\n      end = { x: 0, y: 1 };\n      break;\n    default:\n      start = end = { x: 0, y: 0 };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is polar\n * @param coordinate\n * @returns axis coordinate region\n */\nexport function getCircleAxisRelativeRegion(coordinate: Coordinate) {\n  let start;\n  let end;\n  if (coordinate.isTransposed) {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 1,\n      y: 0,\n    };\n  } else {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 0,\n      y: 1,\n    };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get the axis region from coordinate\n * @param coordinate\n * @param direction\n * @returns the axis region (start point, end point)\n */\nexport function getAxisRegion(coordinate: Coordinate, direction: DIRECTION): Region {\n  let region = { start: { x: 0, y: 0 }, end: { x: 0, y: 0 } };\n  if (coordinate.isRect) {\n    region = getLineAxisRelativeRegion(direction);\n  } else if (coordinate.isPolar) {\n    region = getCircleAxisRelativeRegion(coordinate);\n  }\n\n  const { start, end } = region;\n  return {\n    start: coordinate.convert(start),\n    end: coordinate.convert(end),\n  };\n}\n\n/**\n * @ignore\n * get axis factor\n * @param coordinate\n * @param direction\n * @returns factor\n */\nexport function getAxisFactor(coordinate: Coordinate, direction: DIRECTION): number {\n  // rect coordinate, by direction\n  if (coordinate.isRect) {\n    return coordinate.isTransposed\n      ? [DIRECTION.RIGHT, DIRECTION.BOTTOM].includes(direction)\n        ? 1\n        : -1\n      : [DIRECTION.BOTTOM, DIRECTION.RIGHT].includes(direction)\n      ? -1\n      : 1;\n  }\n\n  // polar y axis, by angle\n  if (coordinate.isPolar) {\n    const startAngle = coordinate.x.start;\n    return startAngle < 0 ? -1 : 1;\n  }\n\n  return 1;\n}\n\n/**\n * @ignore\n * whether the axis isVertical\n * @param region\n * @returns isVertical\n */\nexport function isVertical(region: Region): boolean {\n  const { start, end } = region;\n\n  return start.x === end.x;\n}\n\n/**\n * @ignore\n * get factor by region (real position)\n * @param region\n * @param center\n * @returns factor\n */\nexport function getAxisFactorByRegion(region: Region, center: Point): number {\n  const { start, end } = region;\n\n  const isAxisVertical = isVertical(region);\n\n  // \u5782\u76F4\n  if (isAxisVertical) {\n    // \u5DE6\u65B9,\u4ECE\u4E0B\u5230\u4E0A\u3001\u53F3\u65B9,\u4ECE\u4E0A\u5230\u4E0B\n    if ((start.y - end.y) * (center.x - start.x) > 0) {\n      return 1;\n    } else {\n      return -1;\n    }\n  } else {\n    // \u4E0B\u65B9,\u4ECE\u5DE6\u5230\u53F3\u3001\u4E0A\u65B9,\u4ECE\u53F3\u5230\u505A\n    if ((end.x - start.x) * (start.y - center.y) > 0) {\n      return -1;\n    } else {\n      return 1;\n    }\n  }\n}\n\n/**\n * @ignore\n * get the axis cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction axis direction\n * @returns axis theme cfg\n */\nexport function getAxisThemeCfg(theme: object, direction: string): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix({}, get(axisTheme, ['common'], {}), deepMix({}, get(axisTheme, [direction], {})));\n}\n\n/**\n * get the options of axis title\uFF0Cmix the cfg from theme, avoid common themeCfg not work\n * @param theme\n * @param direction\n * @param axisOptions\n * @returns axis title options\n */\nexport function getAxisTitleOptions(theme: object, direction: string, axisOptions?: object): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix(\n    {},\n    get(axisTheme, ['common', 'title'], {}),\n    deepMix({}, get(axisTheme, [direction, 'title'], {})),\n    axisOptions\n  );\n}\n\n/**\n * @ignore\n * get circle axis center and radius\n * @param coordinate\n */\nexport function getCircleAxisCenterRadius(coordinate: Coordinate) {\n  // @ts-ignore\n  const { x, y, circleCenter: center } = coordinate;\n  const isReflectY = y.start > y.end;\n  const start = coordinate.isTransposed\n    ? coordinate.convert({\n        x: isReflectY ? 0 : 1,\n        y: 0,\n      })\n    : coordinate.convert({\n        x: 0,\n        y: isReflectY ? 0 : 1,\n      });\n\n  const startVector: [number, number] = [start.x - center.x, start.y - center.y];\n  const normalVector: [number, number] = [1, 0];\n  const startAngle =\n    start.y > center.y ? vec2.angle(startVector, normalVector) : vec2.angle(startVector, normalVector) * -1;\n  const endAngle = startAngle + (x.end - x.start);\n  const radius = Math.sqrt((start.x - center.x) ** 2 + (start.y - center.y) ** 2);\n\n  return {\n    center,\n    radius,\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n * \u4ECE\u914D\u7F6E\u4E2D\u83B7\u53D6\u5355\u4E2A\u5B57\u6BB5\u7684 axis \u914D\u7F6E\n * @param axes\n * @param field\n * @returns the axis option of field\n */\nexport function getAxisOption(axes: Record<string, AxisOption> | boolean, field: string) {\n  if (isBoolean(axes)) {\n    return axes === false ? false : {};\n  }\n  return get(axes, [field]);\n}\n\n/**\n * @ignore\n * \u5982\u679C\u914D\u7F6E\u4E86 position\uFF0C\u5219\u4F7F\u7528\u914D\u7F6E\n * @param axisOption\n * @param def\n */\nexport function getAxisDirection(axisOption: AxisOption, def: DIRECTION): DIRECTION {\n  return get(axisOption, 'position', def);\n}\n\n/**\n * \u83B7\u53D6 axis \u7684 title \u6587\u672C\n * @param scale\n * @param axisOption\n */\nexport function getAxisTitleText(scale: Scale, axisOption: AxisCfg): string {\n  return get(axisOption, ['title', 'text'], getName(scale));\n}\n", "import { deepMix, each, every, get, isNil, isNumber } from '@antv/util';\nimport { LAYER } from '../constant';\nimport { IGroup } from '../dependents';\nimport { AxisCfg, Condition, Datum, FacetCfg, FacetData, FacetDataFilter, Region } from '../interface';\n\nimport View from '../chart/view';\nimport { getAxisOption } from '../util/axis';\n\n/**\n * facet \u57FA\u7C7B\n *  - \u5B9A\u4E49\u751F\u547D\u5468\u671F\uFF0C\u65B9\u4FBF\u81EA\u5B9A\u4E49 facet\n *  - \u63D0\u4F9B\u57FA\u7840\u7684\u751F\u547D\u6D41\u7A0B\u65B9\u6CD5\n *\n * \u751F\u547D\u5468\u671F\uFF1A\n *\n * \u521D\u59CB\u5316 init\n * 1. \u521D\u59CB\u5316\u5BB9\u5668\n * 2. \u6570\u636E\u5206\u9762\uFF0C\u751F\u6210\u5206\u9762\u5E03\u5C40\u4FE1\u606F\n *\n * \u6E32\u67D3\u9636\u6BB5 render\n * 1. view \u521B\u5EFA\n * 2. title\n * 3. axis\n *\n * \u6E05\u9664\u9636\u6BB5 clear\n * 1. \u6E05\u9664 view\n *\n * \u9500\u6BC1\u9636\u6BB5 destroy\n * 1. clear\n * 2. \u6E05\u9664\u4E8B\u4EF6\n * 3. \u6E05\u9664 group\n */\nexport abstract class Facet<C extends FacetCfg<FacetData> = FacetCfg<FacetData>, F extends FacetData = FacetData> {\n  /** \u5206\u9762\u6240\u5728\u7684 view */\n  public view: View;\n  /** \u5206\u9762\u5BB9\u5668 */\n  public container: IGroup;\n  /** \u662F\u5426\u9500\u6BC1 */\n  public destroyed: boolean = false;\n\n  /** \u5206\u9762\u7684\u914D\u7F6E\u9879 */\n  protected cfg: C;\n  /** \u5206\u9762\u4E4B\u540E\u7684\u6240\u6709\u5206\u9762\u6570\u636E\u7ED3\u6784 */\n  protected facets: F[] = [];\n\n  constructor(view: View, cfg: C) {\n    this.view = view;\n    this.cfg = deepMix({}, this.getDefaultCfg(), cfg);\n  }\n\n  /**\n   * \u521D\u59CB\u5316\u8FC7\u7A0B\n   */\n  public init() {\n    // \u521D\u59CB\u5316\u5BB9\u5668\n    if (!this.container) {\n      this.container = this.createContainer();\n    }\n\n    // \u751F\u6210\u5206\u9762\u5E03\u5C40\u4FE1\u606F\n    const data = this.view.getData();\n    this.facets = this.generateFacets(data);\n  }\n\n  /**\n   * \u6E32\u67D3\u5206\u9762\uFF0C\u7531\u4E0A\u5C42 view \u8C03\u7528\u3002\u5305\u62EC\uFF1A\n   *  - \u5206\u9762 view\n   *  - \u8F74\n   *  - title\n   *\n   *  \u5B50\u7C7B\u53EF\u4EE5\u590D\u5199\uFF0C\u6DFB\u52A0\u4E00\u4E9B\u5176\u4ED6\u7EC4\u4EF6\uFF0C\u6BD4\u5982\u6EDA\u52A8\u6761\u7B49\n   */\n  public render() {\n    this.renderViews();\n  }\n\n  /**\n   * \u66F4\u65B0 facet\n   */\n  public update() {\n    // \u5176\u5B9E\u4E0D\u7528\u505A\u4EFB\u4F55\u4E8B\u60C5\uFF0C\u56E0\u4E3A facet \u6700\u7EC8\u751F\u6210\u7684 View \u548C Geometry \u90FD\u5728\u7236 view \u7684\u66F4\u65B0\u4E2D\u5904\u7406\u4E86\n  }\n\n  /**\n   * \u6E05\u7A7A\uFF0Cclear \u4E4B\u540E\u5982\u679C\u8FD8\u9700\u8981\u4F7F\u7528\uFF0C\u9700\u8981\u91CD\u65B0\u8C03\u7528 init \u521D\u59CB\u5316\u8FC7\u7A0B\n   * \u4E00\u822C\u5728\u6570\u636E\u6709\u53D8\u66F4\u7684\u65F6\u5019\u8C03\u7528\uFF0C\u91CD\u65B0\u8FDB\u884C\u6570\u636E\u7684\u5206\u9762\u903B\u8F91\n   */\n  public clear() {\n    this.clearFacetViews();\n  }\n\n  /**\n   * \u9500\u6BC1\n   */\n  public destroy() {\n    this.clear();\n\n    if (this.container) {\n      this.container.remove(true);\n      this.container = undefined;\n    }\n\n    this.destroyed = true;\n    this.view = undefined;\n    this.facets = [];\n  }\n\n  /**\n   * \u6839\u636E facet \u751F\u6210 view\uFF0C\u53EF\u4EE5\u7ED9\u4E0A\u5C42\u81EA\u5B9A\u4E49\u4F7F\u7528\n   * @param facet\n   */\n  protected facetToView(facet: F): View {\n    const { region, data, padding = this.cfg.padding } = facet;\n\n    const view = this.view.createView({\n      region,\n      padding,\n    });\n\n    // \u8BBE\u7F6E\u5206\u9762\u7684\u6570\u636E\n    view.data(data || []);\n    facet.view = view;\n\n    // \u524D\u7F6E\u94A9\u5B50\n    this.beforeEachView(view, facet);\n\n    const { eachView } = this.cfg;\n    if (eachView) {\n      eachView(view, facet);\n    }\n\n    // \u540E\u7F6E\u94A9\u5B50\n    this.afterEachView(view, facet);\n\n    return view;\n  }\n\n  // \u521B\u5EFA\u5BB9\u5668\n  private createContainer(): IGroup {\n    const foregroundGroup = this.view.getLayer(LAYER.FORE);\n    return foregroundGroup.addGroup();\n  }\n\n  /**\n   * \u521D\u59CB\u5316 view\n   */\n  private renderViews() {\n    this.createFacetViews();\n  }\n\n  /**\n   * \u521B\u5EFA \u5206\u9762 view\n   */\n  private createFacetViews(): View[] {\n    // \u4F7F\u7528\u5206\u9762\u6570\u636E \u521B\u5EFA\u5206\u9762 view\n    return this.facets.map((facet): View => {\n      return this.facetToView(facet);\n    });\n  }\n\n  /**\n   * \u4ECE view \u4E2D\u6E05\u9664 facetView\n   */\n  private clearFacetViews() {\n    // \u4ECE view \u4E2D\u79FB\u9664\u5206\u9762 view\n    each(this.facets, (facet) => {\n      if (facet.view) {\n        this.view.removeView(facet.view);\n        facet.view = undefined;\n      }\n    });\n  }\n\n  /**\n   * \u89E3\u6790 spacing\n   */\n  private parseSpacing() {\n    /**\n     * @example\n     *\n     * // \u4EC5\u4F7F\u7528\u767E\u5206\u6BD4\u6216\u50CF\u7D20\u503C\n     * // \u6A2A\u5411\u95F4\u9694\u4E3A 10%\uFF0C\u7EB5\u5411\u95F4\u9694\u4E3A 10%\n     * ['10%', '10%']\n     * // \u6A2A\u5411\u95F4\u9694\u4E3A 10px\uFF0C\u7EB5\u5411\u95F4\u9694\u4E3A 10px\n     * [10, 10]\n     *\n     * // \u540C\u65F6\u4F7F\u7528\u767E\u5206\u6BD4\u548C\u50CF\u7D20\u503C\n     * ['10%', 10]\n     * // \u6A2A\u5411\u95F4\u9694\u4E3A 10%\uFF0C\u7EB5\u5411\u95F4\u9694\u4E3A 10px\n     */\n    const { width, height } = this.view.viewBBox;\n    const { spacing } = this.cfg;\n    return spacing.map((s: number, idx: number) => {\n      if (isNumber(s)) return s / (idx === 0 ? width : height);\n      else return parseFloat(s) / 100;\n    });\n  }\n\n  // \u5176\u4ED6\u4E00\u4E9B\u63D0\u4F9B\u7ED9\u5B50\u7C7B\u4F7F\u7528\u7684\u65B9\u6CD5\n\n  /**\n   * \u83B7\u53D6\u8FD9\u4E2A\u5B57\u6BB5\u5BF9\u5E94\u7684\u6240\u6709\u503C\uFF0C\u6570\u7EC4\n   * @protected\n   * @param data \u6570\u636E\n   * @param field \u5B57\u6BB5\u540D\n   * @return \u5B57\u6BB5\u5BF9\u5E94\u7684\u503C\n   */\n  protected getFieldValues(data: Datum[], field: string): string[] {\n    const rst = [];\n    const cache: Record<string, boolean> = {};\n\n    // \u53BB\u91CD\u3001\u53BB\u9664 Nil \u503C\n    each(data, (d: Datum) => {\n      const value = d[field];\n      if (!isNil(value) && !cache[value]) {\n        rst.push(value);\n        cache[value] = true;\n      }\n    });\n\n    return rst;\n  }\n\n  /**\n   * \u83B7\u5F97\u6BCF\u4E2A\u5206\u9762\u7684 region\uFF0C\u5E73\u5206\u533A\u57DF\n   * @param rows row \u603B\u6570\n   * @param cols col \u603B\u6570\n   * @param xIndex x \u65B9\u5411 index\n   * @param yIndex y \u65B9\u5411 index\n   */\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number): Region {\n    const [xSpacing, ySpacing] = this.parseSpacing();\n    // \u6BCF\u4E24\u4E2A\u5206\u9762\u533A\u57DF\u6A2A\u5411\u95F4\u9694xSPacing, \u7EB5\u5411\u95F4\u9694ySpacing\n    // \u6BCF\u4E2A\u5206\u9762\u533A\u57DF\u7684\u6A2A\u7EB5\u5360\u6BD4\n    /**\n     * ratio * num + spacing * (num - 1) = 1\n     * => ratio = (1 - (spacing * (num - 1))) / num\n     *          = (1 + spacing) / num - spacing\n     *\n     * num \u5BF9\u5E94 cols/rows\n     * spacing \u5BF9\u5E94 xSpacing/ySpacing\n     */\n    const xRatio = (1 + xSpacing) / (cols === 0 ? 1 : cols) - xSpacing;\n    const yRatio = (1 + ySpacing) / (rows === 0 ? 1 : rows) - ySpacing;\n\n    // \u5F97\u5230\u7B2C index \u4E2A\u5206\u9762\u533A\u57DF\u767E\u5206\u6BD4\u4F4D\u7F6E\n    const start = {\n      x: (xRatio + xSpacing) * xIndex,\n      y: (yRatio + ySpacing) * yIndex,\n    };\n    const end = {\n      x: start.x + xRatio,\n      y: start.y + yRatio,\n    };\n    return { start, end };\n  }\n\n  protected getDefaultCfg() {\n    return {\n      eachView: undefined,\n      showTitle: true,\n      spacing: [0, 0],\n      padding: 10,\n      fields: [],\n    };\n  }\n\n  /**\n   * \u9ED8\u8BA4\u7684 title \u6837\u5F0F\uFF0C\u56E0\u4E3A\u6709\u7684\u5206\u9762\u662F title\uFF0C\u6709\u7684\u5206\u9762\u914D\u7F6E\u662F columnTitle\u3001rowTitle\n   */\n  protected getDefaultTitleCfg() {\n    // @ts-ignore\n    const fontFamily = this.view.getTheme().fontFamily;\n    return {\n      style: {\n        fontSize: 14,\n        fill: '#666',\n        fontFamily,\n      },\n    };\n  }\n\n  /**\n   * \u5904\u7406 axis \u7684\u9ED8\u8BA4\u914D\u7F6E\n   * @param view\n   * @param facet\n   */\n  protected processAxis(view: View, facet: F) {\n    const options = view.getOptions();\n\n    const coordinateOption = options.coordinate;\n    const geometries = view.geometries;\n\n    const coordinateType = get(coordinateOption, 'type', 'rect');\n\n    if (coordinateType === 'rect' && geometries.length) {\n      if (isNil(options.axes)) {\n        // @ts-ignore\n        options.axes = {};\n      }\n      const axes = options.axes;\n\n      const [x, y] = geometries[0].getXYFields();\n\n      const xOption = getAxisOption(axes, x);\n      const yOption = getAxisOption(axes, y);\n\n      if (xOption !== false) {\n        options.axes[x] = this.getXAxisOption(x, axes, xOption, facet);\n      }\n\n      if (yOption !== false) {\n        options.axes[y] = this.getYAxisOption(y, axes, yOption, facet);\n      }\n    }\n  }\n\n  /**\n   * \u83B7\u53D6\u5206\u9762\u6570\u636E\n   * @param conditions\n   */\n  protected getFacetDataFilter(conditions: Condition[]): FacetDataFilter {\n    return (datum: Datum) => {\n      // \u8FC7\u6EE4\u51FA\u5168\u90E8\u6EE1\u8DB3\u6761\u4EF6\u7684\u6570\u636E\n      return every(conditions, (condition) => {\n        const { field, value } = condition;\n\n        if (!isNil(value) && field) {\n          return datum[field] === value;\n        }\n        return true;\n      });\n    };\n  }\n\n  /**\n   * @override \u5F00\u59CB\u5904\u7406 eachView\n   * @param view\n   * @param facet\n   */\n  protected abstract beforeEachView(view: View, facet: F);\n\n  /**\n   * @override \u5904\u7406 eachView \u4E4B\u540E\n   * @param view\n   * @param facet\n   */\n  protected abstract afterEachView(view: View, facet: F);\n\n  /**\n   * @override \u751F\u6210\u5206\u9762\u6570\u636E\uFF0C\u5305\u542B\u5E03\u5C40\n   * @param data\n   */\n  protected abstract generateFacets(data: Datum[]): F[];\n\n  /**\n   * \u83B7\u53D6 x \u8F74\u7684\u914D\u7F6E\n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getXAxisOption(x: string, axes: any, option: AxisCfg, facet: F): object;\n\n  /**\n   * \u83B7\u53D6 y \u8F74\u7684\u914D\u7F6E\n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getYAxisOption(y: string, axes: any, option: AxisCfg, facet: F): object;\n}\n", "import { lowerCase } from '@antv/util';\nimport { FacetCtor } from '../interface';\nexport { Facet } from './facet';\n\n/**\n * \u6240\u6709\u7684 Facet \u7C7B\n */\nconst Facets: Record<string, FacetCtor> = {};\n\n/**\n * \u6839\u636E type \u83B7\u53D6 facet \u7C7B\n * @param type \u5206\u9762\u7C7B\u578B\n */\nexport const getFacet = (type: string): FacetCtor => {\n  return Facets[lowerCase(type)];\n};\n\n/**\n * \u6CE8\u518C\u4E00\u4E2A Facet \u7C7B\n * @param type \u5206\u9762\u7C7B\u578B\n * @param ctor \u5206\u9762\u7C7B\n */\nexport const registerFacet = (type: string, ctor: FacetCtor) => {\n  Facets[lowerCase(type)] = ctor;\n};\n", "import { assign } from '@antv/util';\nimport { IAction, IInteractionContext, LooseObject } from '../../interface';\n\n/**\n * Action \u7684\u57FA\u7C7B\n */\nabstract class Action<T = LooseObject> implements IAction {\n  /** Action \u540D\u5B57 */\n  public name;\n  /** \u4E0A\u4E0B\u6587\u5BF9\u8C61 */\n  public context: IInteractionContext;\n  /** Action \u914D\u7F6E */\n  protected cfg: T;\n  /** \u914D\u7F6E\u9879\u7684\u5B57\u6BB5\uFF0C\u81EA\u52A8\u8D1F\u503C\u5230 this \u4E0A */\n  protected cfgFields: string[];\n\n  constructor(context: IInteractionContext, cfg?: T) {\n    this.context = context;\n    this.cfg = cfg;\n    context.addAction(this);\n  }\n\n  /**\n   * \u8BBE\u7F6E\u914D\u7F6E\u9879\u4F20\u5165\u7684\u503C\n   * @param cfg\n   */\n  protected applyCfg(cfg) {\n    assign(this, cfg);\n  }\n\n  /**\n   * Inits action\uFF0C\u63D0\u4F9B\u7ED9\u5B50\u7C7B\u7528\u4E8E\u7EE7\u627F\n   */\n  public init() {\n    this.applyCfg(this.cfg);\n  }\n\n  /**\n   * Destroys action\n   */\n  public destroy() {\n    // \u79FB\u9664 action\n    this.context.removeAction(this);\n    // \u6E05\u7A7A\n    this.context = null;\n  }\n}\n\nexport default Action;\n", "import { ActionCallback } from '../../interface';\nimport Action from './base';\n\n/** \u56DE\u8C03\u51FD\u6570\u6784\u5EFA\u7684 Action */\nexport default class CallbackAction extends Action {\n  /**\n   * \u56DE\u8C03\u51FD\u6570\n   */\n  public callback: ActionCallback;\n  /**\n   * \u6267\u884C\n   */\n  public execute() {\n    if (this.callback) {\n      this.callback(this.context);\n    }\n  }\n  /**\n   * \u9500\u6BC1\n   */\n  public destroy() {\n    super.destroy();\n    this.callback = null;\n  }\n}\n", "import { ActionCallback, IInteractionContext, LooseObject } from '../../interface';\nimport Action from './base';\nimport CallbackAction from './callback';\nimport { get } from '@antv/util';\n\n/** Action \u6784\u9020\u51FD\u6570 */\ntype ActionConstructor = new (context: IInteractionContext, cfg?: LooseObject) => Action;\n\n/** @ignore */\ninterface ActionOption {\n  ActionClass: ActionConstructor;\n  cfg: LooseObject;\n}\n\n// Action \u7C7B\u7684\u7F13\u5B58\nconst ActionCache: Record<string, ActionOption> = {};\n\n/**\n * \u6839\u636E\u540D\u79F0\u83B7\u53D6 Action \u5B9E\u4F8B\n * @param actionName - action \u7684\u540D\u79F0\n * @param context \u4E0A\u4E0B\u6587\n * @returns Action \u5B9E\u4F8B\n */\nexport function createAction(actionName: string, context: IInteractionContext): Action {\n  const actionOption = ActionCache[actionName];\n  let action = null;\n  if (actionOption) {\n    const { ActionClass, cfg } = actionOption;\n    action = new ActionClass(context, cfg);\n    action.name = actionName;\n    action.init();\n  }\n  return action;\n}\n\n/**\n * \u6839\u636E action \u7684 name \u83B7\u53D6\u5B9A\u4E49\u7684\u7C7B\n * @param actionName action \u7684 name\n */\nexport function getActionClass(actionName: string): ActionConstructor {\n  const actionOption = ActionCache[actionName];\n  return get(actionOption, 'ActionClass');\n}\n\n/**\n * \u6CE8\u518C Action\n * @param actionName - action \u7684\u540D\u79F0\n * @param ActionClass - \u7EE7\u627F\u81EA action \u7684\u7C7B\n */\nexport function registerAction(actionName: string, ActionClass: ActionConstructor, cfg?: LooseObject) {\n  ActionCache[actionName] = {\n    ActionClass,\n    cfg,\n  };\n}\n\n/**\n * \u53D6\u6D88\u6CE8\u518C Action\n * @param actionName action \u540D\u79F0\n */\nexport function unregisterAction(actionName: string) {\n  delete ActionCache[actionName];\n}\n\n/**\n * \u6839\u636E\u56DE\u8C03\u51FD\u6570\u83B7\u53D6 Action \u5B9E\u4F8B\n * @param callback - action \u7684\u56DE\u8C03\u51FD\u6570\n * @param context \u4E0A\u4E0B\u6587\n * @returns Action \u5B9E\u4F8B\n */\nexport function createCallbackAction(callback: ActionCallback, context: IInteractionContext): CallbackAction {\n  const action = new CallbackAction(context);\n  action.callback = callback;\n  action.name = 'callback';\n  return action;\n}\n", "import { vec2 } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position } from '../../../interface';\nimport { getDistanceToCenter } from '../../../util/coordinate';\n\nfunction _points2path(points: Point[], isInCircle: boolean): PathCommand[] {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n\n  return path;\n}\n\nfunction _convertArr(arr: number[], coord: Coordinate): any[] {\n  const tmp = [arr[0]];\n  for (let i = 1, len = arr.length; i < len; i = i + 2) {\n    const point = coord.convert({\n      x: arr[i],\n      y: arr[i + 1],\n    });\n    tmp.push(point.x, point.y);\n  }\n  return tmp;\n}\nfunction _convertArcPath(path: PathCommand, coord: Coordinate): any[] {\n  const { isTransposed } = coord;\n  const r = path[1];\n  const x = path[6];\n  const y = path[7];\n  const point = coord.convert({ x, y });\n  const direction = isTransposed ? 0 : 1;\n  return ['A', r, r, 0, 0, direction, point.x, point.y];\n}\n\nfunction _convertPolarPath(pre: PathCommand, cur: PathCommand, coord: Coordinate): PathCommand[] {\n  const { isTransposed, startAngle, endAngle } = coord;\n  const prePoint =\n    pre[0].toLowerCase() === 'a'\n      ? {\n          x: pre[6],\n          y: pre[7],\n        }\n      : {\n          x: pre[1],\n          y: pre[2],\n        };\n  const curPoint = {\n    x: cur[1],\n    y: cur[2],\n  };\n  const rst = [];\n  const xDim = isTransposed ? 'y' : 'x';\n  const angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n  const direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // \u5706\u5F27\u7684\u65B9\u5411\n  const flag = angleRange > Math.PI ? 1 : 0; // \u5927\u5F27\u8FD8\u662F\u5C0F\u5F27\u6807\u5FD7\u4F4D\n  const convertPoint = coord.convert(curPoint);\n  const r = getDistanceToCenter(coord, convertPoint);\n  if (r >= 0.5) {\n    // \u5C0F\u4E8E1\u50CF\u7D20\u7684\u5706\u5728\u56FE\u50CF\u4E0A\u65E0\u6CD5\u8BC6\u522B\n    if (angleRange === Math.PI * 2) {\n      const middlePoint = {\n        x: (curPoint.x + prePoint.x) / 2,\n        y: (curPoint.y + prePoint.y) / 2,\n      };\n      const middleConvertPoint = coord.convert(middlePoint);\n      rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    } else {\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    }\n  }\n  return rst;\n}\n\n// \u5F53\u5B58\u5728\u6574\u4F53\u7684\u5706\u65F6\uFF0C\u53BB\u9664\u5706\u524D\u9762\u548C\u540E\u9762\u7684\u7EBF\uFF0C\u9632\u6B62\u51FA\u73B0\u76F4\u7EBF\u7A7F\u8FC7\u6574\u4E2A\u5706\u7684\u60C5\u5F62\nfunction _filterFullCirleLine(path: PathCommand[]) {\n  each(path, (subPath, index) => {\n    const cur = subPath;\n    if (cur[0].toLowerCase() === 'a') {\n      const pre = path[index - 1];\n      const next = path[index + 1];\n      if (next && next[0].toLowerCase() === 'a') {\n        if (pre && pre[0].toLowerCase() === 'l') {\n          pre[0] = 'M';\n        }\n      } else if (pre && pre[0].toLowerCase() === 'a') {\n        if (next && next[0].toLowerCase() === 'l') {\n          next[0] = 'M';\n        }\n      }\n    }\n  });\n}\n\n/**\n * @ignore\n * \u8BA1\u7B97\u5149\u6ED1\u7684\u8D1D\u585E\u5C14\u66F2\u7EBF\n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  const hasConstraint = !!constraint;\n\n  let prevPoint: Position;\n  let nextPoint: Position;\n  let min: Position;\n  let max: Position;\n  let nextCp0: Position;\n  let cp1: Position;\n  let cp0: Position;\n\n  if (hasConstraint) {\n    [min, max] = constraint;\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (i === 0 && !isLoop) {\n      cp0 = point;\n    } else if (i === len - 1 && !isLoop) {\n      cp1 = point;\n      cps.push(cp0);\n      cps.push(cp1);\n    } else {\n      prevPoint = points[isLoop ? (i ? i - 1 : len - 1) : i - 1];\n      nextPoint = points[isLoop ? (i + 1) % len : i + 1];\n\n      let v: [number, number] = [0, 0];\n      v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n      v = vec2.scale(v, v, smooth) as [number, number];\n\n      let d0 = vec2.distance(point, prevPoint);\n      let d1 = vec2.distance(point, nextPoint);\n\n      const sum = d0 + d1;\n      if (sum !== 0) {\n        d0 /= sum;\n        d1 /= sum;\n      }\n\n      let v1 = vec2.scale([0, 0], v, -d0);\n      let v2 = vec2.scale([0, 0], v, d1);\n\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      // \u4E0B\u4E00\u4E2A\u63A7\u5236\u70B9\u5FC5\u987B\u5728\u8FD9\u4E2A\u70B9\u548C\u4E0B\u4E00\u4E2A\u70B9\u4E4B\u95F4\n      nextCp0 = vec2.min([0, 0], nextCp0, vec2.max([0, 0], nextPoint, point)) as Position;\n      nextCp0 = vec2.max([0, 0], nextCp0, vec2.min([0, 0], nextPoint, point)) as Position;\n\n      // \u91CD\u65B0\u8BA1\u7B97 cp1 \u7684\u503C\n      v1 = vec2.sub([0, 0], nextCp0, point);\n      v1 = vec2.scale([0, 0], v1, -d0 / d1);\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n\n      // \u4E0A\u4E00\u4E2A\u63A7\u5236\u70B9\u5FC5\u987B\u8981\u5728\u4E0A\u4E00\u4E2A\u70B9\u548C\u8FD9\u4E00\u4E2A\u70B9\u4E4B\u95F4\n      cp1 = vec2.min([0, 0], cp1, vec2.max([0, 0], prevPoint, point)) as Position;\n      cp1 = vec2.max([0, 0], cp1, vec2.min([0, 0], prevPoint, point)) as Position;\n\n      // \u91CD\u65B0\u8BA1\u7B97 nextCp0 \u7684\u503C\n      v2 = vec2.sub([0, 0], point, cp1);\n      v2 = vec2.scale([0, 0], v2, d1 / d0);\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      if (hasConstraint) {\n        cp1 = vec2.max([0, 0], cp1, min) as Position;\n        cp1 = vec2.min([0, 0], cp1, max) as Position;\n        nextCp0 = vec2.max([0, 0], nextCp0, min) as Position;\n        nextCp0 = vec2.min([0, 0], nextCp0, max) as Position;\n      }\n\n      cps.push(cp0);\n      cps.push(cp1);\n      cp0 = nextCp0;\n    }\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n\n  return cps;\n};\n\n/**\n * @ignore\n * \u8D1D\u585E\u5C14\u66F2\u7EBF\n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]): PathCommand[] {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n * \u5C06\u70B9\u8FDE\u63A5\u6210\u8DEF\u5F84 path\n */\nexport function getLinePath(points: Point[], isInCircle?: boolean): PathCommand[] {\n  return _points2path(points, isInCircle);\n}\n\n/**\n * @ignore\n * \u6839\u636E\u5173\u952E\u70B9\u83B7\u53D6\u9650\u5B9A\u4E86\u8303\u56F4\u7684\u5E73\u6ED1\u7EBF\n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]): PathCommand[] {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \u4E24\u70B9\u4EE5\u5185\u76F4\u63A5\u7ED8\u5236\u6210\u8DEF\u5F84\n    return getLinePath(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \u8303\u56F4\n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n\n/**\n * @ignore\n * \u5C06\u5F52\u4E00\u5316\u540E\u7684\u8DEF\u5F84\u6570\u636E\u8F6C\u6362\u6210\u5750\u6807\n */\nexport function convertNormalPath(coord, path: PathCommand[]): PathCommand[] {\n  const tmp = [];\n  each(path, (subPath) => {\n    const action = subPath[0];\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'l':\n      case 'c':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  return tmp;\n}\n\n/**\n * @ignore\n * \u5C06\u8DEF\u5F84\u8F6C\u6362\u4E3A\u6781\u5750\u6807\u4E0B\u7684\u771F\u5B9E\u8DEF\u5F84\n */\nexport function convertPolarPath(coord, path: PathCommand[]): PathCommand[] {\n  let tmp = [];\n  let pre: PathCommand;\n  let cur: PathCommand;\n  let transposed: boolean;\n  let equals: boolean;\n  each(path, (subPath, index) => {\n    const action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'c':\n      case 'q':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'l':\n        pre = path[index - 1];\n        cur = subPath;\n        transposed = coord.isTransposed;\n        // \u662F\u5426\u534A\u5F84\u76F8\u540C\uFF0C\u8F6C\u6362\u6210\u5706\u5F27\n        equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n        if (equals) {\n          tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n        } else {\n          // y \u4E0D\u76F8\u7B49\uFF0C\u6240\u4EE5\u76F4\u63A5\u8F6C\u6362\n          tmp.push(_convertArr(subPath, coord));\n        }\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  _filterFullCirleLine(tmp); // \u8FC7\u6EE4\u591A\u4F59\u7684\u76F4\u7EBF\n  return tmp;\n}\n", "import { each, isArray } from '@antv/util';\nimport { View } from '../../chart';\nimport { BBox, PathCommand, Point } from '../../dependents';\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element/';\nimport { catmullRom2bezier, getLinePath } from '../../geometry/shape/util/path';\nimport { toPoints } from '../../util/bbox';\nimport { isPolygonsIntersect } from '@antv/path-util';\nimport { ComponentOption, IInteractionContext, LooseObject } from '../../interface';\n\nfunction getMaskBBox(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  const maskBBox = maskShape.getCanvasBBox();\n  // \u5982\u679C bbox \u8FC7\u5C0F\u5219\u4E0D\u8FD4\u56DE\n  if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n    return null;\n  }\n  return maskBBox;\n}\n\nfunction getMaskPath(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  const maskBBox = maskShape.getCanvasBBox();\n  // \u5982\u679C bbox \u8FC7\u5C0F\u5219\u4E0D\u8FD4\u56DE\n  if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n    return null;\n  }\n  return maskShape.attr('path');\n}\n\n/**\n * \u83B7\u53D6\u5F53\u524D\u4E8B\u4EF6\u76F8\u5173\u7684\u56FE\u8868\u5143\u7D20\n * @param context \u4EA4\u4E92\u7684\u4E0A\u4E0B\u6587\n * @ignore\n */\nexport function getCurrentElement(context: IInteractionContext): Element {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n\n/**\n * \u83B7\u53D6\u59D4\u6258\u5BF9\u8C61\n * @param context \u4E0A\u4E0B\u6587\n * @ignore\n */\nexport function getDelegationObject(context: IInteractionContext): LooseObject {\n  const event = context.event;\n  const target = event.target;\n  let delegateObject;\n  if (target) {\n    delegateObject = target.get('delegateObject');\n  }\n  return delegateObject;\n}\n\nexport function isElementChange(context: IInteractionContext) {\n  const event = context.event.gEvent;\n  // \u5728\u540C\u4E00\u4E2A element \u5185\u90E8\u79FB\u52A8\uFF0Clabel \u548C shape \u4E4B\u95F4\n  if (event && event.fromShape && event.toShape && event.fromShape.get('element') === event.toShape.get('element')) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * \u662F\u5426\u662F\u5217\u8868\u7EC4\u4EF6\n * @param delegateObject \u59D4\u6258\u5BF9\u8C61\n * @ignore\n */\nexport function isList(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isList();\n}\n\n/**\n * \u662F\u5426\u662F\u6ED1\u5757\u7EC4\u4EF6\n * @param delegateObject \u59D4\u6258\u5BF9\u8C61\n * @ignore\n */\nexport function isSlider(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isSlider();\n}\n\n/**\n * \u662F\u5426\u7531 mask \u89E6\u53D1\n * @param context \u4E0A\u4E0B\u6587\n * @ignore\n */\nexport function isMask(context: IInteractionContext): boolean {\n  const event = context.event;\n  const target = event.target;\n  return target && target.get('name') === 'mask';\n}\n\n/**\n * \u83B7\u53D6\u88AB\u906E\u6321\u7684 elements\n * @param context \u4E0A\u4E0B\u6587\n * @ignore\n */\nexport function getMaskedElements(context: IInteractionContext, tolerance: number): Element[] {\n  const target = context.event.target;\n  if (target.get('type') === 'path') {\n    const maskPath = getMaskPath(context, tolerance);\n    if (!maskPath) {\n      return;\n    }\n    return getElementsByPath(context.view, maskPath);\n  }\n  const maskBBox = getMaskBBox(context, tolerance);\n  // \u5982\u679C bbox \u8FC7\u5C0F\u5219\u4E0D\u8FD4\u56DE\n  if (!maskBBox) {\n    return null;\n  }\n  return getIntersectElements(context.view, maskBBox);\n}\n\n/**\n * @ignore\n */\nexport function getSiblingMaskElements(context: IInteractionContext, sibling: View, tolerance: number) {\n  const maskBBox = getMaskBBox(context, tolerance);\n  // \u5982\u679C bbox \u8FC7\u5C0F\u5219\u4E0D\u8FD4\u56DE\n  if (!maskBBox) {\n    return null;\n  }\n  const view = context.view;\n  const start = getSiblingPoint(view, sibling, { x: maskBBox.x, y: maskBBox.y });\n  const end = getSiblingPoint(view, sibling, { x: maskBBox.maxX, y: maskBBox.maxY });\n  const box = {\n    minX: start.x,\n    minY: start.y,\n    maxX: end.x,\n    maxY: end.y,\n  };\n  return getIntersectElements(sibling, box);\n}\n\n/**\n * \u83B7\u53D6\u6240\u6709\u7684\u56FE\u8868\u5143\u7D20\n * @param view View/Chart\n * @ignore\n */\nexport function getElements(view: View): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.elements;\n    rst = rst.concat(elements);\n  });\n  if (view.views && view.views.length) {\n    each(view.views, (subView) => {\n      rst = rst.concat(getElements(subView));\n    });\n  }\n  return rst;\n}\n\n/**\n * \u83B7\u53D6\u6240\u6709\u7684\u56FE\u8868\u5143\u7D20\n * @param view View/Chart\n * @param field \u5B57\u6BB5\u540D\n * @param value \u5B57\u6BB5\u503C\n * @ignore\n */\nexport function getElementsByField(view: View, field: string, value: any) {\n  const elements = getElements(view);\n  return elements.filter((el) => {\n    return getElementValue(el, field) === value;\n  });\n}\n\n/**\n * \u6839\u636E\u72B6\u6001\u540D\u83B7\u53D6\u56FE\u8868\u5143\u7D20\n * @param view View/Chart\n * @param stateName \u72B6\u6001\u540D\n * @ignore\n */\nexport function getElementsByState(view: View, stateName: string): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.getElementsBy((el) => el.hasState(stateName));\n    rst = rst.concat(elements);\n  });\n  return rst;\n}\n\n/**\n * \u83B7\u53D6\u56FE\u8868\u5143\u7D20\u5BF9\u5E94\u5B57\u6BB5\u7684\u503C\n * @param element \u56FE\u8868\u5143\u7D20\n * @param field \u5B57\u6BB5\u540D\n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * \u4E24\u4E2A\u5305\u56F4\u76D2\u662F\u5426\u76F8\u4EA4\n * @param box1 \u5305\u56F4\u76D21\n * @param box2 \u5305\u56F4\u76D22\n * @ignore\n */\nexport function intersectRect(box1, box2) {\n  return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n}\n\n/**\n * \u83B7\u53D6\u5305\u56F4\u76D2\u5185\u7684\u56FE\u8868\u5143\u7D20\n * @param view View/Chart\n * @param box \u5305\u56F4\u76D2\n * @ignore\n */\nexport function getIntersectElements(view: View, box) {\n  const elements = getElements(view);\n  const rst = [];\n  each(elements, (el) => {\n    const shape = el.shape;\n    const shapeBBox = shape.getCanvasBBox();\n    if (intersectRect(box, shapeBBox)) {\n      rst.push(el);\n    }\n  });\n  return rst;\n}\nfunction pathToPoints(path: any[]) {\n  const points = [];\n  each(path, (seg) => {\n    const command = seg[0];\n    if (command !== 'A') {\n      for (let i = 1; i < seg.length; i = i + 2) {\n        points.push([seg[i], seg[i + 1]]);\n      }\n    } else {\n      const length = seg.length;\n      points.push([seg[length - 2], seg[length - 1]]);\n    }\n  });\n  return points;\n}\n/**\n * \u83B7\u53D6\u5305\u56F4\u76D2\u5185\u7684\u56FE\u8868\u5143\u7D20\n * @param view View/Chart\n * @param path \u8DEF\u5F84\n * @ignore\n */\nexport function getElementsByPath(view: View, path: any[]) {\n  const elements = getElements(view);\n  const points = pathToPoints(path);\n  const rst = elements.filter((el: Element) => {\n    const shape = el.shape;\n    let shapePoints;\n    if (shape.get('type') === 'path') {\n      shapePoints = pathToPoints(shape.attr('path'));\n    } else {\n      const shapeBBox = shape.getCanvasBBox();\n      shapePoints = toPoints(shapeBBox);\n    }\n    return isPolygonsIntersect(points, shapePoints);\n  });\n  return rst;\n}\n\n/**\n * \u83B7\u53D6\u5F53\u524D View \u7684\u6240\u6709\u7EC4\u4EF6\n * @param view View/Chart\n * @ignore\n */\nexport function getComponents(view) {\n  return view.getComponents().map((co: ComponentOption) => co.component);\n}\n\n/** @ignore */\nexport function distance(p1: Point, p2: Point) {\n  const dx = p2.x - p1.x;\n  const dy = p2.y - p1.y;\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\n/** @ignore */\nexport function getSpline(points: Point[], z: boolean): PathCommand[] {\n  if (points.length <= 2) {\n    return getLinePath(points, false);\n  }\n  const first = points[0];\n  const arr = [];\n  each(points, (point) => {\n    arr.push(point.x);\n    arr.push(point.y);\n  });\n  const path = catmullRom2bezier(arr, z, null);\n  path.unshift(['M', first.x, first.y]);\n  return path;\n}\n\n/**\n * \u68C0\u6D4B\u70B9\u662F\u5426\u5728\u5305\u56F4\u76D2\u5185\n * @param box \u5305\u56F4\u76D2\n * @param point \u70B9\n * @ignore\n */\nexport function isInBox(box: BBox, point: Point) {\n  return box.x <= point.x && box.maxX >= point.x && box.y <= point.y && box.maxY > point.y;\n}\n\n/**\n * \u83B7\u53D6\u540C view \u540C\u4E00\u7EA7\u7684 views\n * @param view \u5F53\u524D view\n * @returns \u540C\u4E00\u7EA7\u7684 views\n * @ignore\n */\nexport function getSilbings(view: View): View[] {\n  const parent = view.parent;\n  let siblings = null;\n  if (parent) {\n    siblings = parent.views.filter((sub) => sub !== view);\n  }\n  return siblings;\n}\n\nfunction point2Normalize(view: View, point: Point): Point {\n  const coord = view.getCoordinate();\n  return coord.invert(point);\n}\n/**\n * \u5C06 view \u4E0A\u7684\u4E00\u70B9\u8F6C\u6362\u6210\u53E6\u4E00\u4E2A view \u7684\u70B9\n * @param view \u5F53\u524D\u7684 view\n * @param sibling \u540C\u4E00\u5C42\u7EA7\u7684 view\n * @param point \u6307\u5B9A\u70B9\n * @ignore\n */\nexport function getSiblingPoint(view: View, sibling: View, point: Point): Point {\n  const normalPoint = point2Normalize(view, point);\n  return sibling.getCoordinate().convert(normalPoint);\n}\n\n/**\n * \u662F\u5426\u5728\u8BB0\u5F55\u4E2D\uFF0C\u4E34\u65F6\u56E0\u4E3A\u6240\u6709\u7684 view \u4E2D\u7684\u6570\u636E\u4E0D\u662F\u5F15\u7528\uFF0C\u800C\u4F7F\u7528\u7684\u65B9\u6CD5\n * \u4E0D\u540C view \u4E0A\u5BF9\u6570\u636E\u7684\u5F15\u7528\u4E0D\u76F8\u7B49\uFF0C\u5BFC\u81F4\u65E0\u6CD5\u76F4\u63A5\u7528 includes\n * \u5047\u8BBE x, y \u503C\u76F8\u7B49\u65F6\u662F\u540C\u4E00\u6761\u6570\u636E\uFF0C\u8FD9\u4E2A\u5047\u8BBE\u4E0D\u5B8C\u5168\u6B63\u786E\uFF0C\u800C\u6539\u6210 isEqual \u5219\u6210\u672C\u592A\u9AD8\n * \u540E\u9762\u6539\u6210\u540C\u4E00\u4E2A\u5F15\u7528\u65F6\u53EF\u4EE5\u4FEE\u6539\u56DE\u6765\n * @param records\n * @param record\n * @param xFiled\n * @param yField\n * @returns\n * @ignore\n */\nexport function isInRecords(records: object[], record: object, xFiled: string, yField: string) {\n  let isIn = false;\n  each(records, (r) => {\n    if (r[xFiled] === record[xFiled] && r[yField] === record[yField]) {\n      isIn = true;\n      return false;\n    }\n  });\n  return isIn;\n}\n\n// \u7EA7\u8054\u83B7\u53D6 field \u5BF9\u5E94\u7684 scale\uFF0C\u5982\u679C view \u4E0A\u6CA1\u6709\uFF0C\u904D\u5386\u5B50 view\nexport function getScaleByField(view: View, field: string) {\n  let scale = view.getScaleByField(field);\n  if (!scale && view.views) {\n    each(view.views, (subView) => {\n      scale = getScaleByField(subView, field);\n      if (scale) {\n        return false; // \u7EC8\u6B62\u5FAA\u73AF\n      }\n    });\n  }\n  return scale;\n}\n", "import { each, get } from '@antv/util';\nimport { View } from '../chart';\nimport { BBox, IShape, Point } from '../dependents';\nimport { IAction, IInteractionContext, LooseObject } from '../interface';\nimport { getComponents, isInBox } from './action/util';\n\n/**\n * \u4EA4\u4E92\u7684\u4E0A\u4E0B\u6587\n */\nexport default class Context implements IInteractionContext {\n  /** \u5F53\u524D\u6240\u6709\u7684 Action */\n  public actions: IAction[] = [];\n  /** \u5F53\u524D View \u5B9E\u4F8B */\n  public view: View;\n  /** \u5F53\u524D\u4E8B\u4EF6\u5BF9\u8C61 */\n  public event: LooseObject = null;\n\n  private cacheMap: LooseObject = {};\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  /**\n   * \u7F13\u5B58\u4FE1\u606F\n   * @param params \u7F13\u5B58\u7684\u5B57\u6BB5\n   *  - \u5982\u679C\u4E00\u4E2A\u5B57\u6BB5\u5219\u83B7\u53D6\u7F13\u5B58\n   *  - \u4E24\u4E2A\u5B57\u6BB5\u5219\u8BBE\u7F6E\u7F13\u5B58\n   */\n  public cache(...params) {\n    if (params.length === 1) {\n      return this.cacheMap[params[0]];\n    } else if (params.length === 2) {\n      this.cacheMap[params[0]] = params[1];\n    }\n  }\n\n  /**\n   * \u83B7\u53D6 Action\n   * @param name Action \u7684\u540D\u79F0\n   */\n  public getAction(name: string): IAction {\n    return this.actions.find((action) => action.name === name);\n  }\n\n  /**\n   * \u83B7\u53D6 Action\n   * @param action Action \u5BF9\u8C61\n   */\n  public addAction(action: IAction) {\n    this.actions.push(action);\n  }\n\n  /**\n   * \u79FB\u9664 Action\n   * @param action Action \u5BF9\u8C61\n   */\n  public removeAction(action: IAction) {\n    const actions = this.actions;\n    const index = this.actions.indexOf(action);\n    if (index >= 0) {\n      actions.splice(index, 1);\n    }\n  }\n\n  /**\n   * \u83B7\u53D6\u5F53\u524D\u7684\u70B9\n   */\n  public getCurrentPoint(): Point {\n    const event = this.event;\n    if (event) {\n      if (event.target instanceof HTMLElement) {\n        const canvas = this.view.getCanvas();\n        const point = canvas.getPointByClient(event.clientX, event.clientY);\n        return point;\n      } else {\n        return {\n          x: event.x,\n          y: event.y,\n        };\n      }\n    }\n    return null;\n  }\n\n  /**\n   * \u83B7\u53D6\u5F53\u524D shape\n   * @returns current shape\n   */\n  public getCurrentShape(): IShape {\n    return get(this.event, ['gEvent', 'shape']);\n  }\n\n  /**\n   * \u5F53\u524D\u7684\u89E6\u53D1\u662F\u5426\u5728 View \u5185\n   */\n  public isInPlot() {\n    const point = this.getCurrentPoint();\n    if (point) {\n      return this.view.isPointInPlot(point);\n    }\n    return false;\n  }\n\n  /**\n   * \u662F\u5426\u5728\u6307\u5B9A\u7684\u56FE\u5F62\u5185\n   * @param name shape \u7684 name\n   */\n  public isInShape(name) {\n    const shape = this.getCurrentShape(); // \u4E0D\u518D\u8003\u8651\u5728 shape \u7684 parent \u5185\u7684\u60C5\u51B5\n    if (shape) {\n      return shape.get('name') === name;\n    }\n    return false;\n  }\n\n  /**\n   * \u5F53\u524D\u7684\u89E6\u53D1\u662F\u7EC4\u4EF6\u5185\u90E8\n   * @param name \u7EC4\u4EF6\u540D\uFF0C\u53EF\u4EE5\u4E3A\u7A7A\n   */\n  public isInComponent(name?: string) {\n    const components = getComponents(this.view);\n    const point = this.getCurrentPoint();\n    if (point) {\n      return !!components.find((component) => {\n        const bbox = component.getBBox() as BBox;\n        if (name) {\n          return component.get('name') === name && isInBox(bbox, point);\n        } else {\n          return isInBox(bbox, point);\n        }\n      });\n    }\n    return false;\n  }\n\n  /**\n   * \u9500\u6BC1\n   */\n  public destroy() {\n    // \u5148\u9500\u6BC1 action \u518D\u6E05\u7A7A\uFF0C\u4E00\u8FB9\u904D\u5386\uFF0C\u4E00\u8FB9\u5220\u9664\uFF0C\u6240\u4EE5\u6570\u7EC4\u9700\u8981\u66F4\u65B0\u5F15\u7528\n    each(this.actions.slice(), (action) => {\n      action.destroy();\n    });\n    this.view = null;\n    this.event = null;\n    this.actions = null;\n    this.cacheMap = null;\n  }\n}\n", "import { View } from '../chart';\nimport { LooseObject } from '../interface';\n\nexport type InteractionConstructor = new (view: View, cfg: LooseObject) => Interaction;\n\n/**\n * \u4EA4\u4E92\u7684\u57FA\u7C7B\u3002\n */\nexport default class Interaction {\n  /** view \u6216\u8005 chart */\n  protected view: View;\n  /** \u914D\u7F6E\u9879 */\n  protected cfg: LooseObject;\n\n  constructor(view: View, cfg: LooseObject) {\n    this.view = view;\n    this.cfg = cfg;\n  }\n\n  /**\n   * \u521D\u59CB\u5316\u3002\n   */\n  public init() {\n    this.initEvents();\n  }\n\n  /**\n   * \u7ED1\u5B9A\u4E8B\u4EF6\n   */\n  protected initEvents() {}\n\n  /**\n   * \u9500\u6BC1\u4E8B\u4EF6\n   */\n  protected clearEvents() {}\n\n  /**\n   * \u9500\u6BC1\u3002\n   */\n  public destroy() {\n    this.clearEvents();\n  }\n}\n", "import { each, isArray, isFunction, isString, debounce, throttle } from '@antv/util';\nimport { View } from '../chart';\nimport { ActionCallback, IAction, IInteractionContext, LooseObject } from '../interface';\nimport { createAction, createCallbackAction } from './action/register';\nimport InteractionContext from './context';\nimport Interaction from './interaction';\n\n// \u5C06\u5B57\u7B26\u4E32\u8F6C\u6362\u6210 action\nexport function parseAction(actionStr: string, context: IInteractionContext, arg?: any): ActionObject {\n  const arr = actionStr.split(':');\n  const actionName = arr[0];\n  // \u5982\u679C\u5DF2\u7ECF\u521D\u59CB\u5316\u8FC7 action \uFF0C\u5219\u76F4\u63A5\u5F15\u7528\u4E4B\u524D\u7684 action\n  const action = context.getAction(actionName) || createAction(actionName, context);\n  if (!action) {\n    throw new Error(`There is no action named ${actionName}`);\n  }\n  const methodName = arr[1];\n  return {\n    action,\n    methodName,\n    arg,\n  };\n}\n\n// \u6267\u884C Action\nfunction executeAction(actionObject: ActionObject) {\n  const { action, methodName, arg } = actionObject;\n  if (action[methodName]) {\n    action[methodName](arg);\n  } else {\n    throw new Error(`Action(${action.name}) doesn't have a method called ${methodName}`);\n  }\n}\n\nconst STEP_NAMES = {\n  START: 'start',\n  SHOW_ENABLE: 'showEnable',\n  END: 'end',\n  ROLLBACK: 'rollback',\n  PROCESSING: 'processing',\n};\n\n/** \u4EA4\u4E92\u73AF\u8282\u7684\u5B9A\u4E49 */\nexport interface InteractionStep {\n  /**\n   * \u89E6\u53D1\u4E8B\u4EF6\uFF0C\u652F\u6301 view\uFF0Cchart \u7684\u5404\u79CD\u4E8B\u4EF6\uFF0C\u4E5F\u652F\u6301 document\u3001window \u7684\u4E8B\u4EF6\n   */\n  trigger: string;\n  /**\n   * \u662F\u5426\u53EF\u4EE5\u89E6\u53D1 action\n   * @param context - \u4EA4\u4E92\u7684\u4E0A\u4E0B\u6587\n   */\n  isEnable?: (context: IInteractionContext) => boolean;\n  /**\n   * \u53CD\u9988\uFF0C\u652F\u6301\u4E09\u79CD\u65B9\u5F0F\uFF1A\n   * - action:method : action \u7684\u540D\u5B57\u548C\u65B9\u6CD5\u7684\u7EC4\u5408\n   * - [\u2019action1:method1\u2018, \u2019action2:method\u2018]\n   * - ActionCallback: \u56DE\u8C03\u51FD\u6570\n   */\n  action: string | string[] | ActionCallback;\n  /**\n   * \u53CD\u9988\uFF0C\u5177\u4F53 action method \u7684\u53C2\u6570\uFF1A\n   * - \u5F53\u4F20\u9012\u591A\u4E2A action \u65F6\uFF0Cargs \u5FC5\u987B\u662F\u4E00\u4E2A\u6570\u7EC4\n   */\n  arg?: any | any[];\n  /**\n   * \u56DE\u8C03\u51FD\u6570\uFF0Caction \u6267\u884C\u540E\u6267\u884C\n   */\n  callback?: (context: IInteractionContext) => void;\n  /**\n   * @private\n   * \u4E0D\u9700\u8981\u7528\u6237\u4F20\u5165\uFF0C\u901A\u8FC7\u4E0A\u9762\u7684\u5C5E\u6027\u8BA1\u7B97\u51FA\u6765\u7684\u5C5E\u6027\n   */\n  actionObject?: ActionObject | ActionObject[];\n  /**\n   * \u5728\u4E00\u4E2A\u73AF\u8282\u5185\u662F\u5426\u53EA\u5141\u8BB8\u6267\u884C\u4E00\u6B21\n   */\n  once?: boolean;\n  /**\n   * \u662F\u5426\u589E\u52A0\u8282\u6D41\n   */\n  throttle?: ThrottleOption;\n  /**\n   * \u662F\u5426\u5EF6\u8FDF\n   */\n  debounce?: DebounceOption;\n}\n\n// action \u6267\u884C\u65F6\u652F\u6301 debounce \u548C throttle\uFF0C\u53EF\u4EE5\u53C2\u8003\uFF1Ahttps://css-tricks.com/debouncing-throttling-explained-examples/\n/**\n * debounce \u7684\u914D\u7F6E\n */\nexport interface DebounceOption {\n  /**\n   * \u7B49\u5F85\u65F6\u95F4\n   */\n  wait: number;\n  /**\n   * \u662F\u5426\u9A6C\u4E0A\u6267\u884C\n   */\n  immediate?: boolean;\n}\n\n/**\n * throttle \u7684\u914D\u7F6E\n */\nexport interface ThrottleOption {\n  /**\n   * \u7B49\u5F85\u65F6\u95F4\n   */\n  wait: number;\n  /**\n   * \u9A6C\u4E0A\u5C31\u6267\u884C\n   */\n  leading?: boolean;\n  /**\n   * \u6267\u884C\u5B8C\u6BD5\u540E\u518D\u6267\u884C\u4E00\u6B21\n   */\n  trailing?: boolean;\n}\n\n/** \u7F13\u5B58 action \u5BF9\u8C61\uFF0C\u4EC5\u7528\u4E8E\u5F53\u524D\u6587\u4EF6 */\ninterface ActionObject {\n  /**\n   * \u7F13\u5B58\u7684 action\n   */\n  action: IAction;\n  /**\n   * action \u7684\u65B9\u6CD5\n   */\n  methodName: string;\n  /**\n   * \u7528\u6237\u4F20\u9012\u7684 action \u65B9\u6CD5\u7684\u53C2\u6570\n   */\n  arg?: any;\n}\n\n/** \u4EA4\u4E92\u7684\u6240\u6709\u73AF\u8282 */\nexport interface InteractionSteps {\n  /**\n   * \u663E\u793A\u4EA4\u4E92\u53EF\u4EE5\u8FDB\u884C\n   */\n  showEnable?: InteractionStep[];\n  /**\n   * \u4EA4\u4E92\u5F00\u59CB\n   */\n  start?: InteractionStep[];\n  /**\n   * \u4EA4\u4E92\u6301\u7EED\n   */\n  processing?: InteractionStep[];\n  /**\n   * \u4EA4\u4E92\u7ED3\u675F\n   */\n  end?: InteractionStep[];\n  /**\n   * \u4EA4\u4E92\u56DE\u6EDA\n   */\n  rollback?: InteractionStep[];\n}\n\n/**\n * \u652F\u6301\u8BED\u6CD5\u7684\u4EA4\u4E92\u7C7B\n */\nexport default class GrammarInteraction extends Interaction {\n  // \u5B58\u50A8\u7684\u4EA4\u4E92\u73AF\u8282\n  private steps: InteractionSteps;\n  /** \u5F53\u524D\u6267\u884C\u5230\u7684\u9636\u6BB5 */\n  public currentStepName: string;\n  /**\n   * \u5F53\u524D\u4EA4\u4E92\u7684\u4E0A\u4E0B\u6587\n   */\n  public context: IInteractionContext;\n\n  private callbackCaches: LooseObject = {};\n  // \u67D0\u4E2A\u89E6\u53D1\u548C\u53CD\u9988\u5728\u672C\u73AF\u8282\u662F\u5426\u6267\u884C\u6216\n  private emitCaches: LooseObject = {};\n\n  constructor(view: View, steps: InteractionSteps) {\n    super(view, steps);\n    this.steps = steps;\n  }\n\n  /**\n   * \u521D\u59CB\u5316\n   */\n  public init() {\n    this.initContext();\n    super.init();\n  }\n\n  /**\n   * \u6E05\u7406\u8D44\u6E90\n   */\n  public destroy() {\n    super.destroy(); // \u5148\u6E05\u7406\u4E8B\u4EF6\n    this.steps = null;\n    if (this.context) {\n      this.context.destroy();\n      this.context = null;\n    }\n\n    this.callbackCaches = null;\n    this.view = null;\n  }\n\n  /**\n   * \u7ED1\u5B9A\u4E8B\u4EF6\n   */\n  protected initEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          // \u5982\u679C\u5B58\u5728 callback\uFF0C\u624D\u7ED1\u5B9A\uFF0C\u6709\u65F6\u5019\u4F1A\u51FA\u73B0\u65E0 callback \u7684\u60C5\u51B5\n          this.bindEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  /**\n   * \u6E05\u7406\u7ED1\u5B9A\u7684\u4E8B\u4EF6\n   */\n  protected clearEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          this.offEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  // \u521D\u59CB\u5316\u4E0A\u4E0B\u6587\uFF0C\u5E76\u521D\u59CB\u5316 action\n  private initContext() {\n    const view = this.view;\n    const context = new InteractionContext(view);\n    this.context = context;\n    const steps = this.steps;\n    // \u751F\u6210\u5177\u4F53\u7684 Action\n    each(steps, (subSteps: InteractionStep[]) => {\n      each(subSteps, (step: InteractionStep) => {\n        if (isFunction(step.action)) {\n          // \u5982\u679C\u4F20\u5165\u56DE\u8C03\u51FD\u6570\uFF0C\u5219\u76F4\u63A5\u751F\u6210 CallbackAction\n          step.actionObject = {\n            action: createCallbackAction(step.action, context),\n            methodName: 'execute',\n          };\n        } else if (isString(step.action)) {\n          // \u5982\u679C\u662F\u5B57\u7B26\u4E32\n          step.actionObject = parseAction(step.action, context, step.arg);\n        } else if (isArray(step.action)) {\n          // \u5982\u679C\u662F\u6570\u7EC4\n          const actionArr = step.action;\n          const argArr = isArray(step.arg) ? step.arg : [step.arg];\n          step.actionObject = [];\n          each(actionArr, (actionStr, idx) => {\n            (step.actionObject as ActionObject[]).push(parseAction(actionStr, context, argArr[idx]));\n          });\n        }\n        // \u5982\u679C action \u65E2\u4E0D\u662F\u5B57\u7B26\u4E32\uFF0C\u4E5F\u4E0D\u662F\u51FD\u6570\uFF0C\u5219\u4E0D\u4F1A\u751F\u6210 actionObject\n      });\n    });\n  }\n\n  // \u662F\u5426\u5141\u8BB8\u6307\u5B9A\u9636\u6BB5\u540D\u79F0\u6267\u884C\n  private isAllowStep(stepName: string): boolean {\n    const currentStepName = this.currentStepName;\n    const steps = this.steps;\n    // \u76F8\u540C\u7684\u9636\u6BB5\u5141\u8BB8\u540C\u65F6\u6267\u884C\n    if (currentStepName === stepName) {\n      return true;\n    }\n\n    if (stepName === STEP_NAMES.SHOW_ENABLE) {\n      // \u793A\u80FD\u5728\u6574\u4E2A\u8FC7\u7A0B\u4E2D\u90FD\u53EF\u7528\n      return true;\n    }\n\n    if (stepName === STEP_NAMES.PROCESSING) {\n      // \u53EA\u6709\u5F53\u524D\u662F start \u65F6\uFF0C\u624D\u5141\u8BB8 processing\n      return currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.START) {\n      // \u5982\u679C\u5F53\u524D\u662F processing\uFF0C\u5219\u65E0\u6CD5 start\uFF0C\u5FC5\u987B\u7B49\u5F85 end \u540E\u624D\u80FD\u6267\u884C\n      return currentStepName !== STEP_NAMES.PROCESSING;\n    }\n\n    if (stepName === STEP_NAMES.END) {\n      return currentStepName === STEP_NAMES.PROCESSING || currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.ROLLBACK) {\n      if (steps[STEP_NAMES.END]) {\n        // \u5982\u679C\u5B9A\u4E49\u4E86 end, \u53EA\u6709 end \u65F6\u624D\u5141\u8BB8\u56DE\u6EDA\n        return currentStepName === STEP_NAMES.END;\n      } else if (currentStepName === STEP_NAMES.START) {\n        // \u5982\u679C\u672A\u5B9A\u4E49 end, \u5219\u5224\u65AD\u662F\u5426\u662F\u5F00\u59CB\n        return true;\n      }\n    }\n    return false;\n  }\n\n  // \u5177\u4F53\u7684\u6307\u5B9A\u9636\u6BB5\u662F\u5426\u5141\u8BB8\u6267\u884C\n  private isAllowExecute(stepName: string, step: InteractionStep): boolean {\n    if (this.isAllowStep(stepName)) {\n      const key = this.getKey(stepName, step);\n      // \u5982\u679C\u662F\u5728\u672C\u73AF\u8282\u5185\u4EC5\u5141\u8BB8\u89E6\u53D1\u4E00\u6B21\uFF0C\u540C\u65F6\u5DF2\u7ECF\u89E6\u53D1\u8FC7\uFF0C\u5219\u4E0D\u5141\u8BB8\u518D\u89E6\u53D1\n      if (step.once && this.emitCaches[key]) {\n        return false;\n      }\n      // \u5982\u679C\u662F\u5141\u8BB8\u7684\u9636\u6BB5\uFF0C\u5219\u9A8C\u8BC1 isEnable \u65B9\u6CD5\n      if (step.isEnable) {\n        return step.isEnable(this.context);\n      }\n      return true; // \u5982\u679C\u6CA1\u6709 isEnable \u5219\u5141\u8BB8\u6267\u884C\n    }\n    return false;\n  }\n\n  private enterStep(stepName: string) {\n    this.currentStepName = stepName;\n    this.emitCaches = {}; // \u6E05\u9664\u6240\u6709\u672C\u73AF\u8282\u89E6\u53D1\u7684\u7F13\u5B58\n  }\n\n  // \u6267\u884C\u5B8C\u67D0\u4E2A\u89E6\u53D1\u548C\u53CD\u9988\uFF08\u5B50\u73AF\u8282\uFF09\n  private afterExecute(stepName: string, step) {\n    // show enable \u4E0D\u8BA1\u5165\u6B63\u5E38\u7684\u6D41\u7A0B\uFF0C\u5176\u4ED6\u60C5\u51B5\u5219\u8BBE\u7F6E\u5F53\u524D\u7684 step\n    if (stepName !== STEP_NAMES.SHOW_ENABLE && this.currentStepName !== stepName) {\n      this.enterStep(stepName);\n    }\n    const key = this.getKey(stepName, step);\n    // \u4E00\u65E6\u6267\u884C\uFF0C\u5219\u7F13\u5B58\u6807\u8BB0\u4E3A\uFF0C\u4E00\u76F4\u4FDD\u6301\u5230\u8DF3\u51FA\u6539\u73AF\u8282\n    this.emitCaches[key] = true;\n  }\n  // \u83B7\u53D6\u67D0\u4E2A\u73AF\u8282\u7684\u552F\u4E00\u7684\u952E\u503C\n  private getKey(stepName, step) {\n    return stepName + step.trigger + step.action;\n  }\n\n  // \u83B7\u53D6 step \u7684\u56DE\u8C03\u51FD\u6570\uFF0C\u5982\u679C\u5DF2\u7ECF\u751F\u6210\uFF0C\u5219\u76F4\u63A5\u8FD4\u56DE\uFF0C\u5982\u679C\u672A\u751F\u6210\uFF0C\u5219\u521B\u5EFA\n  private getActionCallback(stepName: string, step: InteractionStep): (e: object) => void {\n    const context = this.context;\n    const callbackCaches = this.callbackCaches;\n    const actionObject = step.actionObject;\n    if (step.action && actionObject) {\n      const key = this.getKey(stepName, step);\n      if (!callbackCaches[key]) {\n        // \u52A8\u6001\u751F\u6210\u6267\u884C\u7684\u65B9\u6CD5\uFF0C\u6267\u884C\u5BF9\u5E94 action \u7684\u540D\u79F0\n        const actionCallback = (event) => {\n          context.event = event; // \u4FDD\u8BC1\u68C0\u6D4B\u65F6\u7684 event\n          if (this.isAllowExecute(stepName, step)) {\n            // \u5982\u679C\u662F\u6570\u7EC4\u65F6\uFF0C\u5219\u4F9D\u6B21\u6267\u884C\n            if (isArray(actionObject)) {\n              each(actionObject, (obj: ActionObject) => {\n                context.event = event; // \u53EF\u80FD\u89E6\u53D1\u65B0\u7684\u4E8B\u4EF6\uFF0C\u4FDD\u8BC1\u6267\u884C\u524D\u7684 context.event \u662F\u6B63\u786E\u7684\n                executeAction(obj);\n              });\n            } else {\n              context.event = event; // \u4FDD\u8BC1\u6267\u884C\u524D\u7684 context.event \u662F\u6B63\u786E\u7684\n              executeAction(actionObject);\n            }\n            this.afterExecute(stepName, step);\n            if (step.callback) {\n              context.event = event; // \u4FDD\u8BC1\u6267\u884C\u524D\u7684 context.event \u662F\u6B63\u786E\u7684\n              step.callback(context);\n            }\n          } else {\n            // \u5982\u679C\u672A\u901A\u8FC7\u9A8C\u8BC1\uFF0C\u5219\u4E8B\u4EF6\u4E0D\u8981\u7ED1\u5B9A\u5728\u4E0A\u9762\n            context.event = null;\n          }\n        };\n        // \u5982\u679C\u8BBE\u7F6E\u4E86 debounce\n        if (step.debounce) {\n          callbackCaches[key] = debounce(actionCallback, step.debounce.wait, step.debounce.immediate);\n        } else if (step.throttle) {\n          // \u8BBE\u7F6E throttle\n          callbackCaches[key] = throttle(actionCallback, step.throttle.wait, {\n            leading: step.throttle.leading,\n            trailing: step.throttle.trailing,\n          });\n        } else {\n          // \u76F4\u63A5\u8BBE\u7F6E\n          callbackCaches[key] = actionCallback;\n        }\n      }\n      return callbackCaches[key];\n    }\n    return null;\n  }\n\n  private bindEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.addEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.addEventListener(nameArr[1], callback);\n    } else {\n      this.view.on(eventName, callback);\n    }\n  }\n\n  private offEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.removeEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.removeEventListener(nameArr[1], callback);\n    } else {\n      this.view.off(eventName, callback);\n    }\n  }\n}\n", "import { clone, isPlainObject, lowerCase, mix } from '@antv/util';\nimport { View } from '../chart';\nimport { LooseObject } from '../interface';\nimport GrammarInteraction, { InteractionSteps } from './grammar-interaction';\nimport { InteractionConstructor } from './interaction';\n\nconst Interactions: LooseObject = {};\n\n/**\n * \u6839\u636E\u4EA4\u4E92\u884C\u4E3A\u540D\u5B57\u83B7\u53D6\u5BF9\u5E94\u7684\u4EA4\u4E92\u7C7B\n * @param name \u4EA4\u4E92\u540D\u5B57\n * @returns \u4EA4\u4E92\u7C7B\n */\nexport function getInteraction(name: string): InteractionSteps | InteractionConstructor {\n  return Interactions[lowerCase(name)];\n}\n\n/**\n * \u6CE8\u518C\u4EA4\u4E92\u884C\u4E3A\n * @param name \u4EA4\u4E92\u884C\u4E3A\u540D\u5B57\n * @param interaction \u4EA4\u4E92\u7C7B\n */\nexport function registerInteraction(name: string, interaction: InteractionSteps | InteractionConstructor) {\n  Interactions[lowerCase(name)] = interaction;\n}\n\n/**\n * \u521B\u5EFA\u4EA4\u4E92\u5B9E\u4F8B\n * @param name \u4EA4\u4E92\u540D\n * @param view \u4EA4\u4E92\u5E94\u7528\u7684 View \u5B9E\u4F8B\n * @param cfg \u4EA4\u4E92\u884C\u4E3A\u914D\u7F6E\n */\nexport function createInteraction(name: string, view: View, cfg?: LooseObject) {\n  const interaciton = getInteraction(name);\n  if (!interaciton) {\n    return null;\n  }\n  if (isPlainObject(interaciton)) {\n    // \u5982\u679C\u4E0D clone \u5219\u4F1A\u591A\u4E2A interaction \u5B9E\u4F8B\u5171\u4EAB step \u7684\u5B9A\u4E49\n    const steps = mix(clone(interaciton), cfg) as InteractionSteps;\n    return new GrammarInteraction(view, steps);\n  } else {\n    const cls = interaciton as InteractionConstructor;\n    return new cls(view, cfg);\n  }\n}\n\nexport { default as Interaction } from './interaction';\nexport { Action, registerAction, getActionClass } from './action';\n", "import { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport Element from '../../geometry/element';\nimport { LooseObject, StyleSheet } from '../../interface';\nimport { getAngle } from '../../util/graphics';\n\n/**\n * \u6839\u636E\u6837\u5F0F\u8868\u521B\u5EFA axis \u7EC4\u4EF6\u4E3B\u9898\u6837\u5F0F\n * @param styleSheet\n */\nfunction createAxisStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: {\n      autoRotate: true,\n      position: 'center', // start, center, end\n      spacing: styleSheet.axisTitleSpacing,\n      style: {\n        fill: styleSheet.axisTitleTextFillColor,\n        fontSize: styleSheet.axisTitleTextFontSize,\n        lineHeight: styleSheet.axisTitleTextLineHeight,\n        textBaseline: 'middle',\n        fontFamily: styleSheet.fontFamily,\n      },\n      iconStyle: {\n        fill: styleSheet.axisDescriptionIconFillColor\n      }\n    },\n    label: {\n      autoRotate: false,\n      autoEllipsis: false,\n      autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n      offset: styleSheet.axisLabelOffset,\n      style: {\n        fill: styleSheet.axisLabelFillColor,\n        fontSize: styleSheet.axisLabelFontSize,\n        lineHeight: styleSheet.axisLabelLineHeight,\n        fontFamily: styleSheet.fontFamily,\n      },\n    },\n    line: {\n      style: {\n        lineWidth: styleSheet.axisLineBorder,\n        stroke: styleSheet.axisLineBorderColor,\n      },\n    },\n    grid: {\n      line: {\n        type: 'line',\n        style: {\n          stroke: styleSheet.axisGridBorderColor,\n          lineWidth: styleSheet.axisGridBorder,\n          lineDash: styleSheet.axisGridLineDash,\n        },\n      },\n      alignTick: true,\n      animate: true,\n    },\n    tickLine: {\n      style: {\n        lineWidth: styleSheet.axisTickLineBorder,\n        stroke: styleSheet.axisTickLineBorderColor,\n      },\n      alignTick: true, // \u9ED8\u8BA4\u523B\u5EA6\u7EBF\u548C\u6587\u672C\u5BF9\u9F50\n      length: styleSheet.axisTickLineLength,\n    },\n    subTickLine: null,\n    animate: true,\n  };\n}\n\n/**\n *\n * @param styleSheet\n */\n// export function\n\n/**\n * \u6839\u636E\u6837\u5F0F\u8868\u521B\u5EFA legend \u7EC4\u4EF6\u4E3B\u9898\u6837\u5F0F\n * @param styleSheet\n */\nfunction createLegendStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: null,\n    marker: {\n      symbol: 'circle',\n      spacing: styleSheet.legendMarkerSpacing,\n      style: {\n        r: styleSheet.legendCircleMarkerSize,\n        fill: styleSheet.legendMarkerColor,\n      },\n    },\n    itemName: {\n      spacing: 5, // \u5982\u679C\u53F3\u8FB9\u6709 value \u4F7F\u7528\u8FD9\u4E2A\u95F4\u8DDD\n      style: {\n        fill: styleSheet.legendItemNameFillColor,\n        fontFamily: styleSheet.fontFamily,\n        fontSize: styleSheet.legendItemNameFontSize,\n        lineHeight: styleSheet.legendItemNameLineHeight,\n        fontWeight: styleSheet.legendItemNameFontWeight,\n        textAlign: 'start',\n        textBaseline: 'middle',\n      },\n    },\n    itemStates: {\n      active: {\n        nameStyle: {\n          opacity: 0.8,\n        },\n      },\n      unchecked: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          fill: '#D8D8D8',\n          stroke: '#D8D8D8',\n        },\n      },\n      inactive: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          opacity: 0.2,\n        },\n      },\n    },\n    flipPage: true,\n    pageNavigator: {\n      marker: {\n        style: {\n          size: styleSheet.legendPageNavigatorMarkerSize,\n          inactiveFill: styleSheet.legendPageNavigatorMarkerInactiveFillColor,\n          inactiveOpacity: styleSheet.legendPageNavigatorMarkerInactiveFillOpacity,\n          fill: styleSheet.legendPageNavigatorMarkerFillColor,\n          opacity: styleSheet.legendPageNavigatorMarkerFillOpacity,\n        },\n      },\n      text: {\n        style: {\n          fill: styleSheet.legendPageNavigatorTextFillColor,\n          fontSize: styleSheet.legendPageNavigatorTextFontSize,\n        },\n      },\n    },\n    animate: false,\n    maxItemWidth: 200,\n    itemSpacing: styleSheet.legendItemSpacing,\n    itemMarginBottom: styleSheet.legendItemMarginBottom,\n    padding: styleSheet.legendPadding, // \u56FE\u4F8B\u7EC4\u4EF6\u81EA\u5DF1\u7684\u5916\u8FB9\u8DDD\n  };\n}\n\n/**\n * \u6839\u636E\u4E3B\u9898\u6837\u5F0F\u8868\u751F\u6210\u4E3B\u9898\u7ED3\u6784\n * @param styleSheet \u4E3B\u9898\u6837\u5F0F\u8868\n */\nexport function createThemeByStyleSheet(styleSheet: StyleSheet): LooseObject {\n  const shapeStyles = {\n    point: {\n      default: {\n        fill: styleSheet.pointFillColor,\n        r: styleSheet.pointSize,\n        stroke: styleSheet.pointBorderColor,\n        lineWidth: styleSheet.pointBorder,\n        fillOpacity: styleSheet.pointFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.pointActiveBorderColor,\n        lineWidth: styleSheet.pointActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.pointSelectedBorderColor,\n        lineWidth: styleSheet.pointSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.pointInactiveFillOpacity,\n        strokeOpacity: styleSheet.pointInactiveBorderOpacity,\n      },\n    },\n    hollowPoint: {\n      default: {\n        fill: styleSheet.hollowPointFillColor,\n        lineWidth: styleSheet.hollowPointBorder,\n        stroke: styleSheet.hollowPointBorderColor,\n        strokeOpacity: styleSheet.hollowPointBorderOpacity,\n        r: styleSheet.hollowPointSize,\n      },\n      active: {\n        stroke: styleSheet.hollowPointActiveBorderColor,\n        strokeOpacity: styleSheet.hollowPointActiveBorderOpacity,\n      },\n      selected: {\n        lineWidth: styleSheet.hollowPointSelectedBorder,\n        stroke: styleSheet.hollowPointSelectedBorderColor,\n        strokeOpacity: styleSheet.hollowPointSelectedBorderOpacity,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowPointInactiveBorderOpacity,\n      },\n    },\n    area: {\n      default: {\n        fill: styleSheet.areaFillColor,\n        fillOpacity: styleSheet.areaFillOpacity,\n        stroke: null,\n      },\n      active: {\n        fillOpacity: styleSheet.areaActiveFillOpacity,\n      },\n      selected: {\n        fillOpacity: styleSheet.areaSelectedFillOpacity,\n      },\n      inactive: {\n        fillOpacity: styleSheet.areaInactiveFillOpacity,\n      },\n    },\n    hollowArea: {\n      default: {\n        fill: null,\n        stroke: styleSheet.hollowAreaBorderColor,\n        lineWidth: styleSheet.hollowAreaBorder,\n        strokeOpacity: styleSheet.hollowAreaBorderOpacity,\n      },\n      active: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaActiveBorder,\n      },\n      selected: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowAreaInactiveBorderOpacity,\n      },\n    },\n    interval: {\n      default: {\n        fill: styleSheet.intervalFillColor,\n        fillOpacity: styleSheet.intervalFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.intervalActiveBorderColor,\n        lineWidth: styleSheet.intervalActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.intervalSelectedBorderColor,\n        lineWidth: styleSheet.intervalSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.intervalInactiveFillOpacity,\n        strokeOpacity: styleSheet.intervalInactiveBorderOpacity,\n      },\n    },\n    hollowInterval: {\n      default: {\n        fill: styleSheet.hollowIntervalFillColor,\n        stroke: styleSheet.hollowIntervalBorderColor,\n        lineWidth: styleSheet.hollowIntervalBorder,\n        strokeOpacity: styleSheet.hollowIntervalBorderOpacity,\n      },\n      active: {\n        stroke: styleSheet.hollowIntervalActiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalActiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalActiveBorderOpacity,\n      },\n      selected: {\n        stroke: styleSheet.hollowIntervalSelectedBorderColor,\n        lineWidth: styleSheet.hollowIntervalSelectedBorder,\n        strokeOpacity: styleSheet.hollowIntervalSelectedBorderOpacity,\n      },\n      inactive: {\n        stroke: styleSheet.hollowIntervalInactiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalInactiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalInactiveBorderOpacity,\n      },\n    },\n    line: {\n      default: {\n        stroke: styleSheet.lineBorderColor,\n        lineWidth: styleSheet.lineBorder,\n        strokeOpacity: styleSheet.lineBorderOpacity,\n        fill: null,\n        lineAppendWidth: 10,\n        lineCap: 'round',\n        lineJoin: 'round',\n      },\n      active: {\n        lineWidth: styleSheet.lineActiveBorder,\n      },\n      selected: {\n        lineWidth: styleSheet.lineSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.lineInactiveBorderOpacity,\n      },\n    },\n  };\n  const axisStyles = createAxisStyles(styleSheet);\n  const legendStyles = createLegendStyles(styleSheet);\n\n  return {\n    background: styleSheet.backgroundColor,\n    defaultColor: styleSheet.brandColor,\n    subColor: styleSheet.subColor,\n    semanticRed: styleSheet.paletteSemanticRed,\n    semanticGreen: styleSheet.paletteSemanticGreen,\n    padding: 'auto',\n    fontFamily: styleSheet.fontFamily,\n    // \u517C\u5BB9Theme\u914D\u7F6E\n    /** \u4E00\u822C\u67F1\u72B6\u56FE\u5BBD\u5EA6\u5360\u6BD4\uFF0Cgeometry\u4E2D\u5DF2\u6DFB\u52A0\u9ED8\u8BA4\u503C\uFF0C\u4E3A\u4E86geometry\u914D\u7F6E\u751F\u6548\u9ED8\u8BA4\u503C\u4E3Anull */\n    columnWidthRatio: 1 / 2,\n    /** \u67F1\u72B6\u56FE\u6700\u5927\u5BBD\u5EA6 */\n    maxColumnWidth: null,\n    /** \u67F1\u72B6\u56FE\u6700\u5C0F\u5BBD\u5EA6 */\n    minColumnWidth: null,\n    /** \u73AB\u7470\u56FE\u5360\u6BD4 */\n    roseWidthRatio: 0.9999999,\n    /** \u591A\u5C42\u997C\u56FE/\u73AF\u56FE\u5360\u6BD4 */\n    multiplePieWidthRatio: 1 / 1.3,\n    colors10: styleSheet.paletteQualitative10,\n    colors20: styleSheet.paletteQualitative20,\n    sequenceColors: styleSheet.paletteSequence,\n    shapes: {\n      point: [\n        'hollow-circle',\n        'hollow-square',\n        'hollow-bowtie',\n        'hollow-diamond',\n        'hollow-hexagon',\n        'hollow-triangle',\n        'hollow-triangle-down',\n        'circle',\n        'square',\n        'bowtie',\n        'diamond',\n        'hexagon',\n        'triangle',\n        'triangle-down',\n        'cross',\n        'tick',\n        'plus',\n        'hyphen',\n        'line',\n      ],\n      line: ['line', 'dash', 'dot', 'smooth'],\n      area: ['area', 'smooth', 'line', 'smooth-line'],\n      interval: ['rect', 'hollow-rect', 'line', 'tick'],\n    },\n    sizes: [1, 10],\n    geometries: {\n      interval: {\n        rect: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: (element: Element) => {\n              const coordinate = element.geometry.coordinate;\n              if (coordinate.isPolar && coordinate.isTransposed) {\n                const { startAngle, endAngle } = getAngle(element.getModel(), coordinate);\n                const middleAngle = (startAngle + endAngle) / 2;\n                const r = 7.5;\n                const x = r * Math.cos(middleAngle);\n                const y = r * Math.sin(middleAngle);\n                return {\n                  matrix: ext.transform(null, [['t', x, y]]),\n                };\n              }\n              return shapeStyles.interval.selected;\n            },\n          },\n        },\n        'hollow-rect': {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        funnel: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n        pyramid: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      line: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        dot: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n        },\n        dash: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hvh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      polygon: {\n        polygon: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      point: {\n        circle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        square: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        bowtie: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        diamond: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        hexagon: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        triangle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'triangle-down': {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'hollow-circle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-square': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-bowtie': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-diamond': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-hexagon': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle-down': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        cross: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        plus: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        hyphen: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n      },\n      area: {\n        area: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'smooth-line': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n      schema: {\n        candle: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        box: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n      },\n      edge: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        arc: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      violin: {\n        violin: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hollow: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'hollow-smooth': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n    },\n    components: {\n      axis: {\n        common: axisStyles,\n        top: {\n          position: 'top',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        bottom: {\n          position: 'bottom',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        left: {\n          position: 'left',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        right: {\n          position: 'right',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        circle: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'line' } }),\n        },\n        radius: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'circle' } }),\n        },\n      },\n      legend: {\n        common: legendStyles,\n        right: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        left: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        top: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        bottom: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        continuous: {\n          title: null,\n          background: null,\n          track: {},\n          rail: {\n            type: 'color',\n            size: styleSheet.sliderRailHeight,\n            defaultLength: styleSheet.sliderRailWidth,\n            style: {\n              fill: styleSheet.sliderRailFillColor,\n              stroke: styleSheet.sliderRailBorderColor,\n              lineWidth: styleSheet.sliderRailBorder,\n            },\n          },\n          label: {\n            align: 'rail',\n            spacing: 4, // \u6587\u672C\u548C rail \u7684\u95F4\u8DDD\n            formatter: null,\n            style: {\n              fill: styleSheet.sliderLabelTextFillColor,\n              fontSize: styleSheet.sliderLabelTextFontSize,\n              lineHeight: styleSheet.sliderLabelTextLineHeight,\n              textBaseline: 'middle',\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          handler: {\n            size: styleSheet.sliderHandlerWidth,\n            style: {\n              fill: styleSheet.sliderHandlerFillColor,\n              stroke: styleSheet.sliderHandlerBorderColor,\n            },\n          },\n          slidable: true,\n          padding: legendStyles.padding,\n        },\n      },\n      tooltip: {\n        showContent: true,\n        follow: true,\n        showCrosshairs: false,\n        showMarkers: true,\n        shared: false,\n        enterable: false,\n        position: 'auto',\n        marker: {\n          symbol: 'circle',\n          stroke: '#fff',\n          shadowBlur: 10,\n          shadowOffsetX: 0,\n          shadowOffsetY: 0,\n          shadowColor: 'rgba(0,0,0,0.09)',\n          lineWidth: 2,\n          r: 4,\n        },\n        crosshairs: {\n          line: {\n            style: {\n              stroke: styleSheet.tooltipCrosshairsBorderColor,\n              lineWidth: styleSheet.tooltipCrosshairsBorder,\n            },\n          },\n          text: null,\n          textBackground: {\n            padding: 2,\n            style: {\n              fill: 'rgba(0, 0, 0, 0.25)',\n              lineWidth: 0,\n              stroke: null,\n            },\n          },\n          follow: false,\n        },\n        // tooltip dom \u6837\u5F0F\n        domStyles: {\n          [`${TOOLTIP_CSS_CONST.CONTAINER_CLASS}`]: {\n            position: 'absolute',\n            visibility: 'hidden',\n            zIndex: 8,\n            transition: 'left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s',\n            backgroundColor: styleSheet.tooltipContainerFillColor,\n            opacity: styleSheet.tooltipContainerFillOpacity,\n            boxShadow: styleSheet.tooltipContainerShadow,\n            borderRadius: `${styleSheet.tooltipContainerBorderRadius}px`,\n            color: styleSheet.tooltipTextFillColor,\n            fontSize: `${styleSheet.tooltipTextFontSize}px`,\n            fontFamily: styleSheet.fontFamily,\n            lineHeight: `${styleSheet.tooltipTextLineHeight}px`,\n            padding: '0 12px 0 12px',\n          },\n          [`${TOOLTIP_CSS_CONST.TITLE_CLASS}`]: {\n            marginBottom: '12px',\n            marginTop: '12px',\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_CLASS}`]: {\n            margin: 0,\n            listStyleType: 'none',\n            padding: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_ITEM_CLASS}`]: {\n            listStyleType: 'none',\n            padding: 0,\n            marginBottom: '12px',\n            marginTop: '12px',\n            marginLeft: 0,\n            marginRight: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.MARKER_CLASS}`]: {\n            width: '8px',\n            height: '8px',\n            borderRadius: '50%',\n            display: 'inline-block',\n            marginRight: '8px',\n          },\n          [`${TOOLTIP_CSS_CONST.VALUE_CLASS}`]: {\n            display: 'inline-block',\n            float: 'right',\n            marginLeft: '30px',\n          },\n        },\n      },\n      annotation: {\n        arc: {\n          style: {\n            stroke: styleSheet.annotationArcBorderColor,\n            lineWidth: styleSheet.annotationArcBorder,\n          },\n          animate: true,\n        },\n        line: {\n          style: {\n            stroke: styleSheet.annotationLineBorderColor,\n            lineDash: styleSheet.annotationLineDash,\n            lineWidth: styleSheet.annotationLineBorder,\n          },\n          text: {\n            position: 'start',\n            autoRotate: true,\n            style: {\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              textAlign: 'start',\n              fontFamily: styleSheet.fontFamily,\n              textBaseline: 'bottom',\n            },\n          },\n          animate: true,\n        },\n        text: {\n          style: {\n            fill: styleSheet.annotationTextFillColor,\n            stroke: styleSheet.annotationTextBorderColor,\n            lineWidth: styleSheet.annotationTextBorder,\n            fontSize: styleSheet.annotationTextFontSize,\n            textBaseline: 'middle',\n            textAlign: 'start',\n            fontFamily: styleSheet.fontFamily,\n          },\n          animate: true,\n        },\n        region: {\n          top: false,\n          style: {\n            lineWidth: styleSheet.annotationRegionBorder,\n            stroke: styleSheet.annotationRegionBorderColor,\n            fill: styleSheet.annotationRegionFillColor,\n            fillOpacity: styleSheet.annotationRegionFillOpacity,\n          }, // \u8F85\u52A9\u6846\u7684\u56FE\u5F62\u6837\u5F0F\u5C5E\u6027\n          animate: true,\n        },\n        image: {\n          top: false,\n          animate: true,\n        },\n        dataMarker: {\n          top: true,\n          point: {\n            style: {\n              r: 3,\n              stroke: styleSheet.brandColor,\n              lineWidth: 2,\n            },\n          },\n          line: {\n            style: {\n              stroke: styleSheet.annotationLineBorderColor,\n              lineWidth: styleSheet.annotationLineBorder,\n            },\n            length: styleSheet.annotationDataMarkerLineLength,\n          },\n          text: {\n            style: {\n              textAlign: 'start',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          direction: 'upward',\n          autoAdjust: true,\n          animate: true,\n        },\n        dataRegion: {\n          style: {\n            region: {\n              fill: styleSheet.annotationRegionFillColor,\n              fillOpacity: styleSheet.annotationRegionFillOpacity,\n            },\n            text: {\n              textAlign: 'center',\n              textBaseline: 'bottom',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          animate: true,\n        },\n      },\n      slider: {\n        common: {\n          padding: [8, 8, 8, 8],\n          backgroundStyle: {\n            fill: styleSheet.cSliderBackgroundFillColor,\n            opacity: styleSheet.cSliderBackgroundFillOpacity,\n          },\n          foregroundStyle: {\n            fill: styleSheet.cSliderForegroundFillColor,\n            opacity: styleSheet.cSliderForegroundFillOpacity,\n          },\n          handlerStyle: {\n            width: styleSheet.cSliderHandlerWidth,\n            height: styleSheet.cSliderHandlerHeight,\n            fill: styleSheet.cSliderHandlerFillColor,\n            opacity: styleSheet.cSliderHandlerFillOpacity,\n            stroke: styleSheet.cSliderHandlerBorderColor,\n            lineWidth: styleSheet.cSliderHandlerBorder,\n            radius: styleSheet.cSliderHandlerBorderRadius,\n            // \u9AD8\u4EAE\u7684\u989C\u8272\n            highLightFill: styleSheet.cSliderHandlerHighlightFillColor,\n          },\n          textStyle: {\n            fill: styleSheet.cSliderTextFillColor,\n            opacity: styleSheet.cSliderTextFillOpacity,\n            fontSize: styleSheet.cSliderTextFontSize,\n            lineHeight: styleSheet.cSliderTextLineHeight,\n            fontWeight: styleSheet.cSliderTextFontWeight,\n            stroke: styleSheet.cSliderTextBorderColor,\n            lineWidth: styleSheet.cSliderTextBorder,\n          },\n        },\n      },\n      scrollbar: {\n        common: {\n          padding: [8, 8, 8, 8],\n        },\n        default: {\n          style: {\n            trackColor: styleSheet.scrollbarTrackFillColor,\n            thumbColor: styleSheet.scrollbarThumbFillColor,\n          },\n        },\n        hover: {\n          style: {\n            thumbColor: styleSheet.scrollbarThumbHighlightFillColor,\n          },\n        },\n      },\n    },\n    labels: {\n      offset: 12,\n      style: {\n        fill: styleSheet.labelFillColor,\n        fontSize: styleSheet.labelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.labelBorderColor,\n        lineWidth: styleSheet.labelBorder,\n      },\n      fillColorDark: styleSheet.labelFillColorDark,\n      fillColorLight: styleSheet.labelFillColorLight,\n      autoRotate: true,\n    },\n    innerLabels: {\n      style: {\n        fill: styleSheet.innerLabelFillColor,\n        fontSize: styleSheet.innerLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.innerLabelBorderColor,\n        lineWidth: styleSheet.innerLabelBorder,\n      },\n      autoRotate: true,\n    },\n    overflowLabels: {\n      style: {\n        fill: styleSheet.overflowLabelFillColor,\n        fontSize: styleSheet.overflowLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.overflowLabelBorderColor,\n        lineWidth: styleSheet.overflowLabelBorder,\n      },\n    },\n    pieLabels: {\n      labelHeight: 14,\n      offset: 10,\n      labelLine: {\n        style: {\n          lineWidth: styleSheet.labelLineBorder,\n        },\n      },\n      autoRotate: true,\n    },\n  };\n}\n", "import { StyleSheetCfg } from '../../interface';\n\nconst BLACK_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst WHITE_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#6F5EF9',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#6F5EF9',\n  '#D3CEFD',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/** \u5355\u8272\u987A\u5E8F\u8272\u677F */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createLightStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const { paletteQualitative10 = QUALITATIVE_10, paletteQualitative20 = QUALITATIVE_20 } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  const token = {\n    /** \u56FE\u8868\u80CC\u666F\u8272 */\n    backgroundColor: 'transparent',\n    /** \u4E3B\u9898\u8272 */\n    brandColor,\n    /** \u56FE\u8868\u8F85\u52A9\u8272 */\n    subColor: 'rgba(0,0,0,0.05)',\n    /** \u5206\u7C7B\u8272\u677F 1\uFF0C\u5728\u6570\u636E\u91CF\u5C0F\u4E8E\u7B49\u4E8E 10 \u65F6\u4F7F\u7528 */\n    paletteQualitative10,\n    /** \u5206\u7C7B\u8272\u677F 2\uFF0C\u5728\u6570\u636E\u91CF\u5927\u4E8E 10 \u65F6\u4F7F\u7528 */\n    paletteQualitative20,\n    /** \u8BED\u4E49\u8272 */\n    paletteSemanticRed: '#F4664A',\n    /** \u8BED\u4E49\u8272 */\n    paletteSemanticGreen: '#30BF78',\n    /** \u8BED\u4E49\u8272 */\n    paletteSemanticYellow: '#FAAD14',\n    /** (\u5355\u8272)\u987A\u5E8F\u8272\u677F */\n    paletteSequence: SINGLE_SEQUENCE,\n    /** \u5B57\u4F53 */\n    fontFamily: `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n\n    // -------------------- \u5750\u6807\u8F74 --------------------\n    /** \u5750\u6807\u8F74\u7EBF\u989C\u8272 */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /** \u5750\u6807\u8F74\u7EBF\u7C97\u7EC6 */\n    axisLineBorder: 1,\n    /** \u5750\u6807\u8F74\u7EBF lineDash \u8BBE\u7F6E */\n    axisLineDash: null,\n\n    /** \u5750\u6807\u8F74\u6807\u9898\u989C\u8272 */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /** \u5750\u6807\u8F74\u6807\u9898\u6587\u672C\u5B57\u4F53\u5927\u5C0F */\n    axisTitleTextFontSize: 12,\n    /** \u5750\u6807\u8F74\u6807\u9898\u6587\u672C\u884C\u9AD8 */\n    axisTitleTextLineHeight: 12,\n    /** \u5750\u6807\u8F74\u6807\u9898\u6587\u672C\u5B57\u4F53\u7C97\u7EC6 */\n    axisTitleTextFontWeight: 'normal',\n    /** \u5750\u6807\u8F74\u6807\u9898\u8DDD\u79BB\u5750\u6807\u8F74\u6587\u672C\u7684\u95F4\u8DDD */\n    axisTitleSpacing: 12,\n    /** \u5750\u6807\u8F74\u6807\u9898\u8BE6\u7EC6\u8BF4\u660Eicon\u989C\u8272 */\n    axisDescriptionIconFillColor: WHITE_COLORS[85],\n\n    /** \u5750\u6807\u8F74\u523B\u5EA6\u7EBF\u989C\u8272 */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /** \u5750\u6807\u8F74\u523B\u5EA6\u7EBF\u957F\u5EA6 */\n    axisTickLineLength: 4,\n    /** \u5750\u6807\u8F74\u523B\u5EA6\u7EBF\u7C97\u7EC6 */\n    axisTickLineBorder: 1,\n\n    /** \u5750\u6807\u8F74\u6B21\u523B\u5EA6\u7EBF\u989C\u8272 */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /** \u5750\u6807\u8F74\u6B21\u523B\u5EA6\u7EBF\u957F\u5EA6 */\n    axisSubTickLineLength: 2,\n    /** \u5750\u6807\u8F74\u6B21\u523B\u5EA6\u7EBF\u7C97\u7EC6 */\n    axisSubTickLineBorder: 1,\n\n    /** \u5750\u6807\u8F74\u523B\u5EA6\u6587\u672C\u989C\u8272 */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /** \u5750\u6807\u8F74\u523B\u5EA6\u6587\u672C\u5B57\u4F53\u5927\u5C0F */\n    axisLabelFontSize: 12,\n    /** \u5750\u6807\u8F74\u523B\u5EA6\u6587\u672C\u884C\u9AD8 */\n    axisLabelLineHeight: 12,\n    /** \u5750\u6807\u8F74\u523B\u5EA6\u6587\u672C\u5B57\u4F53\u7C97\u7EC6 */\n    axisLabelFontWeight: 'normal',\n    /** \u5750\u6807\u8F74\u523B\u5EA6\u6587\u672C\u8DDD\u79BB\u5750\u6807\u8F74\u7EBF\u7684\u95F4\u8DDD */\n    axisLabelOffset: 8,\n\n    /** \u5750\u6807\u8F74\u7F51\u683C\u7EBF\u989C\u8272 */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /** \u5750\u6807\u8F74\u7F51\u683C\u7EBF\u7C97\u7EC6 */\n    axisGridBorder: 1,\n    /** \u5750\u6807\u8F74\u7F51\u683C\u7EBF\u865A\u7EBF\u8BBE\u7F6E */\n    axisGridLineDash: null,\n\n    // -------------------- \u56FE\u4F8B --------------------\n    /** \u56FE\u4F8B\u6807\u9898\u989C\u8272 */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /** \u56FE\u4F8B\u6807\u9898\u6587\u672C\u5B57\u4F53\u5927\u5C0F */\n    legendTitleTextFontSize: 12,\n    /** \u56FE\u4F8B\u6807\u9898\u6587\u672C\u884C\u9AD8 */\n    legendTitleTextLineHeight: 21,\n    /** \u56FE\u4F8B\u6807\u9898\u6587\u672C\u5B57\u4F53\u7C97\u7EC6 */\n    legendTitleTextFontWeight: 'normal',\n\n    /** \u56FE\u4F8B marker \u989C\u8272 */\n    legendMarkerColor: brandColor,\n    /** \u56FE\u4F8B marker \u8DDD\u79BB\u56FE\u4F8B\u6587\u672C\u7684\u95F4\u8DDD */\n    legendMarkerSpacing: 8,\n    /** \u56FE\u4F8B marker \u9ED8\u8BA4\u534A\u5F84\u5927\u5C0F */\n    legendMarkerSize: 4,\n    /** \u56FE\u4F8B 'circle' marker \u534A\u5F84 */\n    legendCircleMarkerSize: 4,\n    /** \u56FE\u4F8B 'square' marker \u534A\u5F84 */\n    legendSquareMarkerSize: 4,\n    /** \u56FE\u4F8B 'line' marker \u534A\u5F84 */\n    legendLineMarkerSize: 5,\n\n    /** \u56FE\u4F8B\u9879\u6587\u672C\u989C\u8272 */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /** \u56FE\u4F8B\u9879\u6587\u672C\u5B57\u4F53\u5927\u5C0F */\n    legendItemNameFontSize: 12,\n    /** \u56FE\u4F8B\u9879\u6587\u672C\u884C\u9AD8 */\n    legendItemNameLineHeight: 12,\n    /** \u56FE\u4F8B\u9879\u7C97\u7EC6 */\n    legendItemNameFontWeight: 'normal',\n    /** \u56FE\u4F8B\u9879\u4E4B\u95F4\u7684\u6C34\u5E73\u95F4\u8DDD */\n    legendItemSpacing: 24,\n    /** \u56FE\u4F8B\u9879\u5782\u76F4\u65B9\u5411\u7684\u95F4\u9694 */\n    legendItemMarginBottom: 12,\n    /** \u56FE\u4F8B\u4E0E\u56FE\u8868\u7ED8\u56FE\u533A\u57DF\u7684\u504F\u79FB\u8DDD\u79BB  */\n    legendPadding: [8, 8, 8, 8],\n    /** \u6C34\u5E73\u5E03\u5C40\u7684\u56FE\u4F8B\u4E0E\u7ED8\u56FE\u533A\u57DF\u504F\u79FB\u8DDD\u79BB */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /** \u5782\u76F4\u5E03\u5C40\u7684\u56FE\u4F8B\u4E0E\u7ED8\u56FE\u533A\u57DF\u504F\u79FB\u8DDD\u79BB */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // \u56FE\u4F8B\u5206\u9875\u5668\n    /** \u56FE\u4F8B\u5206\u9875\u5668 marker \u5927\u5C0F */\n    legendPageNavigatorMarkerSize: 12,\n    /** \u56FE\u4F8B\u5206\u9875\u5668 marker \u975E\u6FC0\u6D3B\u72B6\u6001\u586B\u5145\u8272 */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[100],\n    /** \u56FE\u4F8B\u5206\u9875\u5668 marker \u975E\u6FC0\u6D3B\u72B6\u6001\u586B\u5145\u8272\u900F\u660E\u5EA6 */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /** \u56FE\u4F8B\u5206\u9875\u5668 marker \u586B\u5145\u8272 */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[100],\n    /** \u56FE\u4F8B\u5206\u9875\u5668 marker \u586B\u5145\u8272\u900F\u660E\u5EA6 */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /** \u56FE\u4F8B\u5206\u9875\u5668\u6587\u672C\u989C\u8272 */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[45],\n    /** \u56FE\u4F8B\u5206\u9875\u5668\u6587\u672C\u5B57\u4F53\u5927\u5C0F */\n    legendPageNavigatorTextFontSize: 12,\n\n    /** \u8FDE\u7EED\u56FE\u4F8B\u6ED1\u5757\u586B\u5145\u8272 */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /** \u8FDE\u7EED\u56FE\u4F8B\u6ED1\u5757\u8FB9\u6846\u7C97\u7EC6 */\n    sliderRailBorder: 0,\n    /** \u8FDE\u7EED\u56FE\u4F8B\u6ED1\u5757\u8FB9\u6846\u989C\u8272 */\n    sliderRailBorderColor: null,\n    /** \u8FDE\u7EED\u56FE\u4F8B\u6ED1\u5757\u5BBD\u5EA6 */\n    sliderRailWidth: 100,\n    /** \u8FDE\u7EED\u56FE\u4F8B\u6ED1\u5757\u9AD8\u5EA6 */\n    sliderRailHeight: 12,\n\n    /** \u8FDE\u7EED\u56FE\u4F8B\u6587\u672C\u989C\u8272 */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /** \u8FDE\u7EED\u56FE\u4F8B\u6587\u672C\u5B57\u4F53\u5927\u5C0F */\n    sliderLabelTextFontSize: 12,\n    /** \u8FDE\u7EED\u56FE\u4F8B\u6587\u672C\u884C\u9AD8 */\n    sliderLabelTextLineHeight: 12,\n    /** \u8FDE\u7EED\u56FE\u4F8B\u6587\u672C\u5B57\u4F53\u7C97\u7EC6 */\n    sliderLabelTextFontWeight: 'normal',\n\n    /** \u8FDE\u7EED\u56FE\u4F8B\u6ED1\u5757\u989C\u8272 */\n    sliderHandlerFillColor: BLACK_COLORS[6],\n    /** \u8FDE\u7EED\u56FE\u4F8B\u6ED1\u5757\u5BBD\u5EA6 */\n    sliderHandlerWidth: 10,\n    /** \u8FDE\u7EED\u56FE\u4F8B\u6ED1\u5757\u9AD8\u5EA6 */\n    sliderHandlerHeight: 14,\n    /** \u8FDE\u7EED\u56FE\u4F8B\u6ED1\u5757\u8FB9\u6846\u7C97\u7EC6 */\n    sliderHandlerBorder: 1,\n    /** \u8FDE\u7EED\u56FE\u4F8B\u6ED1\u5757\u8FB9\u6846\u989C\u8272 */\n    sliderHandlerBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Annotation\uFF0C\u56FE\u5F62\u6807\u6CE8 --------------------\n    /** arc \u56FE\u5F62\u6807\u6CE8\u63CF\u8FB9\u989C\u8272 */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc \u56FE\u5F62\u6807\u6CE8\u7C97\u7EC6 */\n    annotationArcBorder: 1,\n\n    /** line \u56FE\u5F62\u6807\u6CE8\u989C\u8272 */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line \u56FE\u5F62\u6807\u6CE8\u7C97\u7EC6 */\n    annotationLineBorder: 1,\n    /** lube \u56FE\u5F62\u6807\u6CE8\u7684\u865A\u7EBF\u95F4\u9694 */\n    annotationLineDash: null,\n\n    /** text \u56FE\u5F62\u6807\u6CE8\u6587\u672C\u989C\u8272 */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text \u56FE\u5F62\u6807\u6CE8\u6587\u672C\u5B57\u4F53\u5927\u5C0F */\n    annotationTextFontSize: 12,\n    /** text \u56FE\u5F62\u6807\u6CE8\u6587\u672C\u884C\u9AD8 */\n    annotationTextLineHeight: 12,\n    /** text \u56FE\u5F62\u6807\u6CE8\u6587\u672C\u5B57\u4F53\u7C97\u7EC6 */\n    annotationTextFontWeight: 'normal',\n    /** text \u56FE\u5F62\u6807\u6CE8\u6587\u672C\u8FB9\u6846\u989C\u8272 */\n    annotationTextBorderColor: null,\n    /** text \u56FE\u5F62\u6807\u6CE8\u6587\u672C\u8FB9\u6846\u7C97\u7EC6 */\n    annotationTextBorder: 0,\n\n    /** region \u56FE\u5F62\u6807\u6CE8\u586B\u5145\u989C\u8272 */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region \u56FE\u5F62\u6807\u6CE8\u586B\u5145\u989C\u8272\u900F\u660E\u8272 */\n    annotationRegionFillOpacity: 0.06,\n    /** region \u56FE\u5F62\u6807\u6CE8\u63CF\u8FB9\u7C97\u7EC6 */\n    annotationRegionBorder: 0,\n    /** region \u56FE\u5F62\u6807\u6CE8\u63CF\u8FB9\u989C\u8272 */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker \u56FE\u5F62\u6807\u6CE8\u7EBF\u7684\u957F\u5EA6 */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs \u8F85\u52A9\u7EBF\u989C\u8272 */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs \u8F85\u52A9\u7EBF\u7C97\u7EC6 */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs \u8F85\u52A9\u7EBF\u865A\u7EBF\u95F4\u9694 */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip \u5185\u5BB9\u6846\u80CC\u666F\u8272 */\n    tooltipContainerFillColor: 'rgb(255, 255, 255)',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip \u5185\u5BB9\u6846\u9634\u5F71 */\n    tooltipContainerShadow: '0px 0px 10px #aeaeae',\n    /** tooltip \u5185\u5BB9\u6846\u5706\u89D2 */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip \u6587\u672C\u989C\u8272 */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip \u6587\u672C\u5B57\u4F53\u5927\u5C0F */\n    tooltipTextFontSize: 12,\n    /** tooltip \u6587\u672C\u884C\u9AD8 */\n    tooltipTextLineHeight: 12,\n    /** tooltip \u6587\u672C\u5B57\u4F53\u7C97\u7EC6 */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label \u6587\u672C\u989C\u8272 */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label \u6587\u672C\u5B57\u4F53\u5927\u5C0F */\n    labelFontSize: 12,\n    /** Geometry label \u6587\u672C\u884C\u9AD8 */\n    labelLineHeight: 12,\n    /** Geometry label \u6587\u672C\u5B57\u4F53\u7C97\u7EC6 */\n    labelFontWeight: 'normal',\n    /** Geometry label \u6587\u672C\u63CF\u8FB9\u989C\u8272 */\n    labelBorderColor: null,\n    /** Geometry label \u6587\u672C\u63CF\u8FB9\u7C97\u7EC6 */\n    labelBorder: 0,\n\n    /** Geometry innerLabel \u6587\u672C\u989C\u8272 */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel \u6587\u672C\u5B57\u4F53\u5927\u5C0F */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel \u6587\u672C\u884C\u9AD8 */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel \u6587\u672C\u5B57\u4F53\u7C97\u7EC6 */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel \u6587\u672C\u63CF\u8FB9\u989C\u8272 */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel \u6587\u672C\u63CF\u8FB9\u7C97\u7EC6 */\n    innerLabelBorder: 0,\n\n    /** Geometry overflowLabel \u6587\u672C\u989C\u8272 */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    /** Geometry overflowLabel \u6587\u672C\u5B57\u4F53\u5927\u5C0F */\n    overflowLabelFontSize: 12,\n    /** Geometry overflowLabel \u6587\u672C\u884C\u9AD8 */\n    overflowLabelLineHeight: 12,\n    /** Geometry overflowLabel \u6587\u672C\u5B57\u4F53\u7C97\u7EC6 */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry overflowLabel \u6587\u672C\u63CF\u8FB9\u989C\u8272 */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry overflowLabel \u6587\u672C\u63CF\u8FB9\u7C97\u7EC6 */\n    overflowLabelBorder: 1,\n\n    /** Geometry label \u6587\u672C\u8FDE\u63A5\u7EBF\u7C97\u7EC6 */\n    labelLineBorder: 1,\n    /** Geometry label \u6587\u672C\u8FDE\u63A5\u7EBF\u989C\u8272 */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider \u7EC4\u4EF6\u6837\u5F0F--------------------\n    /** slider \u6ED1\u9053\u9AD8\u5EA6 */\n    cSliderRailHieght: 16,\n    /** slider \u6ED1\u9053\u80CC\u666F\u8272 */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider \u6ED1\u9053\u80CC\u666F\u8272\u900F\u660E\u5EA6 */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider \u6ED1\u9053\u524D\u666F\u8272 */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider \u6ED1\u9053\u524D\u666F\u8272\u900F\u660E\u5EA6 */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle \u624B\u67C4\u6837\u5F0F\n    /** slider \u624B\u67C4\u9AD8\u5EA6 */\n    cSliderHandlerHeight: 24,\n    /** Slider \u624B\u67C4\u5BBD\u5EA6 */\n    cSliderHandlerWidth: 10,\n    /** Slider \u624B\u67C4\u80CC\u666F\u8272 */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider \u624B\u67C4\u80CC\u666F\u8272\u900F\u660E\u5EA6 */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider \u624B\u67C4\u9AD8\u4EAE\u80CC\u666F\u8272 */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider \u624B\u67C4\u8FB9\u6846\u8272 */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider \u624B\u67C4\u8FB9\u6846\u7C97\u7EC6 */\n    cSliderHandlerBorder: 1,\n    /** Slider \u624B\u67C4\u8FB9\u6846\u5706\u89D2 */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle \u5B57\u4F53\u6807\u7B7E\u6837\u5F0F\n    /** Slider \u5B57\u4F53\u6807\u7B7E\u989C\u8272 */\n    cSliderTextFillColor: '#000',\n    /** Slider \u5B57\u4F53\u6807\u7B7E\u900F\u660E\u5EA6 */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider \u5B57\u4F53\u6807\u7B7E\u5927\u5C0F */\n    cSliderTextFontSize: 12,\n    /** Slider \u5B57\u4F53\u6807\u7B7E\u884C\u9AD8 */\n    cSliderTextLineHeight: 12,\n    /** Slider \u5B57\u4F53\u6807\u7B7E\u5B57\u91CD */\n    cSliderTextFontWeight: 'normal',\n    /** Slider \u5B57\u4F53\u6807\u7B7E\u63CF\u8FB9\u8272 */\n    cSliderTextBorderColor: null,\n    /** Slider \u5B57\u4F53\u6807\u7B7E\u63CF\u8FB9\u7C97\u7EC6 */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar \u7EC4\u4EF6\u6837\u5F0F--------------------\n    /** \u6EDA\u52A8\u6761 \u6EDA\u9053\u586B\u5145\u8272 */\n    scrollbarTrackFillColor: 'rgba(0,0,0,0)',\n    /** \u6EDA\u52A8\u6761 \u6ED1\u5757\u586B\u5145\u8272 */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.15)',\n    /** \u6EDA\u52A8\u6761 \u6ED1\u5757\u9AD8\u4EAE\u586B\u5145\u8272 */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.2)',\n\n    // -------------------- Geometry \u56FE\u5F62\u6837\u5F0F--------------------\n    /** \u70B9\u56FE\u586B\u5145\u989C\u8272 */\n    pointFillColor: brandColor,\n    /** \u70B9\u56FE\u586B\u5145\u989C\u8272\u900F\u660E\u5EA6 */\n    pointFillOpacity: 0.95,\n    /** \u70B9\u56FE\u5927\u5C0F */\n    pointSize: 4,\n    /** \u70B9\u56FE\u63CF\u8FB9\u7C97\u7EC6 */\n    pointBorder: 1,\n    /** \u70B9\u56FE\u63CF\u8FB9\u989C\u8272 */\n    pointBorderColor: WHITE_COLORS[100],\n    /** \u70B9\u56FE\u63CF\u8FB9\u900F\u660E\u5EA6 */\n    pointBorderOpacity: 1,\n\n    /** \u70B9\u56FE active \u72B6\u6001\u4E0B\u63CF\u8FB9\u989C\u8272 */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /** \u70B9\u56FE selected \u72B6\u6001\u4E0B\u63CF\u8FB9\u7C97\u7EC6 */\n    pointSelectedBorder: 2,\n    /** \u70B9\u56FE selected \u72B6\u6001\u4E0B\u63CF\u8FB9\u989C\u8272 */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /** \u70B9\u56FE inactive \u72B6\u6001\u4E0B\u586B\u5145\u989C\u8272\u900F\u660E\u5EA6 */\n    pointInactiveFillOpacity: 0.3,\n    /** \u70B9\u56FE inactive \u72B6\u6001\u4E0B\u63CF\u8FB9\u900F\u660E\u5EA6 */\n    pointInactiveBorderOpacity: 0.3,\n\n    /** \u7A7A\u5FC3\u70B9\u56FE\u5927\u5C0F */\n    hollowPointSize: 4,\n    /** \u7A7A\u5FC3\u70B9\u56FE\u63CF\u8FB9\u7C97\u7EC6 */\n    hollowPointBorder: 1,\n    /** \u7A7A\u5FC3\u70B9\u56FE\u63CF\u8FB9\u989C\u8272 */\n    hollowPointBorderColor: brandColor,\n    /** \u7A7A\u5FC3\u70B9\u56FE\u63CF\u8FB9\u900F\u660E\u5EA6 */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /** \u7A7A\u5FC3\u70B9\u56FE active \u72B6\u6001\u4E0B\u63CF\u8FB9\u7C97\u7EC6 */\n    hollowPointActiveBorder: 1,\n    /** \u7A7A\u5FC3\u70B9\u56FE active \u72B6\u6001\u4E0B\u63CF\u8FB9\u989C\u8272 */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /** \u7A7A\u5FC3\u70B9\u56FE active \u72B6\u6001\u4E0B\u63CF\u8FB9\u900F\u660E\u5EA6 */\n    hollowPointActiveBorderOpacity: 1,\n\n    /** \u7A7A\u5FC3\u70B9\u56FE selected \u72B6\u6001\u4E0B\u63CF\u8FB9\u7C97\u7EC6 */\n    hollowPointSelectedBorder: 2,\n    /** \u7A7A\u5FC3\u70B9\u56FE selected \u72B6\u6001\u4E0B\u63CF\u8FB9\u989C\u8272 */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /** \u7A7A\u5FC3\u70B9\u56FE selected \u72B6\u6001\u4E0B\u63CF\u8FB9\u900F\u660E\u5EA6 */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /** \u7A7A\u5FC3\u70B9\u56FE inactive \u72B6\u6001\u4E0B\u63CF\u8FB9\u900F\u660E\u5EA6 */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /** \u7EBF\u56FE\u7C97\u7EC6 */\n    lineBorder: 2,\n    /** \u7EBF\u56FE\u989C\u8272 */\n    lineBorderColor: brandColor,\n    /** \u7EBF\u56FE\u900F\u660E\u5EA6 */\n    lineBorderOpacity: 1,\n\n    /** \u7EBF\u56FE Active \u72B6\u6001\u4E0B\u7C97\u7EC6 */\n    lineActiveBorder: 3,\n\n    /** \u7EBF\u56FE selected \u72B6\u6001\u4E0B\u7C97\u7EC6 */\n    lineSelectedBorder: 3,\n\n    /** \u7EBF\u56FE inactive \u72B6\u6001\u4E0B\u900F\u660E\u5EA6 */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area \u586B\u5145\u989C\u8272 */\n    areaFillColor: brandColor,\n    /** area \u586B\u5145\u900F\u660E\u5EA6 */\n    areaFillOpacity: 0.25,\n\n    /** area \u5728 active \u72B6\u6001\u4E0B\u7684\u586B\u5145\u900F\u660E\u5EA6 */\n    areaActiveFillColor: brandColor,\n    areaActiveFillOpacity: 0.5,\n\n    /** area \u5728 selected \u72B6\u6001\u4E0B\u7684\u586B\u5145\u900F\u660E\u5EA6 */\n    areaSelectedFillColor: brandColor,\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive \u72B6\u6001\u4E0B\u586B\u5145\u900F\u660E\u5EA6 */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea \u989C\u8272 */\n    hollowAreaBorderColor: brandColor,\n    /** hollowArea \u8FB9\u6846\u7C97\u7EC6 */\n    hollowAreaBorder: 2,\n    /** hollowArea \u8FB9\u6846\u900F\u660E\u5EA6 */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active \u72B6\u6001\u4E0B\u7684\u8FB9\u6846\u7C97\u7EC6 */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected \u72B6\u6001\u4E0B\u7684\u8FB9\u6846\u7C97\u7EC6 */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive \u72B6\u6001\u4E0B\u7684\u8FB9\u6846\u900F\u660E\u5EA6 */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval \u586B\u5145\u989C\u8272 */\n    intervalFillColor: brandColor,\n    /** interval \u586B\u5145\u900F\u660E\u5EA6 */\n    intervalFillOpacity: 0.95,\n\n    /** interval active \u72B6\u6001\u4E0B\u8FB9\u6846\u7C97\u7EC6 */\n    intervalActiveBorder: 1,\n    /** interval active \u72B6\u6001\u4E0B\u8FB9\u6846\u989C\u8272 */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected \u72B6\u6001\u4E0B\u8FB9\u6846\u7C97\u7EC6 */\n    intervalSelectedBorder: 2,\n    /** interval selected \u72B6\u6001\u4E0B\u8FB9\u6846\u989C\u8272 */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected \u72B6\u6001\u4E0B\u8FB9\u6846\u900F\u660E\u5EA6 */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive \u72B6\u6001\u4E0B\u8FB9\u6846\u900F\u660E\u5EA6 */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive \u72B6\u6001\u4E0B\u586B\u5145\u900F\u660E\u5EA6 */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval \u8FB9\u6846\u7C97\u7EC6 */\n    hollowIntervalBorder: 2,\n    /** hollowInterval \u8FB9\u6846\u989C\u8272 */\n    hollowIntervalBorderColor: brandColor,\n    /** hollowInterval \u8FB9\u6846\u900F\u660E\u5EA6 */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active \u72B6\u6001\u4E0B\u8FB9\u6846\u7C97\u7EC6 */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active \u72B6\u6001\u4E0B\u8FB9\u6846\u989C\u8272 */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected \u72B6\u6001\u4E0B\u8FB9\u6846\u7C97\u7EC6 */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected \u72B6\u6001\u4E0B\u8FB9\u6846\u989C\u8272 */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected \u72B6\u6001\u4E0B\u8FB9\u6846\u900F\u660E\u5EA6 */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive \u72B6\u6001\u4E0B\u8FB9\u6846\u900F\u660E\u5EA6 */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n\n  return { ...token, ...cfg };\n};\n\nexport const antvLight = createLightStyleSheet();\n", "import { deepMix } from '@antv/util';\nimport { createThemeByStyleSheet } from './create-by-style-sheet';\nimport { createLightStyleSheet } from '../style-sheet/light';\nimport { LooseObject, StyleSheetCfg } from '../../interface';\n\ninterface ThemeCfg extends LooseObject {\n  styleSheet?: StyleSheetCfg;\n}\n\nexport function createTheme(themeCfg: ThemeCfg): LooseObject {\n  const { styleSheet: styleSheetCfg = {}, ...themeObject } = themeCfg;\n\n  // \u2460 \u521B\u5EFA\u6837\u5F0F\u8868 (\u9ED8\u8BA4\u521B\u5EFA light \u7684\u6837\u5F0F\u8868)\n  const styleSheet = createLightStyleSheet(styleSheetCfg);\n  // \u2461 \u521B\u5EFA\u4E3B\u9898\n  return deepMix({}, createThemeByStyleSheet(styleSheet), themeObject);\n}\n", "import { get, lowerCase } from '@antv/util';\nimport { LooseObject } from '../interface';\n\nimport { createTheme } from './util';\n\nconst defaultTheme = createTheme({});\n\n// \u6240\u6709\u5DF2\u7ECF\u5B58\u5728\u7684\u4E3B\u9898\nconst Themes: Record<string, LooseObject> = {\n  default: defaultTheme,\n};\n\n/**\n * \u83B7\u53D6\u4E3B\u9898\u914D\u7F6E\u4FE1\u606F\u3002\n * @param theme \u4E3B\u9898\u540D\n */\nexport function getTheme(theme?: string): LooseObject {\n  return get(Themes, lowerCase(theme), Themes.default);\n}\n\n/**\n * \u6CE8\u518C\u65B0\u7684\u4E3B\u9898\u914D\u7F6E\u4FE1\u606F\u3002\n * @param theme \u4E3B\u9898\u540D\u3002\n * @param value \u5177\u4F53\u7684\u4E3B\u9898\u914D\u7F6E\u3002\n */\nexport function registerTheme(theme: string, value: LooseObject) {\n  Themes[lowerCase(theme)] = createTheme(value);\n}\n", "import {\n  contains,\n  filter,\n  find,\n  isArray,\n  isEmpty,\n  isFunction,\n  isNil,\n  isNumberEqual,\n  isObject,\n  memoize,\n  get,\n  values,\n} from '@antv/util';\nimport { View } from '../chart';\nimport { FIELD_ORIGIN, GROUP_ATTRS } from '../constant';\nimport { Attribute, Scale } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { Data, Datum, MappingDatum, Point, TooltipCfg, TooltipTitle } from '../interface';\nimport { getName, inferScaleType } from './scale';\n\nfunction snapEqual(v1: any, v2: any, scale: Scale) {\n  const value1 = scale.translate(v1);\n  const value2 = scale.translate(v2);\n\n  return isNumberEqual(value1, value2);\n}\n\nfunction getXValueByPoint(point: Point, geometry: Geometry): number {\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const range = xScale.range;\n  const rangeMax = range[range.length - 1];\n  const rangeMin = range[0];\n\n  const invertPoint = coordinate.invert(point);\n\n  let xValue = invertPoint.x;\n  if (coordinate.isPolar && xValue > (1 + rangeMax) / 2) {\n    xValue = rangeMin; // \u6781\u5750\u6807\u4E0B\uFF0Cscale \u7684 range \u88AB\u505A\u8FC7\u7279\u6B8A\u5904\u7406\n  }\n  return xScale.translate(xScale.invert(xValue));\n}\n\nfunction filterYValue(data: Data, point: Point, geometry: Geometry) {\n  const coordinate = geometry.coordinate;\n  const yScale = geometry.getYScale();\n  const yField = yScale.field;\n  const invertPoint = coordinate.invert(point);\n  const yValue = yScale.invert(invertPoint.y);\n\n  const result = find(data, (obj: Datum) => {\n    const originData = obj[FIELD_ORIGIN];\n    return originData[yField][0] <= yValue && originData[yField][1] >= yValue;\n  });\n  return result || data[data.length - 1];\n}\n\nconst getXDistance = memoize((scale: Scale) => {\n  if (scale.isCategory) {\n    return 1;\n  }\n  const scaleValues = scale.values; // values \u662F\u65E0\u5E8F\u7684\n  const length = scaleValues.length;\n  let min = scale.translate(scaleValues[0]);\n  let max = min;\n\n  for (let index = 0; index < length; index++) {\n    const value = scaleValues[index];\n    // \u65F6\u95F4\u7C7B\u578B\u9700\u8981 translate\n    const numericValue = scale.translate(value);\n    if (numericValue < min) {\n      min = numericValue;\n    }\n    if (numericValue > max) {\n      max = numericValue;\n    }\n  }\n  return (max - min) / (length - 1);\n});\n\n/**\n * \u83B7\u5F97 tooltip \u7684 title\n * @param originData\n * @param geometry\n * @param title\n */\nfunction getTooltipTitle(originData: Datum, geometry: Geometry, title: TooltipTitle): string {\n  const positionAttr = geometry.getAttribute('position');\n  const fields = positionAttr.getFields();\n  const scales = geometry.scales;\n\n  const titleField = isFunction(title) || !title ? fields[0] : title;\n  const titleScale = scales[titleField];\n\n  // \u5982\u679C\u521B\u5EFA\u4E86\u8BE5\u5B57\u6BB5\u5BF9\u5E94\u7684 scale\uFF0C\u5219\u901A\u8FC7 scale.getText() \u65B9\u5F0F\u53D6\u503C\uFF0C\u56E0\u4E3A\u7528\u6237\u53EF\u80FD\u5BF9\u6570\u636E\u8FDB\u884C\u4E86\u683C\u5F0F\u5316\n  // \u5982\u679C\u6CA1\u6709\u5BF9\u5E94\u7684 scale\uFF0C\u5219\u4ECE\u539F\u59CB\u6570\u636E\u4E2D\u53D6\u503C\uFF0C\u5982\u679C\u539F\u59CB\u6570\u636E\u4E2D\u4ECD\u4E0D\u5B58\u5728\uFF0C\u5219\u76F4\u63A5\u653E\u56DE title \u503C\n  const tooltipTitle = titleScale ? titleScale.getText(originData[titleField]) : originData[titleField] || titleField;\n\n  return isFunction(title) ? title(tooltipTitle, originData) : tooltipTitle;\n}\n\nfunction getAttributesForLegend(geometry: Geometry) {\n  const attributes = values(geometry.attributes);\n  return filter(attributes, (attribute: Attribute) => contains(GROUP_ATTRS, attribute.type));\n}\n\nfunction getTooltipValueScale(geometry: Geometry) {\n  const attributes = getAttributesForLegend(geometry);\n  let scale;\n  for (const attribute of attributes) {\n    const tmpScale = attribute.getScale(attribute.type);\n    if (tmpScale && tmpScale.isLinear) {\n      const tmpScaleDef = get(geometry.scaleDefs, tmpScale.field);\n      const inferedScaleType = inferScaleType(tmpScale, tmpScaleDef, attribute.type, geometry.type);\n      if (inferedScaleType !== 'cat') {\n        // \u5982\u679C\u6307\u5B9A\u5B57\u6BB5\u662F\u975E position \u7684\uFF0C\u540C\u65F6\u662F\u8FDE\u7EED\u7684\n        scale = tmpScale;\n        break;\n      }\n    }\n  }\n\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  return scale || yScale || xScale;\n}\n\nfunction getTooltipValue(originData: Datum, valueScale: Scale) {\n  const field = valueScale.field;\n  const value = originData[field];\n\n  if (isArray(value)) {\n    const texts = value.map((eachValue) => {\n      return valueScale.getText(eachValue);\n    });\n    return texts.join('-');\n  }\n  return valueScale.getText(value);\n}\n\n// \u6839\u636E\u539F\u59CB\u6570\u636E\u83B7\u53D6 tooltip item \u4E2D name \u503C\nfunction getTooltipName(originData: Datum, geometry: Geometry) {\n  let nameScale: Scale;\n  const groupScales = geometry.getGroupScales();\n  if (groupScales.length) {\n    // \u5982\u679C\u5B58\u5728\u5206\u7EC4\u7C7B\u578B\uFF0C\u53D6\u7B2C\u4E00\u4E2A\u5206\u7EC4\u7C7B\u578B\n    nameScale = groupScales[0];\n  }\n  if (nameScale) {\n    const field = nameScale.field;\n    return nameScale.getText(originData[field]);\n  }\n\n  const valueScale = getTooltipValueScale(geometry);\n  return getName(valueScale);\n}\n\n/**\n * @ignore\n * Finds data from geometry by point\n * @param point canvas point\n * @param data an item of geometry.dataArray\n * @param geometry\n * @returns\n */\nexport function findDataByPoint(point: Point, data: MappingDatum[], geometry: Geometry) {\n  if (data.length === 0) {\n    return null;\n  }\n\n  const geometryType = geometry.type;\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  const xField = xScale.field;\n  const yField = yScale.field;\n\n  let rst = null;\n\n  // \u70ED\u529B\u56FE\u91C7\u7528\u6700\u5C0F\u903C\u8FD1\u7B56\u7565\u67E5\u627E point \u51FB\u4E2D\u7684\u6570\u636E\n  if (geometryType === 'heatmap' || geometryType === 'point') {\n    // \u5C06 point \u753B\u5E03\u5750\u6807\u8F6C\u6362\u4E3A\u539F\u59CB\u6570\u636E\u503C\n    const coordinate = geometry.coordinate;\n    const invertPoint = coordinate.invert(point); // \u8F6C\u6362\u6210\u5F52\u4E00\u5316\u7684\u6570\u636E\n    const x = xScale.invert(invertPoint.x); // \u8F6C\u6362\u4E3A\u539F\u59CB\u503C\n    const y = yScale.invert(invertPoint.y); // \u8F6C\u6362\u4E3A\u539F\u59CB\u503C\n\n    let min = Infinity;\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const originData = obj[FIELD_ORIGIN];\n      const range = (originData[xField] - x) ** 2 + (originData[yField] - y) ** 2;\n      if (range < min) {\n        min = range;\n        rst = obj;\n      }\n    }\n\n    return rst;\n  }\n\n  // \u5176\u4ED6 Geometry \u7C7B\u578B\u6309\u7167 x \u5B57\u6BB5\u6570\u636E\u8FDB\u884C\u67E5\u627E\n  const first = data[0];\n  let last = data[data.length - 1];\n  const xValue = getXValueByPoint(point, geometry);\n  const firstXValue = first[FIELD_ORIGIN][xField];\n  const firstYValue = first[FIELD_ORIGIN][yField];\n  const lastXValue = last[FIELD_ORIGIN][xField];\n  const isYArray = yScale.isLinear && isArray(firstYValue); // \u8003\u8651 x \u7EF4\u5EA6\u76F8\u540C\uFF0Cy \u662F\u6570\u7EC4\u533A\u95F4\u7684\u60C5\u51B5\n\n  // \u5982\u679C x \u7684\u503C\u662F\u6570\u7EC4\n  if (isArray(firstXValue)) {\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const originData = record[FIELD_ORIGIN];\n      // xValue \u5728 originData[xField] \u7684\u6570\u503C\u533A\u95F4\u5185\n      if (xScale.translate(originData[xField][0]) <= xValue && xScale.translate(originData[xField][1]) >= xValue) {\n        if (isYArray) {\n          // \u5C42\u53E0\u76F4\u65B9\u56FE\u573A\u666F\uFF0Cx \u548C y \u90FD\u662F\u6570\u7EC4\u533A\u95F4\n          if (!isArray(rst)) {\n            rst = [];\n          }\n          rst.push(record);\n        } else {\n          rst = record;\n          break;\n        }\n      }\n    }\n    if (isArray(rst)) {\n      rst = filterYValue(rst, point, geometry);\n    }\n  } else {\n    let next;\n    if (!xScale.isLinear && xScale.type !== 'timeCat') {\n      // x \u8F74\u5BF9\u5E94\u7684\u6570\u636E\u4E3A\u975E\u7EBF\u6027\u4EE5\u53CA\u975E\u65F6\u95F4\u7C7B\u578B\u7684\u6570\u636E\u91C7\u7528\u904D\u5386\u67E5\u627E\n      for (let index = 0; index < data.length; index++) {\n        const record = data[index];\n        const originData = record[FIELD_ORIGIN];\n        if (snapEqual(originData[xField], xValue, xScale)) {\n          if (isYArray) {\n            if (!isArray(rst)) {\n              rst = [];\n            }\n            rst.push(record);\n          } else {\n            rst = record;\n            break;\n          }\n        } else if (xScale.translate(originData[xField]) <= xValue) {\n          last = record;\n          next = data[index + 1];\n        }\n      }\n\n      if (isArray(rst)) {\n        rst = filterYValue(rst, point, geometry);\n      }\n    } else {\n      // x \u8F74\u5BF9\u5E94\u7684\u6570\u636E\u4E3A\u7EBF\u6027\u4EE5\u53CA\u65F6\u95F4\u7C7B\u578B\uFF0C\u8FDB\u884C\u4E8C\u5206\u67E5\u627E\uFF0C\u6027\u80FD\u66F4\u597D\n      if (\n        (xValue > xScale.translate(lastXValue) || xValue < xScale.translate(firstXValue)) &&\n        (xValue > xScale.max || xValue < xScale.min)\n      ) {\n        // \u4E0D\u5728\u6570\u636E\u8303\u56F4\u5185\n        return null;\n      }\n\n      let firstIdx = 0;\n      let lastIdx = data.length - 1;\n      let middleIdx;\n      while (firstIdx <= lastIdx) {\n        middleIdx = Math.floor((firstIdx + lastIdx) / 2);\n        const item = data[middleIdx][FIELD_ORIGIN][xField];\n        if (snapEqual(item, xValue, xScale)) {\n          return data[middleIdx];\n        }\n\n        if (xScale.translate(item) <= xScale.translate(xValue)) {\n          firstIdx = middleIdx + 1;\n          last = data[middleIdx];\n          next = data[middleIdx + 1];\n        } else {\n          if (lastIdx === 0) {\n            last = data[0];\n          }\n          lastIdx = middleIdx - 1;\n        }\n      }\n    }\n\n    if (last && next) {\n      // \u8BA1\u7B97\u6700\u903C\u8FD1\u7684\n      if (\n        Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) >\n        Math.abs(xScale.translate(next[FIELD_ORIGIN][xField]) - xValue)\n      ) {\n        last = next;\n      }\n    }\n  }\n\n  const distance = getXDistance(geometry.getXScale()); // \u6BCF\u4E2A\u5206\u7C7B\u95F4\u7684\u5E73\u5747\u95F4\u8DDD\n  if (!rst && Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) <= distance / 2) {\n    rst = last;\n  }\n\n  return rst;\n}\n\n/**\n * @ignore\n * Gets tooltip items\n * @param data\n * @param geometry\n * @param [title]\n * @returns\n */\nexport function getTooltipItems(\n  data: MappingDatum,\n  geometry: Geometry,\n  title: TooltipTitle = '',\n  showNil: boolean = false\n) {\n  const originData = data[FIELD_ORIGIN];\n  const tooltipTitle = getTooltipTitle(originData, geometry, title);\n  const tooltipOption = geometry.tooltipOption;\n  const { defaultColor } = geometry.theme;\n  const items = [];\n  let name;\n  let value;\n\n  function addItem(itemName, itemValue) {\n    if (showNil || (!isNil(itemValue) && itemValue !== '')) {\n      // \u503C\u4E3A null\u7684\u65F6\u5019\uFF0C\u5FFD\u89C6\n      const item = {\n        title: tooltipTitle,\n        data: originData, // \u539F\u59CB\u6570\u636E\n        mappingData: data, // \u6620\u5C04\u540E\u7684\u6570\u636E\n        name: itemName,\n        value: itemValue,\n        color: data.color || defaultColor,\n        marker: true,\n      };\n\n      items.push(item);\n    }\n  }\n\n  if (isObject(tooltipOption)) {\n    const { fields, callback } = tooltipOption;\n    if (callback) {\n      // \u7528\u6237\u5B9A\u4E49\u4E86\u56DE\u8C03\u51FD\u6570\n      const callbackParams = fields.map((field: string) => {\n        return data[FIELD_ORIGIN][field];\n      });\n      const cfg = callback(...callbackParams);\n      const itemCfg = {\n        data: data[FIELD_ORIGIN], // \u539F\u59CB\u6570\u636E\n        mappingData: data, // \u6620\u5C04\u540E\u7684\u6570\u636E\n        title: tooltipTitle,\n        color: data.color || defaultColor,\n        marker: true, // \u9ED8\u8BA4\u5C55\u793A marker\n        ...cfg,\n      };\n\n      items.push(itemCfg);\n    } else {\n      const scales = geometry.scales;\n      for (const field of fields) {\n        if (!isNil(originData[field])) {\n          // \u5B57\u6BB5\u6570\u636E\u4E3Anull, undefined \u65F6\u4E0D\u663E\u793A\n          const scale = scales[field];\n          name = getName(scale);\n          value = scale.getText(originData[field]);\n          addItem(name, value);\n        }\n      }\n    }\n  } else {\n    const valueScale = getTooltipValueScale(geometry);\n    // \u5B57\u6BB5\u6570\u636E\u4E3Anull ,undefined\u65F6\u4E0D\u663E\u793A\n    value = getTooltipValue(originData, valueScale);\n    name = getTooltipName(originData, geometry);\n    addItem(name, value);\n  }\n  return items;\n}\n\nfunction getTooltipItemsByFindData(geometry: Geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const dataArray = geometry.dataArray;\n  if (!isEmpty(dataArray)) {\n    geometry.sort(dataArray); // \u5148\u8FDB\u884C\u6392\u5E8F\uFF0C\u4FBF\u4E8E tooltip \u67E5\u627E\n    for (const data of dataArray) {\n      const record = findDataByPoint(point, data, geometry);\n      if (record) {\n        const elementId = geometry.getElementId(record);\n        const element = geometry.elementsMap[elementId];\n        if (geometry.type === 'heatmap' || element.visible) {\n          // Heatmap \u6CA1\u6709 Element\n          // \u5982\u679C\u56FE\u5F62\u5143\u7D20\u9690\u85CF\u4E86\uFF0C\u600E\u4E0D\u518D tooltip \u4E0A\u5C55\u793A\u76F8\u5173\u6570\u636E\n          const items = getTooltipItems(record, geometry, title, showNil);\n          if (items.length) {\n            result.push(items);\n          }\n        }\n      }\n    }\n  }\n\n  return result;\n}\n\nfunction getTooltipItemsByHitShape(geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const container = geometry.container;\n  const shape = container.getShape(point.x, point.y);\n  if (shape && shape.get('visible') && shape.get('origin')) {\n    const mappingData = shape.get('origin').mappingData;\n    const items = getTooltipItems(mappingData, geometry, title, showNil);\n    if (items.length) {\n      result.push(items);\n    }\n  }\n\n  return result;\n}\n\n/**\n * \u4E0D\u8FDB\u884C\u9012\u5F52\u67E5\u627E\n */\nexport function findItemsFromView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  const result = [];\n  // \u5148\u4ECE view \u672C\u8EAB\u67E5\u627E\n  const geometries = view.geometries;\n  const { shared, title, reversed } = tooltipCfg;\n  for (const geometry of geometries) {\n    if (geometry.visible && geometry.tooltipOption !== false) {\n      // geometry \u53EF\u89C1\u540C\u65F6\u672A\u5173\u95ED tooltip\n      const geometryType = geometry.type;\n      let tooltipItems;\n      if (['point', 'edge', 'polygon'].includes(geometryType)) {\n        // \u59CB\u7EC8\u901A\u8FC7\u56FE\u5F62\u62FE\u53D6\n        tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n      } else if (['area', 'line', 'path', 'heatmap'].includes(geometryType)) {\n        // \u5982\u679C\u662F 'area', 'line', 'path'\uFF0C\u59CB\u7EC8\u901A\u8FC7\u6570\u636E\u67E5\u627E\u65B9\u6CD5\u67E5\u627E tooltip\n        tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n      } else {\n        if (shared !== false) {\n          tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n        } else {\n          tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n        }\n      }\n      if (tooltipItems.length) {\n        if (reversed) {\n          tooltipItems.reverse();\n        }\n        // geometry \u6709\u53EF\u80FD\u4F1A\u6709\u591A\u4E2A item\uFF0C\u56E0\u4E3A\u7528\u6237\u53EF\u4EE5\u8BBE\u7F6E geometry.tooltip('x*y*z')\n        result.push(tooltipItems);\n      }\n    }\n  }\n\n  return result;\n}\n\nexport function findItemsFromViewRecurisive(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let result = findItemsFromView(view, point, tooltipCfg);\n\n  // \u9012\u5F52\u67E5\u627E\uFF0C\u5E76\u5408\u5E76\u7ED3\u679C\n  for (const childView of view.views) {\n    result = result.concat(findItemsFromView(childView, point, tooltipCfg));\n  }\n\n  return result;\n}\n", "import { isArray, isNumber } from '@antv/util';\nimport { Padding, ViewPadding } from '../interface';\n\n/**\n * @ignore\n * \u662F\u5426\u662F\u81EA\u52A8 padding\n * @param padding\n */\nexport function isAutoPadding(padding: ViewPadding): padding is 'auto' {\n  return !isNumber(padding) && !isArray(padding);\n}\n\n/**\n * @ignore\n * padding \u7684\u89E3\u6790\u903B\u8F91\n * @param padding\n * @return [ top, right, bottom, left ]\n */\nexport function parsePadding(padding: number[] | number = 0): Padding {\n  let paddingArray = isArray(padding) ? padding : [padding];\n\n  switch (paddingArray.length) {\n    case 0:\n      paddingArray = [0, 0, 0, 0];\n      break;\n    case 1:\n      paddingArray = new Array(4).fill(paddingArray[0]);\n      break;\n    case 2:\n      paddingArray = [...paddingArray, ...paddingArray];\n      break;\n    case 3:\n      paddingArray = [...paddingArray, paddingArray[1]];\n      break;\n    default:\n      // \u5176\u4ED6\u60C5\u51B5\uFF0C\u53EA\u53BB\u56DB\u4E2A\n      paddingArray = paddingArray.slice(0, 4);\n      break;\n  }\n\n  return paddingArray as [number, number, number, number];\n}\n", "import { ControllerCtor } from './base';\n\nconst LOAD_COMPONENT_CONTROLLERS: Record<string, ControllerCtor> = {};\n\n/**\n * \u5168\u5C40\u6CE8\u518C\u7EC4\u4EF6\u3002\n * @param name \u7EC4\u4EF6\u540D\u79F0\n * @param plugin \u6CE8\u518C\u7684\u7EC4\u4EF6\u7C7B\n * @returns void\n */\nexport function registerComponentController(name: string, plugin: ControllerCtor) {\n  LOAD_COMPONENT_CONTROLLERS[name] = plugin;\n}\n\n/**\n * \u5220\u9664\u5168\u5C40\u7EC4\u4EF6\u3002\n * @param name \u7EC4\u4EF6\u540D\n * @returns void\n */\nexport function unregisterComponentController(name: string) {\n  delete LOAD_COMPONENT_CONTROLLERS[name];\n}\n\n/**\n * \u83B7\u53D6\u4EE5\u6CE8\u518C\u7684\u7EC4\u4EF6\u540D\u3002\n * @returns string[] \u8FD4\u56DE\u5DF2\u6CE8\u518C\u7684\u7EC4\u4EF6\u540D\u79F0\n */\nexport function getComponentControllerNames(): string[] {\n  return Object.keys(LOAD_COMPONENT_CONTROLLERS);\n}\n\n/**\n * \u6839\u636E\u7EC4\u4EF6\u540D\u83B7\u53D6\u7EC4\u4EF6\u7C7B\u3002\n * @param name \u7EC4\u4EF6\u540D\n * @returns \u8FD4\u56DE\u7EC4\u4EF6\u7C7B\n */\nexport function getComponentController(name: string): ControllerCtor {\n  return LOAD_COMPONENT_CONTROLLERS[name];\n}\n", "import { each, isNil, some } from '@antv/util';\nimport { Coordinate, getCoordinate, Point } from '../../dependents';\nimport { CoordinateOption } from '../../interface';\n\n/**\n * coordinate controller\uFF0C\u804C\u8D23\uFF1A\n * 1. \u521B\u5EFA\u5B9E\u4F8B\n * 2. \u6682\u5B58\u914D\u7F6E\n */\nexport default class CoordinateController {\n  private option: CoordinateOption;\n  private coordinate: Coordinate;\n\n  constructor(option?: CoordinateOption) {\n    // \u8BBE\u7F6E\u9ED8\u8BA4\u503C\uFF0C\u5E76\u5B58\u50A8\u914D\u7F6E\n    this.option = this.wrapperOption(option);\n  }\n\n  /**\n   * \u66F4\u65B0\u914D\u7F6E\n   * @param option\n   */\n  public update(option: CoordinateOption) {\n    this.option = this.wrapperOption(option);\n    return this;\n  }\n\n  /**\n   * \u662F\u5426\u5B58\u5728\u67D0\u4E00\u4E2A action\n   * @param actionName\n   */\n  public hasAction(actionName: string) {\n    const { actions } = this.option;\n\n    return some(actions, (action) => action[0] === actionName);\n  }\n  /**\n   * \u521B\u5EFA\u5750\u6807\u7CFB\u5BF9\u8C61\n   * @param start \u8D77\u59CB\u4F4D\u7F6E\n   * @param end   \u7ED3\u675F\u4F4D\u7F6E\n   * @return \u5750\u6807\u7CFB\u5B9E\u4F8B\n   */\n  public create(start: Point, end: Point) {\n    const { type, cfg } = this.option;\n    const isTheta = type === 'theta';\n\n    // 1. \u8D77\u59CB\u4F4D\u7F6E\n    const props = {\n      start,\n      end,\n      ...cfg,\n    };\n\n    // 2. \u521B\u5EFA\u5B9E\u4F8B\n    const C = getCoordinate(isTheta ? 'polar' : type);\n\n    this.coordinate = new C(props);\n\n    // @ts-ignore FIXME coordinate \u5305\u95EE\u9898\u5BFC\u81F4 type \u4E0D\u6B63\u786E\n    this.coordinate.type = type;\n\n    // 3. \u6DFB\u52A0\u9ED8\u8BA4 action\n    if (isTheta) {\n      // \u4E0D\u5B58\u5728 transpose\uFF0C\u4E3A\u5176\u81EA\u52A8\u8BBE\u7F6E\u4E00\u4E2A action\n      if (!this.hasAction('transpose')) {\n        this.transpose();\n      }\n    }\n\n    // 4. \u6267\u884C action\n    this.execActions();\n\n    return this.coordinate;\n  }\n\n  /**\n   * \u66F4\u65B0\u5750\u6807\u7CFB\u5BF9\u8C61\n   * @param start \u8D77\u59CB\u4F4D\u7F6E\n   * @param end   \u7ED3\u675F\u4F4D\u7F6E\n   * @return \u5750\u6807\u7CFB\u5B9E\u4F8B\n   */\n  public adjust(start: Point, end: Point) {\n    this.coordinate.update({\n      start,\n      end,\n    });\n\n    // \u66F4\u65B0\u5750\u6807\u7CFB\u5927\u5C0F\u7684\u65F6\u5019\uFF0C\u9700\u8981\uFF1A\n    // 1. \u91CD\u7F6E matrix\n    // 2. \u91CD\u65B0\u6267\u884C\u4F5C\u7528\u4E8E matrix \u7684 action\n    this.coordinate.resetMatrix();\n    this.execActions(['scale', 'rotate', 'translate']);\n\n    return this.coordinate;\n  }\n\n  /**\n   * \u65CB\u8F6C\u5F27\u5EA6\n   * @param angle\n   */\n  public rotate(angle: number) {\n    this.option.actions.push(['rotate', angle]);\n    return this;\n  }\n\n  /**\n   * \u955C\u50CF\n   * @param dim\n   */\n  public reflect(dim: 'x' | 'y') {\n    this.option.actions.push(['reflect', dim]);\n    return this;\n  }\n\n  /**\n   * scale\n   * @param sx\n   * @param sy\n   */\n  public scale(sx: number, sy: number) {\n    this.option.actions.push(['scale', sx, sy]);\n    return this;\n  }\n\n  /**\n   * \u5BF9\u89D2\u53D8\u6362\n   */\n  public transpose() {\n    this.option.actions.push(['transpose']);\n    return this;\n  }\n\n  /**\n   * \u83B7\u53D6\u914D\u7F6E\n   */\n  public getOption(): CoordinateOption {\n    return this.option;\n  }\n\n  /**\n   * \u83B7\u5F97 coordinate \u5B9E\u4F8B\n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  /**\n   * \u5305\u88C5\u914D\u7F6E\u7684\u9ED8\u8BA4\u503C\n   * @param option\n   */\n  private wrapperOption(option: CoordinateOption): CoordinateOption {\n    return {\n      type: 'rect',\n      actions: [],\n      cfg: {},\n      ...option,\n    };\n  }\n\n  /**\n   * coordinate \u5B9E\u4F8B\u6267\u884C actions\n   * @params includeActions \u5982\u679C\u6CA1\u6709\u6307\u5B9A\uFF0C\u5219\u6267\u884C\u5168\u90E8\uFF0C\u5426\u5219\uFF0C\u6267\u884C\u6307\u5B9A\u7684 action\n   */\n  private execActions(includeActions?: string[]) {\n    const { actions } = this.option;\n\n    each(actions, (action) => {\n      const [actionName, ...args] = action;\n\n      const shouldExec = isNil(includeActions) ? true : includeActions.includes(actionName);\n\n      if (shouldExec) {\n        this.coordinate[actionName](...args);\n      }\n    });\n  }\n}\n", "import { Event as GEvent, IShape } from '../dependents';\nimport { Datum } from '../interface';\nimport View from './view';\n\n/**\n * @todo Whether it can(or necessary to) keep consistent with the structure of G.Event or directly use the structure of G.Event\n * G2 \u4E8B\u4EF6\u7684\u4E8B\u4EF6\u5305\u88C5\u7C7B\uFF0C\u57FA\u4E8E G.Event\n */\nexport default class Event {\n  /** \u5F53\u524D target \u5F52\u5C5E\u7684 view \u5B9E\u4F8B */\n  public view: View;\n  /** \u88AB\u5305\u88C5\u7684\u539F\u751F G \u4E8B\u4EF6 */\n  public gEvent: GEvent;\n  /** \u539F\u59CB\u6570\u636E */\n  public data?: Datum;\n  /** \u4E8B\u4EF6\u7C7B\u578B */\n  public type: string;\n\n  constructor(view: View, gEvent: GEvent, data?: Datum) {\n    this.view = view;\n    this.gEvent = gEvent;\n    this.data = data;\n    this.type = gEvent.type;\n  }\n\n  /**\n   * \u975E\u4EA4\u4E92\u4EA7\u751F\u7684\u4E8B\u4EF6\n   * @param view\n   * @param type\n   * @param data\n   */\n  public static fromData(view: View, type: string, data: Datum) {\n    return new Event(view, new GEvent(type, {}), data);\n  }\n\n  // below props are proxy props of G.event convenient\n\n  /** the real trigger shape of the event */\n  public get target(): IShape {\n    // @todo G \u4E2D\u4E8B\u4EF6\u5B9A\u4E49\u4E3A object \u4E0D\u6B63\u786E\uFF0C\u8FD9\u91CC\u5148 ignore\n    // @ts-ignore\n    return this.gEvent.target;\n  }\n\n  /** \u83B7\u53D6\u5BF9\u5E94\u7684 dom \u539F\u751F\u65F6\u95F4 */\n  public get event(): any {\n    return this.gEvent.originalEvent;\n  }\n\n  /** x \u753B\u5E03\u5750\u6807 */\n  public get x(): number {\n    return this.gEvent.x;\n  }\n\n  /** y \u753B\u5E03\u5750\u6807 */\n  public get y(): number {\n    return this.gEvent.y;\n  }\n\n  /** x \u7A97\u53E3\u5750\u6807 */\n  public get clientX(): number {\n    return this.gEvent.clientX;\n  }\n\n  /** y \u7A97\u53E3\u5750\u6807 */\n  public get clientY(): number {\n    return this.gEvent.clientY;\n  }\n  // end for proxy events\n\n  /**\n   * event string\n   * @returns string\n   */\n  public toString(): string {\n    return `[Event (type=${this.type})]`;\n  }\n\n  /**\n   * clone a new event with same attributes\n   * @returns [[Event]]\n   */\n  public clone(): Event {\n    return new Event(this.view, this.gEvent, this.data);\n  }\n}\n", "import { Controller } from '../controller/base';\nimport View from '../view';\n\n// \u5E03\u5C40\u51FD\u6570\u7684\u5B9A\u4E49\n// \u5E03\u5C40\u51FD\u6570\u7684\u804C\u8D23\uFF1A\u6839\u636E view \u4E2D\u7EC4\u4EF6\u4FE1\u606F\uFF0C\u8BA1\u7B97\u51FA\u6700\u7EC8\u7684\u56FE\u5F62 padding \u6570\u503C\uFF0C\u4EE5\u53CA\u6700\u7EC8\u5404\u4E2A\u7EC4\u4EF6\u7684\u5E03\u5C40\u548C\u4F4D\u7F6E\nexport type Layout = (view: View) => void;\n\n/**\n * @ignore\n * G2 \u9ED8\u8BA4\u63D0\u4F9B\u7684 layout \u51FD\u6570\n * \u5185\u7F6E\u5E03\u5C40\u51FD\u6570\u5904\u7406\u7684\u903B\u8F91\uFF1A\n *\n * 1. \u5982\u679C padding = 'auto'\uFF0C\u90A3\u4E48\u81EA\u52A8\u6839\u636E\u7EC4\u4EF6\u7684 direction \u6765\u8BA1\u7B97 padding \u6570\u7EC4\n * 2. \u6839\u636E padding \u548C direction \u53BB\u5206\u914D\u5BF9\u5E94\u65B9\u5411\u7684 padding \u6570\u503C\n * 3. \u79FB\u52A8\u7EC4\u4EF6\u4F4D\u7F6E\n *\n * \u524D\u9762 1\uFF0C2 \u6B65\u9AA4\u5728 view \u4E2D\u5DF2\u7ECF\u505A\u6389\u4E86\u3002\u5BF9\u4E8E\u7EC4\u4EF6\u54CD\u5E94\u5F0F\u5E03\u5C40\uFF0C\u53EF\u4EE5\u5C1D\u8BD5\u4F7F\u7528\u7EA6\u675F\u5E03\u5C40\u7684\u65B9\u5F0F\u53BB\u6C42\u89E3\u4F4D\u7F6E\u4FE1\u606F\u3002\n * @param view\n */\nexport default function defaultLayout(view: View): void {\n  const axis = view.getController('axis');\n  const legend = view.getController('legend');\n  const annotation = view.getController('annotation');\n  const slider = view.getController('slider');\n  const scrollbar = view.getController('scrollbar');\n\n  // \u6839\u636E\u6700\u65B0\u7684 coordinate \u91CD\u65B0\u5E03\u5C40\u7EC4\u4EF6\n  [axis, slider, scrollbar, legend, annotation].forEach((controller: Controller) => {\n    if (controller) {\n      controller.layout();\n    }\n  });\n}\n", "/**\n * view \u4E2D\u7F13\u5B58 scale \u7684\u7C7B\n */\nimport { deepMix, each, get, isNumber, last } from '@antv/util';\nimport { Scale, Coordinate } from '../../dependents';\nimport { Data, LooseObject, ScaleOption, ViewCfg } from '../../interface';\nimport { createScaleByField, syncScale, getDefaultCategoryScaleRange } from '../../util/scale';\n\n/** @ignore */\ninterface ScaleMeta {\n  readonly key: string;\n  readonly scale: Scale;\n  scaleDef: ScaleOption;\n  syncKey?: string;\n}\n\n/** @ignore */\nexport class ScalePool {\n  /** \u6240\u6709\u7684 scales */\n  private scales = new Map<string, ScaleMeta>();\n  /** \u9700\u8981\u540C\u6B65\u7684 scale \u5206\u7EC4\uFF0C key: scaleKeyArray */\n  private syncScales = new Map<string, string[]>();\n\n  /**\n   * \u521B\u5EFA scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  public createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    let finalScaleDef = scaleDef;\n\n    const cacheScaleMeta = this.getScaleMeta(key);\n    if (data.length === 0 && cacheScaleMeta) {\n      // \u5728\u66F4\u65B0\u8FC7\u7A0B\u4E2D\u6570\u636E\u53D8\u4E3A\u7A7A\uFF0C\u540C\u65F6 key \u5BF9\u5E94\u7684 scale \u5DF2\u5B58\u5728\u5219\u4FDD\u6301 scale \u540C\u7C7B\u578B\n      const cacheScale = cacheScaleMeta.scale;\n      const cacheScaleDef: LooseObject = {\n        type: cacheScale.type,\n      };\n      if (cacheScale.isCategory) {\n        // \u5982\u679C\u662F\u5206\u7C7B\u7C7B\u578B\uFF0C\u4FDD\u6301 values\n        cacheScaleDef.values = cacheScale.values;\n      }\n      finalScaleDef = deepMix(cacheScaleDef, cacheScaleMeta.scaleDef, scaleDef);\n    }\n\n    const scale = createScaleByField(field, data, finalScaleDef);\n\n    // \u7F13\u5B58\u8D77\u6765\n    this.cacheScale(scale, scaleDef, key);\n\n    return scale;\n  }\n\n  /**\n   * \u540C\u6B65 scale\n   */\n  public sync(coordinate: Coordinate, theme: ViewCfg['theme']) {\n    // \u5BF9\u4E8E syncScales \u4E2D\u6BCF\u4E00\u4E2A syncKey \u4E0B\u9762\u7684 scale \u6570\u7EC4\u8FDB\u884C\u540C\u6B65\u5904\u7406\n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      // min, max, values, ranges\n      let min = Number.MAX_SAFE_INTEGER;\n      let max = Number.MIN_SAFE_INTEGER;\n      const values = [];\n\n      // 1. \u904D\u5386\u6C42\u5F97\u6700\u5927\u6700\u5C0F\u503C\uFF0Cvalues \u7B49\n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        max = isNumber(scale.max) ? Math.max(max, scale.max) : max;\n        min = isNumber(scale.min) ? Math.min(min, scale.min) : min;\n\n        // \u53BB\u91CD\n        each(scale.values, (v: any) => {\n          if (!values.includes(v)) {\n            values.push(v);\n          }\n        });\n      });\n\n      // 2. \u540C\u6B65\n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        if (scale.isContinuous) {\n          scale.change({\n            min,\n            max,\n            values,\n          });\n        } else if (scale.isCategory) {\n          let range = scale.range;\n          const cacheScaleMeta = this.getScaleMeta(key);\n\n          // \u5B58\u5728 value \u503C\uFF0C\u4E14\u7528\u6237\u6CA1\u6709\u914D\u7F6E range \u914D\u7F6E to fix https://github.com/antvis/G2/issues/2996\n          if (values && !get(cacheScaleMeta, ['scaleDef', 'range'])) {\n            // \u66F4\u65B0 range\n            range = getDefaultCategoryScaleRange(\n              deepMix({}, scale, {\n                values,\n              }),\n              coordinate,\n              theme\n            );\n          }\n          scale.change({\n            values,\n            range,\n          });\n        }\n      });\n    });\n  }\n\n  /**\n   * \u7F13\u5B58\u4E00\u4E2A scale\n   * @param scale\n   * @param scaleDef\n   * @param key\n   */\n  private cacheScale(scale: Scale, scaleDef: ScaleOption, key: string) {\n    // 1. \u7F13\u5B58\u5230 scales\n\n    let sm = this.getScaleMeta(key);\n    // \u5B58\u5728\u5219\u66F4\u65B0\uFF0C\u540C\u65F6\u68C0\u6D4B\u7C7B\u578B\u662F\u5426\u4E00\u81F4\n    if (sm && sm.scale.type === scale.type) {\n      syncScale(sm.scale, scale);\n      sm.scaleDef = scaleDef;\n      // \u66F4\u65B0 scaleDef\n    } else {\n      sm = {\n        key,\n        scale,\n        scaleDef,\n      };\n\n      this.scales.set(key, sm);\n    }\n\n    // 2. \u7F13\u5B58\u5230 syncScales\uFF0C\u6784\u9020 Record<sync, string[]> \u6570\u636E\u7ED3\u6784\n    const syncKey = this.getSyncKey(sm);\n    sm.syncKey = syncKey; // \u8BBE\u7F6E sync \u540C\u6B65\u7684 key\n\n    // \u56E0\u4E3A\u5B58\u5728\u66F4\u65B0 scale \u673A\u5236\uFF0C\u6240\u4EE5\u5728\u7F13\u5B58\u4E4B\u524D\uFF0C\u5148\u4ECE\u539F syncScales \u4E2D\u53BB\u9664 sync \u7684\u7F13\u5B58\u5F15\u7528\n    this.removeFromSyncScales(key);\n\n    // \u5B58\u5728 sync \u6807\u8BB0\u624D\u8FDB\u884C sync\n    if (syncKey) {\n      // \u4E0D\u5B58\u5728\u8FD9\u4E2A syncKey\uFF0C\u5219\u521B\u5EFA\u4E00\u4E2A\u7A7A\u6570\u7EC4\n      let scaleKeys = this.syncScales.get(syncKey);\n      if (!scaleKeys) {\n        scaleKeys = [];\n        this.syncScales.set(syncKey, scaleKeys);\n      }\n      scaleKeys.push(key);\n    }\n  }\n\n  /**\n   * \u901A\u8FC7 key \u83B7\u53D6 scale\n   * @param key\n   */\n  public getScale(key: string): Scale {\n    let scaleMeta = this.getScaleMeta(key);\n    if (!scaleMeta) {\n      const field = last(key.split('-'));\n      const scaleKeys = this.syncScales.get(field);\n      if (scaleKeys && scaleKeys.length) {\n        scaleMeta = this.getScaleMeta(scaleKeys[0]);\n      }\n    }\n    return scaleMeta && scaleMeta.scale;\n  }\n\n  /**\n   * \u5728 view \u9500\u6BC1\u7684\u65F6\u5019\uFF0C\u5220\u9664 scale \u5B9E\u4F8B\uFF0C\u9632\u6B62\u5185\u5B58\u6CC4\u9732\n   * @param key\n   */\n  public deleteScale(key: string) {\n    const scaleMeta = this.getScaleMeta(key);\n    if (scaleMeta) {\n      const { syncKey } = scaleMeta;\n\n      const scaleKeys = this.syncScales.get(syncKey);\n\n      // \u79FB\u9664\u540C\u6B65\u7684\u5173\u7CFB\n      if (scaleKeys && scaleKeys.length) {\n        const idx = scaleKeys.indexOf(key);\n\n        if (idx !== -1) {\n          scaleKeys.splice(idx, 1);\n        }\n      }\n    }\n\n    // \u5220\u9664 scale \u5B9E\u4F8B\n    this.scales.delete(key);\n  }\n\n  /**\n   * \u6E05\u7A7A\n   */\n  public clear() {\n    this.scales.clear();\n    this.syncScales.clear();\n  }\n\n  /**\n   * \u5220\u9664 sync scale \u5F15\u7528\n   * @param key\n   */\n  private removeFromSyncScales(key: string) {\n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      const idx = scaleKeys.indexOf(key);\n\n      if (idx !== -1) {\n        scaleKeys.splice(idx, 1);\n\n        // \u5220\u9664\u7A7A\u6570\u7EC4\u503C\n        if (scaleKeys.length === 0) {\n          this.syncScales.delete(syncKey);\n        }\n\n        return false; // \u8DF3\u51FA\u5FAA\u73AF\n      }\n    });\n  }\n\n  /**\n   * get sync key\n   * @param sm\n   */\n  private getSyncKey(sm: ScaleMeta): string {\n    const { scale, scaleDef } = sm;\n    const { field } = scale;\n    const sync = get(scaleDef, ['sync']);\n\n    // \u5982\u679C sync = true\uFF0C\u5219\u76F4\u63A5\u4F7F\u7528\u5B57\u6BB5\u540D\u4F5C\u4E3A syncKey\n    return sync === true ? field : sync === false ? undefined : sync;\n  }\n\n  /**\n   * \u901A\u8FC7 key \u83B7\u53D6 scale\n   * @param key\n   */\n  private getScaleMeta(key: string): ScaleMeta {\n    return this.scales.get(key);\n  }\n}\n", "import { DIRECTION } from '../../constant';\nimport { BBox } from '../../dependents';\nimport { Padding } from '../../interface';\n\nexport type PaddingCalCtor = {\n  readonly instance: (top?: number, right?: number, bottom?: number, left?: number) => PaddingCal;\n};\n\n/** @ignore */\nexport class PaddingCal {\n  private top: number;\n  private right: number;\n  private bottom: number;\n  private left: number;\n\n  /**\n   * \u4F7F\u7528\u9759\u6001\u65B9\u6CD5\u521B\u5EFA\u4E00\u4E2A\n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  public static instance(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    return new PaddingCal(top, right, bottom, left);\n  }\n\n  /**\n   * \u521D\u59CB\u7684 padding \u6570\u636E\n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  constructor(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    this.top = top;\n    this.right = right;\n    this.bottom = bottom;\n    this.left = left;\n  }\n\n  /**\n   * \u53D6\u6700\u5927\u533A\u95F4\n   * @param padding\n   */\n  public max(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top = Math.max(this.top, top);\n    this.right = Math.max(this.right, right);\n    this.bottom = Math.max(this.bottom, bottom);\n    this.left = Math.max(this.left, left);\n\n    return this;\n  }\n\n  /**\n   * \u56DB\u5468\u589E\u52A0 padding\n   * @param padding\n   */\n  public shrink(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top += top;\n    this.right += right;\n    this.bottom += bottom;\n    this.left += left;\n\n    return this;\n  }\n\n  /**\n   * \u5728\u67D0\u4E00\u4E2A\u65B9\u5411\u589E\u52A0 padding\n   * @param bbox\n   * @param direction\n   */\n  public inc(bbox: BBox, direction: DIRECTION): PaddingCal {\n    const { width, height } = bbox;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        this.top += height;\n        break;\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        this.right += width;\n        break;\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        this.bottom += height;\n        break;\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        this.left += width;\n        break;\n      default:\n        break;\n    }\n\n    return this;\n  }\n\n  /**\n   * \u83B7\u5F97\u6700\u7EC8\u7684 padding\n   */\n  public getPadding(): Padding {\n    return [this.top, this.right, this.bottom, this.left];\n  }\n\n  /**\n   * clone \u4E00\u4E2A padding cal\n   */\n  public clone(): PaddingCal {\n    return new PaddingCal(...this.getPadding());\n  }\n}\n", "import { each } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../constant';\nimport { ComponentOption, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { isAutoPadding, parsePadding } from '../../util/padding';\nimport View from '../view';\nimport { PaddingCal } from './padding-cal';\n\n/**\n * @ignore\n * \u6839\u636E view \u4E2D\u7684\u7EC4\u4EF6\uFF0C\u8BA1\u7B97\u5B9E\u9645\u7684 padding \u6570\u503C\n * @param view\n */\nexport function calculatePadding(view: View): PaddingCal {\n  const padding = view.padding;\n\n  // \u5982\u679C\u4E0D\u662F auto padding\uFF0C\u90A3\u4E48\u76F4\u63A5\u89E3\u6790\u4E4B\u540E\u8FD4\u56DE\n  if (!isAutoPadding(padding)) {\n    return new PaddingCal(...parsePadding(padding));\n  }\n\n  // \u662F auto padding\uFF0C\u6839\u636E\u7EC4\u4EF6\u7684\u60C5\u51B5\uFF0C\u6765\u8BA1\u7B97 padding\n  const { viewBBox } = view;\n\n  const paddingCal = new PaddingCal();\n\n  const axisComponents = [];\n  const paddingComponents = [];\n  const otherComponents = [];\n\n  each(view.getComponents(), (co: ComponentOption) => {\n    const { type } = co;\n    if (type === COMPONENT_TYPE.AXIS) {\n      axisComponents.push(co);\n    } else if ([COMPONENT_TYPE.LEGEND, COMPONENT_TYPE.SLIDER, COMPONENT_TYPE.SCROLLBAR].includes(type)) {\n      paddingComponents.push(co);\n    } else if (type !== COMPONENT_TYPE.GRID && type !== COMPONENT_TYPE.TOOLTIP) {\n      otherComponents.push(co);\n    }\n  });\n\n  // \u8FDB\u884C\u5750\u6807\u8F74\u5E03\u5C40\uFF0C\u5E94\u8BE5\u662F\u53D6 padding \u7684\u5E76\u96C6\uFF0C\u800C\u4E0D\u662F\u8FDB\u884C\u76F8\u52A0\n  each(axisComponents, (co: ComponentOption) => {\n    const { component } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n\n    const exceed = componentBBox.exceed(viewBBox);\n\n    // \u5728\u5BF9\u7EC4\u4EF6\u5206\u7EC4\u4E4B\u540E\uFF0C\u5148\u5BF9 axis \u8FDB\u884C\u5904\u7406\uFF0C\u7136\u540E\u53D6\u6700\u5927\u7684\u8D85\u51FA\u5373\u53EF\u3002\n    paddingCal.max(exceed);\n  });\n\n  // \u6709 padding \u7684\u7EC4\u4EF6\u5E03\u5C40\n  each(paddingComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentPadding: Padding = component.get('padding');\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(\n      componentPadding\n    );\n    // \u6309\u7167\u65B9\u5411\u8BA1\u7B97 padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  // \u5176\u4ED6\u7EC4\u4EF6\u5E03\u5C40\n  each(otherComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n    // \u6309\u7167\u65B9\u5411\u8BA1\u7B97 padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  return paddingCal;\n}\n", "import { PaddingCalCtor } from '../layout/padding-cal';\nimport { View } from '../view';\n\n/**\n * \u9ED8\u8BA4\u7684 syncViewPadding \u903B\u8F91\n * @param chart\n * @param views\n * @param PC: PaddingCalCtor\n */\nexport function defaultSyncViewPadding(chart: View, views: View[], PC: PaddingCalCtor) {\n  const syncPadding = PC.instance();\n\n  // \u6240\u6709\u7684 view \u7684 autoPadding \u6307\u5411\u540C\u4E00\u4E2A\u5F15\u7528\n  views.forEach((v: View) => {\n    v.autoPadding = syncPadding.max(v.autoPadding.getPadding());\n  });\n}\n", "import {\n  clone,\n  deepMix,\n  each,\n  filter,\n  find,\n  flatten,\n  get,\n  isBoolean,\n  isFunction,\n  isNil,\n  isObject,\n  isString,\n  isUndefined,\n  mix,\n  remove,\n  set,\n  size,\n  uniqueId,\n  isEqual,\n  isPlainObject,\n  reduce,\n} from '@antv/util';\nimport { Attribute, Coordinate, Event as GEvent, GroupComponent, ICanvas, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AxisOption,\n  ComponentOption,\n  CoordinateCfg,\n  CoordinateOption,\n  Data,\n  Datum,\n  FacetCfgMap,\n  FilterCondition,\n  GeometryOption,\n  LegendOption,\n  LooseObject,\n  Options,\n  Point,\n  Region,\n  ScaleOption,\n  TooltipOption,\n  ViewCfg,\n  ViewPadding,\n  ViewAppendPadding,\n  EventPayload,\n  Padding,\n} from '../interface';\nimport { GROUP_Z_INDEX, LAYER, PLOT_EVENTS, VIEW_LIFE_CIRCLE } from '../constant';\nimport Base from '../base';\nimport { Facet, getFacet } from '../facet';\nimport Geometry from '../geometry/base';\nimport Element from '../geometry/element';\nimport { createInteraction, Interaction } from '../interaction';\nimport { getTheme } from '../theme';\nimport { BBox } from '../util/bbox';\nimport { getCoordinateClipCfg, isPointInCoordinate } from '../util/coordinate';\nimport { uniq } from '../util/helper';\nimport { findDataByPoint } from '../util/tooltip';\nimport { parsePadding } from '../util/padding';\nimport { getDefaultCategoryScaleRange } from '../util/scale';\nimport { createTheme } from '../theme/util';\nimport Chart from './chart';\nimport { getComponentController, getComponentControllerNames } from './controller';\nimport Annotation from './controller/annotation';\nimport { Controller } from './controller/base';\nimport CoordinateController from './controller/coordinate';\nimport Tooltip from './controller/tooltip';\nimport Slider from './controller/slider';\nimport Scrollbar from './controller/scrollbar';\nimport Axis from './controller/axis';\nimport Gesture from './controller/gesture';\nimport Legend from './controller/legend';\nimport Event from './event';\nimport defaultLayout, { Layout } from './layout';\nimport { ScalePool } from './util/scale-pool';\nimport { PaddingCal } from './layout/padding-cal';\nimport { calculatePadding } from './layout/auto';\nimport { defaultSyncViewPadding } from './util/sync-view-padding';\n\n/**\n * G2 \u89C6\u56FE View \u7C7B\n */\nexport class View extends Base {\n  /** view id\uFF0C\u5168\u5C40\u552F\u4E00\u3002 */\n  public id: string;\n  /** \u7236\u7EA7 view\uFF0C\u5982\u679C\u6CA1\u6709\u7236\u7EA7\uFF0C\u5219\u4E3A\u7A7A\u3002 */\n  public parent: View;\n  /** \u6240\u6709\u7684\u5B50 view\u3002 */\n  public views: View[] = [];\n  /** \u6240\u6709\u7684 geometry \u5B9E\u4F8B\u3002 */\n  public geometries: Geometry[] = [];\n  /** \u6240\u6709\u7684\u7EC4\u4EF6 controllers\u3002 */\n  public controllers: Controller[] = [];\n  /** \u6240\u6709\u7684 Interaction \u5B9E\u4F8B\u3002 */\n  public interactions: Record<string, Interaction> = {};\n\n  /** view \u533A\u57DF\u7A7A\u95F4\u3002 */\n  public viewBBox: BBox;\n  /** \u5750\u6807\u7CFB\u7684\u4F4D\u7F6E\u5927\u5C0F\uFF0CViewBBox - padding = coordinateBBox\u3002 */\n  public coordinateBBox: BBox;\n  /** view \u7684 padding \u5927\u5C0F\uFF0C\u4F20\u5165\u7684\u914D\u7F6E\uFF08\u4E0D\u662F\u89E3\u6790\u4E4B\u540E\u7684\u503C\uFF09\u3002 */\n  public padding: ViewPadding;\n  /** padding\u7684\u57FA\u7840\u4E0A\u589E\u52A0\u7684\u8C03\u6574\u503C */\n  public appendPadding: ViewAppendPadding;\n  /** G.Canvas \u5B9E\u4F8B\u3002 */\n  public canvas: ICanvas;\n  /** \u5B58\u50A8\u6700\u7EC8\u8BA1\u7B97\u7684 padding \u7ED3\u679C */\n  public autoPadding: PaddingCal;\n\n  /** \u4E09\u5C42 Group \u56FE\u5F62\u4E2D\u7684\u80CC\u666F\u5C42\u3002 */\n  public backgroundGroup: IGroup;\n  /** \u4E09\u5C42 Group \u56FE\u5F62\u4E2D\u7684\u4E2D\u95F4\u5C42\u3002 */\n  public middleGroup: IGroup;\n  /** \u4E09\u5C42 Group \u56FE\u5F62\u4E2D\u7684\u524D\u666F\u5C42\u3002 */\n  public foregroundGroup: IGroup;\n  /** \u662F\u5426\u5BF9\u8D85\u51FA\u5750\u6807\u7CFB\u8303\u56F4\u7684 Geometry \u8FDB\u884C\u526A\u5207 */\n  public limitInPlot: boolean = false;\n\n  /**\n   * \u6807\u8BB0 view \u7684\u5927\u5C0F\u4F4D\u7F6E\u8303\u56F4\uFF0C\u5747\u662F 0 ~ 1 \u8303\u56F4\uFF0C\u4FBF\u4E8E\u5F00\u53D1\u8005\u4F7F\u7528\uFF0C\u8D77\u59CB\u70B9\u4E3A\u5DE6\u4E0A\u89D2\u3002\n   */\n  protected region: Region;\n  /** \u4E3B\u9898\u914D\u7F6E\uFF0C\u5B58\u50A8\u5F53\u524D\u4E3B\u9898\u914D\u7F6E\u3002 */\n  protected themeObject: LooseObject;\n\n  // \u914D\u7F6E\u4FE1\u606F\u5B58\u50A8\n  protected options: Options = {\n    data: [],\n    animate: true, // \u9ED8\u8BA4\u5F00\u542F\u52A8\u753B\n  }; // \u521D\u59CB\u5316\u4E3A\u7A7A\n\n  /** \u8FC7\u6EE4\u4E4B\u540E\u7684\u6570\u636E */\n  protected filteredData: Data;\n\n  /** \u914D\u7F6E\u5F00\u542F\u7684\u7EC4\u4EF6\u63D2\u4EF6\uFF0C\u9ED8\u8BA4\u4E3A\u5168\u5C40\u914D\u7F6E\u7684\u7EC4\u4EF6\u3002 */\n  private usedControllers: string[] = getComponentControllerNames();\n\n  /** \u6240\u6709\u7684 scales */\n  private scalePool: ScalePool = new ScalePool();\n\n  /** \u5E03\u5C40\u51FD\u6570 */\n  protected layoutFunc: Layout = defaultLayout;\n  /** \u751F\u6210\u7684\u5750\u6807\u7CFB\u5B9E\u4F8B\uFF0C{@link https://github.com/antvis/coord/blob/master/src/coord/base.ts|Coordinate} */\n  protected coordinateInstance: Coordinate;\n  /** Coordinate \u76F8\u5173\u7684\u63A7\u5236\u5668\u7C7B\uFF0C\u8D1F\u8D23\u5750\u6807\u7CFB\u5B9E\u4F8B\u7684\u521B\u5EFA\u3001\u66F4\u65B0\u3001\u53D8\u6362\u7B49 */\n  protected coordinateController: CoordinateController;\n  /** \u5206\u9762\u7C7B\u5B9E\u4F8B */\n  protected facetInstance: Facet;\n\n  /** \u5F53\u524D\u9F20\u6807\u662F\u5426\u5728 plot \u5185\uFF08CoordinateBBox\uFF09 */\n  private isPreMouseInPlot: boolean = false;\n  /** \u9ED8\u8BA4\u6807\u8BC6\u4F4D\uFF0C\u7528\u4E8E\u5224\u5B9A\u6570\u636E\u662F\u5426\u66F4\u65B0 */\n  private isDataChanged: boolean = false;\n  /** \u7528\u4E8E\u5224\u65AD\u5750\u6807\u7CFB\u8303\u56F4\u662F\u5426\u53D1\u751F\u53D8\u5316\u7684\u6807\u5FD7\u4F4D */\n  private isCoordinateChanged: boolean = false;\n  /** \u4ECE\u5F53\u524D\u8FD9\u4E2A view \u521B\u5EFA\u7684 scale key */\n  private createdScaleKeys = new Map<string, boolean>();\n  /** \u80CC\u666F\u8272\u6837\u5F0F\u7684 shape */\n  private backgroundStyleRectShape;\n  /** \u662F\u5426\u540C\u6B65\u5B50 view \u7684 padding */\n  private syncViewPadding;\n\n  constructor(props: ViewCfg) {\n    super({ visible: props.visible });\n\n    const {\n      id = uniqueId('view'),\n      parent,\n      canvas,\n      backgroundGroup,\n      middleGroup,\n      foregroundGroup,\n      region = { start: { x: 0, y: 0 }, end: { x: 1, y: 1 } },\n      padding,\n      appendPadding,\n      theme,\n      options,\n      limitInPlot,\n      syncViewPadding,\n    } = props;\n\n    this.parent = parent;\n    this.canvas = canvas;\n    this.backgroundGroup = backgroundGroup;\n    this.middleGroup = middleGroup;\n    this.foregroundGroup = foregroundGroup;\n    this.region = region;\n    this.padding = padding;\n    this.appendPadding = appendPadding;\n    // \u63A5\u53D7\u7236 view \u4F20\u5165\u7684\u53C2\u6570\n    this.options = { ...this.options, ...options };\n    this.limitInPlot = limitInPlot;\n    this.id = id;\n    this.syncViewPadding = syncViewPadding;\n\n    // \u521D\u59CB\u5316 theme\n    this.themeObject = isObject(theme) ? deepMix({}, getTheme('default'), createTheme(theme)) : getTheme(theme);\n    this.init();\n  }\n\n  /**\n   * \u8BBE\u7F6E layout \u5E03\u5C40\u51FD\u6570\n   * @param layout \u5E03\u5C40\u51FD\u6570\n   * @returns void\n   */\n  public setLayout(layout: Layout) {\n    this.layoutFunc = layout;\n  }\n\n  /**\n   * \u751F\u547D\u5468\u671F\uFF1A\u521D\u59CB\u5316\n   * @returns voids\n   */\n  public init() {\n    // \u8BA1\u7B97\u753B\u5E03\u7684 viewBBox\n    this.calculateViewBBox();\n\n    // \u4E8B\u4EF6\u59D4\u6258\u673A\u5236\n    this.initEvents();\n\n    // \u521D\u59CB\u5316\u7EC4\u4EF6 controller\n    this.initComponentController();\n\n    this.initOptions();\n  }\n\n  /**\n   * \u751F\u547D\u5468\u671F\uFF1A\u6E32\u67D3\u6D41\u7A0B\uFF0C\u6E32\u67D3\u8FC7\u7A0B\u9700\u8981\u5904\u7406\u6570\u636E\u66F4\u65B0\u7684\u60C5\u51B5\u3002\n   * render \u51FD\u6570\u4EC5\u4EC5\u4F1A\u5904\u7406 view \u548C\u5B50 view\u3002\n   * @param isUpdate \u662F\u5426\u89E6\u53D1\u66F4\u65B0\u6D41\u7A0B\u3002\n   * @param params render \u4E8B\u4EF6\u53C2\u6570\n   */\n  public render(isUpdate: boolean = false, payload?: EventPayload) {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_RENDER, payload));\n    // \u9012\u5F52\u6E32\u67D3\n    this.paint(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_RENDER, payload));\n\n    if (this.visible === false) {\n      // \u7528\u6237\u5728\u521D\u59CB\u5316\u7684\u65F6\u5019\u58F0\u660E visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \u751F\u547D\u5468\u671F\uFF1A\u6E05\u7A7A\u56FE\u8868\u4E0A\u6240\u6709\u7684\u7ED8\u5236\u5185\u5BB9\uFF0C\u4F46\u662F\u4E0D\u9500\u6BC1\u56FE\u8868\uFF0Cchart \u4ECD\u53EF\u4F7F\u7528\u3002\n   * @returns void\n   */\n  public clear() {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CLEAR);\n    // 1. \u6E05\u7A7A\u7F13\u5B58\u548C\u8BA1\u7B97\u6570\u636E\n    this.filteredData = [];\n    this.coordinateInstance = undefined;\n    this.isDataChanged = false; // \u590D\u4F4D\n    this.isCoordinateChanged = false; // \u590D\u4F4D\n\n    // 2. \u6E05\u7A7A geometries\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      geometries[i].clear();\n      // view \u4E2D\u4F7F\u7528 geometry \u7684\u65F6\u5019\uFF0C\u8FD8\u9700\u8981\u6E05\u7A7A\u5B83\u7684\u5BB9\u5668\uFF0C\u4E0D\u7136\u4E0B\u4E00\u6B21 chart.geometry() \u7684\u65F6\u5019\uFF0C\u53C8\u521B\u5EFA\u4E86\u4E00\u4E2A\uFF0C\u5BFC\u81F4\u6CC4\u9732\uFF0C #2799\u3002\n      geometries[i].container.remove(true);\n      geometries[i].labelsContainer.remove(true);\n    }\n    this.geometries = [];\n\n    // 3. \u6E05\u7A7A controllers\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      if (controllers[i].name === 'annotation') {\n        // \u9700\u8981\u6E05\u7A7A\u914D\u7F6E\u9879\n        (controllers[i] as Annotation).clear(true);\n      } else {\n        controllers[i].clear();\n      }\n    }\n\n    // 4. \u5220\u9664 scale \u7F13\u5B58\n    this.createdScaleKeys.forEach((v: boolean, k: string) => {\n      this.getRootView().scalePool.deleteScale(k);\n    });\n    this.createdScaleKeys.clear();\n\n    // \u9012\u5F52\u5904\u7406\u5B50 view\n    const views = this.views;\n    for (let i = 0; i < views.length; i++) {\n      views[i].clear();\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CLEAR);\n  }\n\n  /**\n   * \u751F\u547D\u5468\u671F\uFF1A\u9500\u6BC1\uFF0C\u5B8C\u5168\u65E0\u6CD5\u4F7F\u7528\u3002\n   * @returns void\n   */\n  public destroy() {\n    // \u9500\u6BC1\u524D\u4E8B\u4EF6\uFF0C\u9500\u6BC1\u4E4B\u540E\u5DF2\u7ECF\u6CA1\u6709\u610F\u4E49\u4E86\uFF0C\u6240\u4EE5\u4E0D\u629B\u51FA\u4E8B\u4EF6\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_DESTROY);\n    const interactions = this.interactions;\n    // \u9500\u6BC1 interactions\n    each(interactions, (interaction) => {\n      if (interaction) {\n        // \u6709\u53EF\u80FD\u5DF2\u7ECF\u9500\u6BC1\uFF0C\u8BBE\u7F6E\u4E86 undefined\n        interaction.destroy();\n      }\n    });\n\n    this.clear();\n\n    // \u9500\u6BC1 controller \u4E2D\u7684\u7EC4\u4EF6\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.destroy();\n    }\n\n    this.backgroundGroup.remove(true);\n    this.middleGroup.remove(true);\n    this.foregroundGroup.remove(true);\n\n    super.destroy();\n  }\n  /* end \u751F\u547D\u5468\u671F\u51FD\u6570 */\n\n  /**\n   * \u663E\u793A\u6216\u8005\u9690\u85CF\u6574\u4E2A view\u3002\n   * @param visible \u662F\u5426\u53EF\u89C1\n   * @returns View\n   */\n  public changeVisible(visible: boolean): View {\n    super.changeVisible(visible);\n\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      geometry.changeVisible(visible);\n    }\n\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.changeVisible(visible);\n    }\n\n    this.foregroundGroup.set('visible', visible);\n    this.middleGroup.set('visible', visible);\n    this.backgroundGroup.set('visible', visible);\n\n    // group.set('visible', visible) \u4E0D\u4F1A\u89E6\u53D1\u81EA\u52A8\u5237\u65B0\n    this.getCanvas().draw();\n\n    return this;\n  }\n\n  /**\n   * \u88C5\u8F7D\u6570\u636E\u6E90\u3002\n   *\n   * ```ts\n   * view.data([{ city: '\u676D\u5DDE', sale: 100 }, { city: '\u4E0A\u6D77', sale: 110 } ]);\n   * ```\n   *\n   * @param data \u6570\u636E\u6E90\uFF0Cjson \u6570\u7EC4\u3002\n   * @returns View\n   */\n  public data(data: Data): View {\n    set(this.options, 'data', data);\n    this.isDataChanged = true;\n    return this;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #data(data)}\n   */\n  public source(data: Data): View {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.data() instead.');\n    return this.data(data);\n  }\n\n  /**\n   * \u8BBE\u7F6E\u6570\u636E\u7B5B\u9009\u89C4\u5219\u3002\n   *\n   * ```ts\n   * view.filter('city', (value: any, datum: Datum) => value !== '\u676D\u5DDE');\n   *\n   * // \u5220\u9664 'city' \u5B57\u6BB5\u5BF9\u5E94\u7684\u7B5B\u9009\u89C4\u5219\u3002\n   * view.filter('city', null);\n   * ```\n   *\n   * @param field \u6570\u636E\u5B57\u6BB5\n   * @param condition \u7B5B\u9009\u89C4\u5219\n   * @returns View\n   */\n  public filter(field: string, condition: FilterCondition | null): View {\n    if (isFunction(condition)) {\n      set(this.options, ['filters', field], condition);\n      return this;\n    }\n    // condition \u4E3A\u7A7A\uFF0C\u5219\u8868\u793A\u5220\u9664\u8FC7\u6EE4\u6761\u4EF6\n    if (!condition && get(this.options, ['filters', field])) {\n      delete this.options.filters[field];\n    }\n\n    return this;\n  }\n\n  /**\n   * \u5F00\u542F\u6216\u8005\u5173\u95ED\u5750\u6807\u8F74\u3002\n   *\n   * ```ts\n   *  view.axis(false); // \u4E0D\u5C55\u793A\u5750\u6807\u8F74\n   * ```\n   * @param field \u5750\u6807\u8F74\u5F00\u5173\n   */\n  public axis(field: boolean): View;\n  /**\n   * \u5BF9\u7279\u5B9A\u7684\u67D0\u6761\u5750\u6807\u8F74\u8FDB\u884C\u914D\u7F6E\u3002\n   *\n   * @example\n   * ```ts\n   * view.axis('city', false); // \u4E0D\u5C55\u793A 'city' \u5B57\u6BB5\u5BF9\u5E94\u7684\u5750\u6807\u8F74\n   *\n   * // \u5C06 'city' \u5B57\u6BB5\u5BF9\u5E94\u7684\u5750\u6807\u8F74\u7684\u6807\u9898\u9690\u85CF\n   * view.axis('city', {\n   *   title: null,\n   * });\n   * ```\n   *\n   * @param field \u8981\u914D\u7F6E\u7684\u5750\u6807\u8F74\u5BF9\u5E94\u7684\u5B57\u6BB5\u540D\u79F0\n   * @param axisOption \u5750\u6807\u8F74\u5177\u4F53\u914D\u7F6E\uFF0C\u66F4\u8BE6\u7EC6\u7684\u914D\u7F6E\u9879\u53EF\u4EE5\u53C2\u8003\uFF1Ahttps://github.com/antvis/component#axis\n   */\n  public axis(field: string, axisOption: AxisOption): View;\n  public axis(field: string | boolean, axisOption?: AxisOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['axes'], field);\n    } else {\n      set(this.options, ['axes', field], axisOption);\n    }\n\n    return this;\n  }\n\n  /**\n   * \u5BF9\u56FE\u4F8B\u8FDB\u884C\u6574\u4F53\u914D\u7F6E\u3002\n   *\n   * ```ts\n   * view.legend(false); // \u5173\u95ED\u56FE\u4F8B\n   *\n   * view.legend({\n   *   position: 'right',\n   * }); // \u56FE\u4F8B\u8FDB\u884C\u6574\u4F53\u914D\u7F6E\n   * ```\n   * @param field\n   * @returns View\n   */\n  public legend(field: LegendOption): View;\n  /**\n   * \u5BF9\u7279\u5B9A\u7684\u56FE\u4F8B\u8FDB\u884C\u914D\u7F6E\u3002\n   *\n   * @example\n   * ```ts\n   * view.legend('city', false); // \u5173\u95ED\u67D0\u4E2A\u56FE\u4F8B\uFF0C\u901A\u8FC7\u6570\u636E\u5B57\u6BB5\u540D\u8FDB\u884C\u5173\u8054\n   *\n   * // \u5BF9\u7279\u5B9A\u7684\u56FE\u4F8B\u8FDB\u884C\u914D\u7F6E\n   * view.legend('city', {\n   *   position: 'right',\n   * });\n   * ```\n   *\n   * @param field \u56FE\u4F8B\u5BF9\u5E94\u7684\u6570\u636E\u5B57\u6BB5\u540D\u79F0\n   * @param legendOption \u56FE\u4F8B\u914D\u7F6E\uFF0C\u66F4\u8BE6\u7EC6\u7684\u914D\u7F6E\u9879\u53EF\u4EE5\u53C2\u8003\uFF1Ahttps://github.com/antvis/component#axis\n   * @returns View\n   */\n  public legend(field: string, legendOption: LegendOption): View;\n  public legend(field: string | LegendOption, legendOption?: LegendOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['legends'], field);\n    } else if (isString(field)) {\n      set(this.options, ['legends', field], legendOption);\n      if (isPlainObject(legendOption) && legendOption?.selected) {\n        set(this.options, ['filters', field], (name: string) => {\n          return legendOption?.selected[name] ?? true;\n        });\n      }\n    } else {\n      // \u8BBE\u7F6E\u5168\u5C40\u7684 legend \u914D\u7F6E\n      set(this.options, ['legends'], field);\n    }\n\n    return this;\n  }\n\n  /**\n   * \u6279\u91CF\u8BBE\u7F6E scale \u914D\u7F6E\u3002\n   *\n   * ```ts\n   * view.scale({\n   *   sale: {\n   *     min: 0,\n   *     max: 100,\n   *   }\n   * });\n   * ```\n   * Scale \u7684\u8BE6\u7EC6\u914D\u7F6E\u9879\u53EF\u4EE5\u53C2\u8003\uFF1Ahttps://github.com/antvis/scale#api\n   * @returns View\n   */\n  public scale(field: Record<string, ScaleOption>): View;\n  /**\n   * \u4E3A\u7279\u6027\u7684\u6570\u636E\u5B57\u6BB5\u8FDB\u884C scale \u914D\u7F6E\u3002\n   *\n   * ```ts\n   * view.scale('sale', {\n   *   min: 0,\n   *   max: 100,\n   * });\n   * ```\n   *\n   * @returns View\n   */\n  public scale(field: string, scaleOption: ScaleOption): View;\n  public scale(field: string | Record<string, ScaleOption>, scaleOption?: ScaleOption): View {\n    if (isString(field)) {\n      set(this.options, ['scales', field], scaleOption);\n    } else if (isObject(field)) {\n      each(field, (v: ScaleOption, k: string) => {\n        set(this.options, ['scales', k], v);\n      });\n    }\n\n    return this;\n  }\n\n  /**\n   * tooltip \u63D0\u793A\u4FE1\u606F\u914D\u7F6E\u3002\n   *\n   * ```ts\n   * view.tooltip(false); // \u5173\u95ED tooltip\n   *\n   * view.tooltip({\n   *   shared: true\n   * });\n   * ```\n   *\n   * @param cfg Tooltip \u914D\u7F6E\uFF0C\u66F4\u8BE6\u7EC6\u7684\u914D\u7F6E\u9879\u53C2\u8003\uFF1Ahttps://github.com/antvis/component#tooltip\n   * @returns View\n   */\n  public tooltip(cfg: boolean | TooltipOption): View {\n    set(this.options, 'tooltip', cfg);\n\n    return this;\n  }\n\n  /**\n   * \u8F85\u52A9\u6807\u8BB0\u914D\u7F6E\u3002\n   *\n   * ```ts\n   * view.annotation().line({\n   *   start: ['min', 85],\n   *   end: ['max', 85],\n   *   style: {\n   *     stroke: '#595959',\n   *     lineWidth: 1,\n   *     lineDash: [3, 3],\n   *   },\n   * });\n   * ```\n   * \u66F4\u8BE6\u7EC6\u7684\u914D\u7F6E\u9879\uFF1Ahttps://github.com/antvis/component#annotation\n   * @returns [[Annotation]]\n   */\n  public annotation(): Annotation {\n    return this.getController('annotation');\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #guide()}\n   */\n  public guide(): Annotation {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.annotation() instead.');\n    return this.annotation();\n  }\n\n  /**\n   * \u5750\u6807\u7CFB\u914D\u7F6E\u3002\n   *\n   * @example\n   * ```ts\n   * view.coordinate({\n   *   type: 'polar',\n   *   cfg: {\n   *     radius: 0.85,\n   *   },\n   *   actions: [\n   *     [ 'transpose' ],\n   *   ],\n   * });\n   * ```\n   *\n   * @param option\n   * @returns\n   */\n  public coordinate(option?: CoordinateOption): CoordinateController;\n  /**\n   * \u58F0\u660E\u5750\u6807\u7CFB\u7C7B\u578B\uFF0C\u5E76\u8FDB\u884C\u914D\u7F6E\u3002\n   *\n   * ```ts\n   * // \u76F4\u89D2\u5750\u6807\u7CFB\uFF0C\u5E76\u8FDB\u884C\u8F6C\u7F6E\u53D8\u6362\n   * view.coordinate('rect').transpose();\n   *\n   * // \u9ED8\u8BA4\u521B\u5EFA\u76F4\u89D2\u5750\u6807\u7CFB\n   * view.coordinate();\n   * ```\n   *\n   * @param type \u5750\u6807\u7CFB\u7C7B\u578B\n   * @param [coordinateCfg] \u5750\u6807\u7CFB\u914D\u7F6E\n   * @returns\n   */\n  public coordinate(type: string, coordinateCfg?: CoordinateCfg): CoordinateController;\n  public coordinate(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    // \u63D0\u4F9B\u8BED\u6CD5\u7CD6\uFF0C\u4F7F\u7528\u66F4\u7B80\u5355\n    if (isString(type)) {\n      set(this.options, 'coordinate', { type, cfg: coordinateCfg } as CoordinateOption);\n    } else {\n      set(this.options, 'coordinate', type);\n    }\n\n    // \u66F4\u65B0 coordinate \u914D\u7F6E\n    this.coordinateController.update(this.options.coordinate);\n\n    return this.coordinateController;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #coordinate()}\n   */\n  public coord(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.coordinate() instead.');\n    // @ts-ignore\n    return this.coordinate(type, coordinateCfg);\n  }\n\n  /**\n   * view \u5206\u9762\u7ED8\u5236\u3002\n   *\n   * ```ts\n   * view.facet('rect', {\n   *   rowField: 'province',\n   *   columnField: 'category',\n   *   eachView: (innerView: View, facet?: FacetData) => {\n   *     innerView.line().position('city*sale');\n   *   },\n   * });\n   * ```\n   *\n   * @param type \u5206\u9762\u7C7B\u578B\n   * @param cfg \u5206\u9762\u914D\u7F6E\uFF0C [[FacetCfgMap]]\n   * @returns View\n   */\n  public facet<T extends keyof FacetCfgMap>(type: T, cfg: FacetCfgMap[T]): View {\n    // \u5148\u9500\u6BC1\u6389\u4E4B\u524D\u7684\u5206\u9762\n    if (this.facetInstance) {\n      this.facetInstance.destroy();\n    }\n\n    // \u521B\u5EFA\u65B0\u7684\u5206\u9762\n    const Ctor = getFacet(type);\n\n    if (!Ctor) {\n      throw new Error(`facet '${type}' is not exist!`);\n    }\n\n    this.facetInstance = new Ctor(this, { ...cfg, type });\n\n    return this;\n  }\n\n  /*\n   * \u5F00\u542F\u6216\u8005\u5173\u95ED\u52A8\u753B\u3002\n   *\n   * ```ts\n   * view.animate(false);\n   * ```\n   *\n   * @param status \u52A8\u753B\u72B6\u6001\uFF0Ctrue \u8868\u793A\u5F00\u59CB\uFF0Cfalse \u8868\u793A\u5173\u95ED\n   * @returns View\n   */\n  public animate(status: boolean): View {\n    set(this.options, 'animate', status);\n    return this;\n  }\n\n  /**\n   * \u66F4\u65B0\u914D\u7F6E\u9879\uFF0C\u7528\u4E8E\u914D\u7F6E\u9879\u5F0F\u58F0\u660E\u3002\n   * @param options \u914D\u7F6E\u9879\n   */\n  public updateOptions(options: Options) {\n    this.clear(); // \u6E05\u7A7A\n    mix(this.options, options);\n\n    // \u9700\u8981\u628A\u5DF2\u5B58\u5728\u7684 view \u9500\u6BC1\uFF0C\u5426\u5219\u4F1A\u91CD\u590D\u521B\u5EFA\n    // \u76EE\u524D\u9488\u5BF9\u914D\u7F6E\u9879\u8FD8\u6CA1\u6709\u7279\u522B\u597D\u7684 view \u66F4\u65B0\u673A\u5236\uFF0C\u4E3A\u4E86\u4E0D\u5F71\u54CD\u4E3B\u6D41\u6D41\u7A0B\uFF0C\u6240\u4EE5\u5728\u8FD9\u91CC\u76F4\u63A5\u9500\u6BC1\n    this.views.forEach((view) => view.destroy());\n    this.views = [];\n\n    this.initOptions();\n    // \u521D\u59CB\u5316\u5750\u6807\u7CFB\u5927\u5C0F\uFF0C\u4FDD\u8BC1 padding \u8BA1\u7B97\u6B63\u786E\n    this.coordinateBBox = this.viewBBox;\n    return this;\n  }\n\n  /**\n   * \u5F80 `view.options` \u5C5E\u6027\u4E2D\u5B58\u50A8\u914D\u7F6E\u9879\u3002\n   * @param name \u5C5E\u6027\u540D\u79F0\n   * @param opt \u5C5E\u6027\u503C\n   * @returns view\n   */\n  public option(name: string, opt: any): View {\n    // \u5BF9\u4E8E\u5185\u7F6E\u7684 option\uFF0C\u907F\u514D\u8986\u76D6\u3002\n    // name \u5728\u539F\u578B\u4E0A\uFF0C\u8BF4\u660E\u53EF\u80FD\u662F\u5185\u7F6E API\uFF0C\u5B58\u5728 option \u88AB\u8986\u76D6\u7684\u98CE\u9669\uFF0C\u4E0D\u5904\u7406\n    if (View.prototype[name]) {\n      throw new Error(`Can't use built in variable name \"${name}\", please change another one.`);\n    }\n\n    // \u5B58\u5165\u5230 option \u4E2D\n    set(this.options, name, opt);\n    return this;\n  }\n\n  /**\n   * \u8BBE\u7F6E\u4E3B\u9898\u3002\n   *\n   * ```ts\n   * view.theme('dark'); // 'dark' \u9700\u8981\u4E8B\u5148\u901A\u8FC7 `registerTheme()` \u63A5\u53E3\u6CE8\u518C\u5B8C\u6210\n   *\n   * view.theme({ defaultColor: 'red' });\n   * ```\n   *\n   * @param theme \u4E3B\u9898\u540D\u6216\u8005\u4E3B\u9898\u914D\u7F6E\n   * @returns View\n   */\n  public theme(theme: string | LooseObject): View {\n    this.themeObject = isObject(theme) ? deepMix({}, this.themeObject, createTheme(theme)) : getTheme(theme);\n\n    return this;\n  }\n\n  /* end \u4E00\u7CFB\u5217\u4F20\u5165\u914D\u7F6E\u7684 API */\n\n  /**\n   * Call the interaction based on the interaction name\n   *\n   * ```ts\n   * view.interaction('my-interaction', { extra: 'hello world' });\n   * ```\n   * \u8BE6\u7EC6\u6587\u6863\u53EF\u4EE5\u53C2\u8003\uFF1Ahttps://g2.antv.vision/zh/docs/api/general/interaction\n   * @param name interaction name\n   * @param cfg interaction config\n   * @returns\n   */\n  public interaction(name: string, cfg?: LooseObject): View {\n    const existInteraction = this.interactions[name];\n    // \u5B58\u5728\u5219\u5148\u9500\u6BC1\u5DF2\u6709\u7684\n    if (existInteraction) {\n      existInteraction.destroy();\n    }\n\n    // \u65B0\u5EFA\u4EA4\u4E92\u5B9E\u4F8B\n    const interaction = createInteraction(name, this, cfg);\n    if (interaction) {\n      interaction.init();\n      this.interactions[name] = interaction;\n    }\n    return this;\n  }\n\n  /**\n   * \u79FB\u9664\u5F53\u524D View \u7684 interaction\n   * ```ts\n   * view.removeInteraction('my-interaction');\n   * ```\n   * @param name interaction name\n   */\n  public removeInteraction(name: string) {\n    const existInteraction = this.interactions[name];\n    // \u5B58\u5728\u5219\u5148\u9500\u6BC1\u5DF2\u6709\u7684\n    if (existInteraction) {\n      existInteraction.destroy();\n      this.interactions[name] = undefined;\n    }\n  }\n\n  /**\n   * \u4FEE\u6539\u6570\u636E\uFF0C\u6570\u636E\u66F4\u65B0\u903B\u8F91\uFF0C\u6570\u636E\u66F4\u65B0\u4EC5\u4EC5\u5F71\u54CD\u5F53\u524D\u8FD9\u4E00\u5C42\u7684 view\n   *\n   * ```ts\n   * view.changeData([{ city: '\u5317\u4EAC', sale: '200' }]);\n   * ```\n   *\n   * @param data\n   * @returns void\n   */\n  public changeData(data: Data) {\n    this.isDataChanged = true;\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null));\n    // 1. \u4FDD\u5B58\u6570\u636E\n    this.data(data);\n\n    // 2. \u6E32\u67D3\n    this.paint(true);\n\n    // 3. \u904D\u5386\u5B50 view \u8FDB\u884C change data\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      // FIXME \u5B50 view \u6709\u81EA\u5DF1\u7684\u6570\u636E\u7684\u60C5\u51B5\uFF0C\u8BE5\u5982\u4F55\u5904\u7406\uFF1F\n      view.changeData(data);\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null));\n  }\n\n  /* View \u7BA1\u7406\u76F8\u5173\u7684 API */\n\n  /**\n   * \u521B\u5EFA\u5B50 view\n   *\n   * ```ts\n   * const innerView = view.createView({\n   *   start: { x: 0, y: 0 },\n   *   end: { x: 0.5, y: 0.5 },\n   *   padding: 8,\n   * });\n   * ```\n   *\n   * @param cfg\n   * @returns View\n   */\n  public createView(cfg?: Partial<ViewCfg>): View {\n    // \u5C06\u4F1A\u5728 4.1 \u7248\u672C\u4E2D\u79FB\u9664\u9012\u5F52\u5D4C\u5957 view\uFF0C\u4EC5\u4EC5\u53EA\u5141\u8BB8 chart - view \u4E24\u5C42\u3002\n    // \u8FD9\u4E2A API \u7406\u8BBA\u4E0A\u7528\u6237\u91CF\u4E0D\u591A\uFF0C\u6240\u4EE5\u6682\u65F6\u4E0D\u53D1\u5927\u7248\u672C\uFF0C\u6240\u4EE5\u5148\u6682\u65F6\u6253\u4E00\u4E2A warning\u3002\n    if (this.parent && this.parent.parent) {\n      // \u5B58\u5728 3 \u5C42 \u7ED3\u6784\u4E86\n      console.warn('The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.');\n    }\n\n    // \u5B50 view \u5171\u4EAB options \u914D\u7F6E\u6570\u636E\n    const sharedOptions = {\n      data: this.options.data,\n      scales: clone(this.options.scales),\n      axes: clone(this.options.axes),\n      coordinate: clone(this.coordinateController.getOption()),\n      tooltip: clone(this.options.tooltip),\n      legends: clone(this.options.legends),\n      animate: this.options.animate,\n      visible: this.visible,\n    };\n\n    const v = new View({\n      parent: this,\n      canvas: this.canvas,\n      // \u5B50 view \u5171\u7528\u4E09\u5C42 group\n      backgroundGroup: this.backgroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: this.middleGroup.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: this.foregroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      theme: this.themeObject,\n      padding: this.padding,\n      ...cfg,\n      options: {\n        ...sharedOptions,\n        ...get(cfg, 'options', {}),\n      },\n    });\n\n    this.views.push(v);\n\n    return v;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #createView()}\n   */\n  public view(cfg?: Partial<ViewCfg>) {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.createView() instead.');\n    return this.createView(cfg);\n  }\n\n  /**\n   * \u5220\u9664\u4E00\u4E2A\u5B50 view\n   * @param view\n   * @return removedView\n   */\n  public removeView(view: View): View {\n    const removedView = remove(this.views, (v: View) => v === view)[0];\n\n    if (removedView) {\n      removedView.destroy();\n    }\n\n    return removedView;\n  }\n  /* end View \u7BA1\u7406\u76F8\u5173\u7684 API */\n\n  // \u4E00\u4E9B get \u65B9\u6CD5\n\n  /**\n   * \u83B7\u53D6\u5F53\u524D\u5750\u6807\u7CFB\u5B9E\u4F8B\u3002\n   * @returns [[Coordinate]]\n   */\n  public getCoordinate() {\n    return this.coordinateInstance;\n  }\n\n  /**\n   * \u83B7\u53D6\u5F53\u524D view \u7684\u4E3B\u9898\u914D\u7F6E\u3002\n   * @returns themeObject\n   */\n  public getTheme(): LooseObject {\n    return this.themeObject;\n  }\n\n  /**\n   * \u83B7\u5F97 x \u8F74\u5B57\u6BB5\u7684 scale \u5B9E\u4F8B\u3002\n   * @returns view \u4E2D Geometry \u5BF9\u4E8E\u7684 x scale\n   */\n  public getXScale(): Scale {\n    // \u62FF\u7B2C\u4E00\u4E2A Geometry \u7684 X scale\n    // \u9690\u85CF\u903B\u8F91\uFF1A\u4E00\u4E2A view \u4E2D\u7684 Geometry \u5FC5\u987B x \u5B57\u6BB5\u4E00\u81F4\n    const g = this.geometries[0];\n    return g ? g.getXScale() : null;\n  }\n\n  /**\n   * \u83B7\u53D6 y \u8F74\u5B57\u6BB5\u7684 scales \u5B9E\u4F8B\u3002\n   * @returns view \u4E2D Geometry \u5BF9\u4E8E\u7684 y scale \u6570\u7EC4\n   */\n  public getYScales(): Scale[] {\n    // \u62FF\u5230\u6240\u6709\u7684 Geometry \u7684 Y scale\uFF0C\u7136\u540E\u53BB\u91CD\n    const tmpMap = {};\n    const yScales = [];\n    this.geometries.forEach((g: Geometry) => {\n      const yScale = g.getYScale();\n      const field = yScale.field;\n      if (!tmpMap[field]) {\n        tmpMap[field] = true;\n        yScales.push(yScale);\n      }\n    });\n    return yScales;\n  }\n\n  /**\n   * \u83B7\u53D6 x \u8F74\u6216\u8005 y \u8F74\u5BF9\u5E94\u7684\u6240\u6709 scale \u5B9E\u4F8B\u3002\n   * @param dimType x | y\n   * @returns x \u8F74\u6216\u8005 y \u8F74\u5BF9\u5E94\u7684\u6240\u6709 scale \u5B9E\u4F8B\u3002\n   */\n  public getScalesByDim(dimType: 'x' | 'y'): Record<string, Scale> {\n    const geometries = this.geometries;\n    const scales = {};\n\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      const scale = dimType === 'x' ? geometry.getXScale() : geometry.getYScale();\n      if (scale && !scales[scale.field]) {\n        scales[scale.field] = scale;\n      }\n    }\n\n    return scales;\n  }\n\n  /**\n   * \u6839\u636E\u5B57\u6BB5\u540D\u53BB\u83B7\u53D6 scale \u5B9E\u4F8B\u3002\n   * @param field \u6570\u636E\u5B57\u6BB5\u540D\u79F0\n   * @param key id\n   */\n  public getScale(field: string, key?: string): Scale {\n    const defaultKey = key ? key : this.getScaleKey(field);\n    // \u8C03\u7528\u6839\u8282\u70B9 view \u7684\u65B9\u6CD5\u83B7\u53D6\n    return this.getRootView().scalePool.getScale(defaultKey);\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Please use `getScale`.\n   */\n  public getScaleByField(field: string, key?: string): Scale {\n    return this.getScale(field, key);\n  }\n\n  /**\n   * \u8FD4\u56DE\u6240\u6709\u914D\u7F6E\u4FE1\u606F\u3002\n   * @returns \u6240\u6709\u7684 view API \u914D\u7F6E\u3002\n   */\n  public getOptions(): Options {\n    return this.options;\n  }\n\n  /**\n   * \u83B7\u53D6 view \u7684\u6570\u636E\uFF08\u8FC7\u6EE4\u540E\u7684\u6570\u636E\uFF09\u3002\n   * @returns \u5904\u7406\u8FC7\u6EE4\u5668\u4E4B\u540E\u7684\u6570\u636E\u3002\n   */\n  public getData() {\n    return this.filteredData;\n  }\n\n  /**\n   * \u83B7\u53D6\u539F\u59CB\u6570\u636E\n   * @returns \u4F20\u5165 G2 \u7684\u539F\u59CB\u6570\u636E\n   */\n  public getOriginalData() {\n    return this.options.data;\n  }\n\n  /**\n   * \u83B7\u53D6\u5E03\u5C40\u540E\u7684\u8FB9\u8DDD padding\n   * @returns\n   */\n  public getPadding(): Padding {\n    return this.autoPadding.getPadding();\n  }\n\n  /**\n   * \u83B7\u53D6\u5F53\u524D view \u6709\u7684 geometries\n   * @returns\n   */\n  public getGeometries() {\n    return this.geometries;\n  }\n\n  /**\n   * \u83B7\u53D6 view \u4E2D\u7684\u6240\u6709 geome\n   */\n  public getElements(): Element[] {\n    return reduce(\n      this.geometries,\n      (elements: Element[], geometry: Geometry) => {\n        return elements.concat(geometry.getElements());\n      },\n      []\n    );\n  }\n\n  /**\n   * \u6839\u636E\u4E00\u5B9A\u7684\u89C4\u5219\u67E5\u627E Geometry \u7684 Elements\u3002\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \u5B9A\u4E49\u67E5\u627E\u89C4\u5219\u7684\u56DE\u8C03\u51FD\u6570\u3002\n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.getElements().filter((el) => condition(el));\n  }\n\n  /**\n   * \u83B7\u5F97\u7ED8\u5236\u7684\u5C42\u7EA7 group\u3002\n   * @param layer \u5C42\u7EA7\u540D\u79F0\u3002\n   * @returns \u5BF9\u5E94\u5C42\u7EA7\u7684 Group\u3002\n   */\n  public getLayer(layer: LAYER): IGroup {\n    return layer === LAYER.BG\n      ? this.backgroundGroup\n      : layer === LAYER.MID\n      ? this.middleGroup\n      : layer === LAYER.FORE\n      ? this.foregroundGroup\n      : this.foregroundGroup;\n  }\n\n  /**\n   * \u5BF9\u5916\u66B4\u9732\u65B9\u6CD5\uFF0C\u5224\u65AD\u4E00\u4E2A\u70B9\u662F\u5426\u5728\u7ED8\u56FE\u533A\u57DF\uFF08\u5373\u5750\u6807\u7CFB\u8303\u56F4\uFF09\u5185\u90E8\u3002\n   * @param point \u5750\u6807\u70B9\n   */\n  public isPointInPlot(point: Point): boolean {\n    return isPointInCoordinate(this.getCoordinate(), point);\n  }\n\n  /**\n   * \u83B7\u5F97\u6240\u6709\u7684 legend \u5BF9\u5E94\u7684 attribute \u5B9E\u4F8B\u3002\n   * @returns \u7EF4\u5EA6\u5B57\u6BB5\u7684 Attribute \u6570\u7EC4\n   */\n  public getLegendAttributes(): Attribute[] {\n    return flatten(this.geometries.map((g: Geometry) => g.getGroupAttributes())) as unknown as Attribute[];\n  }\n\n  /**\n   * \u83B7\u53D6\u6240\u6709\u7684\u5206\u7EC4\u5B57\u6BB5\u7684 scale \u5B9E\u4F8B\u3002\n   * @returns \u83B7\u5F97\u5206\u7EC4\u5B57\u6BB5\u7684 scale \u5B9E\u4F8B\u6570\u7EC4\u3002\n   */\n  public getGroupScales(): Scale[] {\n    // \u62FF\u5230\u6240\u6709\u7684 Geometry \u7684 \u5206\u7EC4\u5B57\u6BB5 scale\uFF0C\u7136\u540E\u6253\u5E73\u53BB\u91CD\n    const scales = this.geometries.map((g: Geometry) => g.getGroupScales());\n    return uniq(flatten(scales));\n  }\n\n  /**\n   * \u83B7\u53D6 G.Canvas \u5B9E\u4F8B\u3002\n   * @returns G.Canvas \u753B\u5E03\u5B9E\u4F8B\u3002\n   */\n  public getCanvas(): ICanvas {\n    return (this.getRootView() as unknown as Chart).canvas;\n  }\n\n  /**\n   * \u83B7\u5F97\u6839\u8282\u70B9 view\u3002\n   */\n  public getRootView(): View {\n    let v = this as View;\n\n    while (true) {\n      if (v.parent) {\n        v = v.parent;\n        continue;\n      }\n      break;\n    }\n    return v;\n  }\n\n  /**\n   * \u83B7\u53D6\u8BE5\u6570\u636E\u5728\u53EF\u89C6\u5316\u540E\uFF0C\u5BF9\u5E94\u7684\u753B\u5E03\u5750\u6807\u70B9\u3002\n   * @param data \u539F\u59CB\u6570\u636E\u8BB0\u5F55\n   * @returns \u5BF9\u5E94\u7684\u753B\u5E03\u5750\u6807\u70B9\n   */\n  public getXY(data: Datum): Point {\n    const coordinate = this.getCoordinate();\n    const xScales = this.getScalesByDim('x');\n    const yScales = this.getScalesByDim('y');\n    let x;\n    let y;\n\n    each(data, (value, key) => {\n      if (xScales[key]) {\n        x = xScales[key].scale(value);\n      }\n      if (yScales[key]) {\n        y = yScales[key].scale(value);\n      }\n    });\n\n    if (!isNil(x) && !isNil(y)) {\n      return coordinate.convert({ x, y });\n    }\n  }\n\n  public getController(name: 'tooltip'): Tooltip;\n  public getController(name: 'axis'): Axis;\n  public getController(name: 'legend'): Legend;\n  public getController(name: 'scrollbar'): Scrollbar;\n  public getController(name: 'slider'): Slider;\n  public getController(name: 'annotation'): Annotation;\n  public getController(name: 'gestucre'): Gesture;\n  public getController(name: string): Controller;\n  /**\n   * \u83B7\u53D6 name \u5BF9\u5E94\u7684 controller \u5B9E\u4F8B\n   * @param name\n   */\n  public getController(name: string): Controller {\n    return find(this.controllers, (c: Controller) => c.name === name);\n  }\n\n  /**\n   * \u663E\u793A point \u5750\u6807\u70B9\u5BF9\u5E94\u7684 tooltip\u3002\n   * @param point \u753B\u5E03\u5750\u6807\u70B9\n   * @returns View\n   */\n  public showTooltip(point: Point): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.showTooltip(point);\n    }\n    return this;\n  }\n\n  /**\n   * \u9690\u85CF tooltip\u3002\n   * @returns View\n   */\n  public hideTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.hideTooltip();\n    }\n    return this;\n  }\n\n  /**\n   * \u5C06 tooltip \u9501\u5B9A\u5230\u5F53\u524D\u4F4D\u7F6E\u4E0D\u80FD\u79FB\u52A8\u3002\n   * @returns View\n   */\n  public lockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.lockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   * \u5C06 tooltip \u9501\u5B9A\u89E3\u9664\u3002\n   * @returns View\n   */\n  public unlockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.unlockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   * \u662F\u5426\u9501\u5B9A tooltip\u3002\n   * @returns \u662F\u5426\u9501\u5B9A\n   */\n  public isTooltipLocked() {\n    const tooltip = this.getController('tooltip');\n    return tooltip && tooltip.isTooltipLocked();\n  }\n\n  /**\n   * \u83B7\u53D6\u5F53\u524D point \u5BF9\u5E94\u7684 tooltip \u6570\u636E\u9879\u3002\n   * @param point \u5750\u6807\u70B9\n   * @returns tooltip \u6570\u636E\u9879\n   */\n  public getTooltipItems(point: Point) {\n    const tooltip = this.getController('tooltip');\n\n    return tooltip ? tooltip.getTooltipItems(point) : [];\n  }\n\n  /**\n   * \u83B7\u53D6\u903C\u8FD1\u7684\u70B9\u7684\u6570\u636E\u96C6\u5408\n   * @param point \u5F53\u524D\u5750\u6807\u70B9\n   * @returns  \u6570\u636E\n   */\n  public getSnapRecords(point: Point) {\n    const geometries = this.geometries;\n    let rst = [];\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geom = geometries[i];\n      const dataArray = geom.dataArray;\n      geom.sort(dataArray); // \u5148\u8FDB\u884C\u6392\u5E8F\uFF0C\u4FBF\u4E8E tooltip \u67E5\u627E\n      let record;\n      for (let j = 0, dataLen = dataArray.length; j < dataLen; j++) {\n        const data = dataArray[j];\n        record = findDataByPoint(point, data, geom);\n        if (record) {\n          rst.push(record);\n        }\n      }\n    }\n\n    // \u540C\u6837\u9012\u5F52\u5904\u7406\u5B50 views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      const snapRecords = view.getSnapRecords(point);\n      rst = rst.concat(snapRecords);\n    }\n\n    return rst;\n  }\n\n  /**\n   * \u83B7\u53D6\u6240\u6709\u7684 pure component \u7EC4\u4EF6\uFF0C\u7528\u4E8E\u5E03\u5C40\u3002\n   */\n  public getComponents(): ComponentOption[] {\n    let components = [];\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      components = components.concat(controller.getComponents());\n    }\n\n    return components;\n  }\n\n  /**\n   * \u5C06 data \u6570\u636E\u8FDB\u884C\u8FC7\u6EE4\u3002\n   * @param data\n   * @returns \u8FC7\u6EE4\u4E4B\u540E\u7684\u6570\u636E\n   */\n  public filterData(data: Data): Data {\n    const { filters } = this.options;\n    // \u4E0D\u5B58\u5728 filters\uFF0C\u5219\u4E0D\u9700\u8981\u8FDB\u884C\u6570\u636E\u8FC7\u6EE4\n    if (size(filters) === 0) {\n      return data;\n    }\n\n    // \u5B58\u5728\u8FC7\u6EE4\u5668\uFF0C\u5219\u9010\u4E2A\u6267\u884C\u8FC7\u6EE4\uFF0C\u8FC7\u6EE4\u5668\u4E4B\u95F4\u662F \u4E0E \u7684\u5173\u7CFB\n    return filter(data, (datum: Datum, idx: number) => {\n      // \u6240\u6709\u7684 filter \u5B57\u6BB5\n      const fields = Object.keys(filters);\n\n      // \u6240\u6709\u7684\u6761\u4EF6\u90FD\u901A\u8FC7\uFF0C\u624D\u7B97\u901A\u8FC7\n      return fields.every((field: string) => {\n        const condition = filters[field];\n\n        // condition \u8FD4\u56DE true\uFF0C\u5219\u4FDD\u7559\n        return condition(datum[field], datum, idx);\n      });\n    });\n  }\n\n  /**\n   * \u5BF9\u67D0\u4E00\u4E2A\u5B57\u6BB5\u8FDB\u884C\u8FC7\u6EE4\n   * @param field\n   * @param data\n   */\n  public filterFieldData(field: string, data: Data): Data {\n    const { filters } = this.options;\n    const condition = get(filters, field);\n\n    if (isUndefined(condition)) {\n      return data;\n    }\n    return data.filter((datum: Datum, idx: number) => condition(datum[field], datum, idx));\n  }\n\n  /**\n   * \u8C03\u6574 coordinate \u7684\u5750\u6807\u8303\u56F4\u3002\n   */\n  public adjustCoordinate() {\n    const { start: curStart, end: curEnd } = this.getCoordinate();\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n\n    // \u5728 defaultLayoutFn \u4E2D\u53EA\u4F1A\u5728 coordinateBBox \u53D1\u751F\u53D8\u5316\u7684\u65F6\u5019\u4F1A\u8C03\u7528 adjustCoordinate()\uFF0C\u6240\u4EE5\u4E0D\u7528\u62C5\u5FC3\u88AB\u7F6E\u4F4D\n    if (isEqual(curStart, start) && isEqual(curEnd, end)) {\n      this.isCoordinateChanged = false;\n      // \u5982\u679C\u5927\u5C0F\u6CA1\u6709\u53D8\u5316\u5219\u4E0D\u66F4\u65B0\n      return;\n    }\n    this.isCoordinateChanged = true;\n    this.coordinateInstance = this.coordinateController.adjust(start, end);\n  }\n\n  protected paint(isUpdate: boolean) {\n    this.renderDataRecursive(isUpdate);\n\n    // \u5904\u7406 sync scale \u7684\u903B\u8F91\n    this.syncScale();\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_PAINT);\n\n    // \u521D\u59CB\u5316\u56FE\u5F62\u3001\u7EC4\u4EF6\u4F4D\u7F6E\uFF0C\u8BA1\u7B97 padding\n    this.renderPaddingRecursive(isUpdate);\n    // \u5E03\u5C40\u56FE\u5F62\u3001\u7EC4\u4EF6\n    this.renderLayoutRecursive(isUpdate);\n    // \u80CC\u666F\u8272 shape\n    this.renderBackgroundStyleShape();\n    // \u6700\u7EC8\u7684\u7ED8\u5236 render\n    this.renderPaintRecursive(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_PAINT);\n\n    this.isDataChanged = false; // \u6E32\u67D3\u5B8C\u6BD5\u590D\u4F4D\n  }\n\n  /**\n   * \u6E32\u67D3\u80CC\u666F\u6837\u5F0F\u7684 shape\u3002\n   * \u653E\u5230 view \u4E2D\u521B\u5EFA\u7684\u539F\u56E0\u662F\u8BA9\u4F7F\u7528 view \u7ED8\u5236\u56FE\u5F62\u7684\u65F6\u5019\uFF0C\u4E5F\u80FD\u591F\u5904\u7406\u80CC\u666F\u8272\n   */\n  private renderBackgroundStyleShape() {\n    // \u53EA\u6709\u6839\u8282\u70B9\u624D\u5904\u7406\n    if (this.parent) {\n      return;\n    }\n    const background = get(this.themeObject, 'background');\n    // \u914D\u7F6E\u4E86\u80CC\u666F\u8272\n    if (background) {\n      // 1. \u4E0D\u5B58\u5728\u5219\u521B\u5EFA\n      if (!this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape = this.backgroundGroup.addShape('rect', {\n          attrs: {},\n          zIndex: -1,\n          // \u80CC\u666F\u8272 shape \u4E0D\u8BBE\u7F6E\u4E8B\u4EF6\u6355\u83B7\n          capture: false,\n        });\n        this.backgroundStyleRectShape.toBack();\n      }\n\n      // 2. \u6709\u4E86 shape \u4E4B\u540E\u8BBE\u7F6E\u80CC\u666F\uFF0C\u4F4D\u7F6E\uFF08\u66F4\u65B0\u7684\u65F6\u5019\uFF09\n      const { x, y, width, height } = this.viewBBox;\n      this.backgroundStyleRectShape.attr({\n        fill: background,\n        x,\n        y,\n        width,\n        height,\n      });\n    } else {\n      // \u6CA1\u6709\u914D\u7F6E\u80CC\u666F\u8272\n      if (this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape.remove(true);\n        this.backgroundStyleRectShape = undefined;\n      }\n    }\n  }\n\n  /**\n   * \u9012\u5F52\u8BA1\u7B97\u6BCF\u4E2A view \u7684 padding \u503C\uFF0CcoordinateBBox \u548C coordinateInstance\n   * @param isUpdate\n   */\n  protected renderPaddingRecursive(isUpdate: boolean) {\n    // 1. \u5B50 view \u5927\u5C0F\u76F8\u5BF9 coordinateBBox\uFF0CchangeSize \u7684\u65F6\u5019\u9700\u8981\u91CD\u65B0\u8BA1\u7B97\n    this.calculateViewBBox();\n    // 2. \u66F4\u65B0 coordinate\n    this.adjustCoordinate();\n    // 3. \u521D\u59CB\u5316\u7EC4\u4EF6 component\n    this.initComponents(isUpdate);\n    // 4. \u5E03\u5C40\u8BA1\u7B97\u6BCF\u9694 view \u7684 padding \u503C\n    // 4.1. \u81EA\u52A8\u52A0 auto padding -> absolute padding\uFF0C\u5E76\u4E14\u589E\u52A0 appendPadding\n    this.autoPadding = calculatePadding(this).shrink(parsePadding(this.appendPadding));\n    // 4.2. \u8BA1\u7B97\u51FA\u65B0\u7684 coordinateBBox\uFF0C\u66F4\u65B0 Coordinate\n    // \u8FD9\u91CC\u5FC5\u987B\u4FDD\u7559\uFF0C\u539F\u56E0\u662F\u540E\u9762\u5B50 view \u7684 viewBBox \u6216\u6839\u636E parent \u7684 coordinateBBox\n    this.coordinateBBox = this.viewBBox.shrink(this.autoPadding.getPadding());\n    this.adjustCoordinate();\n\n    // \u540C\u6837\u9012\u5F52\u5904\u7406\u5B50 views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaddingRecursive(isUpdate);\n    }\n  }\n\n  /**\n   * \u9012\u5F52\u5904\u7406 view \u7684\u5E03\u5C40\uFF0C\u6700\u7EC8\u662F\u8BA1\u7B97\u5404\u4E2A view \u7684 coordinateBBox \u548C coordinateInstance\n   * @param isUpdate\n   */\n  protected renderLayoutRecursive(isUpdate: boolean) {\n    // 1. \u540C\u6B65\u5B50 view padding\n    // \u6839\u636E\u914D\u7F6E\u83B7\u53D6 padding\n    const syncViewPaddingFn =\n      this.syncViewPadding === true\n        ? defaultSyncViewPadding\n        : isFunction(this.syncViewPadding)\n        ? this.syncViewPadding\n        : undefined;\n\n    if (syncViewPaddingFn) {\n      syncViewPaddingFn(this, this.views, PaddingCal);\n      // \u540C\u6B65 padding \u4E4B\u540E\uFF0C\u66F4\u65B0 coordinate\n      this.views.forEach((v: View) => {\n        v.coordinateBBox = v.viewBBox.shrink(v.autoPadding.getPadding());\n        v.adjustCoordinate();\n      });\n    }\n\n    // 3. \u5C06 view \u4E2D\u7684\u7EC4\u4EF6\u6309\u7167 view padding \u79FB\u52A8\u5230\u5BF9\u5E94\u7684\u4F4D\u7F6E\n    this.doLayout();\n\n    // \u540C\u6837\u9012\u5F52\u5904\u7406\u5B50 views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderLayoutRecursive(isUpdate);\n    }\n  }\n\n  /**\n   * \u6700\u7EC8\u9012\u5F52\u7ED8\u5236\u7EC4\u4EF6\u548C\u56FE\u5F62\n   * @param isUpdate\n   */\n  protected renderPaintRecursive(isUpdate: boolean) {\n    const middleGroup = this.middleGroup;\n    if (this.limitInPlot) {\n      const { type, attrs } = getCoordinateClipCfg(this.coordinateInstance);\n      middleGroup.setClip({\n        type,\n        attrs,\n      });\n    } else {\n      // \u6E05\u9664\u5DF2\u6709\u7684 clip\n      middleGroup.setClip(undefined);\n    }\n\n    // 1. \u6E32\u67D3\u51E0\u4F55\u6807\u8BB0\n    this.paintGeometries(isUpdate);\n    // 2. \u7ED8\u5236\u7EC4\u4EF6\n    this.renderComponents(isUpdate);\n\n    // \u540C\u6837\u9012\u5F52\u5904\u7406\u5B50 views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaintRecursive(isUpdate);\n    }\n  }\n\n  // end Get \u65B9\u6CD5\n\n  /**\n   * \u521B\u5EFA scale\uFF0C\u9012\u5F52\u5230\u9876\u5C42 view \u53BB\u521B\u5EFA\u548C\u7F13\u5B58 scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  protected createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    // 1. \u5408\u5E76 field \u5BF9\u5E94\u7684 scaleDef\uFF0C\u5408\u5E76\u539F\u5219\u662F\u5E95\u5C42\u8986\u76D6\u9876\u5C42\uFF08\u5C31\u8FD1\u539F\u5219\uFF09\n    const currentScaleDef = get(this.options.scales, [field]);\n    const mergedScaleDef = { ...currentScaleDef, ...scaleDef };\n\n    // 2. \u662F\u5426\u5B58\u5728\u7236 view\uFF0C\u5728\u5219\u9012\u5F52\uFF0C\u5426\u5219\u521B\u5EFA\n    if (this.parent) {\n      return this.parent.createScale(field, data, mergedScaleDef, key);\n    }\n\n    // 3. \u5728\u6839\u8282\u70B9 view \u901A\u8FC7 scalePool \u521B\u5EFA\n    return this.scalePool.createScale(field, data, mergedScaleDef, key);\n  }\n\n  /**\n   * \u9012\u5F52\u6E32\u67D3\u4E2D\u7684\u6570\u636E\u5904\u7406\n   * @param isUpdate\n   */\n  private renderDataRecursive(isUpdate: boolean) {\n    // 1. \u5904\u7406\u6570\u636E\n    this.doFilterData();\n    // 2. \u521B\u5EFA\u5B9E\u4F8B\n    this.createCoordinate();\n    // 3. \u521D\u59CB\u5316 Geometry\n    this.initGeometries(isUpdate);\n    // 4. \u5904\u7406\u5206\u9762\u903B\u8F91\uFF0C\u6700\u7EC8\u90FD\u662F\u751F\u6210\u5B50 view \u548C geometry\n    this.renderFacet(isUpdate);\n\n    // \u540C\u6837\u9012\u5F52\u5904\u7406\u5B50 views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderDataRecursive(isUpdate);\n    }\n  }\n\n  /**\n   * \u8BA1\u7B97 region\uFF0C\u8BA1\u7B97\u5B9E\u9645\u7684\u50CF\u7D20\u8303\u56F4\u5750\u6807\n   * @private\n   */\n  private calculateViewBBox() {\n    let x;\n    let y;\n    let width;\n    let height;\n\n    if (this.parent) {\n      const bbox = this.parent.coordinateBBox;\n      // \u5B58\u5728 parent\uFF0C \u90A3\u4E48\u5C31\u662F\u901A\u8FC7\u7236\u5BB9\u5668\u5927\u5C0F\u8BA1\u7B97\n      x = bbox.x;\n      y = bbox.y;\n      width = bbox.width;\n      height = bbox.height;\n    } else {\n      // \u9876\u5C42\u5BB9\u5668\uFF0C\u4ECE canvas \u4E2D\u53D6\u503C \u5BBD\u9AD8\n      x = 0;\n      y = 0;\n      width = this.canvas.get('width');\n      height = this.canvas.get('height');\n    }\n\n    const { start, end } = this.region;\n\n    // \u6839\u636E region \u8BA1\u7B97\u5F53\u524D view \u7684 bbox \u5927\u5C0F\u3002\n    const viewBBox = new BBox(\n      x + width * start.x,\n      y + height * start.y,\n      width * (end.x - start.x),\n      height * (end.y - start.y)\n    );\n\n    if (!this.viewBBox || !this.viewBBox.isEqual(viewBBox)) {\n      // viewBBox \u53D1\u751F\u53D8\u5316\u7684\u65F6\u5019\u8FDB\u884C\u66F4\u65B0\n      this.viewBBox = new BBox(\n        x + width * start.x,\n        y + height * start.y,\n        width * (end.x - start.x),\n        height * (end.y - start.y)\n      );\n    }\n\n    // \u521D\u59CB\u7684 coordinate bbox \u5927\u5C0F\n    this.coordinateBBox = this.viewBBox;\n  }\n\n  /**\n   * \u521D\u59CB\u5316\u4E8B\u4EF6\u673A\u5236\uFF1AG 4.0 \u5E95\u5C42\u5185\u7F6E\u652F\u6301 name:event \u7684\u673A\u5236\uFF0C\u90A3\u4E48\u53EA\u8981\u6240\u6709\u7EC4\u4EF6\u90FD\u6709\u81EA\u5DF1\u7684 name \u5373\u53EF\u3002\n   *\n   * G2 \u7684\u4E8B\u4EF6\u53EA\u662F\u83B7\u53D6\u4E8B\u4EF6\u59D4\u6258\uFF0C\u7136\u540E\u5728 view \u5D4C\u5957\u7ED3\u6784\u4E2D\uFF0C\u5F62\u6210\u4E8B\u4EF6\u5192\u6CE1\u673A\u5236\u3002\n   * \u5F53\u524D view \u53EA\u59D4\u6258\u81EA\u5DF1 view \u4E2D\u7684 Component \u548C Geometry \u4E8B\u4EF6\uFF0C\u5E76\u5411\u4E0A\u5192\u6CE1\n   * @private\n   */\n  private initEvents() {\n    // \u4E09\u5C42 group \u4E2D\u7684 shape \u4E8B\u4EF6\u90FD\u4F1A\u901A\u8FC7 G \u5192\u6CE1\u4E0A\u6765\u7684\n    this.foregroundGroup.on('*', this.onDelegateEvents);\n    this.middleGroup.on('*', this.onDelegateEvents);\n    this.backgroundGroup.on('*', this.onDelegateEvents);\n\n    this.canvas.on('*', this.onCanvasEvent);\n  }\n\n  private onCanvasEvent = (evt: GEvent): void => {\n    const name = evt.name;\n    if (!name.includes(':')) {\n      // \u975E\u59D4\u6258\u4E8B\u4EF6\n      const e = this.createViewEvent(evt);\n      // \u5904\u7406 plot \u4E8B\u4EF6\n      this.doPlotEvent(e);\n      this.emit(name, e);\n    }\n  };\n\n  /**\n   * \u521D\u59CB\u5316\u63D2\u4EF6\n   */\n  private initComponentController() {\n    const usedControllers = this.usedControllers;\n    for (let i = 0, len = usedControllers.length; i < len; i++) {\n      const controllerName = usedControllers[i];\n      const Ctor = getComponentController(controllerName);\n      if (Ctor) {\n        this.controllers.push(new Ctor(this));\n      }\n    }\n  }\n\n  private createViewEvent(evt: GEvent) {\n    const { shape, name } = evt;\n\n    const data = shape ? shape.get('origin') : null;\n    // \u4E8B\u4EF6\u5728 view \u5D4C\u5957\u4E2D\u5192\u6CE1\uFF08\u6682\u4E0D\u63D0\u4F9B\u963B\u6B62\u5192\u6CE1\u7684\u673A\u5236\uFF09\n    const e = new Event(this, evt, data);\n    e.type = name;\n    return e;\n  }\n  /**\n   * \u89E6\u53D1\u4E8B\u4EF6\u4E4B\u540E\n   * @param evt\n   */\n  private onDelegateEvents = (evt: GEvent): void => {\n    // \u963B\u6B62\u7EE7\u7EED\u5192\u6CE1\uFF0C\u9632\u6B62\u91CD\u590D\u4E8B\u4EF6\u89E6\u53D1\n    // evt.preventDefault();\n    const { name } = evt;\n    if (!name.includes(':')) {\n      return;\n    }\n    // \u4E8B\u4EF6\u5728 view \u5D4C\u5957\u4E2D\u5192\u6CE1\uFF08\u6682\u4E0D\u63D0\u4F9B\u963B\u6B62\u5192\u6CE1\u7684\u673A\u5236\uFF09\n    const e = this.createViewEvent(evt);\n\n    // \u5305\u542B\u6709\u57FA\u672C\u4E8B\u4EF6\u3001\u7EC4\u5408\u4E8B\u4EF6\n    this.emit(name, e);\n    // const currentTarget = evt.currentTarget as IShape;\n    // const inheritNames = currentTarget.get('inheritNames');\n    // if (evt.delegateObject || inheritNames) {\n    //   const events = this.getEvents();\n    //   each(inheritNames, (subName) => {\n    //     const eventName = `${subName}:${type}`;\n    //     if (events[eventName]) {\n    //       this.emit(eventName, e);\n    //     }\n    //   });\n    // }\n  };\n\n  /**\n   * \u5904\u7406 PLOT_EVENTS\n   * plot event \u9700\u8981\u5904\u7406\u6240\u6709\u7684\u57FA\u7840\u4E8B\u4EF6\uFF0C\u5E76\u5224\u65AD\u662F\u5426\u5728\u753B\u5E03\u4E2D\uFF0C\u7136\u540E\u518D\u51B3\u5B9A\u662F\u5426\u8981 emit\u3002\n   * \u5BF9\u4E8E mouseenter\u3001mouseleave \u6BD4\u8F83\u7279\u6B8A\uFF0C\u9700\u8981\u505A\u4E00\u4E0B\u6570\u5B66\u6BD4\u8F83\u3002\n   * @param e\n   */\n  private doPlotEvent(e: Event) {\n    const { type, x, y } = e;\n\n    const point = { x, y };\n\n    const ALL_EVENTS = [\n      'mousedown',\n      'mouseup',\n      'mousemove',\n      'mouseleave',\n      'mousewheel',\n      'touchstart',\n      'touchmove',\n      'touchend',\n      'touchcancel',\n      'click',\n      'dblclick',\n      'contextmenu',\n    ];\n\n    if (ALL_EVENTS.includes(type)) {\n      const currentInPlot = this.isPointInPlot(point);\n      const newEvent = e.clone();\n\n      if (currentInPlot) {\n        const TYPE = `plot:${type}`; // \u7EC4\u5408 plot \u4E8B\u4EF6\n        newEvent.type = TYPE;\n        this.emit(TYPE, newEvent);\n        if (type === 'mouseleave' || type === 'touchend') {\n          // \u5728plot \u5185\u90E8\u5374\u79BB\u5F00\u753B\u5E03\n          this.isPreMouseInPlot = false;\n        }\n      }\n\n      // \u5BF9\u4E8E mouseenter, mouseleave \u7684\u8BA1\u7B97\u5904\u7406\n      if (type === 'mousemove' || type === 'touchmove') {\n        if (this.isPreMouseInPlot && !currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n        } else if (!this.isPreMouseInPlot && currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_ENTER;\n            this.emit(PLOT_EVENTS.MOUSE_ENTER, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.ENTER;\n          this.emit(PLOT_EVENTS.ENTER, newEvent);\n        }\n        // \u8D4B\u65B0\u7684\u72B6\u6001\u503C\n        this.isPreMouseInPlot = currentInPlot;\n      } else if (type === 'mouseleave' || type === 'touchend') {\n        // \u53EF\u80FD\u4E0D\u5728 currentInPlot \u4E2D\n        if (this.isPreMouseInPlot) {\n          if (type === 'mouseleave') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n\n          this.isPreMouseInPlot = false;\n        }\n      }\n    }\n  }\n\n  // view \u751F\u547D\u5468\u671F \u2014\u2014 \u6E32\u67D3\u6D41\u7A0B\n\n  /**\n   * \u5904\u7406\u7B5B\u9009\u5668\uFF0C\u7B5B\u9009\u6570\u636E\n   * @private\n   */\n  private doFilterData() {\n    const { data } = this.options;\n    this.filteredData = this.filterData(data);\n  }\n\n  /**\n   * \u521D\u59CB\u5316 Geometries\n   * @private\n   */\n  private initGeometries(isUpdate: boolean) {\n    // \u521D\u59CB\u5316\u56FE\u5F62\u7684\u4E4B\u524D\uFF0C\u5148\u521B\u5EFA / \u66F4\u65B0 scales\n    this.createOrUpdateScales();\n    // \u5B9E\u4F8B\u5316 Geometry\uFF0C\u7136\u540E view \u5C06\u6240\u6709\u7684 scale \u7BA1\u7406\u8D77\u6765\n    const coordinate = this.getCoordinate();\n    const scaleDefs = get(this.options, 'scales', {});\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      // \u4FDD\u6301 scales \u5F15\u7528\u4E0D\u8981\u53D8\u5316\n      geometry.scales = this.getGeometryScales();\n      const cfg = {\n        coordinate, // \u4F7F\u7528 coordinate \u5F15\u7528\uFF0C\u53EF\u4EE5\u4FDD\u6301 coordinate \u7684\u540C\u6B65\u66F4\u65B0\n        scaleDefs,\n        data: this.filteredData,\n        theme: this.themeObject,\n        isDataChanged: this.isDataChanged,\n        isCoordinateChanged: this.isCoordinateChanged,\n      };\n\n      if (isUpdate) {\n        // \u6570\u636E\u53D1\u751F\u66F4\u65B0\n        geometry.update(cfg);\n      } else {\n        geometry.init(cfg);\n      }\n    }\n\n    // Geometry \u521D\u59CB\u5316\u4E4B\u540E\uFF0C\u751F\u6210\u4E86 scale\uFF0C\u7136\u540E\u8FDB\u884C\u8C03\u6574 scale \u914D\u7F6E\n    this.adjustScales();\n  }\n\n  /**\n   * \u6839\u636E Geometry \u7684\u6240\u6709\u5B57\u6BB5\u521B\u5EFA scales\n   * \u5982\u679C\u5B58\u5728\uFF0C\u5219\u66F4\u65B0\uFF0C\u4E0D\u5B58\u5728\u5219\u521B\u5EFA\n   */\n  private createOrUpdateScales() {\n    const fields = this.getScaleFields();\n    const groupedFields = this.getGroupedFields();\n\n    const { data, scales = {} } = this.getOptions();\n    const filteredData = this.filteredData;\n\n    for (let i = 0, len = fields.length; i < len; i++) {\n      const field = fields[i];\n      const scaleDef = scales[field];\n\n      // \u8C03\u7528\u65B9\u6CD5\uFF0C\u9012\u5F52\u53BB\u521B\u5EFA\n      const key = this.getScaleKey(field);\n      this.createScale(\n        field,\n        // \u5206\u7EC4\u5B57\u6BB5\u7684 scale \u4F7F\u7528\u672A\u8FC7\u6EE4\u7684\u6570\u636E\u521B\u5EFA\n        groupedFields.includes(field) ? data : filteredData,\n        scaleDef,\n        key\n      );\n\n      // \u7F13\u5B58\u4ECE\u5F53\u524D view \u521B\u5EFA\u7684 scale key\n      this.createdScaleKeys.set(key, true);\n    }\n  }\n\n  /**\n   * \u5904\u7406 scale \u540C\u6B65\u903B\u8F91\n   */\n  private syncScale() {\n    // \u6700\u7EC8\u8C03\u7528 root view \u7684\n    this.getRootView().scalePool.sync(this.getCoordinate(), this.theme);\n  }\n\n  /**\n   * \u83B7\u5F97 Geometry \u4E2D\u7684 scale \u5BF9\u8C61\n   */\n  private getGeometryScales(): Record<string, Scale> {\n    const fields = this.getScaleFields();\n\n    const scales = {};\n    for (let i = 0; i < fields.length; i++) {\n      const field = fields[i];\n      scales[field] = this.getScaleByField(field);\n    }\n\n    return scales;\n  }\n\n  private getScaleFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const geometryScales = geometry.getScaleFields();\n      uniq(geometryScales, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  private getGroupedFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const groupFields = geometry.getGroupFields();\n      uniq(groupFields, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  /**\n   * \u8C03\u6574 scale \u914D\u7F6E\n   * @private\n   */\n  private adjustScales() {\n    // \u8C03\u6574\u76EE\u524D\u5305\u62EC\uFF1A\n    // \u5206\u7C7B scale\uFF0C\u8C03\u6574 range \u8303\u56F4\n    this.adjustCategoryScaleRange();\n  }\n\n  /**\n   * \u8C03\u6574\u5206\u7C7B scale \u7684 range\uFF0C\u9632\u6B62\u8D85\u51FA\u5750\u6807\u7CFB\u5916\u9762\n   * @private\n   */\n  private adjustCategoryScaleRange() {\n    const xyScales = [this.getXScale(), ...this.getYScales()].filter((e) => !!e);\n    const coordinate = this.getCoordinate();\n    const scaleOptions = this.options.scales;\n\n    each(xyScales, (scale: Scale) => {\n      const { field, values, isCategory, isIdentity } = scale;\n\n      // \u5206\u7C7B\u6216\u8005 identity \u7684 scale \u624D\u8FDB\u884C\u5904\u7406\n      if (isCategory || isIdentity) {\n        // \u5B58\u5728 value \u503C\uFF0C\u4E14\u7528\u6237\u6CA1\u6709\u914D\u7F6E range \u914D\u7F6E\n        if (values && !get(scaleOptions, [field, 'range'])) {\n          // \u66F4\u65B0 range\n          scale.range = getDefaultCategoryScaleRange(scale, coordinate, this.theme);\n        }\n      }\n    });\n  }\n\n  /**\n   * \u6839\u636E options \u914D\u7F6E\u3001Geometry \u5B57\u6BB5\u914D\u7F6E\uFF0C\u81EA\u52A8\u751F\u6210 components\n   * @param isUpdate \u662F\u5426\u662F\u66F4\u65B0\n   * @private\n   */\n  private initComponents(isUpdate: boolean) {\n    // \u5148\u5168\u90E8\u6E05\u7A7A\uFF0C\u7136\u540E render\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      const controller = controllers[i];\n      // \u66F4\u65B0\u5219\u8D70\u66F4\u65B0\u903B\u8F91\uFF1B\u5426\u5219\u6E05\u7A7A\u8F7D\u91CD\u7ED8\n      if (isUpdate) {\n        controller.update();\n      } else {\n        controller.clear();\n        controller.render();\n      }\n    }\n  }\n\n  private doLayout() {\n    this.layoutFunc(this);\n  }\n\n  /**\n   * \u521B\u5EFA\u5750\u6807\u7CFB\n   * @private\n   */\n  private createCoordinate() {\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n    this.coordinateInstance = this.coordinateController.create(start, end);\n  }\n\n  /**\n   * \u6839\u636E options \u914D\u7F6E\u81EA\u52A8\u6E32\u67D3 geometry\n   * @private\n   */\n  private paintGeometries(isUpdate: boolean) {\n    const doAnimation = this.options.animate;\n    // geometry \u7684 paint \u9636\u6BB5\n    const coordinate = this.getCoordinate();\n    const canvasRegion = {\n      x: this.viewBBox.x,\n      y: this.viewBBox.y,\n      minX: this.viewBBox.minX,\n      minY: this.viewBBox.minY,\n      maxX: this.viewBBox.maxX,\n      maxY: this.viewBBox.maxY,\n      width: this.viewBBox.width,\n      height: this.viewBBox.height,\n    };\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      geometry.coordinate = coordinate;\n      geometry.canvasRegion = canvasRegion;\n      if (!doAnimation) {\n        // \u5982\u679C view \u4E0D\u6267\u884C\u52A8\u753B\uFF0C\u90A3\u4E48 view \u4E0B\u6240\u6709\u7684 geometry \u90FD\u4E0D\u6267\u884C\u52A8\u753B\n        geometry.animate(false);\n      }\n      geometry.paint(isUpdate);\n    }\n  }\n\n  /**\n   * \u6700\u540E\u7684\u7ED8\u5236\u7EC4\u4EF6\n   * @param isUpdate\n   */\n  private renderComponents(isUpdate: boolean) {\n    // \u5148\u5168\u90E8\u6E05\u7A7A\uFF0C\u7136\u540E render\n    for (let i = 0; i < this.getComponents().length; i++) {\n      const co = this.getComponents()[i];\n      (co.component as GroupComponent).render();\n    }\n  }\n\n  /**\n   * \u6E32\u67D3\u5206\u9762\uFF0C\u4F1A\u5728\u5176\u4E2D\u8FDB\u884C\u6570\u636E\u5206\u9762\uFF0C\u7136\u540E\u8FDB\u884C\u5B50 view \u521B\u5EFA\n   * @param isUpdate\n   */\n  private renderFacet(isUpdate: boolean) {\n    if (this.facetInstance) {\n      if (isUpdate) {\n        this.facetInstance.update();\n      } else {\n        this.facetInstance.clear();\n        // \u8BA1\u7B97\u5206\u9762\u6570\u636E\n        this.facetInstance.init();\n        // \u6E32\u67D3\u7EC4\u4EF6\u548C views\n        this.facetInstance.render();\n      }\n    }\n  }\n\n  private initOptions() {\n    const {\n      geometries = [],\n      interactions = [],\n      views = [],\n      annotations = [],\n      coordinate,\n      events,\n      facets,\n    } = this.options;\n\n    // \u8BBE\u7F6E\u5750\u6807\u7CFB\n    if (this.coordinateController) {\n      // \u66F4\u65B0 coordinate controller\n      coordinate && this.coordinateController.update(coordinate);\n    } else {\n      // \u521B\u5EFA coordinate controller\n      this.coordinateController = new CoordinateController(coordinate);\n    }\n\n    // \u521B\u5EFA geometry \u5B9E\u4F8B\n    for (let i = 0; i < geometries.length; i++) {\n      const geometryOption = geometries[i];\n      this.createGeometry(geometryOption);\n    }\n\n    // \u521B\u5EFA interactions \u5B9E\u4F8B\n    for (let j = 0; j < interactions.length; j++) {\n      const interactionOption = interactions[j];\n      const { type, cfg } = interactionOption;\n      this.interaction(type, cfg);\n    }\n\n    // \u521B\u5EFA view \u5B9E\u4F8B\n    for (let k = 0; k < views.length; k++) {\n      const viewOption = views[k];\n      this.createView(viewOption);\n    }\n\n    // \u8BBE\u7F6E annotation\n    const annotationComponent = this.getController('annotation');\n    for (let l = 0; l < annotations.length; l++) {\n      const annotationOption = annotations[l];\n      annotationComponent.annotation(annotationOption);\n    }\n\n    // \u8BBE\u7F6E events\n    if (events) {\n      each(events, (eventCallback, eventName) => {\n        this.on(eventName, eventCallback);\n      });\n    }\n\n    if (facets) {\n      each(facets, (facet) => {\n        const { type, ...rest } = facet;\n\n        this.facet(type, rest);\n      });\n    }\n  }\n\n  private createGeometry(geometryOption: GeometryOption) {\n    const { type, cfg = {} } = geometryOption;\n    if (this[type]) {\n      const geometry = this[type](cfg);\n      each(geometryOption, (v, k) => {\n        if (isFunction(geometry[k])) {\n          geometry[k](v);\n        }\n      });\n    }\n  }\n\n  /**\n   * scale key \u7684\u521B\u5EFA\u65B9\u5F0F\n   * @param field\n   */\n  private getScaleKey(field: string): string {\n    return `${this.id}-${field}`;\n  }\n}\n\n/**\n * \u6CE8\u518C geometry \u7EC4\u4EF6\n * @param name\n * @param Ctor\n * @returns Geometry\n */\nexport function registerGeometry(name: string, Ctor: any) {\n  // \u8BED\u6CD5\u7CD6\uFF0C\u5728 view API \u4E0A\u589E\u52A0\u539F\u578B\u65B9\u6CD5\n  View.prototype[name.toLowerCase()] = function (cfg: any = {}) {\n    const props = {\n      /** \u56FE\u5F62\u5BB9\u5668 */\n      container: this.middleGroup.addGroup(),\n      labelsContainer: this.foregroundGroup.addGroup(),\n      ...cfg,\n    };\n\n    const geometry = new Ctor(props);\n    this.geometries.push(geometry);\n\n    return geometry;\n  };\n}\n\nexport default View;\n", "import { debounce, each, isString } from '@antv/util';\nimport { ChartCfg } from '../interface';\nimport { GROUP_Z_INDEX, VIEW_LIFE_CIRCLE } from '../constant';\nimport { getEngine } from '../engine';\nimport { createDom, getChartSize, removeDom, modifyCSS } from '../util/dom';\nimport View from './view';\nimport { AriaOption } from '../interface';\n\n/**\n * Chart \u7C7B\uFF0C\u662F\u4F7F\u7528 G2 \u8FDB\u884C\u7ED8\u56FE\u7684\u5165\u53E3\u3002\n */\nexport default class Chart extends View {\n  /** Chart \u7684 DOM \u5BB9\u5668 */\n  public ele: HTMLElement;\n\n  /** \u56FE\u8868\u5BBD\u5EA6 */\n  public width: number;\n  /** \u56FE\u8868\u9AD8\u5EA6 */\n  public height: number;\n  /** \u662F\u5426\u5F00\u542F\u5C40\u90E8\u5237\u65B0 */\n  public localRefresh: boolean;\n  /** \u662F\u5426\u81EA\u9002\u5E94 DOM \u5BB9\u5668\u5BBD\u9AD8\uFF0C\u9ED8\u8BA4\u4E3A false\uFF0C\u9700\u8981\u7528\u6237\u624B\u52A8\u6307\u5B9A\u5BBD\u9AD8 */\n  public autoFit: boolean;\n  /** \u56FE\u8868\u6E32\u67D3\u5F15\u64CE */\n  public renderer: 'canvas' | 'svg';\n\n  private wrapperElement: HTMLElement;\n\n  // @ts-ignore\n  constructor(props: ChartCfg) {\n    const {\n      container,\n      width,\n      height,\n      autoFit = false,\n      padding,\n      appendPadding,\n      renderer = 'canvas',\n      pixelRatio,\n      localRefresh = true,\n      visible = true,\n      supportCSSTransform = false,\n      defaultInteractions = ['tooltip', 'legend-filter', 'legend-active', 'continuous-filter', 'ellipsis-text', 'axis-description'],\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    } = props;\n\n    const ele: HTMLElement = isString(container) ? document.getElementById(container) : container;\n\n    // \u751F\u6210\u5185\u90E8\u6B63\u5F0F\u7ED8\u5236\u7684 div \u5143\u7D20\n    const wrapperElement = createDom('<div style=\"position:relative;\"></div>');\n    ele.appendChild(wrapperElement);\n\n    // if autoFit, use the container size, to avoid the graph render twice.\n    const size = getChartSize(ele, autoFit, width, height);\n\n    const G = getEngine(renderer);\n\n    const canvas = new G.Canvas({\n      container: wrapperElement,\n      pixelRatio,\n      localRefresh,\n      supportCSSTransform,\n      ...size,\n    });\n\n    // \u8C03\u7528 view \u7684\u521B\u5EFA\n    super({\n      parent: null,\n      canvas,\n      // create 3 group layers for views.\n      backgroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      padding,\n      appendPadding,\n      visible,\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    });\n\n    this.ele = ele;\n    this.canvas = canvas;\n    this.width = size.width;\n    this.height = size.height;\n    this.autoFit = autoFit;\n    this.localRefresh = localRefresh;\n    this.renderer = renderer;\n    this.wrapperElement = wrapperElement;\n\n    // \u81EA\u9002\u5E94\u5927\u5C0F\n    this.updateCanvasStyle();\n    this.bindAutoFit();\n    this.initDefaultInteractions(defaultInteractions);\n  }\n\n  private initDefaultInteractions(interactions) {\n    each(interactions, (interaction) => {\n      this.interaction(interaction);\n    });\n  }\n\n  /**\n   * \u8BBE\u7F6E WAI-ARIA \u65E0\u969C\u788D\u6807\u7B7E\u3002\u5982\u4F55\u6839\u636E\u56FE\u5F62\u8BED\u6CD5\u81EA\u52A8\u751F\u6210 arial \u5185\u5BB9\uFF1F\n   * @param ariaOption\n   */\n  public aria(ariaOption: AriaOption) {\n    const ATTR = 'aria-label';\n    if (ariaOption === false) {\n      this.ele.removeAttribute(ATTR);\n    } else {\n      this.ele.setAttribute(ATTR, ariaOption.label);\n    }\n  }\n\n  /**\n   * \u6539\u53D8\u56FE\u8868\u5927\u5C0F\uFF0C\u540C\u65F6\u91CD\u65B0\u6E32\u67D3\u3002\n   * @param width \u56FE\u8868\u5BBD\u5EA6\n   * @param height \u56FE\u8868\u9AD8\u5EA6\n   * @returns\n   */\n  public changeSize(width: number, height: number) {\n    // \u5982\u679C\u5BBD\u9AD8\u4E00\u81F4\uFF0C\u90A3\u4E48 changeSize \u4E0D\u6267\u884C\u4EFB\u4F55\u64CD\u4F5C\n    if (this.width === width && this.height === height) {\n      return this;\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE);\n\n    this.width = width;\n    this.height = height;\n    this.canvas.changeSize(width, height);\n\n    // \u91CD\u65B0\u6E32\u67D3\n    this.render(true);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_SIZE);\n\n    return this;\n  }\n\n  /**\n   * \u6E05\u7A7A\u56FE\u8868\uFF0C\u540C\u65F6\u6E05\u9664\u6389 aria \u914D\u7F6E\n   */\n  public clear() {\n    super.clear();\n\n    this.aria(false);\n  }\n\n  /**\n   * \u9500\u6BC1\u56FE\u8868\uFF0C\u540C\u65F6\u89E3\u7ED1\u4E8B\u4EF6\uFF0C\u9500\u6BC1\u521B\u5EFA\u7684 G.Canvas \u5B9E\u4F8B\u3002\n   * @returns void\n   */\n  public destroy() {\n    super.destroy();\n\n    this.unbindAutoFit();\n    this.canvas.destroy();\n\n    removeDom(this.wrapperElement);\n    this.wrapperElement = null;\n  }\n\n  /**\n   * \u663E\u793A\u6216\u9690\u85CF\u56FE\u8868\n   * @param visible \u662F\u5426\u53EF\u89C1\uFF0Ctrue \u8868\u793A\u663E\u793A\uFF0Cfalse \u8868\u793A\u9690\u85CF\n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible); // \u9700\u8981\u66F4\u65B0 visible \u53D8\u91CF\n    this.wrapperElement.style.display = visible ? '' : 'none';\n\n    return this;\n  }\n\n  /**\n   * \u81EA\u52A8\u6839\u636E\u5BB9\u5668\u5927\u5C0F resize \u753B\u5E03\n   */\n  public forceFit() {\n    // skip if already destroyed\n    if (!this.destroyed) {\n      // \u6CE8\u610F\u7B2C\u4E8C\u53C2\u6570\u7528 true\uFF0C\u610F\u601D\u662F\u5373\u65F6 autoFit = false\uFF0CforceFit() \u8C03\u7528\u4E4B\u540E\u4E00\u6837\u662F\u9002\u914D\u5BB9\u5668\n      const { width, height } = getChartSize(this.ele, true, this.width, this.height);\n      this.changeSize(width, height);\n    }\n  }\n\n  private updateCanvasStyle() {\n    modifyCSS(this.canvas.get('el'), {\n      display: 'inline-block',\n      verticalAlign: 'middle',\n    });\n  }\n\n  private bindAutoFit() {\n    if (this.autoFit) {\n      window.addEventListener('resize', this.onResize);\n    }\n  }\n\n  private unbindAutoFit() {\n    if (this.autoFit) {\n      window.removeEventListener('resize', this.onResize);\n    }\n  }\n\n  /**\n   * when container size changed, change chart size props, and re-render.\n   */\n  private onResize = debounce(() => {\n    this.forceFit();\n  }, 300);\n}\n", "import { each } from '@antv/util';\nimport { ComponentOption } from '../../interface';\nimport View from '../view';\n\n/** Component controller class type define */\nexport type ControllerCtor<O = any> = new (view: View) => Controller<O>;\n\n/**\n * Component Controller \u89C4\u8303\u9700\u8981\u5B9A\u4E49\u7684\u57FA\u7C7B\n * 1. \u89C4\u8303\u7684 option \u8F93\u5165\n * 2. \u7EDF\u4E00\u7684\u4FE1\u606F\u83B7\u53D6 API\n * 3. \u660E\u786E\u5B9A\u4E49\u7684\u7EC4\u4EF6\u4E8B\u4EF6\uFF08\u540D\u79F0\u3001\u6570\u636E\uFF09\n */\nexport abstract class Controller<O = unknown> {\n  /** \u662F\u5426\u53EF\u89C1 */\n  public visible: boolean = true;\n  protected view: View;\n  /** option \u914D\u7F6E\uFF0C\u4E0D\u540C\u7EC4\u4EF6\u6709\u81EA\u5DF1\u4E0D\u540C\u7684\u914D\u7F6E\u7ED3\u6784 */\n  protected option: O;\n  /** \u6240\u6709\u7684 component */\n  protected components: ComponentOption[] = [];\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  public abstract get name(): string;\n\n  /**\n   * init the component\n   */\n  public abstract init();\n\n  /**\n   * render the components\n   */\n  public abstract render();\n\n  /**\n   * update the components\n   */\n  // public abstract update();\n\n  /**\n   * do layout\n   */\n  public abstract layout();\n\n  /**\n   * \u7EC4\u4EF6\u7684\u66F4\u65B0\u903B\u8F91\n   *  - \u6839\u636E\u5B57\u6BB5\u4E3A\u6807\u8BC6\uFF0C\u4E3A\u6BCF\u4E00\u4E2A\u7EC4\u4EF6\u751F\u6210\u4E00\u4E2A id\uFF0C\u653E\u5230 option \u4E2D\n   *  - \u66F4\u65B0\u7684\u65F6\u5019\u6309\u7167 id \u53BB\u505A diff\uFF0C\u7136\u540E\u5BF9\u540C\u7684\u505A\u5904\u7406\n   *  - \u521B\u5EFA\u589E\u52A0\u7684\n   *  - \u66F4\u65B0\u5DF2\u6709\u7684\n   *  - \u9500\u6BC1\u5220\u9664\u7684\n   */\n  public abstract update();\n\n  /**\n   * clear\n   * @param includeOption \u662F\u5426\u6E05\u7A7A option \u914D\u7F6E\u9879\uFF08used in annotation\uFF09\n   */\n  public clear(includeOption?: boolean) {\n    // destroy all components\n    each(this.components, (co: ComponentOption) => {\n      co.component.destroy();\n    });\n\n    // clear all component instance\n    this.components = [];\n  }\n\n  /**\n   * destroy the component\n   */\n  public destroy() {\n    this.clear();\n  }\n\n  /**\n   * get all components\n   * @returns components array\n   */\n  public getComponents(): ComponentOption[] {\n    return this.components;\n  }\n\n  /**\n   * change visibility of component\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.components.forEach((co: ComponentOption) => {\n      if (visible) {\n        co.component.show();\n      } else {\n        co.component.hide();\n      }\n    });\n    this.visible = visible;\n  }\n}\n", "import { deepMix, find, get, isEqual, isFunction, mix, isString, isBoolean, flatten, isArray } from '@antv/util';\nimport { Crosshair, HtmlTooltip, IGroup } from '../../dependents';\nimport { Point, TooltipItem, TooltipOption } from '../../interface';\nimport { getAngleByPoint, getDistanceToCenter, isPointInCoordinate, getCoordinateClipCfg } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { findItemsFromView } from '../../util/tooltip';\nimport { BBox } from '../../util/bbox';\nimport { Controller } from './base';\nimport Event from '../event';\nimport View from '../view';\n\n// Filter duplicates, use `name`, `color`, `value` and `title` property values as condition\nfunction uniq(items) {\n  const uniqItems = [];\n  for (let index = 0; index < items.length; index++) {\n    const item = items[index];\n    const result = find(uniqItems, (subItem) => {\n      return (\n        subItem.color === item.color &&\n        subItem.name === item.name &&\n        subItem.value === item.value &&\n        subItem.title === item.title\n      );\n    });\n    if (!result) {\n      uniqItems.push(item);\n    }\n  }\n  return uniqItems;\n}\n\n/** @ignore */\nexport default class Tooltip extends Controller<TooltipOption> {\n  private tooltip;\n  private tooltipMarkersGroup: IGroup;\n  private tooltipCrosshairsGroup: IGroup;\n  private xCrosshair;\n  private yCrosshair;\n  private guideGroup: IGroup;\n\n  private isLocked: boolean = false;\n  private items;\n  private title: string;\n  private point: Point;\n\n  public get name(): string {\n    return 'tooltip';\n  }\n\n  public init() { }\n\n  private isVisible() {\n    const option = this.view.getOptions().tooltip;\n    return option !== false;\n  }\n\n  public render() { }\n\n  /**\n   * Shows tooltip\n   * @param point\n   */\n  public showTooltip(point: Point) {\n    this.point = point;\n    if (!this.isVisible()) {\n      // \u5982\u679C\u8BBE\u7F6E tooltip(false) \u5219\u59CB\u7EC8\u4E0D\u663E\u793A\n      return;\n    }\n    const view = this.view;\n    const items = this.getTooltipItems(point);\n    if (!items.length) {\n      // \u65E0\u5185\u5BB9\u5219\u4E0D\u5C55\u793A\uFF0C\u540C\u65F6 tooltip \u9700\u8981\u9690\u85CF\n      this.hideTooltip();\n      return;\n    }\n    const title = this.getTitle(items);\n    const dataPoint = {\n      x: items[0].x,\n      y: items[0].y,\n    }; // \u6570\u636E\u70B9\u4F4D\u7F6E\n\n    view.emit(\n      'tooltip:show',\n      Event.fromData(view, 'tooltip:show', {\n        items,\n        title,\n        ...point,\n      })\n    );\n\n    const cfg = this.getTooltipCfg();\n    const { follow, showMarkers, showCrosshairs, showContent, marker } = cfg;\n    const lastItems = this.items;\n    const lastTitle = this.title;\n    if (!isEqual(lastTitle, title) || !isEqual(lastItems, items)) {\n      // \u5185\u5BB9\u53D1\u751F\u53D8\u5316\u4E86\u66F4\u65B0 tooltip\n      view.emit(\n        'tooltip:change',\n        Event.fromData(view, 'tooltip:change', {\n          items,\n          title,\n          ...point,\n        })\n      );\n\n      if (isFunction(showContent) ? showContent(items) : showContent) {\n        // \u5C55\u793A tooltip \u5185\u5BB9\u6846\u624D\u6E32\u67D3 tooltip\n        if (!this.tooltip) {\n          // \u5EF6\u8FDF\u751F\u6210\n          this.renderTooltip();\n        }\n        this.tooltip.update(\n          mix(\n            {},\n            cfg,\n            {\n              items: this.getItemsAfterProcess(items),\n              title,\n            },\n            follow ? point : {}\n          )\n        );\n        this.tooltip.show();\n      }\n\n      if (showMarkers) {\n        // \u5C55\u793A tooltipMarkers\uFF0CtooltipMarkers \u8DDF\u968F\u6570\u636E\n        this.renderTooltipMarkers(items, marker);\n      }\n    } else {\n      // \u5185\u5BB9\u672A\u53D1\u751F\u53D8\u5316\uFF0C\u5219\u66F4\u65B0\u4F4D\u7F6E\n      if (this.tooltip && follow) {\n        this.tooltip.update(point);\n        this.tooltip.show(); // tooltip \u6709\u53EF\u80FD\u88AB\u9690\u85CF\uFF0C\u9700\u8981\u4FDD\u8BC1\u663E\u793A\u72B6\u6001\n      }\n\n      if (this.tooltipMarkersGroup) {\n        this.tooltipMarkersGroup.show();\n      }\n    }\n\n    this.items = items;\n    this.title = title;\n\n    if (showCrosshairs) {\n      // \u5C55\u793A tooltip \u8F85\u52A9\u7EBF\n      const isCrosshairsFollowCursor = get(cfg, ['crosshairs', 'follow'], false); // \u8F85\u52A9\u7EBF\u662F\u5426\u8981\u8DDF\u968F\u9F20\u6807\n      this.renderCrosshairs(isCrosshairsFollowCursor ? point : dataPoint, cfg);\n    }\n  }\n\n  public hideTooltip() {\n    const { follow } = this.getTooltipCfg();\n    if (!follow) {\n      this.point = null;\n      return;\n    }\n    // hide the tooltipMarkers\n    const tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.hide();\n    }\n\n    // hide crosshairs\n    const xCrosshair = this.xCrosshair;\n    const yCrosshair = this.yCrosshair;\n    if (xCrosshair) {\n      xCrosshair.hide();\n    }\n    if (yCrosshair) {\n      yCrosshair.hide();\n    }\n\n    const tooltip = this.tooltip;\n    if (tooltip) {\n      tooltip.hide();\n    }\n\n    this.view.emit('tooltip:hide', Event.fromData(this.view, 'tooltip:hide', {}));\n\n    this.point = null;\n  }\n\n  /**\n   * lockTooltip\n   */\n  public lockTooltip() {\n    this.isLocked = true;\n    if (this.tooltip) {\n      // tooltip contianer \u53EF\u6355\u83B7\u4E8B\u4EF6\n      this.tooltip.setCapture(true);\n    }\n  }\n\n  /**\n   * unlockTooltip\n   */\n  public unlockTooltip() {\n    this.isLocked = false;\n    const cfg = this.getTooltipCfg();\n    if (this.tooltip) {\n      // \u91CD\u7F6E capture \u5C5E\u6027\n      this.tooltip.setCapture(cfg.capture);\n    }\n  }\n\n  /**\n   * isTooltipLocked\n   */\n  public isTooltipLocked() {\n    return this.isLocked;\n  }\n\n  public clear() {\n    const { tooltip, xCrosshair, yCrosshair, tooltipMarkersGroup } = this;\n    if (tooltip) {\n      tooltip.hide();\n      tooltip.clear();\n    }\n\n    if (xCrosshair) {\n      xCrosshair.clear();\n    }\n\n    if (yCrosshair) {\n      yCrosshair.clear();\n    }\n\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.clear();\n    }\n\n    // \u5982\u679C customContent \u4E0D\u4E3A\u7A7A\uFF0C\u5C31\u91CD\u65B0\u751F\u6210 tooltip\n    if (tooltip?.get('customContent')) {\n      this.tooltip.destroy();\n      this.tooltip = null;\n    }\n\n    // title \u548C items \u9700\u8981\u6E05\u7A7A, \u5426\u5219 tooltip \u5185\u5BB9\u4F1A\u51FA\u73B0\u7F6E\u7A7A\u7684\u60C5\u51B5\n    // \u5373\uFF1A\u9700\u8981\u8D70\u8FDB !isEqual(lastTitle, title) || !isEqual(lastItems, items) \u7684\u903B\u8F91\uFF0C\u66F4\u65B0 tooltip \u7684\u5185\u5BB9\n    this.title = null;\n    this.items = null;\n  }\n\n  public destroy() {\n    if (this.tooltip) {\n      this.tooltip.destroy();\n    }\n    if (this.xCrosshair) {\n      this.xCrosshair.destroy();\n    }\n    if (this.yCrosshair) {\n      this.yCrosshair.destroy();\n    }\n\n    if (this.guideGroup) {\n      this.guideGroup.remove(true);\n    }\n\n    this.reset();\n  }\n\n  public reset() {\n    this.items = null;\n    this.title = null;\n    this.tooltipMarkersGroup = null;\n    this.tooltipCrosshairsGroup = null;\n    this.xCrosshair = null;\n    this.yCrosshair = null;\n    this.tooltip = null;\n    this.guideGroup = null;\n    this.isLocked = false;\n    this.point = null;\n  }\n\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    const { tooltip, tooltipMarkersGroup, xCrosshair, yCrosshair } = this;\n    if (visible) {\n      if (tooltip) {\n        tooltip.show();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.show();\n      }\n      if (xCrosshair) {\n        xCrosshair.show();\n      }\n      if (yCrosshair) {\n        yCrosshair.show();\n      }\n    } else {\n      if (tooltip) {\n        tooltip.hide();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.hide();\n      }\n      if (xCrosshair) {\n        xCrosshair.hide();\n      }\n      if (yCrosshair) {\n        yCrosshair.hide();\n      }\n    }\n    this.visible = visible;\n  }\n\n  public getTooltipItems(point: Point) {\n    let items = this.findItemsFromView(this.view, point);\n    if (items.length) {\n      // \u4E09\u5C42\n      items = flatten(items);\n      for (const itemArr of items) {\n        for (const item of itemArr) {\n          const { x, y } = item.mappingData;\n          item.x = isArray(x) ? x[x.length - 1] : x;\n          item.y = isArray(y) ? y[y.length - 1] : y;\n        }\n      }\n\n      const { shared } = this.getTooltipCfg();\n      // shared: false \u4EE3\u8868\u53EA\u663E\u793A\u5F53\u524D\u62FE\u53D6\u5230\u7684 shape \u7684\u6570\u636E\uFF0C\u4F46\u662F\u4E00\u4E2A view \u4F1A\u6709\u591A\u4E2A Geometry\uFF0C\u6240\u4EE5\u6709\u53EF\u80FD\u4F1A\u62FE\u53D6\u5230\u591A\u4E2A shape\n      if (shared === false && items.length > 1) {\n        let snapItem = items[0];\n        let min = Math.abs(point.y - snapItem[0].y);\n        for (const aItem of items) {\n          const yDistance = Math.abs(point.y - aItem[0].y);\n          if (yDistance <= min) {\n            snapItem = aItem;\n            min = yDistance;\n          }\n        }\n        items = [snapItem];\n      }\n\n      return uniq(flatten(items));\n    }\n\n    return [];\n  }\n\n  public layout() { }\n\n  public update() {\n    if (this.point) {\n      this.showTooltip(this.point);\n    }\n\n    if (this.tooltip) {\n      // #2279 \u4FEE\u590Dresize\u4E4B\u540Etooltip\u8D8A\u754C\u7684\u95EE\u9898\n      // \u786E\u4FDDtooltip\u5DF2\u7ECF\u521B\u5EFA\u7684\u60C5\u51B5\u4E0B\n      const canvas = this.view.getCanvas();\n      // TODO \u900D\u4E3A tooltip \u7684\u533A\u57DF\u4E0D\u5E94\u8BE5\u662F canvas\uFF0C\u800C\u5E94\u8BE5\u662F\u6574\u4E2A \u7279\u522B\u662F\u5728\u56FE\u6BD4\u8F83\u5C0F\u7684\u65F6\u5019\n      // \u66F4\u65B0 region\n      this.tooltip.set('region', {\n        start: { x: 0, y: 0 },\n        end: { x: canvas.get('width'), y: canvas.get('height') },\n      });\n    }\n  }\n\n  /**\n   * \u5F53\u524D\u9F20\u6807\u70B9\u662F\u5728 enter tooltip \u4E2D\n   * @param point\n   */\n  public isCursorEntered(point: Point) {\n    // \u662F\u53EF\u6355\u83B7\u7684\uFF0C\u5E76\u4E14\u70B9\u5728 tooltip dom \u4E0A\n    if (this.tooltip) {\n      const el: HTMLElement = this.tooltip.getContainer();\n      const capture = this.tooltip.get('capture');\n\n      if (el && capture) {\n        const { x, y, width, height } = el.getBoundingClientRect();\n        return new BBox(x, y, width, height).isPointIn(point);\n      }\n    }\n\n    return false;\n  }\n\n  // \u83B7\u53D6 tooltip \u914D\u7F6E\uFF0C\u56E0\u4E3A\u7528\u6237\u53EF\u80FD\u4F1A\u901A\u8FC7 view.tooltip() \u91CD\u65B0\u914D\u7F6E tooltip\uFF0C\u6240\u4EE5\u5C31\u4E0D\u505A\u7F13\u5B58\uFF0C\u6BCF\u6B21\u76F4\u63A5\u8BFB\u53D6\n  public getTooltipCfg() {\n    const view = this.view;\n    const option = view.getOptions().tooltip;\n    const processOption = this.processCustomContent(option);\n    const theme = view.getTheme();\n    const defaultCfg = get(theme, ['components', 'tooltip'], {});\n    const enterable = get(processOption, 'enterable', defaultCfg.enterable);\n    return deepMix({}, defaultCfg, processOption, {\n      capture: enterable || this.isLocked ? true : false,\n    });\n  }\n\n  // process customContent\n  protected processCustomContent(option: TooltipOption) {\n    if (isBoolean(option) || !get(option, 'customContent')) {\n      return option;\n    }\n    const currentCustomContent = option.customContent;\n    const customContent = (title: string, items: any[]) => {\n      const content = currentCustomContent(title, items) || '';\n      return isString(content) ? '<div class=\"g2-tooltip\">' + content + '</div>' : content;\n    };\n    return {\n      ...option,\n      customContent,\n    };\n  }\n\n  private getTitle(items) {\n    const title = items[0].title || items[0].name;\n    this.title = title;\n\n    return title;\n  }\n\n  private renderTooltip() {\n    const canvas = this.view.getCanvas();\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const cfg = this.getTooltipCfg();\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      ...cfg,\n      visible: false,\n      crosshairs: null,\n    });\n\n    tooltip.init();\n    this.tooltip = tooltip;\n  }\n\n  private renderTooltipMarkers(items, marker) {\n    const tooltipMarkersGroup = this.getTooltipMarkersGroup();\n    const rootView = this.view.getRootView();\n    const { limitInPlot } = rootView;\n    for (const item of items) {\n      const { x, y } = item;\n\n      // \u6709\u88C1\u526A\u5C31\u526A\u5207\n      if (limitInPlot || tooltipMarkersGroup?.getClip()) {\n        const { type, attrs } = getCoordinateClipCfg(rootView.getCoordinate());\n        tooltipMarkersGroup?.setClip({\n          type,\n          attrs,\n        });\n      } else {\n        // \u6E05\u9664\u5DF2\u6709\u7684 clip\n        tooltipMarkersGroup?.setClip(undefined);\n      }\n\n      const attrs = {\n        fill: item.color,\n        symbol: 'circle',\n        shadowColor: item.color,\n        ...marker,\n        x,\n        y,\n      };\n\n      tooltipMarkersGroup.addShape('marker', {\n        attrs,\n      });\n    }\n  }\n\n  private renderCrosshairs(point: Point, cfg) {\n    const crosshairsType = get(cfg, ['crosshairs', 'type'], 'x'); // \u9ED8\u8BA4\u5C55\u793A x \u8F74\u4E0A\u7684\u8F85\u52A9\u7EBF\n    if (crosshairsType === 'x') {\n      if (this.yCrosshair) {\n        this.yCrosshair.hide();\n      }\n      this.renderXCrosshairs(point, cfg);\n    } else if (crosshairsType === 'y') {\n      if (this.xCrosshair) {\n        this.xCrosshair.hide();\n      }\n      this.renderYCrosshairs(point, cfg);\n    } else if (crosshairsType === 'xy') {\n      this.renderXCrosshairs(point, cfg);\n      this.renderYCrosshairs(point, cfg);\n    }\n  }\n\n  // \u6E32\u67D3 x \u8F74\u4E0A\u7684 tooltip \u8F85\u52A9\u7EBF\n  private renderXCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    if (!isPointInCoordinate(coordinate, point)) {\n      return;\n    }\n    let start;\n    let end;\n    if (coordinate.isRect) {\n      if (coordinate.isTransposed) {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      } else {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      }\n    } else {\n      // \u6781\u5750\u6807\u4E0B x \u8F74\u4E0A\u7684 crosshairs \u8868\u73B0\u4E3A\u534A\u5F84\n      const angle = getAngleByPoint(coordinate, point);\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      end = polarToCartesian(center.x, center.y, radius, angle);\n      start = center;\n    }\n\n    const cfg = deepMix(\n      {\n        start,\n        end,\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('x', point, tooltipCfg)\n    );\n    delete cfg.type; // \u4E0E Crosshairs \u7EC4\u4EF6\u7684 type \u51B2\u7A81\u6545\u5220\u9664\n\n    let xCrosshair = this.xCrosshair;\n    if (xCrosshair) {\n      xCrosshair.update(cfg);\n    } else {\n      xCrosshair = new Crosshair.Line(cfg);\n      xCrosshair.init();\n    }\n    xCrosshair.render();\n    xCrosshair.show();\n    this.xCrosshair = xCrosshair;\n  }\n\n  // \u6E32\u67D3 y \u8F74\u4E0A\u7684\u8F85\u52A9\u7EBF\n  private renderYCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    if (!isPointInCoordinate(coordinate, point)) {\n      return;\n    }\n    let cfg;\n    let type;\n    if (coordinate.isRect) {\n      let start;\n      let end;\n      if (coordinate.isTransposed) {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      } else {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      }\n      cfg = {\n        start,\n        end,\n      };\n      type = 'Line';\n    } else {\n      // \u6781\u5750\u6807\u4E0B y \u8F74\u4E0A\u7684 crosshairs \u8868\u73B0\u4E3A\u5706\u5F27\n      cfg = {\n        center: coordinate.getCenter(),\n        // @ts-ignore\n        radius: getDistanceToCenter(coordinate, point),\n        startAngle: coordinate.startAngle,\n        endAngle: coordinate.endAngle,\n      };\n      type = 'Circle';\n    }\n\n    cfg = deepMix(\n      {\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      cfg,\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('y', point, tooltipCfg)\n    );\n    delete cfg.type; // \u4E0E Crosshairs \u7EC4\u4EF6\u7684 type \u51B2\u7A81\u6545\u5220\u9664\n\n    let yCrosshair = this.yCrosshair;\n    if (yCrosshair) {\n      // \u5982\u679C\u5750\u6807\u7CFB\u53D1\u751F\u76F4\u89D2\u5750\u6807\u7CFB\u4E0E\u6781\u5750\u6807\u7684\u5207\u6362\u64CD\u4F5C\n      if (\n        (coordinate.isRect && yCrosshair.get('type') === 'circle') ||\n        (!coordinate.isRect && yCrosshair.get('type') === 'line')\n      ) {\n        yCrosshair = new Crosshair[type](cfg);\n        yCrosshair.init();\n      } else {\n        yCrosshair.update(cfg);\n      }\n    } else {\n      yCrosshair = new Crosshair[type](cfg);\n      yCrosshair.init();\n    }\n    yCrosshair.render();\n    yCrosshair.show();\n    this.yCrosshair = yCrosshair;\n  }\n\n  private getCrosshairsText(type, point: Point, tooltipCfg) {\n    let textCfg = get(tooltipCfg, ['crosshairs', 'text']);\n    const follow = get(tooltipCfg, ['crosshairs', 'follow']);\n    const items = this.items;\n\n    if (textCfg) {\n      const view = this.getViewWithGeometry(this.view);\n      // \u9700\u8981\u5C55\u793A\u6587\u672C\n      const firstItem = items[0];\n      const xScale = view.getXScale();\n      const yScale = view.getYScales()[0];\n      let xValue;\n      let yValue;\n      if (follow) {\n        // \u5982\u679C\u9700\u8981\u8DDF\u968F\u9F20\u6807\u79FB\u52A8\uFF0C\u5C31\u9700\u8981\u5C06\u5F53\u524D\u9F20\u6807\u5750\u6807\u70B9\u8F6C\u6362\u4E3A\u5BF9\u5E94\u7684\u6570\u503C\n        const invertPoint = this.view.getCoordinate().invert(point);\n        xValue = xScale.invert(invertPoint.x); // \u8F6C\u6362\u4E3A\u539F\u59CB\u503C\n        yValue = yScale.invert(invertPoint.y); // \u8F6C\u6362\u4E3A\u539F\u59CB\u503C\n      } else {\n        xValue = firstItem.data[xScale.field];\n        yValue = firstItem.data[yScale.field];\n      }\n\n      const content = type === 'x' ? xValue : yValue;\n      if (isFunction(textCfg)) {\n        textCfg = textCfg(type, content, items, point);\n      } else {\n        textCfg.content = content;\n      }\n\n      return {\n        text: textCfg,\n      };\n    }\n  }\n\n  // \u83B7\u53D6\u5B58\u50A8 tooltipMarkers \u548C crosshairs \u7684\u5BB9\u5668\n  private getGuideGroup() {\n    if (!this.guideGroup) {\n      const foregroundGroup = this.view.foregroundGroup;\n      this.guideGroup = foregroundGroup.addGroup({\n        name: 'tooltipGuide',\n        capture: false,\n      });\n    }\n\n    return this.guideGroup;\n  }\n\n  // \u83B7\u53D6 tooltipMarkers \u5B58\u50A8\u7684\u5BB9\u5668\n  private getTooltipMarkersGroup() {\n    let tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup && !tooltipMarkersGroup.destroyed) {\n      tooltipMarkersGroup.clear();\n      tooltipMarkersGroup.show();\n    } else {\n      tooltipMarkersGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipMarkersGroup',\n      });\n      tooltipMarkersGroup.toFront();\n      this.tooltipMarkersGroup = tooltipMarkersGroup;\n    }\n    return tooltipMarkersGroup;\n  }\n\n  // \u83B7\u53D6 tooltip crosshairs \u5B58\u50A8\u7684\u5BB9\u5668\n  private getTooltipCrosshairsGroup() {\n    let tooltipCrosshairsGroup = this.tooltipCrosshairsGroup;\n    if (!tooltipCrosshairsGroup) {\n      tooltipCrosshairsGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipCrosshairsGroup',\n        capture: false,\n      });\n      tooltipCrosshairsGroup.toBack();\n      this.tooltipCrosshairsGroup = tooltipCrosshairsGroup;\n    }\n    return tooltipCrosshairsGroup;\n  }\n\n  private findItemsFromView(view: View, point: Point) {\n    if (view.getOptions().tooltip === false) {\n      // \u5982\u679C view \u5173\u95ED\u4E86 tooltip\n      return [];\n    }\n\n    const tooltipCfg = this.getTooltipCfg();\n    let result = findItemsFromView(view, point, tooltipCfg);\n    // \u9012\u5F52\u67E5\u627E\uFF0C\u5E76\u5408\u5E76\u7ED3\u679C\n    for (const childView of view.views) {\n      result = result.concat(this.findItemsFromView(childView, point));\n    }\n\n    return result;\n  }\n\n  // FIXME: hack \u65B9\u6CD5\n  // \u56E0\u4E3A tooltip \u7684\u4EA4\u4E92\u662F\u6302\u8F7D\u5728 Chart \u4E0A\uFF0C\u6240\u4EE5\u5F53chart \u4E0A\u6CA1\u6709\u7ED8\u5236 Geometry \u7684\u65F6\u5019\uFF0C\u5C31\u67E5\u627E\u4E0D\u5230\u6570\u636E\uFF0C\u5E76\u4E14\u7ED8\u56FE\u533A\u57DF\u540C\u5B50 View \u7684\u533A\u57DF\u4E0D\u540C\n  private getViewWithGeometry(view) {\n    if (view.geometries.length) {\n      return view;\n    }\n\n    return find(view.views, (childView) => this.getViewWithGeometry(childView));\n  }\n\n  /**\n   * \u6839\u636E\u7528\u6237\u914D\u7F6E\u7684 items \u914D\u7F6E\uFF0C\u6765\u8FDB\u884C\u7528\u6237\u81EA\u5B9A\u4E49\u7684\u5904\u7406\uFF0C\u5E76\u8FD4\u56DE\u6700\u7EC8\u7684 items\n   * \u9ED8\u8BA4\u4E0D\u505A\u4EFB\u4F55\u5904\u7406\n   */\n  private getItemsAfterProcess(originalItems: TooltipItem[]): TooltipItem[] {\n    const { customItems } = this.getTooltipCfg();\n    const fn = customItems ? customItems : (v) => v;\n\n    return fn(originalItems);\n  }\n}\n", "import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/** @ignore */\ninterface AnimationMap {\n  [key: string]: Animation;\n}\n\ntype Animation = (element: IGroup | IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) => void;\n\nconst ANIMATIONS_MAP: AnimationMap = {};\n\n/**\n * \u6839\u636E\u540D\u79F0\u83B7\u53D6\u5BF9\u5E94\u7684\u52A8\u753B\u6267\u884C\u51FD\u6570\n * @param type \u52A8\u753B\u51FD\u6570\u540D\u79F0\n */\nexport function getAnimation(type: string) {\n  return ANIMATIONS_MAP[type.toLowerCase()];\n}\n\n/**\n * \u6CE8\u518C\u52A8\u753B\u6267\u884C\u51FD\u6570\n * @param type \u52A8\u753B\u6267\u884C\u51FD\u6570\u540D\u79F0\n * @param animation \u52A8\u753B\u6267\u884C\u51FD\u6570\n */\nexport function registerAnimation(type: string, animation: Animation) {\n  ANIMATIONS_MAP[type.toLowerCase()] = animation;\n}\n", "import { deepMix, get, isFunction } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Coordinate, IGroup, IShape } from '../dependents';\nimport { AnimateCfg, Data, Datum, GAnimateCfg, Point } from '../interface';\nimport { AnimateExtraCfg } from './interface';\n\nimport { getAnimation } from './animation';\n\n// \u9ED8\u8BA4\u7684\u52A8\u753B\u53C2\u6570\u914D\u7F6E\nexport const DEFAULT_ANIMATE_CFG = {\n  appear: {\n    duration: 450,\n    easing: 'easeQuadOut',\n  }, // \u521D\u59CB\u5165\u573A\u52A8\u753B\u914D\u7F6E\n  update: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \u66F4\u65B0\u65F6\u53D1\u751F\u53D8\u66F4\u7684\u52A8\u753B\u914D\u7F6E\n  enter: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \u66F4\u65B0\u65F6\u65B0\u589E\u5143\u7D20\u7684\u5165\u573A\u52A8\u753B\u914D\u7F6E\n  leave: {\n    duration: 350,\n    easing: 'easeQuadIn',\n  }, // \u66F4\u65B0\u65F6\u9500\u6BC1\u52A8\u753B\u914D\u7F6E\n};\n\n// \u5404\u4E2A Geometry \u9ED8\u8BA4\u7684\u52A8\u753B\u6267\u884C\u51FD\u6570\nconst GEOMETRY_ANIMATE_CFG = {\n  interval: (coordinate: Coordinate) => {\n    return {\n      enter: {\n        animation: coordinate.isRect ? (coordinate.isTransposed ? 'scale-in-x' : 'scale-in-y') : 'fade-in',\n      },\n      update: {\n        animation: coordinate.isPolar && coordinate.isTransposed ? 'sector-path-update' : null,\n      },\n      leave: {\n        animation: 'fade-out',\n      },\n    };\n  },\n  line: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  path: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  point: {\n    appear: {\n      animation: 'zoom-in',\n    },\n    enter: {\n      animation: 'zoom-in',\n    },\n    leave: {\n      animation: 'zoom-out',\n    },\n  },\n  area: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  polygon: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  schema: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  edge: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  label: {\n    appear: {\n      animation: 'fade-in',\n      delay: 450,\n    },\n    enter: {\n      animation: 'fade-in',\n    },\n    update: {\n      animation: 'position-update',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n};\n\n// \u5404\u4E2A Geometry \u9ED8\u8BA4\u7684\u7FA4\u7EC4\u51FA\u573A\u52A8\u753B\nconst GEOMETRY_GROUP_APPEAR_ANIMATION = {\n  line: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  area: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  path: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n  interval(coordinate: Coordinate) {\n    let animation;\n\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        // pie chart\n        animation = 'wave-in';\n      }\n    }\n    return {\n      animation,\n    };\n  },\n  schema: (coordinate) => {\n    let animation;\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n    }\n    return {\n      animation,\n    };\n  },\n  polygon: () => {\n    return {\n      animation: 'fade-in',\n      duration: 500,\n    };\n  },\n  edge: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n};\n\n// \u89E3\u6790\u7528\u6237\u7684\u52A8\u753B\u914D\u7F6E\nfunction parseAnimateConfig(animateCfg: AnimateCfg, data: Data | Datum): GAnimateCfg {\n  return {\n    delay: isFunction(animateCfg.delay) ? animateCfg.delay(data) : animateCfg.delay,\n    easing: isFunction(animateCfg.easing) ? animateCfg.easing(data) : animateCfg.easing,\n    duration: isFunction(animateCfg.duration) ? animateCfg.duration(data) : animateCfg.duration,\n    callback: animateCfg.callback,\n    repeat: animateCfg.repeat,\n  };\n}\n\n/**\n * @ignore\n * \u83B7\u53D6 elementName \u5BF9\u5E94\u7684\u52A8\u753B\u914D\u7F6E\uFF0C\u5F53\u58F0\u660E\u4E86 `animateType`\uFF0C\u5219\u8FD4\u56DE `animateType` \u5BF9\u5E94\u7684\u52A8\u753B\u914D\u7F6E\n * @param elementName \u5143\u7D20\u540D\u79F0\n * @param coordinate \u505A\u8868\u5F1F\u7C7B\u578B\n * @param animateType \u53EF\u9009\uFF0C\u52A8\u753B\u7C7B\u578B\n */\nexport function getDefaultAnimateCfg(elementName: string, coordinate: Coordinate, animateType?: string) {\n  let animateCfg = GEOMETRY_ANIMATE_CFG[elementName];\n\n  if (animateCfg) {\n    if (isFunction(animateCfg)) {\n      animateCfg = animateCfg(coordinate);\n    }\n    animateCfg = deepMix({}, DEFAULT_ANIMATE_CFG, animateCfg);\n\n    if (animateType) {\n      return animateCfg[animateType];\n    }\n  }\n  return animateCfg;\n}\n\n/**\n * @ignore\n * \u5DE5\u5177\u51FD\u6570\n * \u6839\u636E\u7528\u6237\u4F20\u5165\u7684\u914D\u7F6E\u4E3A shape \u6267\u884C\u52A8\u753B\n * @param shape \u6267\u884C\u52A8\u753B\u7684\u56FE\u5F62\u5143\u7D20\n * @param animateCfg \u52A8\u753B\u914D\u7F6E\n * @param cfg \u989D\u5916\u7684\u4FE1\u606F\n */\nexport function doAnimate(shape: IGroup | IShape, animateCfg: AnimateCfg, cfg: AnimateExtraCfg) {\n  const data = get(shape.get('origin'), 'data', FIELD_ORIGIN);\n  const animation = animateCfg.animation; // \u83B7\u53D6\u52A8\u753B\u6267\u884C\u51FD\u6570\n  const parsedAnimateCfg = parseAnimateConfig(animateCfg, data);\n  if (animation) {\n    // \u7528\u6237\u58F0\u660E\u4E86\u52A8\u753B\u6267\u884C\u51FD\u6570\n    const animateFunction = getAnimation(animation);\n    if (animateFunction) {\n      animateFunction(shape, parsedAnimateCfg, cfg);\n    }\n  } else {\n    // \u6CA1\u6709\u58F0\u660E\uFF0C\u5219\u6839\u636E toAttrs \u505A\u5DEE\u503C\u52A8\u753B\n    shape.animate(cfg.toAttrs, parsedAnimateCfg);\n  }\n}\n\n/**\n * @ignore\n * \u6267\u884C Geometry \u7FA4\u7EC4\u5165\u573A\u52A8\u753B\n * @param container \u6267\u884C\u7FA4\u7EC4\u52A8\u753B\u7684\u56FE\u5F62\u5143\u7D20\n * @param animateCfg \u52A8\u753B\u914D\u7F6E\n * @param geometryType geometry \u7C7B\u578B\n * @param coordinate \u5750\u6807\u7CFB\u5BF9\u8C61\n * @param minYPoint y \u8F74\u6700\u5C0F\u503C\u5BF9\u5E94\u7684\u753B\u5E03\u5750\u6807\u70B9\n */\nexport function doGroupAppearAnimate(\n  container: IGroup,\n  animateCfg: AnimateCfg,\n  geometryType: string,\n  coordinate: Coordinate,\n  minYPoint: Point\n) {\n  if (GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType]) {\n    const defaultCfg = GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType](coordinate);\n    const animation = getAnimation(get(defaultCfg, 'animation', ''));\n    if (animation) {\n      const cfg = {\n        ...DEFAULT_ANIMATE_CFG.appear,\n        ...defaultCfg,\n        ...animateCfg,\n      };\n      container.stopAnimate(); // \u5148\u7ED3\u675F\u5F53\u524D container \u52A8\u753B\n      animation(container, cfg, {\n        coordinate,\n        minYPoint,\n        toAttrs: null,\n      });\n    }\n  }\n}\n", "/**\n * Name of Background Shape\n */\nexport const BACKGROUND_SHAPE = 'element-background';\n", "import { deepMix, each, get, isArray, isEmpty, isEqual, isFunction, isString } from '@antv/util';\n// \u6682\u672A\u53D1\u5305\n// @ts-ignore\nimport { propagationDelegate } from '@antv/component';\nimport { doAnimate } from '../../animate';\nimport Base from '../../base';\nimport { BBox, IGroup, IShape } from '../../dependents';\nimport { AnimateOption, Datum, ShapeFactory, ShapeInfo, StateCfg } from '../../interface';\nimport { getReplaceAttrs } from '../../util/graphics';\nimport Geometry from '../base';\nimport { GEOMETRY_LIFE_CIRCLE } from '../../constant';\nimport { BACKGROUND_SHAPE } from '../shape/constant';\n\n/** Element \u6784\u9020\u51FD\u6570\u4F20\u5165\u53C2\u6570\u7C7B\u578B */\ninterface ElementCfg {\n  /** \u7528\u4E8E\u521B\u5EFA\u5404\u79CD shape \u7684\u5DE5\u5382\u5BF9\u8C61 */\n  shapeFactory: ShapeFactory;\n  /** shape \u5BB9\u5668 */\n  container: IGroup;\n  /** element \u7684\u7D22\u5F15 */\n  elementIndex?: number;\n  /** \u865A\u62DF group\uFF0C\u7528\u6237\u53EF\u4EE5\u4E0D\u4F20\u5165 */\n  offscreenGroup?: IGroup;\n  /** \u662F\u5426\u53EF\u89C1 */\n  visible?: boolean;\n}\n\n/**\n * Element \u56FE\u5F62\u5143\u7D20\u3002\n * \u5B9A\u4E49\uFF1A\u5728 G2 \u4E2D\uFF0C\u6211\u4EEC\u4F1A\u5C06\u6570\u636E\u901A\u8FC7\u56FE\u5F62\u8BED\u6CD5\u6620\u5C04\u6210\u4E0D\u540C\u7684\u56FE\u5F62\uFF0C\u6BD4\u5982\u70B9\u56FE\uFF0C\u6570\u636E\u96C6\u4E2D\u7684\u6BCF\u6761\u6570\u636E\u4F1A\u5BF9\u5E94\u4E00\u4E2A\u70B9\uFF0C\u67F1\u72B6\u56FE\u6BCF\u6761\u6570\u636E\u5BF9\u5E94\u4E00\u4E2A\u67F1\u5B50\uFF0C\u7EBF\u56FE\u5219\u662F\u4E00\u7EC4\u6570\u636E\u5BF9\u5E94\u4E00\u6761\u6298\u7EBF\uFF0CElement \u5373\u4E00\u6761/\u4E00\u7EC4\u6570\u636E\u5BF9\u5E94\u7684\u56FE\u5F62\u5143\u7D20\uFF0C\u5B83\u4EE3\u8868\u4E00\u6761\u6570\u636E\u6216\u8005\u4E00\u4E2A\u6570\u636E\u96C6\uFF0C\u5728\u56FE\u5F62\u5C42\u9762\uFF0C\u5B83\u53EF\u4EE5\u662F\u5355\u4E2A Shape \u4E5F\u53EF\u4EE5\u662F\u591A\u4E2A Shape\uFF0C\u6211\u4EEC\u79F0\u4E4B\u4E3A\u56FE\u5F62\u5143\u7D20\u3002\n */\nexport default class Element extends Base {\n  /** \u7528\u4E8E\u521B\u5EFA\u5404\u79CD shape \u7684\u5DE5\u5382\u5BF9\u8C61 */\n  public shapeFactory: ShapeFactory;\n  /** shape \u5BB9\u5668 */\n  public container: IGroup;\n  /** element \u7D22\u5F15 */\n  public elementIndex: number;\n  /** \u6700\u540E\u521B\u5EFA\u7684\u56FE\u5F62\u5BF9\u8C61 */\n  public shape: IShape | IGroup;\n  /** shape \u7684\u52A8\u753B\u914D\u7F6E */\n  public animate: AnimateOption | boolean;\n\n  // \u975E\u6784\u9020\u51FD\u6570\u5C5E\u6027\uFF0C\u9700\u8981\u5916\u90E8\u8D4B\u503C\n  /** element \u5BF9\u5E94\u7684 Geometry \u5B9E\u4F8B */\n  public geometry: Geometry;\n  /** \u4FDD\u5B58 shape \u5BF9\u5E94\u7684 label */\n  public labelShape: IGroup[] = [];\n\n  /** \u7ED8\u5236\u7684 shape \u7C7B\u578B */\n  private shapeType: string;\n\n  /** shape \u7ED8\u5236\u9700\u8981\u7684\u6570\u636E */\n  private model: ShapeInfo;\n  /** \u539F\u59CB\u6570\u636E */\n  private data: Datum;\n  // \u5B58\u50A8\u5F53\u524D\u5F00\u542F\u7684\u72B6\u6001\n  private states: string[] = [];\n  private statesStyle;\n  // \u865A\u62DF Group\n  private offscreenGroup: IGroup;\n\n  constructor(cfg: ElementCfg) {\n    super(cfg);\n\n    const { shapeFactory, container, offscreenGroup, elementIndex, visible = true } = cfg;\n    this.shapeFactory = shapeFactory;\n    this.container = container;\n    this.offscreenGroup = offscreenGroup;\n    this.visible = visible;\n    this.elementIndex = elementIndex;\n  }\n\n  /**\n   * \u7ED8\u5236\u56FE\u5F62\u3002\n   * @param model \u7ED8\u5236\u6570\u636E\u3002\n   * @param isUpdate \u53EF\u9009\uFF0C\u662F\u5426\u662F\u66F4\u65B0\u53D1\u751F\u540E\u7684\u7ED8\u5236\u3002\n   */\n  public draw(model: ShapeInfo, isUpdate: boolean = false) {\n    this.model = model;\n    this.data = model.data; // \u5B58\u50A8\u539F\u59CB\u6570\u636E\n    this.shapeType = this.getShapeType(model);\n\n    // \u7ED8\u5236\u56FE\u5F62\n    this.drawShape(model, isUpdate);\n\n    if (this.visible === false) {\n      // \u7528\u6237\u5728\u521D\u59CB\u5316\u7684\u65F6\u5019\u58F0\u660E visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \u66F4\u65B0\u56FE\u5F62\u3002\n   * @param model \u66F4\u65B0\u7684\u7ED8\u5236\u6570\u636E\u3002\n   */\n  public update(model: ShapeInfo) {\n    const { shapeFactory, shape } = this;\n    if (!shape) {\n      return;\n    }\n\n    // \u66F4\u65B0\u6570\u636E\n    this.model = model;\n    this.data = model.data;\n    this.shapeType = this.getShapeType(model);\n\n    // step 1: \u66F4\u65B0 shape \u643A\u5E26\u7684\u4FE1\u606F\n    this.setShapeInfo(shape, model);\n\n    // step 2: \u4F7F\u7528\u865A\u62DF Group \u91CD\u65B0\u7ED8\u5236 shape\uFF0C\u7136\u540E\u66F4\u65B0\u5F53\u524D shape\n    const offscreenGroup = this.getOffscreenGroup();\n    const newShape = shapeFactory.drawShape(this.shapeType, model, offscreenGroup);\n    // @ts-ignore\n    newShape.cfg.data = this.data;\n    // @ts-ignore\n    newShape.cfg.origin = model;\n    // label \u9700\u8981\u4F7F\u7528\n    newShape.cfg.element = this;\n\n    // step 3: \u540C\u6B65 shape \u6837\u5F0F\n    this.syncShapeStyle(shape, newShape, this.getStates(), this.getAnimateCfg('update'));\n  }\n\n  /**\n   * \u9500\u6BC1 element \u5B9E\u4F8B\u3002\n   */\n  public destroy() {\n    const { shapeFactory, shape } = this;\n\n    if (shape) {\n      const animateCfg = this.getAnimateCfg('leave');\n      if (animateCfg) {\n        // \u6307\u5B9A\u4E86\u52A8\u753B\u914D\u7F6E\u5219\u6267\u884C\u9500\u6BC1\u52A8\u753B\n        doAnimate(shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...shape.attr(),\n          },\n        });\n      } else {\n        // \u5426\u5219\u76F4\u63A5\u9500\u6BC1\n        shape.remove(true);\n      }\n    }\n\n    // reset\n    this.states = [];\n    this.shapeFactory = undefined;\n    this.container = undefined;\n    this.shape = undefined;\n    this.animate = undefined;\n    this.geometry = undefined;\n    this.labelShape = [];\n    this.model = undefined;\n    this.data = undefined;\n    this.offscreenGroup = undefined;\n    this.statesStyle = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   * \u663E\u793A\u6216\u8005\u9690\u85CF element\u3002\n   * @param visible \u662F\u5426\u53EF\u89C1\u3002\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n\n    if (visible) {\n      if (this.shape) {\n        this.shape.show();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.show();\n        });\n      }\n    } else {\n      if (this.shape) {\n        this.shape.hide();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.hide();\n        });\n      }\n    }\n  }\n\n  /**\n   * \u8BBE\u7F6E Element \u7684\u72B6\u6001\u3002\n   *\n   * \u76EE\u524D Element \u5F00\u653E\u4E09\u79CD\u72B6\u6001\uFF1A\n   * 1. active\n   * 2. selected\n   * 3. inactive\n   *\n   * \u8FD9\u4E09\u79CD\u72B6\u6001\u76F8\u4E92\u72EC\u7ACB\uFF0C\u53EF\u4EE5\u8FDB\u884C\u53E0\u52A0\u3002\n   *\n   * \u8FD9\u4E09\u79CD\u72B6\u6001\u7684\u6837\u5F0F\u53EF\u5728 [[Theme]] \u4E3B\u9898\u4E2D\u6216\u8005\u901A\u8FC7 `geometry.state()` \u63A5\u53E3\u8FDB\u884C\u914D\u7F6E\u3002\n   *\n   * ```ts\n   * // \u6FC0\u6D3B active \u72B6\u6001\n   * setState('active', true);\n   * ```\n   *\n   * @param stateName \u72B6\u6001\u540D\n   * @param stateStatus \u662F\u5426\u5F00\u542F\u72B6\u6001\n   */\n  public setState(stateName: string, stateStatus: boolean) {\n    const { states, shapeFactory, model, shape, shapeType } = this;\n\n    const index = states.indexOf(stateName);\n    if (stateStatus) {\n      // \u5F00\u542F\u72B6\u6001\n      if (index > -1) {\n        // \u8BE5\u72B6\u6001\u5DF2\u7ECF\u5F00\u542F\uFF0C\u5219\u8FD4\u56DE\n        return;\n      }\n      states.push(stateName);\n      if (stateName === 'active' || stateName === 'selected') {\n        shape?.toFront();\n      }\n    } else {\n      if (index === -1) {\n        // \u5173\u95ED\u72B6\u6001\uFF0C\u4F46\u662F\u72B6\u6001\u672A\u8BBE\u7F6E\u8FC7\n        return;\n      }\n      states.splice(index, 1);\n      if (stateName === 'active' || stateName === 'selected') {\n        const { sortZIndex, zIndexReversed } = this.geometry;\n        const idx = zIndexReversed ? this.geometry.elements.length - this.elementIndex : this.elementIndex;\n        sortZIndex ? shape.setZIndex(idx) : shape.set('zIndex', idx);\n      }\n    }\n\n    // \u4F7F\u7528\u865A\u62DF group \u91CD\u65B0\u7ED8\u5236 shape\uFF0C\u7136\u540E\u5BF9\u8FD9\u4E2A shape \u5E94\u7528\u72B6\u6001\u6837\u5F0F\u540E\uFF0C\u66F4\u65B0\u5F53\u524D shape\u3002\n    const offscreenShape = shapeFactory.drawShape(shapeType, model, this.getOffscreenGroup());\n    if (states.length) {\n      // \u5E94\u7528\u5F53\u524D\u72B6\u6001\n      this.syncShapeStyle(shape, offscreenShape, states, null);\n    } else {\n      // \u5982\u679C\u6CA1\u6709\u72B6\u6001\uFF0C\u5219\u9700\u8981\u6062\u590D\u81F3\u539F\u59CB\u72B6\u6001\n      this.syncShapeStyle(shape, offscreenShape, ['reset'], null);\n    }\n\n    offscreenShape.remove(true); // \u9500\u6BC1\uFF0C\u51CF\u5C11\u5185\u5B58\u5360\u7528\n\n    const eventObject = {\n      state: stateName,\n      stateStatus,\n      element: this,\n      target: this.container,\n    };\n    this.container.emit('statechange', eventObject);\n    // @ts-ignore\n    propagationDelegate(this.shape, 'statechange', eventObject);\n  }\n\n  /**\n   * \u6E05\u7A7A\u72B6\u91CF\u6001\uFF0C\u6062\u590D\u81F3\u521D\u59CB\u72B6\u6001\u3002\n   */\n  public clearStates() {\n    const states = this.states;\n\n    each(states, (state) => {\n      this.setState(state, false);\n    });\n\n    this.states = [];\n  }\n\n  /**\n   * \u67E5\u8BE2\u5F53\u524D Element \u4E0A\u662F\u5426\u5DF2\u8BBE\u7F6E `stateName` \u5BF9\u5E94\u7684\u72B6\u6001\u3002\n   * @param stateName \u72B6\u6001\u540D\u79F0\u3002\n   * @returns true \u8868\u793A\u5B58\u5728\uFF0Cfalse \u8868\u793A\u4E0D\u5B58\u5728\u3002\n   */\n  public hasState(stateName: string): boolean {\n    return this.states.includes(stateName);\n  }\n\n  /**\n   * \u83B7\u53D6\u5F53\u524D Element \u4E0A\u6240\u6709\u7684\u72B6\u6001\u3002\n   * @returns \u5F53\u524D Element \u4E0A\u6240\u6709\u7684\u72B6\u6001\u6570\u7EC4\u3002\n   */\n  public getStates(): string[] {\n    return this.states;\n  }\n\n  /**\n   * \u83B7\u53D6 Element \u5BF9\u5E94\u7684\u539F\u59CB\u6570\u636E\u3002\n   * @returns \u539F\u59CB\u6570\u636E\u3002\n   */\n  public getData(): Datum {\n    return this.data;\n  }\n\n  /**\n   * \u83B7\u53D6 Element \u5BF9\u5E94\u7684\u56FE\u5F62\u7ED8\u5236\u6570\u636E\u3002\n   * @returns \u56FE\u5F62\u7ED8\u5236\u6570\u636E\u3002\n   */\n  public getModel(): ShapeInfo {\n    return this.model;\n  }\n\n  /**\n   * \u8FD4\u56DE Element \u5143\u7D20\u6574\u4F53\u7684 bbox\uFF0C\u5305\u542B\u6587\u672C\u53CA\u6587\u672C\u8FDE\u7EBF\uFF08\u6709\u7684\u8BDD\uFF09\u3002\n   * @returns \u6574\u4F53\u5305\u56F4\u76D2\u3002\n   */\n  public getBBox(): BBox {\n    const { shape, labelShape } = this;\n    let bbox = {\n      x: 0,\n      y: 0,\n      minX: 0,\n      minY: 0,\n      maxX: 0,\n      maxY: 0,\n      width: 0,\n      height: 0,\n    };\n    if (shape) {\n      bbox = shape.getCanvasBBox();\n    }\n    if (labelShape) {\n      labelShape.forEach((label: IGroup) => {\n        const labelBBox = label.getCanvasBBox();\n        bbox.x = Math.min(labelBBox.x, bbox.x);\n        bbox.y = Math.min(labelBBox.y, bbox.y);\n        bbox.minX = Math.min(labelBBox.minX, bbox.minX);\n        bbox.minY = Math.min(labelBBox.minY, bbox.minY);\n        bbox.maxX = Math.max(labelBBox.maxX, bbox.maxX);\n        bbox.maxY = Math.max(labelBBox.maxY, bbox.maxY);\n      });\n    }\n\n    bbox.width = bbox.maxX - bbox.minX;\n    bbox.height = bbox.maxY - bbox.minY;\n\n    return bbox;\n  }\n\n  private getStatesStyle() {\n    if (!this.statesStyle) {\n      const { shapeType, geometry, shapeFactory } = this;\n      const stateOption = geometry.stateOption;\n      const defaultShapeType = shapeFactory.defaultShapeType;\n      const stateTheme = shapeFactory.theme[shapeType] || shapeFactory.theme[defaultShapeType];\n      this.statesStyle = deepMix({}, stateTheme, stateOption);\n    }\n\n    return this.statesStyle;\n  }\n\n  // \u4ECE\u4E3B\u9898\u4E2D\u83B7\u53D6\u5BF9\u5E94\u72B6\u6001\u91CF\u7684\u6837\u5F0F\n  private getStateStyle(stateName: string, shapeKey?: string): StateCfg {\n    const statesStyle = this.getStatesStyle();\n    const stateCfg = get(statesStyle, [stateName, 'style'], {});\n    const shapeStyle = stateCfg[shapeKey] || stateCfg;\n    if (isFunction(shapeStyle)) {\n      return shapeStyle(this);\n    }\n\n    return shapeStyle;\n  }\n\n  // \u83B7\u53D6\u52A8\u753B\u914D\u7F6E\n  private getAnimateCfg(animateType: string) {\n    const animate = this.animate;\n    if (animate) {\n      const cfg = animate[animateType];\n\n      if (cfg) {\n        // \u589E\u52A0\u52A8\u753B\u7684\u56DE\u8C03\u51FD\u6570\uFF0C\u5982\u679C\u5916\u90E8\u4F20\u5165\u4E86\uFF0C\u5219\u5148\u6267\u884C\u5916\u90E8\uFF0C\u7136\u540E\u53D1\u5C04 geometry \u7684 animate \u4E8B\u4EF6\n        return {\n          ...cfg,\n          callback: () => {\n            isFunction(cfg.callback) && cfg.callback();\n            this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE);\n          },\n        };\n      }\n      return cfg;\n    }\n\n    return null;\n  }\n\n  // \u7ED8\u5236\u56FE\u5F62\n  private drawShape(model: ShapeInfo, isUpdate: boolean = false) {\n    const { shapeFactory, container, shapeType } = this;\n\n    // \u81EA\u5B9A\u4E49 shape \u6709\u53EF\u80FD\u8FD4\u56DE\u7A7A shape\n    this.shape = shapeFactory.drawShape(shapeType, model, container);\n\n    if (this.shape) {\n      this.setShapeInfo(this.shape, model); // \u5B58\u50A8\u7ED8\u56FE\u6570\u636E\n      // @ts-ignore\n      const name = this.shape.cfg.name;\n      // \u9644\u52A0 element \u7684 name, name \u73B0\u5728\u652F\u6301\u6570\u7EC4\u4E86\uFF0C\u5F88\u597D\u7528\u4E86\n      if (!name) {\n        // \u8FD9\u4E2A\u5730\u65B9\u5982\u679C\u7528\u6237\u6DFB\u52A0\u4E86 name, \u5219\u9644\u52A0 name \uFF0C\u5426\u5219\u5C31\u6DFB\u52A0\u81EA\u5DF1\u7684 name\n        // @ts-ignore\n        this.shape.cfg.name = ['element', this.shapeFactory.geometryType];\n      } else if (isString(name)) {\n        // @ts-ignore\n        this.shape.cfg.name = ['element', name];\n      }\n      // \u6267\u884C\u5165\u573A\u52A8\u753B\n      const animateType = isUpdate ? 'enter' : 'appear';\n      const animateCfg = this.getAnimateCfg(animateType);\n      if (animateCfg) {\n        // \u5F00\u59CB\u6267\u884C\u52A8\u753B\u7684\u751F\u547D\u5468\u671F\n        this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n\n        doAnimate(this.shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...this.shape.attr(),\n          },\n        });\n      }\n    }\n  }\n\n  // \u83B7\u53D6\u865A\u62DF Group\n  private getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \u83B7\u53D6\u5206\u7EC4\u7684\u6784\u9020\u51FD\u6570\n      this.offscreenGroup = new GroupCtor({});\n    }\n\n    return this.offscreenGroup;\n  }\n\n  // \u8BBE\u7F6E shape \u4E0A\u9700\u8981\u643A\u5E26\u7684\u4FE1\u606F\n  private setShapeInfo(shape: IShape | IGroup, data: ShapeInfo) {\n    // @ts-ignore\n    shape.cfg.origin = data;\n    // @ts-ignore\n    shape.cfg.element = this;\n    if (shape.isGroup()) {\n      const children = shape.get('children');\n      children.forEach((child) => {\n        this.setShapeInfo(child, data);\n      });\n    }\n  }\n\n  // \u66F4\u65B0\u5F53\u524D shape \u7684\u6837\u5F0F\n  private syncShapeStyle(\n    sourceShape: IGroup | IShape,\n    targetShape: IGroup | IShape,\n    states: string[] = [],\n    animateCfg,\n    index: number = 0\n  ) {\n    if (!sourceShape || !targetShape) {\n      return;\n    }\n    // \u6240\u6709\u7684 shape \u90FD\u9700\u8981\u540C\u6B65 clip\n    const clip = sourceShape.get('clipShape');\n    const newClip = targetShape.get('clipShape');\n\n    this.syncShapeStyle(clip, newClip, states, animateCfg);\n\n    if (sourceShape.isGroup()) {\n      const children = sourceShape.get('children');\n      const newChildren = targetShape.get('children');\n      for (let i = 0; i < children.length; i++) {\n        this.syncShapeStyle(children[i], newChildren[i], states, animateCfg, index + i);\n      }\n    } else {\n      if (!isEmpty(states) && !isEqual(states, ['reset'])) {\n        let name = sourceShape.get('name');\n        if (isArray(name)) {\n          // \u4F1A\u9644\u52A0 element \u7684 name\n          name = name[1];\n        }\n\n        each(states, (state) => {\n          // background shape \u4E0D\u8FDB\u884C\u72B6\u6001\u6837\u5F0F\u8BBE\u7F6E\n          if (targetShape.get('name') !== BACKGROUND_SHAPE) {\n            const style = this.getStateStyle(state, name || index); // \u5982\u679C\u7528\u6237\u6CA1\u6709\u8BBE\u7F6E name\uFF0C\u5219\u9ED8\u8BA4\u6839\u636E\u7D22\u5F15\u503C\n            targetShape.attr(style);\n          }\n        });\n      }\n      const newAttrs = getReplaceAttrs(sourceShape as IShape, targetShape as IShape);\n\n      if (this.animate) {\n        if (animateCfg) {\n          this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n          // \u9700\u8981\u8FDB\u884C\u52A8\u753B\n          doAnimate(sourceShape, animateCfg, {\n            coordinate: this.shapeFactory.coordinate,\n            toAttrs: newAttrs,\n            shapeModel: this.model,\n          });\n        } else if (!isEmpty(states)) {\n          sourceShape.stopAnimate();\n          sourceShape.animate(newAttrs, {\n            duration: 300,\n          });\n        } else {\n          sourceShape.attr(newAttrs);\n        }\n      } else {\n        sourceShape.attr(newAttrs);\n      }\n    }\n  }\n\n  private getShapeType(model: ShapeInfo) {\n    const shape = get(model, 'shape');\n    return isArray(shape) ? shape[0] : shape;\n  }\n}\n", "import { BBox, IGroup, IShape } from '../../dependents';\nimport { LooseObject } from '../../interface';\nimport { GeometryLabelConstructor } from './base';\nimport { LabelItem } from './interface';\n\n/**\n * label \u5E03\u5C40\u51FD\u6570\u5B9A\u4E49\n * @param items \u5B58\u50A8\u6BCF\u4E2A label \u7684\u8BE6\u7EC6\u4FE1\u606F\n * @param labels \u6240\u6709\u7684 labels \u56FE\u5F62\u5B9E\u4F8B\n * @param shapes \u6240\u6709 label \u5BF9\u5E94\u7684\u56FE\u5F62\u5143\u7D20\u5B9E\u4F8B\n * @param region \u753B\u5E03\u533A\u57DF\n * @param cfg \u7528\u4E8E\u5B58\u50A8\u5404\u4E2A\u5E03\u5C40\u51FD\u6570\u5F00\u653E\u7ED9\u7528\u6237\u7684\u914D\u7F6E\u6570\u636E\n */\ntype GeometryLabelsLayoutFn = (\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LooseObject\n) => void;\n\nconst GEOMETRY_LABELS_MAP: Record<string, GeometryLabelConstructor> = {};\nconst GEOMETRY_LABELS_LAYOUT_MAP: Record<string, GeometryLabelsLayoutFn> = {};\n\n/**\n * \u83B7\u53D6 `type` \u5BF9\u5E94\u7684 [[GeometryLabel]] \u7C7B\n * @param type\n * @returns\n */\nexport function getGeometryLabel(type: string): GeometryLabelConstructor {\n  return GEOMETRY_LABELS_MAP[type.toLowerCase()];\n}\n\n/**\n * \u6CE8\u518C\u5B9A\u4E49\u7684 GeometryLabel \u7C7B\n * @param type GeometryLabel \u7C7B\u578B\u540D\u79F0\n * @param ctor GeometryLabel \u7C7B\n */\nexport function registerGeometryLabel(type: string, ctor: GeometryLabelConstructor) {\n  GEOMETRY_LABELS_MAP[type.toLowerCase()] = ctor;\n}\n\n/**\n * \u83B7\u53D6 `type` \u5BF9\u5E94\u7684 [[GeometryLabelsLayoutFn]] label \u5E03\u5C40\u51FD\u6570\n * @param type \u5E03\u5C40\u51FD\u6570\u540D\u79F0\n * @returns\n */\nexport function getGeometryLabelLayout(type: string): GeometryLabelsLayoutFn {\n  return GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()];\n}\n\n/**\n * \u6CE8\u518C\u5B9A\u4E49\u7684 label \u5E03\u5C40\u51FD\u6570\n * @param type label \u5E03\u5C40\u51FD\u6570\u540D\u79F0\n * @param layoutFn label \u5E03\u5C40\u51FD\u6570\n */\nexport function registerGeometryLabelLayout(type: string, layoutFn: GeometryLabelsLayoutFn) {\n  GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()] = layoutFn;\n}\n", "import { LooseObject } from '@antv/g-svg';\nimport { parsePathString } from '@antv/path-util';\nimport { deepMix, get, upperFirst } from '@antv/util';\nimport { IGroup, IShape, PathCommand } from '../../dependents';\nimport {\n  Point,\n  RegisterShape,\n  RegisterShapeFactory,\n  Shape,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerAttrs,\n  ShapeMarkerCfg,\n  ShapePoint,\n} from '../../interface';\n\nimport { convertNormalPath, convertPolarPath } from './util/path';\n\n/** ShapeFactory \u57FA\u7C7B */\nconst ShapeFactoryBase = {\n  /** \u5750\u6807\u7CFB\u5BF9\u8C61 */\n  coordinate: null,\n  /** \u9ED8\u8BA4\u7ED8\u5236\u7684 Shape \u7C7B\u578B */\n  defaultShapeType: null,\n  /** \u4E3B\u9898\u6837\u5F0F */\n  theme: null,\n  /**\n   * \u83B7\u53D6 shape \u7ED8\u5236\u9700\u8981\u7684\u5173\u952E\u70B9\n   * @param shapeType shape \u7C7B\u578B\n   * @param shapePoint \u6BCF\u6761\u6570\u636E\u6620\u5C04\u540E\u7684\u5750\u6807\u70B9\u4EE5\u53CA size \u6570\u503C\n   * @returns \u56FE\u5F62\u5173\u952E\u70B9\u4FE1\u606F\n   */\n  getShapePoints(shapeType: string, shapePoint: ShapePoint) {\n    const shape = this.getShape(shapeType);\n    if (shape.getPoints) {\n      return shape.getPoints(shapePoint);\n    }\n\n    return this.getDefaultPoints(shapePoint);\n  },\n  /**\n   * \u6839\u636E shape \u7C7B\u578B\u83B7\u53D6\u5177\u4F53\u7684 shape \u5B9E\u4F8B\n   * @param shapeType string shape \u7684\u7C7B\u578B\n   * @returns\n   */\n  getShape(shapeType: string): Shape {\n    const shape = this[shapeType] || this[this.defaultShapeType];\n    shape.coordinate = this.coordinate;\n\n    return shape;\n  },\n  /**\n   * \u83B7\u53D6 shape \u7684\u9ED8\u8BA4\u5173\u952E\u70B9\n   * @override\n   */\n  getDefaultPoints() {\n    return [];\n  },\n  /**\n   * \u83B7\u53D6 shape \u7684\u9ED8\u8BA4\u7ED8\u5236\u6837\u5F0F (\u5185\u7F6E\u7684 shapeFactory \u5747\u6709\u6CE8\u518C\u9ED8\u8BA4\u6837\u5F0F)\n   */\n  getDefaultStyle(geometryTheme: LooseObject): LooseObject {\n    return get(geometryTheme, [this.defaultShapeType, 'default', 'style'], {});\n  },\n  /**\n   * \u83B7\u53D6 shape \u5BF9\u5E94\u7684\u7F29\u7565\u56FE\u914D\u7F6E\u4FE1\u606F\u3002\n   * @param shapeType shape \u7C7B\u578B\n   * @param color \u989C\u8272\n   * @param isInPolar \u662F\u5426\u5728\u6781\u5750\u6807\u7CFB\u4E0B\n   * @returns \u8FD4\u56DE\u7F29\u7565\u56FE marker \u914D\u7F6E\u3002\n   */\n  getMarker(shapeType: string, markerCfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    let shape = this.getShape(shapeType);\n\n    if (!shape.getMarker) {\n      const defaultShapeType = this.defaultShapeType;\n      shape = this.getShape(defaultShapeType);\n    }\n\n    const theme = this.theme;\n    const shapeStyle = get(theme, [shapeType, 'default'], {});\n    const markerStyle = shape.getMarker(markerCfg);\n\n    return deepMix({}, shapeStyle, markerStyle);\n  },\n  /**\n   * \u7ED8\u5236 shape\n   * @override\n   * @param shapeType \u7ED8\u5236\u7684 shape \u7C7B\u578B\n   * @param cfg \u7ED8\u5236 shape \u9700\u8981\u7684\u4FE1\u606F\n   * @param element Element \u5B9E\u4F8B\n   * @returns\n   */\n  drawShape(shapeType: string, cfg: ShapeInfo, container: IGroup): IShape | IGroup {\n    const shape = this.getShape(shapeType);\n    return shape.draw(cfg, container);\n  },\n};\n\n/** Shape \u57FA\u7C7B */\nconst ShapeBase = {\n  /** \u5750\u6807\u7CFB\u5BF9\u8C61 */\n  coordinate: null,\n  /**\n   * \u5C06\u5F52\u4E00\u5316\u7684 path \u8F6C\u6362\u6210\u5750\u6807\u7CFB\u4E0B\u7684 path\n   * @param path \u5F52\u4E00\u5316\u7684\u8DEF\u5F84\n   * @returns\n   */\n  parsePath(path: string): PathCommand[] {\n    const coordinate = this.coordinate;\n    let parsedPath = parsePathString(path);\n    if (coordinate.isPolar) {\n      parsedPath = convertPolarPath(coordinate, parsedPath);\n    } else {\n      parsedPath = convertNormalPath(coordinate, parsedPath);\n    }\n    return parsedPath;\n  },\n  /**\n   * \u5C06\u5F52\u4E00\u5316\u7684\u5750\u6807\u8F6C\u6362\u6210\u753B\u5E03\u5750\u6807\n   * @param point \u5F52\u4E00\u5316\u7684\u5750\u6807\u70B9\u6570\u636E\n   * @returns\n   */\n  parsePoint(point: Point): Point {\n    const coordinate = this.coordinate;\n    return coordinate.convert(point);\n  },\n  /**\n   * 0\uFF5E1 points \u8F6C \u753B\u5E03 points\n   * @param points \u8282\u70B9\u96C6\u5408\n   * @returns\n   */\n  parsePoints(points: Point[]): Point[] {\n    const coordinate = this.coordinate;\n    return points.map((point) => {\n      return coordinate.convert(point);\n    });\n  },\n  /**\n   * \u7ED8\u5236 shape\n   * @override\n   */\n  draw(cfg: ShapeInfo, container: IGroup) {},\n};\n\nconst ShapeFactoryMap = {};\n\n/**\n * \u6CE8\u518C ShapeFactory\u3002\n * @param factoryName  ShapeFactory \u540D\u79F0\uFF0C\u5BF9\u5E94 Geometry \u51E0\u4F55\u6807\u8BB0\u540D\u79F0\u3002\n * @param cfg \u6CE8\u518C ShapeFactory \u9700\u8981\u8986\u5199\u5B9A\u4E49\u7684\u5C5E\u6027\u3002\n * @returns \u8FD4\u56DE ShapeFactory \u5BF9\u8C61\u3002\n */\nexport function registerShapeFactory(factoryName: string, cfg: RegisterShapeFactory): ShapeFactory {\n  const className = upperFirst(factoryName);\n  const geomObj = {\n    ...ShapeFactoryBase,\n    ...cfg,\n    geometryType: factoryName,\n  };\n  ShapeFactoryMap[className] = geomObj;\n  return geomObj;\n}\n\n/**\n * \u6CE8\u518C Shape\u3002\n * @param factoryName \u5BF9\u5E94\u7684 ShapeFactory \u540D\u79F0\u3002\n * @param shapeType \u6CE8\u518C\u7684 shape \u540D\u79F0\u3002\n * @param cfg \u6CE8\u518C Shape \u9700\u8981\u8986\u5199\u5B9A\u4E49\u7684\u5C5E\u6027\u3002\n * @returns shape \u8FD4\u56DE\u6CE8\u518C\u7684 shape \u5BF9\u8C61\u3002\n */\nexport function registerShape(factoryName: string, shapeType: string, cfg: RegisterShape): Shape {\n  const className = upperFirst(factoryName);\n  const factory = ShapeFactoryMap[className];\n  const shapeObj = {\n    ...ShapeBase,\n    ...cfg,\n  };\n  factory[shapeType] = shapeObj;\n  return shapeObj;\n}\n\n/**\n * \u83B7\u53D6 factoryName \u5BF9\u5E94\u7684 shapeFactory\n * @param factoryName\n * @returns shape factory\n */\nexport function getShapeFactory(factoryName: string): ShapeFactory {\n  const className = upperFirst(factoryName);\n  return ShapeFactoryMap[className];\n}\n", "import { groupToMap } from '@antv/util';\nimport { Data } from '../../interface';\n\n/** @ignore */\nexport function group(data: Data, fields: string[], appendConditions: Record<string, any[]> = {}) {\n  if (!fields) {\n    return [data];\n  }\n  const groups = groupToMap(data, fields);\n  const array = [];\n  if (fields.length === 1 && appendConditions[fields[0]]) {\n    const values = appendConditions[fields[0]];\n    for (const value of values) {\n      const arr = groups[`_${value}`];\n      if (arr) {\n        // \u53EF\u80FD\u5B58\u5728\u7528\u6237\u8BBE\u7F6E values \uFF0C\u4F46\u662F\u6570\u636E\u4E2D\u6CA1\u6709\u5BF9\u5E94\u7684\u5B57\u6BB5\uFF0C\u5219\u8FD9\u65F6\u5019 arr \u5C31\u4E3A null\n        array.push(arr);\n      }\n    }\n  } else {\n    for (const k in groups) {\n      if (groups.hasOwnProperty(k)) {\n        const eachGroup = groups[k];\n        array.push(eachGroup);\n      }\n    }\n  }\n\n  return array;\n}\n", "import { isEqual, some } from '@antv/util';\nimport { ShapeInfo } from '../../interface';\n\n/**\n * @ignore\n * Determines whether model is change\n * @param currentModel\n * @param preModel\n * @returns\n */\nexport function isModelChange(currentModel: ShapeInfo, preModel: ShapeInfo) {\n  return some(\n    ['color', 'shape', 'size', 'x', 'y', 'isInCircle', 'data', 'style', 'defaultStyle', 'points', 'mappingData'],\n    (key: string) => {\n      return !isEqual(currentModel[key], preModel[key]);\n    }\n  );\n}\n", "import { isArray } from '@antv/util';\n\n/** @ignore */\nexport function parseFields(field: string | string[]): string[] {\n  if (isArray(field)) {\n    return field;\n  }\n\n  return field.split('*');\n}\n", "/**\n * \u5BF9\u6BD4\u5F53\u524D\u5143\u7D20\u548C\u4E4B\u524D\u7684\u5143\u7D20\uFF0C\u8FD4\u56DE added, updated, removed\n * @param keyItem \u4E4B\u524D\u7684\u5143\u7D20\u7684\uFF0C\u6309\u7167 key-item \u7684 object \u7684\u5F62\u5F0F\u5B58\u50A8\n * @param keys \u73B0\u5728\u7684\u5143\u7D20\uFF0C\u6309\u7167 array \u7684\u5F62\u5F0F\u5B58\u50A8\n * @returns \u7531 added, updated, removed array \u6784\u6210\u7684 object\n */\nexport function diff(keyItem: Record<string, any>, keys: string[]) {\n  const added = [];\n  const updated = [];\n  const removed = [];\n  const keyIncluded = new Map<string, boolean>();\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if (keyItem[key]) updated.push(key);\n    else added.push(key);\n    keyIncluded.set(key, true);\n  }\n\n  Object.keys(keyItem).forEach((key) => {\n    if (!keyIncluded.has(key)) removed.push(key);\n  });\n\n  return {\n    added,\n    updated,\n    removed,\n  };\n}\n", "import { Adjust, getAdjust as getAdjustClass } from '@antv/adjust';\nimport { Attribute, getAttribute as getAttributeClass } from '@antv/attr';\nimport {\n  clone,\n  deepMix,\n  each,\n  flatten,\n  get,\n  isArray,\n  isEmpty,\n  isEqual,\n  isFunction,\n  isNil,\n  isNumber,\n  isObject,\n  isPlainObject,\n  isString,\n  set,\n} from '@antv/util';\nimport { doGroupAppearAnimate, getDefaultAnimateCfg } from '../animate';\nimport Base from '../base';\nimport { FIELD_ORIGIN, GEOMETRY_LIFE_CIRCLE, GROUP_ATTRS } from '../constant';\nimport { BBox, Coordinate, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AdjustOption,\n  AdjustType,\n  AnimateOption,\n  AttributeOption,\n  ColorAttrCallback,\n  Data,\n  Datum,\n  GeometryLabelCfg,\n  GeometryTooltipOption,\n  LabelCallback,\n  LabelOption,\n  LooseObject,\n  MappingDatum,\n  ScaleOption,\n  ShapeAttrCallback,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerCfg,\n  ShapeMarkerAttrs,\n  ShapePoint,\n  SizeAttrCallback,\n  StateOption,\n  StyleCallback,\n  StyleOption,\n  TooltipCallback,\n  CustomOption,\n} from '../interface';\nimport { uniq } from '../util/helper';\nimport Element from './element';\nimport { getGeometryLabel } from './label';\nimport GeometryLabel from './label/base';\nimport { getShapeFactory } from './shape/base';\nimport { group } from './util/group-data';\nimport { isModelChange } from './util/is-model-change';\nimport { parseFields } from './util/parse-fields';\nimport { diff } from './util/diff';\nimport { inferScaleType } from '../util/scale';\nimport { getXDimensionLength } from '../util/coordinate';\n\n/** @ignore */\ninterface AttributeInstanceCfg {\n  fields?: string[];\n  callback?: (...args) => any;\n  values?: string[] | number[];\n  scales?: Scale[];\n}\ninterface DimValuesMapType {\n  [dim: string]: number[];\n}\n/** @ignore */\ninterface AdjustInstanceCfg {\n  type: AdjustType;\n  adjustNames?: string[];\n  xField?: string;\n  yField?: string;\n\n  dodgeBy?: string;\n  marginRatio?: number;\n  dodgeRatio?: number;\n\n  size?: number;\n  height?: number;\n  reverseOrder?: boolean;\n\n  /** \u50CF\u7D20\u7EA7\u67F1\u95F4\u5BBD\u5EA6\uFF0C\u8C03\u6574offset */\n  intervalPadding?: number;\n  dodgePadding?: number;\n  /** x\u7EF4\u5EA6\u957F\u5EA6\uFF0C\u8BA1\u7B97\u5F52\u4E00\u5316padding\u4F7F\u7528 */\n  xDimensionLength?: number;\n  /** \u5206\u7EC4\u6570\uFF0C\u8BA1\u7B97offset */\n  groupNum?: number;\n  /** \u7528\u6237\u914D\u7F6E\u5BBD\u5EA6 size */\n  defaultSize?: number;\n  /** \u6700\u5927\u6700\u5C0F\u5BBD\u5EA6\u7EA6\u675F */\n  maxColumnWidth?: number;\n  minColumnWidth?: number;\n  /** \u67F1\u5BBD\u6BD4\u4F8B */\n  columnWidthRatio?: number;\n  /** \u7528\u6237\u81EA\u5B9A\u4E49\u7684dimValuesMap */\n  dimValuesMap?: DimValuesMapType;\n}\n\n/** geometry.init() \u4F20\u5165\u53C2\u6570 */\nexport interface InitCfg {\n  /** \u5750\u6807\u7CFB */\n  coordinate?: Coordinate;\n  /** \u6570\u636E */\n  data?: Data;\n  /** \u4E3B\u9898\u5BF9\u8C61 */\n  theme?: LooseObject;\n  /** \u5217\u5B9A\u4E49 */\n  scaleDefs?: Record<string, ScaleOption>;\n  /** \u56E0\u4E3A\u6570\u636E\u4F7F\u7528\u7684\u5F15\u7528\uFF0C\u6240\u4EE5\u9700\u8981\u6709\u4E00\u4E2A\u6807\u8BC6\u4F4D\u6807\u8BC6\u6570\u636E\u662F\u5426\u53D1\u751F\u4E86\u66F4\u65B0 */\n  isDataChanged?: boolean;\n  isCoordinateChanged?: boolean;\n}\n\n/** Geometry \u6784\u9020\u51FD\u6570\u53C2\u6570 */\nexport interface GeometryCfg {\n  /** Geometry shape \u7684\u5BB9\u5668\u3002 */\n  container: IGroup;\n  /** \u7ED8\u5236\u7684\u5750\u6807\u7CFB\u5BF9\u8C61\u3002 */\n  coordinate?: Coordinate;\n  /** \u7ED8\u5236\u6570\u636E\u3002 */\n  data?: Data;\n  /** \u9700\u8981\u7684 scales\u3002 */\n  scales?: Record<string, Scale>;\n  /** \u5217\u5B9A\u4E49 */\n  scaleDefs?: Record<string, ScaleOption>;\n  /** Geometry labels \u7684\u5BB9\u5668 */\n  labelsContainer?: IGroup;\n  /** \u662F\u5426\u5BF9\u6570\u636E\u8FDB\u884C\u6392\u5E8F */\n  sortable?: boolean;\n  /** elements \u7684 zIndex \u9ED8\u8BA4\u6309\u987A\u5E8F\u63D0\u5347\uFF0C\u901A\u8FC7 zIndexReversed \u53EF\u4EE5\u53CD\u5E8F\uFF0C\u4ECE\u800C\u6570\u636E\u8D8A\u524D\uFF0C\u5C42\u7EA7\u8D8A\u9AD8 */\n  zIndexReversed?: boolean;\n  /** \u662F\u5426\u9700\u8981\u5BF9 zIndex \u8FDB\u884C sort\u3002\u56E0\u4E3A\u8017\u65F6\u957F\uFF0C\u7531\u5177\u4F53\u573A\u666F\u81EA\u884C\u51B3\u5B9A */\n  sortZIndex?: boolean;\n  /** \u5EF6\u8FDF\u6E32\u67D3 Geometry \u6570\u636E\u6807\u7B7E. \u8BBE\u7F6E\u4E3A true \u65F6\uFF0C\u4F1A\u5728\u6D4F\u89C8\u5668\u7A7A\u95F2\u65F6\u671F\u88AB\u8C03\u7528, \u4E5F\u53EF\u4EE5\u6307\u5B9A\u5177\u4F53 timeout \u65F6\u95F4 */\n  useDeferredLabel?: boolean | number;\n  /** \u662F\u5426\u53EF\u89C1 */\n  visible?: boolean;\n  /** \u4E3B\u9898\u914D\u7F6E */\n  theme?: LooseObject;\n\n  /** \u7EC4\u95F4\u8DDD */\n  intervalPadding?: number;\n  /** \u7EC4\u5185\u95F4\u8DDD */\n  dodgePadding?: number;\n  /** \u67F1\u72B6\u56FE\u6700\u5927\u5BBD\u5EA6 */\n  maxColumnWidth?: number;\n  /** \u67F1\u72B6\u56FE\u6700\u5C0F\u5BBD\u5EA6 */\n  minColumnWidth?: number;\n  /** \u9ED8\u8BA4\u5BBD\u5EA6\u5360\u6BD4\uFF0Cinterval\u7C7B\u578B\u548Cschema\u7C7B\u578B\u901A\u7528 */\n  columnWidthRatio?: number;\n  /** \u73AB\u7470\u56FE\u5360\u6BD4 */\n  roseWidthRatio?: number;\n  /** \u591A\u5C42\u997C\u56FE/\u73AF\u56FE\u5360\u6BD4 */\n  multiplePieWidthRatio?: number;\n}\n\n/**\n * Geometry \u51E0\u4F55\u6807\u8BB0\u57FA\u7C7B\uFF0C\u4E3B\u8981\u8D1F\u8D23\u6570\u636E\u5230\u56FE\u5F62\u5C5E\u6027\u7684\u6620\u5C04\u4EE5\u53CA\u7ED8\u5236\u903B\u8F91\u3002\n */\nexport default class Geometry<S extends ShapePoint = ShapePoint> extends Base {\n  /** Geometry \u51E0\u4F55\u6807\u8BB0\u7C7B\u578B\u3002 */\n  public readonly type: string = 'base';\n  /** ShapeFactory \u5BF9\u5E94\u7684\u7C7B\u578B\u3002 */\n  public readonly shapeType: string;\n\n  // \u5728\u521B\u5EFA Geometry \u5B9E\u4F8B\u65F6\u53EF\u4EE5\u4F20\u5165\u7684\u5C5E\u6027\n  /** Coordinate \u5750\u6807\u7CFB\u5B9E\u4F8B\u3002 */\n  public coordinate: Coordinate;\n  /** \u7528\u6237\u7ED8\u5236\u6570\u636E\u3002 */\n  public data: Data;\n  /** \u56FE\u5F62\u7ED8\u5236\u5BB9\u5668\u3002 */\n  public readonly container: IGroup;\n  /** label \u7ED8\u5236\u5BB9\u5668\u3002 */\n  public readonly labelsContainer: IGroup;\n  /** \u662F\u5426\u5BF9\u6570\u636E\u8FDB\u884C\u6392\u5E8F\uFF0C\u9ED8\u8BA4\u4E3A false\u3002  */\n  public sortable: boolean;\n  /** \u5F53\u524D Geometry \u5B9E\u4F8B\u4E3B\u9898\u3002  */\n  public theme: LooseObject;\n  /** \u5B58\u50A8 geometry \u9700\u8981\u7684 scales\uFF0C\u9700\u8981\u5916\u90E8\u4F20\u5165\u3002 */\n  public scales: Record<string, Scale>;\n  /** scale \u5B9A\u4E49\uFF0C\u9700\u8981\u5916\u90E8\u4F20\u5165\u3002 */\n  public scaleDefs: Record<string, ScaleOption>;\n  /** \u753B\u5E03\u533A\u57DF\uFF0C\u7528\u4E8E label \u5E03\u5C40\u3002 */\n  public canvasRegion: BBox;\n\n  // \u5185\u90E8\u4EA7\u751F\u7684\u5C5E\u6027\n  /** Attribute map  */\n  public attributes: Record<string, Attribute> = {};\n  /** Element map */\n  public elements: Element[] = [];\n  /**\n   * \u5B58\u50A8\u5904\u7406\u540E\u7684\u6570\u636E\uFF0C\n   * + init() \u53CA updateData() \u903B\u8F91\u540E, \u7ED3\u6784\u4E3A Data[]\uFF1B\n   * + paint() \u903B\u8F91\u540E\uFF0C\u7ED3\u6784\u4E3A MappingDatum[][]\u3002\n   */\n  public dataArray: MappingDatum[][];\n  /** \u5B58\u50A8 tooltip \u914D\u7F6E\u4FE1\u606F\u3002 */\n  public tooltipOption: GeometryTooltipOption | boolean;\n  /** \u5B58\u50A8 label \u914D\u7F6E\u4FE1\u606F\u3002 */\n  public labelOption: LabelOption | false;\n  /** \u72B6\u6001\u91CF\u76F8\u5173\u7684\u914D\u7F6E\u9879 */\n  public stateOption: StateOption;\n  /** \u4F7F\u7528 key-value \u7ED3\u6784\u5B58\u50A8 Element\uFF0Ckey \u4E3A\u6BCF\u4E2A Element \u5B9E\u4F8B\u5BF9\u5E94\u7684\u552F\u4E00 ID */\n  public elementsMap: Record<string, Element> = {};\n  /** animate \u914D\u7F6E\u9879 */\n  public animateOption: AnimateOption | boolean = true;\n  /** \u56FE\u5F62\u5C5E\u6027\u6620\u5C04\u914D\u7F6E */\n  protected attributeOption: Record<string, AttributeOption> = {};\n  /** adjust \u914D\u7F6E\u9879 */\n  protected adjustOption: AdjustOption[];\n  /** style \u914D\u7F6E\u9879 */\n  protected styleOption: StyleOption;\n  /** custom \u81EA\u5B9A\u4E49\u7684\u914D\u7F6E\u9879 */\n  protected customOption: CustomOption;\n  /** \u6BCF\u4E2A Geometry \u5BF9\u5E94\u7684 Shape \u5DE5\u5382\u5B9E\u4F8B\uFF0C\u7528\u4E8E\u521B\u5EFA\u5404\u4E2A Shape */\n  protected shapeFactory: ShapeFactory;\n  /** \u5B58\u50A8\u4E0A\u4E00\u6B21\u6E32\u67D3\u65F6\u7684 element \u6620\u5C04\u8868\uFF0C\u7528\u4E8E\u66F4\u65B0\u903B\u8F91 */\n  protected lastElementsMap: Record<string, Element> = {};\n  /** \u662F\u5426\u751F\u6210\u591A\u4E2A\u70B9\u6765\u7ED8\u5236\u56FE\u5F62\u3002 */\n  protected generatePoints: boolean = false;\n  /** \u5B58\u50A8\u53D1\u751F\u56FE\u5F62\u5C5E\u6027\u6620\u5C04\u524D\u7684\u6570\u636E */\n  protected beforeMappingData: Data[] = null;\n  /** \u5B58\u50A8\u6BCF\u4E2A shape \u7684\u9ED8\u8BA4 size\uFF0C\u7528\u4E8E Interval\u3001Schema \u51E0\u4F55\u6807\u8BB0 */\n  protected defaultSize: number;\n\n  // \u7528\u6237\u901A\u8FC7 geometry \u6784\u9020\u51FD\u6570\u8BBE\u7F6E\u7684\u4E3B\u9898\n  private userTheme: LooseObject;\n  private adjusts: Record<string, Adjust> = {};\n  private lastAttributeOption;\n  private idFields: string[] = [];\n  private geometryLabel: GeometryLabel;\n\n  // \u67F1\u72B6\u56FE\u95F4\u8DDD\u76F8\u5173\u914D\u7F6E\n  /** \u7EC4\u95F4\u8DDD */\n  protected intervalPadding: number;\n  /** \u7EC4\u5185\u95F4\u8DDD */\n  protected dodgePadding: number;\n  /** \u67F1\u72B6\u56FE\u6700\u5927\u5BBD\u5EA6 */\n  protected maxColumnWidth: number;\n  /** \u67F1\u72B6\u56FE\u6700\u5C0F\u5BBD\u5EA6 */\n  protected minColumnWidth: number;\n  /** \u4E00\u822C\u67F1\u72B6\u56FE\u5BBD\u5EA6\u5360\u6BD4 */\n  protected columnWidthRatio: number;\n  /** \u73AB\u7470\u56FE\u5360\u6BD4 */\n  protected roseWidthRatio: number;\n  /** \u591A\u5C42\u997C\u56FE/\u73AF\u56FE\u5360\u6BD4 */\n  protected multiplePieWidthRatio: number;\n  /** elements \u7684 zIndex \u9ED8\u8BA4\u6309\u987A\u5E8F\u63D0\u5347\uFF0C\u901A\u8FC7 zIndexReversed \u53EF\u4EE5\u53CD\u5E8F\uFF0C\u4ECE\u800C\u6570\u636E\u8D8A\u524D\uFF0C\u5C42\u7EA7\u8D8A\u9AD8 */\n  public zIndexReversed?: boolean;\n  /** \u662F\u5426\u9700\u8981\u5BF9 zIndex \u8FDB\u884C sort\u3002\u56E0\u4E3A\u8017\u65F6\u957F\uFF0C\u7531\u5177\u4F53\u573A\u666F\u81EA\u884C\u51B3\u5B9A */\n  public sortZIndex?: boolean;\n  protected useDeferredLabel?: null | number;\n\n  /** \u865A\u62DF Group\uFF0C\u7528\u4E8E\u56FE\u5F62\u66F4\u65B0 */\n  private offscreenGroup: IGroup;\n  private groupScales: Scale[];\n  private hasSorted: boolean = false;\n  protected isCoordinateChanged: boolean = false;\n\n  /**\n   * \u521B\u5EFA Geometry \u5B9E\u4F8B\u3002\n   * @param cfg\n   */\n  constructor(cfg: GeometryCfg) {\n    super(cfg);\n\n    const {\n      container,\n      labelsContainer,\n      coordinate,\n      data,\n      sortable = false,\n      visible = true,\n      theme,\n      scales = {},\n      scaleDefs = {},\n      // \u67F1\u72B6\u56FE\u95F4\u9694\u4E0E\u5BBD\u5EA6\u76F8\u5173\u914D\u7F6E\n      intervalPadding,\n      dodgePadding,\n      maxColumnWidth,\n      minColumnWidth,\n      columnWidthRatio,\n      roseWidthRatio,\n      multiplePieWidthRatio,\n      zIndexReversed,\n      sortZIndex,\n      useDeferredLabel,\n    } = cfg;\n\n    this.container = container;\n    this.labelsContainer = labelsContainer;\n    this.coordinate = coordinate;\n    this.data = data;\n    this.sortable = sortable;\n    this.visible = visible;\n    this.userTheme = theme;\n    this.scales = scales;\n    this.scaleDefs = scaleDefs;\n    // \u67F1\u72B6\u56FE\u95F4\u9694\u4E0E\u5BBD\u5EA6\u76F8\u5173\u914D\u7F6E\n    this.intervalPadding = intervalPadding;\n    this.dodgePadding = dodgePadding;\n    this.maxColumnWidth = maxColumnWidth;\n    this.minColumnWidth = minColumnWidth;\n    this.columnWidthRatio = columnWidthRatio;\n    this.roseWidthRatio = roseWidthRatio;\n    this.multiplePieWidthRatio = multiplePieWidthRatio;\n    this.zIndexReversed = zIndexReversed;\n    this.sortZIndex = sortZIndex;\n    this.useDeferredLabel = useDeferredLabel ? (typeof useDeferredLabel === 'number' ? useDeferredLabel : Infinity) : null;\n  }\n\n  /**\n   * \u914D\u7F6E position \u901A\u9053\u6620\u5C04\u89C4\u5219\u3002\n   *\n   * @example\n   * ```typescript\n   * // \u6570\u636E\u7ED3\u6784: [{ x: 'A', y: 10, color: 'red' }]\n   * geometry.position('x*y');\n   * geometry.position([ 'x', 'y' ]);\n   * geometry.position({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   *\n   * @param cfg \u6620\u5C04\u89C4\u5219\n   * @returns\n   */\n  public position(cfg: string | string[] | AttributeOption): Geometry {\n    let positionCfg = cfg;\n    if (!isPlainObject(cfg)) {\n      // \u5B57\u7B26\u4E32\u5B57\u6BB5\u6216\u8005\u6570\u7EC4\u5B57\u6BB5\n      positionCfg = {\n        fields: parseFields(cfg),\n      };\n    }\n\n    const fields = get(positionCfg, 'fields');\n    if (fields.length === 1) {\n      // \u9ED8\u8BA4\u586B\u5145\u4E00\u7EF4 1*xx\n      fields.unshift('1');\n      set(positionCfg, 'fields', fields);\n    }\n    set(this.attributeOption, 'position', positionCfg);\n\n    return this;\n  }\n\n  /**\n   * \u914D\u7F6E color \u901A\u9053\u6620\u5C04\u89C4\u5219\u3002\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.color({\n   *   fields: [ 'x' ],\n   *   values: [ '#1890ff', '#5AD8A6' ],\n   * });\n   * ```\n   *\n   * @param field \u6620\u5C04\u89C4\u5219\n   * @returns\n   */\n  public color(field: AttributeOption): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * // \u4F7F\u7528 '#1890ff' \u989C\u8272\u6E32\u67D3\u56FE\u5F62\n   * geometry.color('#1890ff');\n   *\n   * // \u6839\u636E x \u5B57\u6BB5\u7684\u6570\u636E\u503C\u8FDB\u884C\u989C\u8272\u7684\u6620\u5C04\uFF0C\u8FD9\u65F6\u5019 G2 \u4F1A\u5728\u5185\u90E8\u8C03\u7528\u9ED8\u8BA4\u7684\u56DE\u8C03\u51FD\u6570\uFF0C\u8BFB\u53D6\u9ED8\u8BA4\u63D0\u4F9B\u7684\u989C\u8272\u8FDB\u884C\u6570\u636E\u503C\u5230\u989C\u8272\u503C\u7684\u6620\u5C04\u3002\n   * geometry.color('x');\n   *\n   * // \u5C06 'x' \u5B57\u6BB5\u7684\u6570\u636E\u503C\u6620\u5C04\u81F3\u6307\u5B9A\u7684\u989C\u8272\u503C colors\uFF08\u53EF\u4EE5\u662F\u5B57\u7B26\u4E32\u4E5F\u53EF\u4EE5\u662F\u6570\u7EC4\uFF09\uFF0C\u6B64\u65F6\u7528\u4E8E\u901A\u5E38\u6620\u5C04\u5206\u7C7B\u6570\u636E\n   * geometry.color('x', [ '#1890ff', '#5AD8A6' ]);\n   *\n   * // \u4F7F\u7528\u56DE\u8C03\u51FD\u6570\u8FDB\u884C\u989C\u8272\u503C\u7684\u81EA\u5B9A\u4E49\uFF1B\u53EF\u4EE5\u4F7F\u7528\u591A\u4E2A\u5B57\u6BB5\u4F7F\u7528\u3001*\u53F7\u8FDE\u63A5\n   * geometry.color('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'red';\n   *   }\n   *   return 'blue';\n   * });\n   *\n   * // \u6307\u5B9A\u989C\u8272\u7684\u6E10\u53D8\u8DEF\u5F84\uFF0C\u7528\u4E8E\u6620\u5C04\u8FDE\u7EED\u7684\u6570\u636E\n   * geometry.color('x', '#BAE7FF-#1890FF-#0050B3');\n   * ```\n   *\n   * @param field \u53C2\u4E0E\u989C\u8272\u6620\u5C04\u7684\u6570\u636E\u5B57\u6BB5\uFF0C\u591A\u4E2A\u5B57\u6BB5\u4F7F\u7528 '*' \u8FDE\u63A5\u7B26\u8FDB\u884C\u8FDE\u63A5\u3002\n   * @param cfg Optional, color \u6620\u5C04\u89C4\u5219\u3002\n   * @returns\n   */\n  public color(field: string, cfg?: string | string[] | ColorAttrCallback): Geometry;\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, cfg);\n\n    return this;\n  }\n\n  /**\n   * \u914D\u7F6E shape \u901A\u9053\u6620\u5C04\u89C4\u5219\u3002\n   *\n   * @example\n   *\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.shape({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   *\n   * @param field \u6620\u5C04\u89C4\u5219\u914D\u7F6E\u3002\n   * @returns\n   */\n  public shape(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * // \u6307\u5B9A\u5E38\u91CF\uFF0C\u5C06\u6240\u6709\u6570\u636E\u503C\u6620\u5C04\u5230\u56FA\u5B9A\u7684 shape\n   * geometry.shape('circle');\n   *\n   * // \u5C06\u6307\u5B9A\u7684\u5B57\u6BB5\u6620\u5C04\u5230\u5185\u7F6E\u7684 shapes \u6570\u7EC4\u4E2D\n   * geometry.shape('x');\n   *\n   * // \u5C06\u6307\u5B9A\u7684\u5B57\u6BB5\u6620\u5C04\u5230\u6307\u5B9A\u7684 shapes \u6570\u7EC4\u4E2D\n   * geometry.shape('x', [ 'circle', 'diamond', 'square' ]);\n   *\n   * // \u4F7F\u7528\u56DE\u8C03\u51FD\u6570\u83B7\u53D6 shape\uFF0C\u7528\u4E8E\u4E2A\u6027\u5316\u7684 shape \u5B9A\u5236\uFF0C\u53EF\u4EE5\u6839\u636E\u5355\u4E2A\u6216\u8005\u591A\u4E2A\u5B57\u6BB5\u786E\u5B9A\n   * geometry.shape('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'circle';\n   *   }\n   *   return 'diamond';\n   * });\n   * ```\n   *\n   * @param field \u53C2\u4E0E shape \u6620\u5C04\u7684\u6570\u636E\u5B57\u6BB5\uFF0C\u591A\u4E2A\u5B57\u6BB5\u4F7F\u7528 '*' \u8FDE\u63A5\u7B26\u8FDB\u884C\u8FDE\u63A5\u3002\n   * @param cfg Optional, shape \u6620\u5C04\u89C4\u5219\u3002\n   * @returns\n   */\n  public shape(field: string, cfg?: string[] | ShapeAttrCallback): Geometry;\n  public shape(field: AttributeOption | string, cfg?: string[] | ShapeAttrCallback): Geometry {\n    this.createAttrOption('shape', field, cfg);\n\n    return this;\n  }\n\n  /**\n   * \u914D\u7F6E size \u901A\u9053\u6620\u5C04\u89C4\u5219\u3002\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.size({\n   *   values: [ 10 ],\n   * })\n   * ```\n   *\n   * @param field \u6620\u5C04\u89C4\u5219\u3002\n   * @returns\n   */\n  public size(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * // \u76F4\u63A5\u6307\u5B9A\u50CF\u7D20\u5927\u5C0F\n   * geometry.size(10);\n   *\n   * // \u6307\u5B9A\u6620\u5C04\u5230 size \u7684\u5B57\u6BB5\uFF0C\u4F7F\u7528\u5185\u7F6E\u7684\u9ED8\u8BA4\u5927\u5C0F\u8303\u56F4\u4E3A [1, 10]\n   * geometry.size('x');\n   *\n   * // \u6307\u5B9A\u6620\u5C04\u5230 size \u5B57\u6BB5\u5916\uFF0C\u8FD8\u63D0\u4F9B\u4E86 size \u7684\u6700\u5927\u503C\u548C\u6700\u5C0F\u503C\u8303\u56F4\n   * geometry.size('x', [ 5, 30 ]);\n   *\n   * // \u4F7F\u7528\u56DE\u8C03\u51FD\u6570\u6620\u5C04 size\uFF0C\u7528\u4E8E\u4E2A\u6027\u5316\u7684 size \u5B9A\u5236\uFF0C\u53EF\u4EE5\u4F7F\u7528\u591A\u4E2A\u5B57\u6BB5\u8FDB\u884C\u6620\u5C04\n   * geometry.size('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 10;\n   *   }\n   *   return 5;\n   * });\n   * ```\n   *\n   * @param field \u53C2\u4E0E size \u6620\u5C04\u7684\u6570\u636E\u5B57\u6BB5\uFF0C\u591A\u4E2A\u5B57\u6BB5\u4F7F\u7528 '*' \u8FDE\u63A5\u7B26\u8FDB\u884C\u8FDE\u63A5\u3002\n   * @param cfg Optional, size \u6620\u5C04\u89C4\u5219\n   * @returns\n   */\n  public size(field: number | string, cfg?: [number, number] | SizeAttrCallback): Geometry;\n  public size(field: AttributeOption | number | string, cfg?: [number, number] | SizeAttrCallback): Geometry {\n    this.createAttrOption('size', field, cfg);\n\n    return this;\n  }\n\n  /**\n   * \u8BBE\u7F6E\u6570\u636E\u8C03\u6574\u65B9\u5F0F\u3002G2 \u76EE\u524D\u5185\u7F6E\u4E86\u56DB\u79CD\u7C7B\u578B\uFF1A\n   * 1. dodge\n   * 2. stack\n   * 3. symmetric\n   * 4. jitter\n   *\n   *\n   * **Tip**\n   * + \u5BF9\u4E8E 'dodge' \u7C7B\u578B\uFF0C\u53EF\u4EE5\u989D\u5916\u8FDB\u884C\u5982\u4E0B\u5C5E\u6027\u7684\u914D\u7F6E:\n   * ```typescript\n   * geometry.adjust('dodge', {\n   *   marginRatio: 0, // \u53D6 0 \u5230 1 \u8303\u56F4\u7684\u503C\uFF08\u76F8\u5BF9\u4E8E\u6BCF\u4E2A\u67F1\u5B50\u5BBD\u5EA6\uFF09\uFF0C\u7528\u4E8E\u63A7\u5236\u4E00\u4E2A\u5206\u7EC4\u4E2D\u67F1\u5B50\u4E4B\u95F4\u7684\u95F4\u8DDD\n   *   dodgeBy: 'x', // \u8BE5\u5C5E\u6027\u53EA\u5BF9 'dodge' \u7C7B\u578B\u751F\u6548\uFF0C\u58F0\u660E\u4EE5\u54EA\u4E2A\u6570\u636E\u5B57\u6BB5\u4E3A\u5206\u7EC4\u4F9D\u636E\n   * });\n   * ```\n   *\n   * + \u5BF9\u4E8E 'stack' \u7C7B\u578B\uFF0C\u53EF\u4EE5\u989D\u5916\u8FDB\u884C\u5982\u4E0B\u5C5E\u6027\u7684\u914D\u7F6E:\n   * ```typescript\n   * geometry.adjust('stack', {\n   *   reverseOrder: false, // \u7528\u4E8E\u63A7\u5236\u662F\u5426\u5BF9\u6570\u636E\u8FDB\u884C\u53CD\u5E8F\u64CD\u4F5C\n   * });\n   * ```\n   *\n   * @example\n   * ```typescript\n   * geometry.adjust('stack');\n   *\n   * geometry.adjust({\n   *   type: 'stack',\n   *   reverseOrder: false,\n   * });\n   *\n   * // \u7EC4\u5408\u4F7F\u7528 adjust\n   * geometry.adjust([ 'stack', 'dodge' ]);\n   *\n   * geometry.adjust([\n   *   { type: 'stack' },\n   *   { type: 'dodge', dodgeBy: 'x' },\n   * ]);\n   * ```\n   *\n   * @param adjustCfg \u6570\u636E\u8C03\u6574\u914D\u7F6E\n   * @returns\n   */\n  public adjust(adjustCfg: string | string[] | AdjustOption | AdjustOption[]): Geometry {\n    let adjusts: any = adjustCfg;\n    if (isString(adjustCfg) || isPlainObject(adjustCfg)) {\n      adjusts = [adjustCfg];\n    }\n    each(adjusts, (adjust, index) => {\n      if (!isObject(adjust)) {\n        adjusts[index] = { type: adjust };\n      }\n    });\n\n    this.adjustOption = adjusts;\n    return this;\n  }\n\n  /**\n   * \u56FE\u5F62\u6837\u5F0F\u914D\u7F6E\u3002\n   *\n   * @example\n   * ```typescript\n   * // \u914D\u7F6E\u56FE\u5F62\u6837\u5F0F\n   * style({\n   *   lineWidth: 2,\n   *   stroke: '#1890ff',\n   * });\n   *\n   * // \u6839\u636E\u5177\u4F53\u7684\u6570\u636E\u8FDB\u884C\u8BE6\u7EC6\u914D\u7F6E\n   * style({\n   *   fields: [ 'x', 'y' ], // \u6570\u636E\u5B57\u6BB5\n   *   callback: (xVal, yVal) => {\n   *     const style = { lineWidth: 2, stroke: '#1890ff' };\n   *     if (xVal === 'a') {\n   *       style.lineDash = [ 2, 2 ];\n   *     }\n   *     return style;\n   *   },\n   * });\n   * ```\n   *\n   * @param field \u914D\u7F6E\u6837\u5F0F\u5C5E\u6027\u6216\u8005\u6837\u5F0F\u89C4\u5219\u3002\n   * @returns\n   */\n  public style(field: StyleOption | LooseObject): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * style('x*y', (xVal, yVal) => {\n   *   const style = { lineWidth: 2, stroke: '#1890ff' };\n   *   if (xVal === 'a') {\n   *     style.lineDash = [ 2, 2 ];\n   *   }\n   *   return style;\n   * });\n   * ```\n   *\n   * @param field \u6570\u636E\u5B57\u6BB5\u6216\u8005\u6837\u5F0F\u914D\u7F6E\u89C4\u5219\u3002\n   * @param styleFunc Optional, \u6837\u5F0F\u914D\u7F6E\u56DE\u8C03\u51FD\u6570\u3002\n   * @returns\n   */\n  public style(field: string, styleFunc: StyleCallback): Geometry;\n  public style(field: StyleOption | LooseObject | string, styleFunc?: StyleCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.styleOption = {\n        fields,\n        callback: styleFunc,\n      };\n    } else {\n      const { fields, callback, cfg } = field as StyleOption;\n      if (fields || callback || cfg) {\n        this.styleOption = field;\n      } else {\n        this.styleOption = {\n          cfg: field,\n        };\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   * \u914D\u7F6E Geometry \u663E\u793A\u7684 tooltip \u5185\u5BB9\u3002\n   *\n   * `tooltip(false)` \u4EE3\u8868\u5173\u95ED tooltip\u3002\n   * `tooltip(true)` \u4EE3\u8868\u5F00\u542F tooltip\u3002\n   *\n   * Geometry \u9ED8\u8BA4\u5141\u8BB8 tooltip \u5C55\u793A\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528\u4EE5\u4E0B\u65B9\u6CD5\u5BF9 tooltip \u7684\u5C55\u793A\u5185\u5BB9\u8FDB\u884C\u914D\u7F6E\uFF1A\n   *\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   * tooltip({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*268uQ50if60AAAAAAAAAAABkARQnAQ)\n   *\n   * ```typescript\n   * tooltip({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*A_ujSa8QhtcAAAAAAAAAAABkARQnAQ)\n   *\n   * tooltip() \u65B9\u6CD5\u540C\u6837\u652F\u6301\u6570\u636E\u6620\u5C04\u53CA\u56DE\u8C03\u7528\u6CD5\uFF1A\n   *\n   * @example\n   * ```typescript\n   * chart.tooltip({\n   *   itemTpl: '<li>{x}: {y}</li>',\n   * });\n   *\n   * chart.line()\n   *   .position('x*y')\n   *   .tooltip({\n   *     fields: [ 'x', 'y' ],\n   *     callback: (x, y) => {\n   *       return {\n   *         x,\n   *         y,\n   *       };\n   *     },\n   *   });\n   * ```\n   *\n   * \u5176\u8FD4\u56DE\u7684\u503C\u5FC5\u987B\u4E3A\u5BF9\u8C61\uFF0C\u8BE5\u503C\u4E2D\u7684\u5C5E\u6027\u540C chart.tooltip() \u7684 itemTpl \u6A21\u677F\u76F8\u5BF9\u5E94\uFF0C\u8FD4\u56DE\u7684\u53D8\u91CF\u53EF\u7528\u4E8E itemTpl \u7684\u5B57\u7B26\u4E32\u6A21\u677F\u3002\n   *\n   * @param field tooltip \u914D\u7F6E\u4FE1\u606F\u3002\n   * @returns\n   */\n  public tooltip(field: GeometryTooltipOption | boolean): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   *\n   * // \u7B49\u540C\u4E8E tooltip({ fields: [ 'x' ] })\n   * tooltip('x');\n   *\n   * // \u7B49\u540C\u4E8E tooltip({ fields: [ 'x', 'y' ] })\n   * tooltip('x*y');\n   *\n   * // \u7B49\u540C\u4E8E tooltip({ fields: [ 'x', 'y' ], callback: (x, y) => { x, y } })\n   * tooltip('x*y', (x, y) => {\n   *   return {\n   *     x,\n   *     y,\n   *   };\n   * });\n   * ```\n   *\n   * @param field \u53C2\u4E0E\u6620\u5C04\u7684\u5B57\u6BB5\u3002\n   * @param cfg Optional, \u56DE\u8C03\u51FD\u6570\n   * @returns\n   */\n  public tooltip(field: string, cfg?: TooltipCallback): Geometry;\n  public tooltip(field: GeometryTooltipOption | boolean | string, cfg?: TooltipCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.tooltipOption = {\n        fields,\n        callback: cfg,\n      };\n    } else {\n      this.tooltipOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * Geometry \u52A8\u753B\u914D\u7F6E\u3002\n   *\n   * + `animate(false)` \u5173\u95ED\u52A8\u753B\n   * + `animate(true)` \u5F00\u542F\u52A8\u753B\uFF0C\u9ED8\u8BA4\u5F00\u542F\u3002\n   *\n   * \u6211\u4EEC\u5C06\u52A8\u753B\u5206\u4E3A\u56DB\u4E2A\u573A\u666F\uFF1A\n   * 1. appear: \u56FE\u8868\u7B2C\u4E00\u6B21\u52A0\u8F7D\u65F6\u7684\u5165\u573A\u52A8\u753B\uFF1B\n   * 2. enter: \u56FE\u8868\u7ED8\u5236\u5B8C\u6210\uFF0C\u53D1\u751F\u66F4\u65B0\u540E\uFF0C\u4EA7\u751F\u7684\u65B0\u56FE\u5F62\u7684\u8FDB\u573A\u52A8\u753B\uFF1B\n   * 3. update: \u56FE\u8868\u7ED8\u5236\u5B8C\u6210\uFF0C\u6570\u636E\u53D1\u751F\u53D8\u66F4\u540E\uFF0C\u6709\u72B6\u6001\u53D8\u66F4\u7684\u56FE\u5F62\u7684\u66F4\u65B0\u52A8\u753B\uFF1B\n   * 4. leave: \u56FE\u8868\u7ED8\u5236\u5B8C\u6210\uFF0C\u6570\u636E\u53D1\u751F\u53D8\u66F4\u540E\uFF0C\u88AB\u9500\u6BC1\u56FE\u5F62\u7684\u9500\u6BC1\u52A8\u753B\u3002\n   *\n   * @example\n   * ```typescript\n   * animate({\n   *   enter: {\n   *     duration: 1000, // enter \u52A8\u753B\u6267\u884C\u65F6\u95F4\n   *   },\n   *   leave: false, // \u5173\u95ED leave \u9500\u6BC1\u52A8\u753B\n   * });\n   * ```\n   *\n   * @param cfg \u52A8\u753B\u914D\u7F6E\n   * @returns\n   */\n  public animate(cfg: AnimateOption | boolean): Geometry {\n    this.animateOption = cfg;\n    return this;\n  }\n\n  /**\n   * Geometry label \u914D\u7F6E\u3002\n   *\n   * @example\n   * ```ts\n   * // data: [ {x: 1, y: 2, z: 'a'}, {x: 2, y: 2, z: 'b'} ]\n   * // \u5728\u6BCF\u4E2A\u56FE\u5F62\u4E0A\u663E\u793A z \u5B57\u6BB5\u5BF9\u5E94\u7684\u6570\u503C\n   * label({\n   *   fields: [ 'z' ]\n   * });\n   *\n   * label(false); // \u4E0D\u5C55\u793A label\n   *\n   * // \u5728\u6BCF\u4E2A\u56FE\u5F62\u4E0A\u663E\u793A x \u5B57\u6BB5\u5BF9\u5E94\u7684\u6570\u503C\uFF0C\u540C\u65F6\u914D\u7F6E\u6587\u672C\u989C\u8272\u4E3A\u7EA2\u8272\n   * label('x', {\n   *   style: {\n   *     fill: 'red',\n   *   },\n   * })\n   *\n   * // \u4EE5 type \u7C7B\u578B\u7684 label \u6E32\u67D3\u6BCF\u4E2A\u56FE\u5F62\u4E0A\u663E\u793A x \u5B57\u6BB5\u5BF9\u5E94\u7684\u6570\u503C\uFF0C\u540C\u65F6\u683C\u5F0F\u5316\u6587\u672C\u5185\u5BB9\n   * label('x', (xValue) => {\n   *   return {\n   *     content: xValue + '%',\n   *   };\n   * }, {\n   *   type: 'base' // \u58F0\u660E label \u7C7B\u578B\n   * })\n   * ```\n   *\n   * @param field\n   * @returns label\n   */\n  public label(field: LabelOption | false | string): Geometry;\n  public label(field: string, secondParam: GeometryLabelCfg | LabelCallback): Geometry;\n  public label(field: string, secondParam: LabelCallback, thirdParam: GeometryLabelCfg): Geometry;\n  public label(\n    field: string | LabelOption | false,\n    secondParam?: GeometryLabelCfg | LabelCallback,\n    thirdParam?: GeometryLabelCfg\n  ): Geometry {\n    if (isString(field)) {\n      const labelOption: LabelOption = {};\n      const fields = parseFields(field);\n      labelOption.fields = fields;\n      if (isFunction(secondParam)) {\n        labelOption.callback = secondParam;\n      } else if (isPlainObject(secondParam)) {\n        labelOption.cfg = secondParam;\n      }\n\n      if (thirdParam) {\n        labelOption.cfg = thirdParam;\n      }\n      this.labelOption = labelOption;\n    } else {\n      this.labelOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * \u8BBE\u7F6E\u72B6\u6001\u5BF9\u5E94\u7684\u6837\u5F0F\u3002\n   *\n   * @example\n   * ```ts\n   * chart.interval().state({\n   *   selected: {\n   *     animate: { duration: 100, easing: 'easeLinear' },\n   *     style: {\n   *       lineWidth: 2,\n   *       stroke: '#000',\n   *     },\n   *   },\n   * });\n   * ```\n   *\n   * \u5982\u679C\u56FE\u5F62 shape \u662F\u7531\u591A\u4E2A shape \u7EC4\u6210\uFF0C\u5373\u4E3A\u4E00\u4E2A G.Group \u5BF9\u8C61\uFF0C\u90A3\u4E48\u9488\u5BF9 group \u4E2D\u7684\u6BCF\u4E2A shape\uFF0C\u6211\u4EEC\u9700\u8981\u4F7F\u7528\u4E0B\u5217\u65B9\u5F0F\u8FDB\u884C\u72B6\u6001\u6837\u5F0F\u8BBE\u7F6E\uFF1A\n   * \u5982\u679C\u6211\u4EEC\u4E3A group \u4E2D\u7684\u6BCF\u4E2A shape \u8BBE\u7F6E\u4E86 'name' \u5C5E\u6027(shape.set('name', 'xx'))\uFF0C\u5219\u4EE5 'name' \u4F5C\u4E3A key\uFF0C\u5426\u5219\u9ED8\u8BA4\u4EE5\u7D22\u5F15\u503C\uFF08\u5373 shape \u7684 \u6DFB\u52A0\u987A\u5E8F\uFF09\u4E3A key\u3002\n   *\n   * ```ts\n   * chart.interval().shape('groupShape').state({\n   *   selected: {\n   *     style: {\n   *       0: { lineWidth: 2 },\n   *       1: { fillOpacity: 1 },\n   *     }\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg \u72B6\u6001\u6837\u5F0F\n   */\n  public state(cfg: StateOption) {\n    this.stateOption = cfg;\n    return this;\n  }\n\n  /**\n   * \u7528\u4E8E\u5411 shape \u4E2D\u4F20\u5165\u81EA\u5B9A\u4E49\u7684\u6570\u636E\u3002\u76EE\u524D\u53EF\u80FD\u4EC5\u4EC5\u53EF\u80FD\u7528\u4E8E\u5728\u81EA\u5B9A\u4E49 shape \u7684\u65F6\u5019\uFF0C\u50CF\u81EA\u5B9A\u4E49 shape \u4E2D\u4F20\u5165\u81EA\u5B9A\u4E49\u7684\u6570\u636E\uFF0C\u65B9\u4FBF\u5B9E\u73B0\u81EA\u5B9A\u4E49 shape \u7684\u914D\u7F6E\u80FD\u529B\u3002\n   *\n   * @example\n   * ```ts\n   * chart.interval().customInfo({ yourData: 'hello, g2!' });\n   * ```\n   *\n   * \u7136\u540E\u5728\u81EA\u5B9A\u4E49 shape \u7684\u65F6\u5019\uFF0C\u53EF\u4EE5\u62FF\u5230\u8FD9\u4E2A\u4FE1\u606F\u3002\n   *\n   * ```ts\n   * registerShape('interval', 'your-shape', {\n   *   draw(shapeInfo, container) {\n   *     const { customInfo } = shapeInfo;\n   *     console.log(customInfo); // will log { yourData: 'hello, g2!' }.\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg\n   */\n  public customInfo(cfg: any) {\n    this.customOption = cfg;\n    return this;\n  }\n\n  /**\n   * \u521D\u59CB\u5316 Geomtry \u5B9E\u4F8B\uFF1A\n   * \u521B\u5EFA [[Attribute]] and [[Scale]] \u5B9E\u4F8B\uFF0C\u8FDB\u884C\u6570\u636E\u5904\u7406\uFF0C\u5305\u62EC\u5206\u7EC4\u3001\u6570\u503C\u5316\u4EE5\u53CA\u6570\u636E\u8C03\u6574\u3002\n   */\n  public init(cfg: InitCfg = {}) {\n    this.setCfg(cfg);\n    this.initAttributes(); // \u521B\u5EFA\u56FE\u5F62\u5C5E\u6027\n\n    // \u6570\u636E\u52A0\u5DE5\uFF1A\u5206\u7EC4 -> \u6570\u5B57\u5316 -> adjust\n    this.processData(this.data);\n\n    // \u8C03\u6574 scale\n    this.adjustScale();\n  }\n\n  /**\n   * Geometry \u66F4\u65B0\u3002\n   * @param [cfg] \u66F4\u65B0\u7684\u914D\u7F6E\n   */\n  public update(cfg: InitCfg = {}) {\n    const { data, isDataChanged, isCoordinateChanged } = cfg;\n    const { attributeOption, lastAttributeOption } = this;\n\n    if (!isEqual(attributeOption, lastAttributeOption)) {\n      // \u6620\u5C04\u53D1\u751F\u6539\u53D8\uFF0C\u5219\u91CD\u65B0\u521B\u5EFA\u56FE\u5F62\u5C5E\u6027\n      this.init(cfg);\n    } else if (data && (isDataChanged || !isEqual(data, this.data))) {\n      // \u6570\u636E\u53D1\u751F\u53D8\u5316\n      this.setCfg(cfg);\n      this.initAttributes(); // \u521B\u5EFA\u56FE\u5F62\u5C5E\u6027\n      this.processData(data); // \u6570\u636E\u52A0\u5DE5\uFF1A\u5206\u7EC4 -> \u6570\u5B57\u5316 -> adjust\n    } else {\n      // \u6709\u53EF\u80FD coordinate \u53D8\u5316\n      this.setCfg(cfg);\n    }\n\n    // \u8C03\u6574 scale\n    this.adjustScale();\n    this.isCoordinateChanged = isCoordinateChanged;\n  }\n\n  /**\n   * \u5C06\u539F\u59CB\u6570\u636E\u6620\u5C04\u81F3\u56FE\u5F62\u7A7A\u95F4\uFF0C\u540C\u65F6\u521B\u5EFA\u56FE\u5F62\u5BF9\u8C61\u3002\n   */\n  public paint(isUpdate: boolean = false) {\n    if (this.animateOption) {\n      this.animateOption = deepMix({}, getDefaultAnimateCfg(this.type, this.coordinate), this.animateOption);\n    }\n\n    this.defaultSize = undefined;\n    this.elementsMap = {};\n    this.elements = [];\n    const offscreenGroup = this.getOffscreenGroup();\n    offscreenGroup.clear();\n\n    const beforeMappingData = this.beforeMappingData;\n    const dataArray = this.beforeMapping(beforeMappingData);\n\n    this.dataArray = new Array(dataArray.length);\n    for (let i = 0; i < dataArray.length; i++) {\n      const data = dataArray[i];\n      this.dataArray[i] = this.mapping(data);\n    }\n    this.updateElements(this.dataArray, isUpdate);\n    this.lastElementsMap = this.elementsMap;\n\n    if (this.canDoGroupAnimation(isUpdate)) {\n      // \u5982\u679C\u7528\u6237\u6CA1\u6709\u914D\u7F6E appear.animation\uFF0C\u5C31\u9ED8\u8BA4\u8D70\u6574\u4F53\u52A8\u753B\n      const container = this.container;\n      const type = this.type;\n      const coordinate = this.coordinate;\n      const animateCfg = get(this.animateOption, 'appear');\n      const yScale = this.getYScale();\n      const yMinPoint = coordinate.convert({\n        x: 0,\n        y: yScale.scale(this.getYMinValue()),\n      });\n      doGroupAppearAnimate(container, animateCfg, type, coordinate, yMinPoint);\n    }\n\n    // \u6DFB\u52A0 label\n    if (this.labelOption) {\n      const deferred = this.useDeferredLabel;\n      const callback = (() => this.renderLabels(flatten(this.dataArray) as unknown as MappingDatum[], isUpdate)).bind(this);\n      if (typeof deferred === 'number') {\n        // Use `requestIdleCallback` to render labels in idle time (like react fiber)\n        const timeout = (typeof deferred === 'number' && deferred !== Infinity) ? deferred : 0;\n        if (!window.requestIdleCallback) {\n          setTimeout(callback, timeout);\n        } else {\n          const options = timeout && timeout !== Infinity ? { timeout } : undefined;\n          window.requestIdleCallback(callback, options);\n        }\n      } else {\n        callback();\n      }\n    }\n\n    // \u7F13\u5B58\uFF0C\u7528\u4E8E\u66F4\u65B0\n    this.lastAttributeOption = {\n      ...this.attributeOption,\n    };\n\n    if (this.visible === false) {\n      // \u7528\u6237\u5728\u521D\u59CB\u5316\u7684\u65F6\u5019\u58F0\u660E visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \u6E05\u7A7A\u5F53\u524D Geometry\uFF0C\u914D\u7F6E\u9879\u4ECD\u4FDD\u7559\uFF0C\u4F46\u662F\u5185\u90E8\u521B\u5EFA\u7684\u5BF9\u8C61\u5168\u90E8\u6E05\u7A7A\u3002\n   * @override\n   */\n  public clear() {\n    const { container, geometryLabel, offscreenGroup } = this;\n    if (container) {\n      container.clear();\n    }\n\n    if (geometryLabel) {\n      geometryLabel.clear();\n    }\n\n    if (offscreenGroup) {\n      offscreenGroup.clear();\n    }\n\n    // \u5C5E\u6027\u6062\u590D\u81F3\u51FA\u5382\u72B6\u6001\n    this.scaleDefs = undefined;\n    this.attributes = {};\n    this.scales = {};\n    this.elementsMap = {};\n    this.lastElementsMap = {};\n    this.elements = [];\n    this.adjusts = {};\n    this.dataArray = null;\n    this.beforeMappingData = null;\n    this.lastAttributeOption = undefined;\n    this.defaultSize = undefined;\n    this.idFields = [];\n    this.groupScales = undefined;\n    this.hasSorted = false;\n    this.isCoordinateChanged = false;\n  }\n\n  /**\n   * \u9500\u6BC1 Geometry \u5B9E\u4F8B\u3002\n   */\n  public destroy() {\n    this.clear();\n    const container = this.container;\n    container.remove(true);\n\n    if (this.offscreenGroup) {\n      this.offscreenGroup.remove(true);\n      this.offscreenGroup = null;\n    }\n\n    if (this.geometryLabel) {\n      this.geometryLabel.destroy();\n      this.geometryLabel = null;\n    }\n    this.theme = undefined;\n    this.shapeFactory = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   * \u83B7\u53D6\u51B3\u5B9A\u5206\u7EC4\u7684\u56FE\u5F62\u5C5E\u6027\u5BF9\u5E94\u7684 scale \u5B9E\u4F8B\u3002\n   * @returns\n   */\n  public getGroupScales(): Scale[] {\n    return this.groupScales;\n  }\n\n  /**\n   * \u6839\u636E\u540D\u5B57\u83B7\u53D6\u56FE\u5F62\u5C5E\u6027\u5B9E\u4F8B\u3002\n   */\n  public getAttribute(name: string): Attribute {\n    return this.attributes[name];\n  }\n\n  /** \u83B7\u53D6 x \u8F74\u5BF9\u5E94\u7684 scale \u5B9E\u4F8B\u3002 */\n  public getXScale(): Scale {\n    return this.getAttribute('position').scales[0];\n  }\n\n  /** \u83B7\u53D6 y \u8F74\u5BF9\u5E94\u7684 scale \u5B9E\u4F8B\u3002 */\n  public getYScale(): Scale {\n    return this.getAttribute('position').scales[1];\n  }\n\n  /**\n   * \u83B7\u53D6\u51B3\u5B9A\u5206\u7EC4\u7684\u56FE\u5F62\u5C5E\u6027\u5B9E\u4F8B\u3002\n   */\n  public getGroupAttributes(): Attribute[] {\n    const rst = [];\n    each(this.attributes, (attr: Attribute) => {\n      if (GROUP_ATTRS.includes(attr.type)) {\n        rst.push(attr);\n      }\n    });\n    return rst;\n  }\n\n  /** \u83B7\u53D6\u56FE\u5F62\u5C5E\u6027\u9ED8\u8BA4\u7684\u6620\u5C04\u503C\u3002 */\n  public getDefaultValue(attrName: string) {\n    let value: any;\n    const attr = this.getAttribute(attrName);\n    if (attr && isEmpty(attr.scales)) {\n      // \u83B7\u53D6\u6620\u5C04\u81F3\u5E38\u91CF\u7684\u503C\n      value = attr.values[0];\n    }\n    return value;\n  }\n\n  /**\n   * \u83B7\u53D6\u8BE5\u6570\u636E\u53D1\u751F\u56FE\u5F62\u6620\u5C04\u540E\u5BF9\u5E94\u7684 Attribute \u56FE\u5F62\u7A7A\u95F4\u6570\u636E\u3002\n   * @param attr Attribute \u56FE\u5F62\u5C5E\u6027\u5B9E\u4F8B\u3002\n   * @param obj \u9700\u8981\u8FDB\u884C\u6620\u5C04\u7684\u539F\u59CB\u6570\u636E\u3002\n   * @returns\n   */\n  public getAttributeValues(attr: Attribute, obj: Datum) {\n    const params = [];\n    const scales = attr.scales;\n    for (let index = 0, length = scales.length; index < length; index++) {\n      const scale = scales[index];\n      const field = scale.field;\n      if (scale.isIdentity) {\n        params.push(scale.values);\n      } else {\n        params.push(obj[field]);\n      }\n    }\n\n    return attr.mapping(...params);\n  }\n\n  /**\n   * \u83B7\u53D6\u5BF9\u5E94\u7684 adjust \u5B9E\u4F8B\n   * @param adjustType\n   * @returns\n   */\n  public getAdjust(adjustType: string) {\n    return this.adjusts[adjustType];\n  }\n\n  /**\n   * \u83B7\u5F97 coordinate \u5B9E\u4F8B\n   * @returns\n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  public getData() {\n    return this.data;\n  }\n\n  /**\n   * \u83B7\u53D6 shape \u5BF9\u5E94\u7684 marker \u6837\u5F0F\u3002\n   * @param shapeName shape \u5177\u4F53\u540D\u5B57\n   * @param cfg marker \u4FE1\u606F\n   * @returns\n   */\n  public getShapeMarker(shapeName: string, cfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    const shapeFactory = this.getShapeFactory();\n    return shapeFactory.getMarker(shapeName, cfg);\n  }\n\n  /**\n   * \u6839\u636E\u4E00\u5B9A\u7684\u89C4\u5219\u67E5\u627E Geometry \u7684 Elements\u3002\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \u5B9A\u4E49\u67E5\u627E\u89C4\u5219\u7684\u56DE\u8C03\u51FD\u6570\u3002\n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.elements.filter((element) => condition(element));\n  }\n\n  /**\n   * \u83B7\u53D6 Geometry \u7684\u6240\u6709 Elements\u3002\n   *\n   * ```typescript\n   * getElements();\n   * ```\n   */\n  public getElements() {\n    return this.elements;\n  }\n\n  /**\n   * \u83B7\u53D6\u6570\u636E\u5BF9\u5E94\u7684\u552F\u4E00 id\u3002\n   * @param data Element \u5BF9\u5E94\u7684\u7ED8\u5236\u6570\u636E\n   * @returns\n   */\n  public getElementId(data: MappingDatum | MappingDatum[]) {\n    data = isArray(data) ? data[0] : data;\n    const originData = data[FIELD_ORIGIN];\n\n    // \u5982\u679C\u7528\u6237\u58F0\u660E\u4E86\u4F7F\u7528\u54EA\u4E9B\u5B57\u6BB5\u4F5C\u4E3A id \u503C\n    if (this.idFields.length) {\n      let elementId = originData[this.idFields[0]];\n      for (let index = 1; index < this.idFields.length; index++) {\n        elementId += '-' + originData[this.idFields[index]];\n      }\n\n      return elementId;\n    }\n\n    const type = this.type;\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const xField = xScale.field || 'x';\n    const yField = yScale.field || 'y';\n    const yVal = originData[yField];\n    let xVal;\n    if (xScale.type === 'identity') {\n      xVal = xScale.values[0];\n    } else {\n      xVal = originData[xField];\n    }\n\n    let id: string;\n    if (type === 'interval' || type === 'schema') {\n      id = `${xVal}`;\n    } else if (type === 'line' || type === 'area' || type === 'path') {\n      id = type;\n    } else {\n      id = `${xVal}-${yVal}`;\n    }\n\n    const groupScales = this.groupScales;\n\n    for (let index = 0, length = groupScales.length; index < length; index++) {\n      const groupScale = groupScales[index];\n      const field = groupScale.field;\n      id = `${id}-${originData[field]}`;\n    }\n\n    // \u7528\u6237\u5728\u8FDB\u884C dodge \u7C7B\u578B\u7684 adjust \u8C03\u6574\u7684\u65F6\u5019\u8BBE\u7F6E\u4E86 dodgeBy \u5C5E\u6027\n    const dodgeAdjust = this.getAdjust('dodge');\n    if (dodgeAdjust) {\n      const dodgeBy = dodgeAdjust.dodgeBy;\n      if (dodgeBy) {\n        id = `${id}-${originData[dodgeBy]}`;\n      }\n    }\n\n    if (this.getAdjust('jitter')) {\n      id = `${id}-${data.x}-${data.y}`;\n    }\n\n    return id;\n  }\n\n  /**\n   * \u83B7\u53D6\u6240\u6709\u9700\u8981\u521B\u5EFA scale \u7684\u5B57\u6BB5\u540D\u79F0\u3002\n   */\n  public getScaleFields(): string[] {\n    const fields = [];\n    const tmpMap = new Map();\n    const { attributeOption, labelOption, tooltipOption } = this;\n    // \u83B7\u53D6\u56FE\u5F62\u5C5E\u6027\u4E0A\u7684 fields\n    for (const attributeType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attributeType)) {\n        const eachOpt = attributeOption[attributeType];\n        if (eachOpt.fields) {\n          uniq(eachOpt.fields, fields, tmpMap);\n        } else if (eachOpt.values) {\n          // \u8003\u8651 size(10), shape('circle') \u7B49\u573A\u666F\n          uniq(eachOpt.values, fields, tmpMap);\n        }\n      }\n    }\n    // \u83B7\u53D6 label \u4E0A\u7684\u5B57\u6BB5\n    if (labelOption && labelOption.fields) {\n      uniq(labelOption.fields, fields, tmpMap);\n    }\n\n    // \u83B7\u53D6 tooltip \u4E0A\u7684\u5B57\u6BB5\n    if (isObject(tooltipOption) && tooltipOption.fields) {\n      uniq(tooltipOption.fields, fields, tmpMap);\n    }\n\n    return fields;\n  }\n\n  /**\n   * \u663E\u793A\u6216\u8005\u9690\u85CF geometry\u3002\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n    const elements = this.elements;\n    for (let index = 0, length = elements.length; index < length; index++) {\n      const element = elements[index];\n      element.changeVisible(visible);\n    }\n    if (visible) {\n      if (this.container) {\n        this.container.show();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.show();\n      }\n    } else {\n      if (this.container) {\n        this.container.hide();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.hide();\n      }\n    }\n  }\n\n  /**\n   * \u83B7\u5F97\u6240\u6709\u7684\u5B57\u6BB5\n   */\n  public getFields() {\n    const uniqMap = new Map<string, boolean>();\n    const fields = [];\n\n    Object.values(this.attributeOption).forEach((cfg) => {\n      const fs = cfg?.fields || [];\n      fs.forEach((f) => {\n        if (!uniqMap.has(f)) {\n          fields.push(f);\n        }\n        uniqMap.set(f, true);\n      });\n    }, []);\n\n    return fields;\n  }\n\n  /**\n   * \u83B7\u53D6\u5F53\u524D\u914D\u7F6E\u4E2D\u7684\u6240\u6709\u5206\u7EC4 & \u5206\u7C7B\u7684\u5B57\u6BB5\u3002\n   * @return fields string[]\n   */\n  public getGroupFields(): string[] {\n    const groupFields = [];\n    const tmpMap = new Map(); // \u7528\u4E8E\u53BB\u91CD\u8FC7\u6EE4\n    for (let index = 0, length = GROUP_ATTRS.length; index < length; index++) {\n      const attributeName = GROUP_ATTRS[index];\n      const cfg = this.attributeOption[attributeName];\n      if (cfg && cfg.fields) {\n        uniq(cfg.fields, groupFields, tmpMap);\n      }\n    }\n\n    return groupFields;\n  }\n\n  /**\n   * \u83B7\u5F97\u56FE\u5F62\u7684 x y \u5B57\u6BB5\u3002\n   */\n  public getXYFields() {\n    const [x, y] = this.attributeOption.position.fields;\n    return [x, y];\n  }\n\n  /**\n   * x \u5B57\u6BB5\n   * @returns\n   */\n  public getXField(): string {\n    return get(this.getXYFields(), [0]);\n  }\n\n  /**\n   * y \u5B57\u6BB5\n   * @returns\n   */\n  public getYField(): string {\n    return get(this.getXYFields(), [1]);\n  }\n\n  /**\n   * \u83B7\u53D6\u8BE5 Geometry \u4E0B\u6240\u6709\u751F\u6210\u7684 shapes\u3002\n   * @returns shapes\n   */\n  public getShapes(): (IShape | IGroup)[] {\n    return this.elements.map((element: Element) => element.shape);\n  }\n\n  /**\n   * \u83B7\u53D6\u865A\u62DF Group\u3002\n   * @returns\n   */\n  public getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \u83B7\u53D6\u5206\u7EC4\u7684\u6784\u9020\u51FD\u6570\n      this.offscreenGroup = new GroupCtor({});\n    }\n    return this.offscreenGroup;\n  }\n\n  // \u5BF9\u6570\u636E\u8FDB\u884C\u6392\u5E8F\n  public sort(mappingArray: Data[]) {\n    if (!this.hasSorted) {\n      // \u672A\u53D1\u751F\u8FC7\u6392\u5E8F\n      const xScale = this.getXScale();\n      const xField = xScale.field;\n      for (let index = 0; index < mappingArray.length; index++) {\n        const itemArr = mappingArray[index];\n        itemArr.sort((obj1: Datum, obj2: Datum) => {\n          return xScale.translate(obj1[FIELD_ORIGIN][xField]) - xScale.translate(obj2[FIELD_ORIGIN][xField]);\n        });\n      }\n    }\n\n    this.hasSorted = true;\n  }\n\n  /**\n   * \u8C03\u6574\u5EA6\u91CF\u8303\u56F4\u3002\u4E3B\u8981\u9488\u5BF9\u53D1\u751F\u5C42\u53E0\u4EE5\u53CA\u4E00\u4E9B\u7279\u6B8A\u9700\u6C42\u7684 Geometry\uFF0C\u6BD4\u5982 Interval \u4E0B\u7684\u67F1\u72B6\u56FE Y \u8F74\u9ED8\u8BA4\u4ECE 0 \u5F00\u59CB\u3002\n   */\n  protected adjustScale() {\n    const yScale = this.getYScale();\n    // \u5982\u679C\u6570\u636E\u53D1\u751F\u8FC7 stack adjust\uFF0C\u9700\u8981\u8C03\u6574\u4E0B yScale \u7684\u6570\u636E\u8303\u56F4\n    if (yScale && this.getAdjust('stack')) {\n      this.updateStackRange(yScale, this.beforeMappingData);\n    }\n  }\n\n  /**\n   * \u83B7\u53D6\u5F53\u524D Geometry \u5BF9\u5E94\u7684 Shape \u5DE5\u5382\u5B9E\u4F8B\u3002\n   */\n  protected getShapeFactory() {\n    const shapeType = this.shapeType;\n    if (!getShapeFactory(shapeType)) {\n      return;\n    }\n    if (!this.shapeFactory) {\n      this.shapeFactory = clone(getShapeFactory(shapeType)); // \u9632\u6B62\u591A\u4E2A view \u5171\u4EAB\u4E00\u4E2A shapeFactory \u5B9E\u4F8B\uFF0C\u5BFC\u81F4 coordinate \u88AB\u7BE1\u6539\n    }\n    // \u56E0\u4E3A\u8FD9\u91CC\u7F13\u5B58\u4E86 shapeFactory\uFF0C\u4F46\u662F\u5916\u90E8\u53EF\u80FD\u4F1A\u53D8\u66F4 coordinate\uFF0C\u5BFC\u81F4\u65E0\u6CD5\u91CD\u65B0\u8BBE\u7F6E\u5230 shapeFactory \u4E2D\n    this.shapeFactory.coordinate = this.coordinate;\n    // theme \u539F\u56E0\u540C\u4E0A\n    this.shapeFactory.theme = this.theme.geometries[shapeType] || {};\n\n    return this.shapeFactory;\n  }\n\n  /**\n   * \u83B7\u53D6\u6BCF\u4E2A Shape \u5BF9\u5E94\u7684\u5173\u952E\u70B9\u6570\u636E\u3002\n   * @param obj \u7ECF\u8FC7\u5206\u7EC4 -> \u6570\u5B57\u5316 -> adjust \u8C03\u6574\u540E\u7684\u6570\u636E\u8BB0\u5F55\n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum): S {\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const x = this.normalizeValues(obj[xScale.field], xScale);\n    let y; // \u5B58\u5728\u6CA1\u6709 y \u7684\u60C5\u51B5\n\n    if (yScale) {\n      y = this.normalizeValues(obj[yScale.field], yScale);\n    } else {\n      y = obj.y ? obj.y : 0.1;\n    }\n\n    return {\n      x,\n      y,\n      y0: yScale ? yScale.scale(this.getYMinValue()) : undefined,\n    } as S;\n  }\n\n  /**\n   * \u521B\u5EFA Element \u5B9E\u4F8B\u3002\n   * @param mappingDatum Element \u5BF9\u5E94\u7684\u7ED8\u5236\u6570\u636E\n   * @param [isUpdate] \u662F\u5426\u5904\u4E8E\u66F4\u65B0\u9636\u6BB5\n   * @returns element \u8FD4\u56DE\u521B\u5EFA\u7684 Element \u5B9E\u4F8B\n   */\n  protected createElement(mappingDatum: MappingDatum, index: number, isUpdate: boolean = false): Element {\n    const { container } = this;\n\n    const shapeCfg = this.getDrawCfg(mappingDatum); // \u83B7\u53D6\u7ED8\u5236\u56FE\u5F62\u7684\u914D\u7F6E\u4FE1\u606F\n    const shapeFactory = this.getShapeFactory();\n\n    const element = new Element({\n      shapeFactory,\n      container,\n      offscreenGroup: this.getOffscreenGroup(),\n      elementIndex: index,\n    });\n    element.animate = this.animateOption;\n    element.geometry = this;\n    element.draw(shapeCfg, isUpdate); // \u7ED8\u5236\n\n    return element;\n  }\n\n  /**\n   * \u83B7\u53D6\u6BCF\u6761\u6570\u636E\u5BF9\u5E94\u7684\u56FE\u5F62\u7ED8\u5236\u6570\u636E\u3002\n   * @param mappingDatum \u6620\u5C04\u540E\u7684\u6570\u636E\n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const originData = mappingDatum[FIELD_ORIGIN]; // \u539F\u59CB\u6570\u636E\n    const cfg: ShapeInfo = {\n      mappingData: mappingDatum, // \u6620\u5C04\u540E\u7684\u6570\u636E\n      data: originData, // \u539F\u59CB\u6570\u636E\n      x: mappingDatum.x,\n      y: mappingDatum.y,\n      color: mappingDatum.color,\n      size: mappingDatum.size,\n      isInCircle: this.coordinate.isPolar,\n      customInfo: this.customOption,\n    };\n\n    let shapeName = mappingDatum.shape;\n    if (!shapeName && this.getShapeFactory()) {\n      shapeName = this.getShapeFactory().defaultShapeType;\n    }\n    cfg.shape = shapeName;\n    // \u83B7\u53D6\u9ED8\u8BA4\u6837\u5F0F\n    const theme = this.theme.geometries[this.shapeType];\n    cfg.defaultStyle = get(theme, [shapeName, 'default'], {}).style;\n    if (!cfg.defaultStyle && this.getShapeFactory()) {\n      cfg.defaultStyle = this.getShapeFactory().getDefaultStyle(theme);\n    }\n\n    const styleOption = this.styleOption;\n    if (styleOption) {\n      cfg.style = this.getStyleCfg(styleOption, originData);\n    }\n    if (this.generatePoints) {\n      cfg.points = mappingDatum.points;\n      cfg.nextPoints = mappingDatum.nextPoints;\n    }\n\n    return cfg;\n  }\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false): void {\n    const keyDatum = new Map<string, MappingDatum>();\n    const keys: string[] = [];\n\n    // \u7528\u6765\u4FDD\u6301 diff \u5143\u7D20\u4E4B\u540E added, updated \u7684\u76F8\u5BF9\u987A\u5E8F\n    const keyIndex = new Map<string, number>();\n    let index = 0;\n\n    // \u83B7\u5F97\u66F4\u65B0\u6570\u636E\u6240\u6709\u7684 keys\n    // \u5C06\u66F4\u65B0\u7684\u6570\u636E\u7528 key \u7D22\u5F15\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      for (let j = 0; j < mappingData.length; j++) {\n        const mappingDatum = mappingData[j];\n        const key = this.getElementId(mappingDatum);\n        const finalKey = keyDatum.has(key) ? `${key}-${i}-${j}` : key;\n        keys.push(finalKey);\n        keyDatum.set(finalKey, mappingDatum);\n        keyIndex.set(finalKey, index);\n        index++;\n      }\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    // \u65B0\u5EFA element\n    for (const key of added) {\n      const mappingDatum = keyDatum.get(key);\n      const i = keyIndex.get(key);\n      const element = this.createElement(mappingDatum, i, isUpdate);\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    // \u66F4\u65B0 element\n    for (const key of updated) {\n      const element = this.lastElementsMap[key];\n      const mappingDatum = keyDatum.get(key);\n      const currentShapeCfg = this.getDrawCfg(mappingDatum);\n      const preShapeCfg = element.getModel();\n      const i = keyIndex.get(key);\n      if (this.isCoordinateChanged || isModelChange(currentShapeCfg, preShapeCfg)) {\n        element.animate = this.animateOption;\n        // \u901A\u8FC7\u7ED8\u5236\u6570\u636E\u7684\u53D8\u66F4\u6765\u5224\u65AD\u662F\u5426\u9700\u8981\u66F4\u65B0\uFF0C\u56E0\u4E3A\u7528\u6237\u6709\u53EF\u80FD\u4F1A\u4FEE\u6539\u56FE\u5F62\u5C5E\u6027\u6620\u5C04\n        element.update(currentShapeCfg); // \u66F4\u65B0\u5BF9\u5E94\u7684 element\n      }\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    // \u5168\u90E8 setZIndex \u4E4B\u540E\uFF0C\u518D\u6267\u884C sort\n    if (this.container) {\n      this.container.sort();\n    }\n\n    // \u9500\u6BC1\u88AB\u5220\u9664\u7684 elements\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // \u66F4\u65B0\u52A8\u753B\u914D\u7F6E\uFF0C\u7528\u6237\u6709\u53EF\u80FD\u5728\u66F4\u65B0\u4E4B\u524D\u6709\u5BF9\u52A8\u753B\u8FDB\u884C\u914D\u7F6E\u64CD\u4F5C\n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   * \u83B7\u53D6\u6E32\u67D3\u7684 label \u7C7B\u578B\u3002\n   */\n  protected getLabelType(): string {\n    const { labelOption, coordinate, type } = this;\n    const { type: coordinateType, isTransposed } = coordinate;\n    let labelType = get(labelOption, ['cfg', 'type']);\n    if (!labelType) {\n      // \u7528\u6237\u672A\u5B9A\u4E49\uFF0C\u5219\u8FDB\u884C\u9ED8\u8BA4\u7684\u903B\u8F91\n      if (coordinateType === 'polar') {\n        // \u6781\u5750\u6807\u4E0B\u4F7F\u7528\u901A\u7528\u7684\u6781\u5750\u6807\u6587\u672C\uFF0C\u8F6C\u7F6E\u5219\u4F7F\u7528\u997C\u56FE\n        labelType = isTransposed ? 'pie' : 'polar';\n      } else if (coordinateType === 'theta') {\n        // theta \u5750\u6807\u7CFB\u4E0B\u4F7F\u7528\u997C\u56FE\u6587\u672C\n        labelType = 'pie';\n      } else if (type === 'interval' || type === 'polygon') {\n        labelType = 'interval';\n      } else {\n        labelType = 'base';\n      }\n    }\n\n    return labelType;\n  }\n\n  /**\n   * \u83B7\u53D6 Y \u8F74\u4E0A\u7684\u6700\u5C0F\u503C\u3002\n   */\n  protected getYMinValue(): number {\n    const yScale = this.getYScale();\n    const { min, max } = yScale;\n    let value: number;\n\n    if (min >= 0) {\n      value = min;\n    } else if (max <= 0) {\n      // \u5F53\u503C\u5168\u4F4D\u4E8E\u8D1F\u533A\u95F4\u65F6\uFF0C\u9700\u8981\u4FDD\u8BC1 ymin \u5728\u533A\u57DF\u5185\uFF0C\u4E0D\u53EF\u4E3A 0\n      value = max;\n    } else {\n      value = 0;\n    }\n    return value;\n  }\n\n  // \u521B\u5EFA\u56FE\u5F62\u5C5E\u6027\u76F8\u5173\u7684\u914D\u7F6E\u9879\n  protected createAttrOption(attrName: string, field: AttributeOption | string | number, cfg?) {\n    if (isNil(field) || isObject(field)) {\n      if (isObject(field) && isEqual(Object.keys(field), ['values'])) {\n        // shape({ values: [ 'funnel' ] })\n        set(this.attributeOption, attrName, {\n          fields: field.values,\n        });\n      } else {\n        set(this.attributeOption, attrName, field);\n      }\n    } else {\n      const attrCfg: AttributeOption = {};\n      if (isNumber(field)) {\n        // size(3)\n        attrCfg.values = [field];\n      } else {\n        attrCfg.fields = parseFields(field);\n      }\n\n      if (cfg) {\n        if (isFunction(cfg)) {\n          attrCfg.callback = cfg;\n        } else {\n          attrCfg.values = cfg;\n        }\n      }\n\n      set(this.attributeOption, attrName, attrCfg);\n    }\n  }\n\n  protected initAttributes() {\n    const { attributes, attributeOption, theme, shapeType } = this;\n    this.groupScales = [];\n    const tmpMap = {};\n\n    // \u904D\u5386\u6BCF\u4E00\u4E2A attrOption\uFF0C\u5404\u81EA\u521B\u5EFA Attribute \u5B9E\u4F8B\n    for (const attrType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attrType)) {\n        const option: AttributeOption = attributeOption[attrType];\n        if (!option) {\n          return;\n        }\n        const attrCfg: AttributeInstanceCfg = {\n          ...option,\n        };\n        const { callback, values, fields = [] } = attrCfg;\n\n        // \u83B7\u53D6\u6BCF\u4E00\u4E2A\u5B57\u6BB5\u5BF9\u5E94\u7684 scale\n        const scales = fields.map((field) => {\n          const scale = this.scales[field];\n          if (!tmpMap[field] && GROUP_ATTRS.includes(attrType)) {\n            const inferedScaleType = inferScaleType(scale, get(this.scaleDefs, field), attrType, this.type);\n            if (inferedScaleType === 'cat') {\n              this.groupScales.push(scale);\n              tmpMap[field] = true;\n            }\n          }\n          return scale;\n        });\n\n        attrCfg.scales = scales;\n\n        if (attrType !== 'position' && scales.length === 1 && scales[0].type === 'identity') {\n          // \u7528\u6237\u5728\u56FE\u5F62\u901A\u9053\u4E0A\u58F0\u660E\u4E86\u5E38\u91CF\u5B57\u6BB5 color('red'), size(5)\n          attrCfg.values = scales[0].values;\n        } else if (!callback && !values) {\n          // \u7528\u6237\u6CA1\u6709\u6307\u5B9A\u4EFB\u4F55\u89C4\u5219\uFF0C\u5219\u4F7F\u7528\u9ED8\u8BA4\u7684\u6620\u5C04\u89C4\u5219\n          if (attrType === 'size') {\n            attrCfg.values = theme.sizes;\n          } else if (attrType === 'shape') {\n            attrCfg.values = theme.shapes[shapeType] || [];\n          } else if (attrType === 'color') {\n            if (scales.length) {\n              // \u6839\u636E\u6570\u503C\u4E2A\u6570\u4F7F\u7528\u5BF9\u5E94\u7684\u8272\u677F\n              attrCfg.values = scales[0].values.length <= 10 ? theme.colors10 : theme.colors20;\n            } else {\n              attrCfg.values = theme.colors10;\n            }\n          }\n        }\n        const AttributeCtor = getAttributeClass(attrType);\n        attributes[attrType] = new AttributeCtor(attrCfg);\n      }\n    }\n  }\n\n  // \u5904\u7406\u6570\u636E\uFF1A\u5206\u7EC4 -> \u6570\u5B57\u5316 -> adjust \u8C03\u6574\n  private processData(data: Data) {\n    this.hasSorted = false;\n    const { scales } = this.getAttribute('position');\n    const categoryScales = scales.filter((scale: Scale) => scale.isCategory);\n\n    const groupedArray = this.groupData(data); // \u6570\u636E\u5206\u7EC4\n    const beforeAdjust = [];\n    for (let i = 0, len = groupedArray.length; i < len; i++) {\n      const subData = groupedArray[i];\n      const arr = [];\n      for (let j = 0, subLen = subData.length; j < subLen; j++) {\n        const originData = subData[j];\n        const item = {};\n        // tslint:disable-next-line: forin\n        for (const k in originData) {\n          item[k] = originData[k];\n        }\n        item[FIELD_ORIGIN] = originData;\n\n        // \u5C06\u5206\u7C7B\u6570\u636E\u7FFB\u8BD1\u6210\u6570\u636E, \u4EC5\u5BF9\u4F4D\u7F6E\u76F8\u5173\u7684\u5EA6\u91CF\u8FDB\u884C\u6570\u5B57\u5316\u5904\u7406\n        for (const scale of categoryScales) {\n          const field = scale.field;\n          item[field] = scale.translate(item[field]);\n        }\n        arr.push(item);\n      }\n      beforeAdjust.push(arr);\n    }\n\n    const dataArray = this.adjustData(beforeAdjust); // \u8FDB\u884C adjust \u6570\u636E\u8C03\u6574\n    this.beforeMappingData = dataArray;\n\n    return dataArray;\n  }\n\n  // \u8C03\u6574\u6570\u636E\n  private adjustData(dataArray: Data[]): Data[] {\n    const adjustOption = this.adjustOption;\n    const { intervalPadding, dodgePadding, theme } = this;\n    // \u517C\u5BB9theme\u914D\u7F6E\n    const maxColumnWidth = this.maxColumnWidth || theme.maxColumnWidth;\n    const minColumnWidth = this.minColumnWidth || theme.minColumnWidth;\n    const columnWidthRatio = this.columnWidthRatio || theme.columnWidthRatio;\n    let result = dataArray;\n\n    if (adjustOption) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xField = xScale.field;\n      const yField = yScale ? yScale.field : null;\n      const xDimensionLength = getXDimensionLength(this.coordinate);\n      const groupNum = xScale.values.length;\n      // \u4F20\u5165size\u8BA1\u7B97\u76F8\u5173\u53C2\u6570\uFF0C\u9ED8\u8BA4\u5BBD\u5EA6\u3001\u6700\u5927\u6700\u5C0F\u5BBD\u5EA6\u7EA6\u675F\n      const sizeAttr = this.getAttribute('size');\n      let defaultSize;\n      if (sizeAttr) {\n        defaultSize = sizeAttr.values[0];\n      }\n      for (let i = 0, len = adjustOption.length; i < len; i++) {\n        const adjust = adjustOption[i];\n        const adjustCfg: AdjustInstanceCfg = {\n          xField,\n          yField,\n          intervalPadding,\n          dodgePadding,\n          xDimensionLength,\n          groupNum,\n          defaultSize,\n          maxColumnWidth,\n          minColumnWidth,\n          columnWidthRatio,\n          ...adjust,\n        };\n        const type = adjust.type;\n        if (type === 'dodge') {\n          const adjustNames = [];\n          if (xScale.isCategory || xScale.type === 'identity') {\n            adjustNames.push('x');\n          } else if (!yScale) {\n            adjustNames.push('y');\n          } else {\n            throw new Error('dodge is not support linear attribute, please use category attribute!');\n          }\n          adjustCfg.adjustNames = adjustNames;\n          // \u6BCF\u4E2A\u5206\u7EC4\u5185\u6BCF\u6761\u67F1\u5B50\u7684\u5BBD\u5EA6\u5360\u6BD4\uFF0C\u7528\u6237\u4E0D\u53EF\u6307\u5B9A\uFF0C\u7528\u6237\u9700\u8981\u901A\u8FC7 columnWidthRatio \u6307\u5B9A\n          // \u517C\u5BB9theme\u914D\u7F6E\n          adjustCfg.dodgeRatio = columnWidthRatio;\n        } else if (type === 'stack') {\n          const coordinate = this.coordinate;\n          if (!yScale) {\n            // \u4E00\u7EF4\u7684\u60C5\u51B5\u4E0B\u83B7\u53D6\u9AD8\u5EA6\u548C\u9ED8\u8BA4size\n            adjustCfg.height = coordinate.getHeight();\n            const size = this.getDefaultValue('size') || 3;\n            adjustCfg.size = size;\n          }\n          // \u4E0D\u8FDB\u884C transpose \u65F6\uFF0C\u7528\u6237\u53C8\u6CA1\u6709\u8BBE\u7F6E\u8FD9\u4E2A\u53C2\u6570\u65F6\uFF0C\u9ED8\u8BA4\u4ECE\u4E0A\u5411\u4E0B\n          if (!coordinate.isTransposed && isNil(adjustCfg.reverseOrder)) {\n            adjustCfg.reverseOrder = true;\n          }\n        }\n        const adjustCtor = getAdjustClass(type);\n        adjustCfg.dimValuesMap = {};\n        //\u751F\u6210dimValuesMap\n        if (xScale && xScale.values) {\n          adjustCfg.dimValuesMap[xScale.field] = xScale.values.map((v) => xScale.translate(v));\n        }\n        const adjustInstance = new adjustCtor(adjustCfg);\n\n        result = adjustInstance.process(result);\n\n        this.adjusts[type] = adjustInstance;\n      }\n    }\n\n    return result;\n  }\n\n  // \u5BF9\u6570\u636E\u8FDB\u884C\u5206\u7EC4\n  private groupData(data: Data): Data[] {\n    const groupScales = this.getGroupScales();\n    const scaleDefs = this.scaleDefs;\n    const appendConditions = {};\n    const groupFields = [];\n    for (let index = 0; index < groupScales.length; index++) {\n      const scale = groupScales[index];\n      const field = scale.field;\n      groupFields.push(field);\n      if (get(scaleDefs, [field, 'values'])) {\n        // \u7528\u6237\u901A\u8FC7 view.scale() \u63A5\u53E3\u6307\u5B9A\u4E86 values \u5C5E\u6027\n        appendConditions[field] = scaleDefs[field].values;\n      }\n    }\n\n    return group(data, groupFields, appendConditions);\n  }\n\n  // \u66F4\u65B0\u53D1\u751F\u5C42\u53E0\u540E\u7684\u6570\u636E\u5BF9\u5E94\u7684\u5EA6\u91CF\u8303\u56F4\n  private updateStackRange(scale: Scale, dataArray: Data[]) {\n    const mergeArray = flatten(dataArray);\n    const field = scale.field;\n    let min = scale.min;\n    let max = scale.max;\n    for (let index = 0; index < mergeArray.length; index++) {\n      const obj = mergeArray[index];\n      const tmpMin = Math.min.apply(null, obj[field]);\n      const tmpMax = Math.max.apply(null, obj[field]);\n      if (tmpMin < min) {\n        min = tmpMin;\n      }\n      if (tmpMax > max) {\n        max = tmpMax;\n      }\n    }\n    const scaleDefs = this.scaleDefs;\n    const cfg: LooseObject = {};\n    if (min < scale.min && !get(scaleDefs, [field, 'min'])) {\n      // \u7528\u6237\u5982\u679C\u5728\u5217\u5B9A\u4E49\u4E2D\u5B9A\u4E49\u4E86 min\uFF0C\u5219\u4EE5\u7528\u6237\u5B9A\u4E49\u7684\u4E3A\u51C6\n      cfg.min = min;\n    }\n    if (max > scale.max && !get(scaleDefs, [field, 'max'])) {\n      // \u7528\u6237\u5982\u679C\u5728\u5217\u5B9A\u4E49\u4E2D\u5B9A\u4E49\u4E86 max\n      cfg.max = max;\n    }\n\n    scale.change(cfg);\n  }\n\n  // \u5C06\u6570\u636E\u6620\u5C04\u81F3\u56FE\u5F62\u7A7A\u95F4\u524D\u7684\u64CD\u4F5C\uFF1A\u6392\u5E8F\u4EE5\u53CA\u5173\u952E\u70B9\u7684\u751F\u6210\n  private beforeMapping(beforeMappingData: Data[]) {\n    // \u5F53\u521D\u52A0 clone \u662F\u56E0\u4E3A points \u7684\u5F15\u7528\u5173\u7CFB\uFF0C\u5BFC\u81F4\u66F4\u65B0\u5931\u8D25\uFF0C\u53EF\u662F\u73B0\u5728\u8C8C\u4F3C\u590D\u73B0\u4E0D\u51FA\u6765\u4E86\uFF0C\u6240\u4EE5\u6682\u65F6\u4E0D\u8FDB\u884C clone\n    // const source = clone(beforeMappingData);\n    const source = beforeMappingData;\n    if (this.sortable) {\n      this.sort(source);\n    }\n    if (this.generatePoints) {\n      // \u9700\u8981\u751F\u6210\u5173\u952E\u70B9\n      for (let index = 0, length = source.length; index < length; index++) {\n        const currentData = source[index];\n        this.generateShapePoints(currentData);\n        const nextData = source[index + 1];\n        if (nextData) {\n          this.generateShapePoints(nextData);\n          currentData[0].nextPoints = nextData[0].points;\n        }\n      }\n    }\n\n    return source;\n  }\n\n  // \u751F\u6210 shape \u7684\u5173\u952E\u70B9\n  private generateShapePoints(data: Data) {\n    const shapeFactory = this.getShapeFactory();\n    const shapeAttr = this.getAttribute('shape');\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const cfg = this.createShapePointsCfg(obj);\n      const shape = shapeAttr ? this.getAttributeValues(shapeAttr, obj) : null;\n      const points = shapeFactory.getShapePoints(shape, cfg);\n      obj.points = points;\n    }\n  }\n\n  // \u5C06\u6570\u636E\u5F52\u4E00\u5316\n  private normalizeValues(values, scale) {\n    let rst = [];\n    if (isArray(values)) {\n      for (let index = 0; index < values.length; index++) {\n        const value = values[index];\n        rst.push(scale.scale(value));\n      }\n    } else {\n      rst = scale.scale(values);\n    }\n    return rst;\n  }\n\n  // \u5C06\u6570\u636E\u6620\u5C04\u81F3\u56FE\u5F62\u7A7A\u95F4\n  private mapping(data: Data): MappingDatum[] {\n    const attributes = this.attributes;\n    const mappingData = [];\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const newRecord: MappingDatum = {\n        _origin: record[FIELD_ORIGIN],\n        points: record.points,\n        nextPoints: record.nextPoints,\n      };\n      for (const k in attributes) {\n        if (attributes.hasOwnProperty(k)) {\n          const attr = attributes[k];\n          const names = attr.names;\n          const values = this.getAttributeValues(attr, record);\n          if (names.length > 1) {\n            // position \u4E4B\u7C7B\u7684\u751F\u6210\u591A\u4E2A\u5B57\u6BB5\u7684\u5C5E\u6027\n            for (let j = 0; j < values.length; j += 1) {\n              const val = values[j];\n              const name = names[j];\n              newRecord[name] = isArray(val) && val.length === 1 ? val[0] : val; // \u53EA\u6709\u4E00\u4E2A\u503C\u65F6\u8FD4\u56DE\u7B2C\u4E00\u4E2A\u5C5E\u6027\u503C\n            }\n          } else {\n            // values.length === 1 \u7684\u5224\u65AD\u662F\u4EE5\u4E0B\u60C5\u51B5\uFF0C\u83B7\u53D6\u7528\u6237\u8BBE\u7F6E\u7684\u56FE\u5F62\u5C5E\u6027\u503C\n            // shape('a', ['dot', 'dash']), color('a', ['red', 'yellow'])\n            newRecord[names[0]] = values.length === 1 ? values[0] : values;\n          }\n        }\n      }\n\n      this.convertPoint(newRecord); // \u5C06 x\u3001y \u8F6C\u6362\u6210\u753B\u5E03\u5750\u6807\n      mappingData.push(newRecord);\n    }\n\n    return mappingData;\n  }\n\n  // \u5C06\u5F52\u4E00\u5316\u7684\u5750\u6807\u503C\u8F6C\u6362\u6210\u753B\u5E03\u5750\u6807\n  private convertPoint(mappingRecord: MappingDatum) {\n    const { x, y } = mappingRecord;\n\n    let rstX;\n    let rstY;\n    let obj;\n    const coordinate = this.coordinate;\n    if (isArray(x) && isArray(y)) {\n      rstX = [];\n      rstY = [];\n      for (let i = 0, j = 0, xLen = x.length, yLen = y.length; i < xLen && j < yLen; i += 1, j += 1) {\n        obj = coordinate.convert({\n          x: x[i],\n          y: y[j],\n        });\n        rstX.push(obj.x);\n        rstY.push(obj.y);\n      }\n    } else if (isArray(y)) {\n      rstY = [];\n      for (let index = 0; index < y.length; index++) {\n        const yVal = y[index];\n        obj = coordinate.convert({\n          x: x as number,\n          y: yVal,\n        });\n        if (rstX && rstX !== obj.x) {\n          if (!isArray(rstX)) {\n            rstX = [rstX];\n          }\n          rstX.push(obj.x);\n        } else {\n          rstX = obj.x;\n        }\n        rstY.push(obj.y);\n      }\n    } else if (isArray(x)) {\n      rstX = [];\n      for (let index = 0; index < x.length; index++) {\n        const xVal = x[index];\n        obj = coordinate.convert({\n          x: xVal,\n          y,\n        });\n        if (rstY && rstY !== obj.y) {\n          if (!isArray(rstY)) {\n            rstY = [rstY];\n          }\n          rstY.push(obj.y);\n        } else {\n          rstY = obj.y;\n        }\n        rstX.push(obj.x);\n      }\n    } else {\n      const point = coordinate.convert({\n        x,\n        y,\n      });\n      rstX = point.x;\n      rstY = point.y;\n    }\n    mappingRecord.x = rstX;\n    mappingRecord.y = rstY;\n  }\n\n  // \u83B7\u53D6 style \u914D\u7F6E\n  private getStyleCfg(styleOption: StyleOption, originData: Datum) {\n    const { fields = [], callback, cfg } = styleOption;\n    if (cfg) {\n      // \u7528\u6237\u76F4\u63A5\u914D\u7F6E\u6837\u5F0F\u5C5E\u6027\n      return cfg;\n    }\n\n    const params = fields.map((field) => {\n      return originData[field];\n    });\n\n    return callback(...params);\n  }\n\n  private setCfg(cfg: InitCfg) {\n    const { coordinate, data, theme, scaleDefs } = cfg;\n    if (coordinate) {\n      this.coordinate = coordinate;\n    }\n    if (data) {\n      this.data = data;\n    }\n    if (scaleDefs) {\n      this.scaleDefs = scaleDefs;\n      this.idFields = [];\n      each(scaleDefs, (scaleDef, field) => {\n        if (scaleDef && scaleDef.key) {\n          this.idFields.push(field);\n        }\n      });\n    }\n    if (theme) {\n      this.theme = this.userTheme ? deepMix({}, theme, this.userTheme) : theme; // \u652F\u6301 geometry \u5C42\u7EA7\u7684\u4E3B\u9898\u8BBE\u7F6E\n    }\n  }\n\n  private async renderLabels(mappingArray: MappingDatum[], isUpdate: boolean = false) {\n    let geometryLabel = this.geometryLabel;\n\n    this.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_RENDER_LABEL);\n\n    if (!geometryLabel) {\n      // \u521D\u6B21\u521B\u5EFA\n      const labelType = this.getLabelType();\n      const GeometryLabelsCtor = getGeometryLabel(labelType);\n      geometryLabel = new GeometryLabelsCtor(this);\n      this.geometryLabel = geometryLabel;\n    }\n    await geometryLabel.render(mappingArray, isUpdate);\n\n    // \u5C06 label \u540C element \u8FDB\u884C\u5173\u8054\n    const labelsMap = geometryLabel.labelsRenderer.shapesMap;\n    // Store labels for every element.\n    const elementLabels = new Map<Element, Set<IGroup>>();\n    each(labelsMap, (labelGroup: IGroup, labelGroupId: string) => {\n      const labelChildren = labelGroup.getChildren() || [];\n      for (let j = 0; j < labelChildren.length; j++) {\n        const labelShape = labelChildren[j];\n        const element = this.elementsMap[labelShape.get('elementId') || labelGroupId.split(' ')[0]];\n        if (element) {\n          labelShape.cfg.name = ['element', 'label'];\n          labelShape.cfg.element = element;\n          const labels = elementLabels.get(element) || new Set();\n          labels.add(labelGroup);\n          elementLabels.set(element, labels);\n        }\n      }\n    });\n    for (const [element, labels] of elementLabels.entries()) {\n      element.labelShape = [...labels];\n    }\n\n    this.emit(GEOMETRY_LIFE_CIRCLE.AFTER_RENDER_LABEL);\n  }\n  /**\n   * \u662F\u5426\u9700\u8981\u8FDB\u884C\u7FA4\u7EC4\u5165\u573A\u52A8\u753B\n   * \u89C4\u5219\uFF1A\n   * 1. \u5982\u679C\u53D1\u751F\u66F4\u65B0\uFF0C\u5219\u4E0D\u8FDB\u884C\n   * 2. \u5982\u679C\u7528\u6237\u5173\u95ED geometry \u52A8\u753B\uFF0C\u5219\u4E0D\u8FDB\u884C\n   * 3. \u5982\u679C\u7528\u6237\u5173\u95ED\u4E86 appear \u52A8\u753B\uFF0C\u5219\u4E0D\u8FDB\u884C\n   * 4. \u5982\u679C\u7528\u6237\u914D\u7F6E\u4E86 appear.animation\uFF0C\u5219\u4E0D\u8FDB\u884C\n   */\n  private canDoGroupAnimation(isUpdate: boolean) {\n    return (\n      !isUpdate &&\n      this.animateOption &&\n      (get(this.animateOption, 'appear') === undefined ||\n        (get(this.animateOption, 'appear') && get(this.animateOption, ['appear', 'animation']) === undefined))\n    );\n  }\n}\n", "import { ext } from '@antv/matrix-util';\nimport { IElement, IGroup, IShape } from '../dependents';\n\nconst transform: (m: number[], actions: any[][]) => number[] = ext.transform;\n\nexport { transform };\n\n/**\n * \u5BF9\u5143\u7D20\u8FDB\u884C\u5E73\u79FB\u64CD\u4F5C\u3002\n * @param element \u8FDB\u884C\u53D8\u6362\u7684\u5143\u7D20\n * @param x x \u65B9\u5411\u4F4D\u79FB\n * @param y y \u65B9\u5411\u4F4D\u79FB\n */\nexport function translate(element: IGroup | IShape, x: number, y: number) {\n  const matrix = transform(element.getMatrix(), [['t', x, y]]);\n  element.setMatrix(matrix);\n}\n\n/**\n * \u83B7\u53D6\u5143\u7D20\u65CB\u8F6C\u77E9\u9635 (\u4EE5\u5143\u7D20\u7684\u5DE6\u4E0A\u89D2\u4E3A\u65CB\u8F6C\u70B9)\n * @param element \u8FDB\u884C\u53D8\u6362\u7684\u5143\u7D20\n * @param rotateRadian \u65CB\u8F6C\u5F27\u5EA6\n */\nexport function getRotateMatrix(element: IElement, rotateRadian: number) {\n  const { x, y } = element.attr();\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['r', rotateRadian],\n    ['t', x, y],\n  ]);\n  return matrix;\n}\n\n/**\n * \u5BF9\u5143\u7D20\u8FDB\u884C\u65CB\u8F6C\u64CD\u4F5C\u3002\n * @param element \u8FDB\u884C\u53D8\u6362\u7684\u5143\u7D20\n * @param rotateRadian \u65CB\u8F6C\u5F27\u5EA6\n */\nexport function rotate(element: IGroup | IShape, rotateRadian: number) {\n  const matrix = getRotateMatrix(element, rotateRadian);\n  element.setMatrix(matrix);\n}\n\n/**\n * \u83B7\u53D6\u5143\u77E9\u9635\u3002\n * @returns identity matrix\n */\nexport function getIdentityMatrix(): number[] {\n  return [1, 0, 0, 0, 1, 0, 0, 0, 1];\n}\n\n/**\n * \u56F4\u7ED5\u56FE\u5F62\u4E2D\u5FC3\u70B9\u8FDB\u884C\u7F29\u653E\n * @param element \u8FDB\u884C\u7F29\u653E\u7684\u56FE\u5F62\u5143\u7D20\n * @param ratio \u7F29\u653E\u6BD4\u4F8B\n */\nexport function zoom(element: IGroup | IShape, ratio: number) {\n  const bbox = element.getBBox();\n  const x = (bbox.minX + bbox.maxX) / 2;\n  const y = (bbox.minY + bbox.maxY) / 2;\n  element.applyToMatrix([x, y, 1]);\n\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['s', ratio, ratio],\n    ['t', x, y],\n  ]);\n  element.setMatrix(matrix);\n}\n", "/**\n * @file utils of label\n */\n\nimport { isNil, isNumber, some } from '@antv/util';\nimport { IElement, IGroup, BBox } from '../../../dependents';\nimport { rotate } from '../../../util/transform';\n\n/**\n * \u67E5\u627E Label Group \u4E2D\u7684\u6587\u672C shape \u5BF9\u8C61\n * @param label\n */\nexport function findLabelTextShape(label: IGroup): IElement {\n  return label.find((el) => el.get('type') === 'text');\n}\n\n/**\n * \u83B7\u53D6\u6807\u7B7E\u80CC\u666F\u4FE1\u606F: box (\u65E0\u65CB\u8F6C) + rotation (\u65CB\u8F6C\u89D2\u5EA6)\n */\nexport function getLabelBackgroundInfo(\n  labelGroup: IGroup,\n  labelItem: { rotate?: number;[key: string]: any },\n  padding: number | number[] = [0, 0, 0, 0]\n): { x: number; y: number; width: number; height: number; rotation: number } {\n  const content = labelGroup && labelGroup.getChildren()[0];\n  if (content) {\n    const labelShape = content.clone();\n\n    // revert rotate\n    if (labelItem?.rotate) {\n      rotate(labelShape as IGroup, -labelItem.rotate);\n    }\n\n    // use `getCanvasBBox`, because if Shape is been translated, `getBBox` is not the actual box position\n    const { x, y, width, height } = labelShape.getCanvasBBox();\n\n    labelShape.destroy();\n\n    let boxPadding = padding;\n    if (isNil(boxPadding)) {\n      boxPadding = [2, 2, 2, 2];\n    } else if (isNumber(boxPadding)) {\n      boxPadding = new Array(4).fill(boxPadding);\n    }\n\n    return {\n      x: x - boxPadding[3],\n      y: y - boxPadding[0],\n      width: width + boxPadding[1] + boxPadding[3],\n      height: height + boxPadding[0] + boxPadding[2],\n      rotation: labelItem?.rotate || 0,\n    };\n  }\n\n  return { x: 0, y: 0, width: 0, height: 0, rotation: 0 };\n}\n\n/**\n * \u8BA1\u7B97\u4E24\u4E2A\u77E9\u5F62\u4E4B\u95F4\u7684\u5806\u53E0\u533A\u57DF\u9762\u79EF\n */\nexport function getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/** \u68C0\u6D4B\u662F\u5426\u548C\u5DF2\u5E03\u5C40\u7684\u5806\u53E0 */\nexport function checkShapeOverlap(cur: IElement, dones: IElement[]) {\n  const box = cur.getBBox();\n  return some(dones, (done) => {\n    const target = done.getBBox();\n    return getOverlapArea(box, target, 2) > 0;\n  });\n}\n", "import { Coordinate } from '@antv/coord';\nimport { IGroup, IShape } from '@antv/g-base';\nimport { each, get } from '@antv/util';\nimport { doAnimate } from '../animate';\nimport { getReplaceAttrs } from '../util/graphics';\n\n/** label \u7684\u5FC5\u8981\u914D\u7F6E */\ntype Cfg = {\n  data: any;\n  origin: any;\n  animateCfg: any;\n  coordinate: Coordinate;\n};\n\n/**\n * @desc \u66F4\u65B0 label (\u76EE\u524D\u6CA1\u6709\u6839\u636E id \u7D22\u5F15\uFF0C\u8FD8\u662F\u4F1A\u5B58\u5728\u4E00\u70B9\u5C0F\u95EE\u9898\u7684\uFF0C\u53EA\u80FD\u6839\u636E idx \u7D22\u5F15)\n * @done shape \u5C5E\u6027\u66F4\u65B0\n * @done shape delete\n * @done shape append\n *\n * @param fromShape old labelShape\n * @param toShape new labelShape\n * @param cfg\n */\nexport function updateLabel(fromShape: IGroup, toShape: IGroup, cfg: Cfg): void {\n  const { data, origin, animateCfg, coordinate } = cfg;\n  const updateAnimateCfg = get(animateCfg, 'update');\n\n  fromShape.set('data', data);\n  fromShape.set('origin', origin);\n  fromShape.set('animateCfg', animateCfg);\n  fromShape.set('coordinate', coordinate);\n  fromShape.set('visible', toShape.get('visible'));\n\n  fromShape.getChildren().forEach((fromChild, idx) => {\n    const toChild = toShape.getChildByIndex(idx) as IShape;\n    if (!toChild) {\n      fromShape.removeChild(fromChild);\n      fromChild.remove(true);\n    } else {\n      fromChild.set('data', data);\n      fromChild.set('origin', origin);\n      fromChild.set('animateCfg', animateCfg);\n      fromChild.set('coordinate', coordinate);\n\n      const newAttrs = getReplaceAttrs(fromChild as IShape, toChild);\n      if (updateAnimateCfg) {\n        doAnimate(fromChild as IShape, updateAnimateCfg, {\n          toAttrs: newAttrs,\n          coordinate,\n        });\n      } else {\n        fromChild.attr(newAttrs);\n      }\n      if (toChild.isGroup()) {\n        updateLabel(fromChild as any, toChild as any, cfg);\n      }\n    }\n  });\n\n  // append\n  each(toShape.getChildren(), (child, idx) => {\n    if (idx >= fromShape.getCount()) {\n      if (!child.destroyed) {\n        fromShape.add(child);\n      }\n    }\n  });\n}\n", "import { deepMix, each, get, isArray, isNull } from '@antv/util';\nimport { BBox, Coordinate, IGroup, IShape } from '../dependents';\nimport { LabelItem } from '../geometry/label/interface';\nimport { AnimateOption, GeometryLabelLayoutCfg } from '../interface';\nimport { doAnimate } from '../animate';\nimport { getGeometryLabelLayout } from '../geometry/label';\nimport { getLabelBackgroundInfo } from '../geometry/label/util';\nimport { polarToCartesian } from '../util/graphics';\nimport { rotate, translate } from '../util/transform';\nimport { FIELD_ORIGIN } from '../constant';\nimport { updateLabel } from './update-label';\n\n/**\n * Labels \u5B9E\u4F8B\u521B\u5EFA\u65F6\uFF0C\u4F20\u5165\u6784\u9020\u51FD\u6570\u7684\u53C2\u6570\u5B9A\u4E49\n */\nexport interface LabelsGroupCfg {\n  /** label \u5BB9\u5668 */\n  container: IGroup;\n  /** label \u5E03\u5C40\u914D\u7F6E */\n  layout?: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n}\n\n/**\n * Geometry labels \u6E32\u67D3\u7EC4\u4EF6\n */\nexport default class Labels {\n  /** \u7528\u4E8E\u6307\u5B9A labels \u5E03\u5C40\u7684\u7C7B\u578B */\n  public layout: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n  /** \u56FE\u5F62\u5BB9\u5668 */\n  public container: IGroup;\n  /** \u52A8\u753B\u914D\u7F6E */\n  public animate: AnimateOption | false;\n  /** label \u7ED8\u5236\u7684\u533A\u57DF */\n  public region: BBox;\n\n  /** \u5B58\u50A8\u5F53\u524D shape \u7684\u6620\u5C04\u8868\uFF0C\u952E\u503C\u4E3A shape id */\n  public shapesMap: Record<string, IGroup> = {};\n\n  constructor(cfg: LabelsGroupCfg) {\n    const { layout, container } = cfg;\n\n    this.layout = layout;\n    this.container = container;\n  }\n  /**\n   * \u6E32\u67D3\u6587\u672C\n   */\n  public async render(items: LabelItem[], shapes: Record<string, IShape | IGroup>, isUpdate: boolean = false) {\n    const shapesMap = {};\n    const offscreenGroup = this.createOffscreenGroup(); // \u521B\u5EFA\u865A\u62DF\u5206\u7EC4\n    if (items.length) {\n      // \u5982\u679C items \u7A7A\u7684\u8BDD\u5C31\u4E0D\u8FDB\u884C\u7ED8\u5236\u8C03\u6574\u64CD\u4F5C\n      // step 1: \u5728\u865A\u62DF group \u4E2D\u521B\u5EFA shapes\n      for (const item of items) {\n        if (item) {\n          shapesMap[item.id] = this.renderLabel(item, offscreenGroup);\n        }\n      }\n      // [todo] Move layout into Worker.\n      // step 2: \u6839\u636E\u5E03\u5C40\uFF0C\u8C03\u6574 labels\n      await this.doLayout(items, shapes, shapesMap);\n\n      // step 3.1: \u7ED8\u5236 labelLine\n      this.renderLabelLine(items, shapesMap);\n      // step 3.2: \u7ED8\u5236 labelBackground\n      this.renderLabelBackground(items, shapesMap);\n      // step 4: \u6839\u636E\u7528\u6237\u8BBE\u7F6E\u7684\u504F\u79FB\u91CF\u8C03\u6574 label\n      this.adjustLabel(items, shapesMap);\n    }\n\n    // \u8FDB\u884C\u6DFB\u52A0\u3001\u66F4\u65B0\u3001\u9500\u6BC1\u64CD\u4F5C\n    const lastShapesMap = this.shapesMap;\n    each(shapesMap, (shape, id) => {\n      if (shape.destroyed) {\n        // label \u5728\u5E03\u5C40\u8C03\u6574\u73AF\u8282\u88AB\u5220\u9664\u4E86\uFF08doLayout\uFF09\n        delete shapesMap[id];\n      } else {\n        if (lastShapesMap[id]) {\n          // \u56FE\u5F62\u53D1\u751F\u66F4\u65B0\n          const data = shape.get('data');\n          const origin = shape.get('origin');\n          const coordinate = shape.get('coordinate');\n          const currentAnimateCfg = shape.get('animateCfg');\n\n          const currentShape = lastShapesMap[id]; // \u5DF2\u7ECF\u5728\u6E32\u67D3\u6811\u4E0A\u7684 shape\n          updateLabel(currentShape, shapesMap[id], {\n            data,\n            origin,\n            animateCfg: currentAnimateCfg,\n            coordinate,\n          });\n\n          shapesMap[id] = currentShape; // \u4FDD\u5B58\u5F15\u7528\n        } else {\n          // \u65B0\u751F\u6210\u7684 shape\n          // If container has been destroyed, no need to render labels.\n          if (this.container.destroyed) return;\n          this.container.add(shape);\n          const animateCfg = get(shape.get('animateCfg'), isUpdate ? 'enter' : 'appear');\n          if (animateCfg) {\n            doAnimate(shape, animateCfg, {\n              toAttrs: {\n                ...shape.attr(),\n              },\n              coordinate: shape.get('coordinate'),\n            });\n          }\n        }\n        delete lastShapesMap[id];\n      }\n    });\n\n    // \u79FB\u9664\n    each(lastShapesMap, (deleteShape) => {\n      const animateCfg = get(deleteShape.get('animateCfg'), 'leave');\n      if (animateCfg) {\n        doAnimate(deleteShape, animateCfg, {\n          toAttrs: null,\n          coordinate: deleteShape.get('coordinate'),\n        });\n      } else {\n        deleteShape.remove(true); // \u79FB\u9664\n      }\n    });\n\n    this.shapesMap = shapesMap;\n    offscreenGroup.destroy();\n  }\n\n  /** \u6E05\u9664\u5F53\u524D labels */\n  public clear() {\n    this.container.clear();\n    this.shapesMap = {};\n  }\n\n  /** \u9500\u6BC1 */\n  public destroy() {\n    this.container.destroy();\n    this.shapesMap = null;\n  }\n\n  private renderLabel(cfg: LabelItem, container: IGroup): IGroup {\n    const { id, elementId, data, mappingData, coordinate, animate, content } = cfg;\n    const shapeAppendCfg = {\n      id,\n      elementId,\n      data,\n      origin: {\n        ...mappingData,\n        data: mappingData[FIELD_ORIGIN],\n      },\n      coordinate,\n    };\n    const labelGroup = container.addGroup({\n      name: 'label',\n      // \u5982\u679C this.animate === false \u6216\u8005 cfg.animate === false/null \u5219\u4E0D\u8FDB\u884C\u52A8\u753B\uFF0C\u5426\u5219\u8FDB\u884C\u52A8\u753B\u914D\u7F6E\u7684\u5408\u5E76\n      animateCfg:\n        this.animate === false || animate === null || animate === false ? false : deepMix({}, this.animate, animate),\n      ...shapeAppendCfg,\n    });\n    let labelShape;\n    if ((content.isGroup && content.isGroup()) || (content.isShape && content.isShape())) {\n      // \u5982\u679C content \u662F Group \u6216\u8005 Shape\uFF0C\u6839\u636E textAlign \u8C03\u6574\u4F4D\u7F6E\u540E\uFF0C\u76F4\u63A5\u5C06\u5176\u52A0\u5165 labelGroup\n      const { width, height } = content.getCanvasBBox();\n      const textAlign = get(cfg, 'textAlign', 'left');\n\n      let x = cfg.x;\n      const y = cfg.y - height / 2;\n\n      if (textAlign === 'center') {\n        x = x - width / 2;\n      } else if (textAlign === 'right' || textAlign === 'end') {\n        x = x - width;\n      }\n\n      translate(content, x, y); // \u5C06 label \u5E73\u79FB\u81F3 x, y \u6307\u5B9A\u7684\u4F4D\u7F6E\n      labelShape = content;\n      labelGroup.add(content);\n    } else {\n      const fill = get(cfg, ['style', 'fill']);\n      labelShape = labelGroup.addShape('text', {\n        attrs: {\n          x: cfg.x,\n          y: cfg.y,\n          textAlign: cfg.textAlign,\n          textBaseline: get(cfg, 'textBaseline', 'middle'),\n          text: cfg.content,\n          ...cfg.style,\n          fill: isNull(fill) ? cfg.color : fill,\n        },\n        ...shapeAppendCfg,\n      });\n    }\n\n    if (cfg.rotate) {\n      rotate(labelShape, cfg.rotate);\n    }\n    return labelGroup;\n  }\n\n  // \u6839\u636Etype\u5BF9label\u5E03\u5C40\n  private async doLayout(items: LabelItem[], shapes: Record<string, IShape | IGroup>, shapesMap: Record<string, IGroup>) {\n    if (this.layout) {\n      const layouts = isArray(this.layout) ? this.layout : [this.layout];\n      await Promise.all(layouts.map((layout: GeometryLabelLayoutCfg) => {\n        const layoutFn = getGeometryLabelLayout(get(layout, 'type', ''));\n        if (!layoutFn) return;\n\n        const labelShapes = [];\n        const geometryShapes = [];\n        each(shapesMap, (labelShape, id) => {\n          labelShapes.push(labelShape);\n          geometryShapes.push(shapes[labelShape.get('elementId')]);\n        });\n        // [todo] Refactor more layout into Worker.\n        return layoutFn(items, labelShapes, geometryShapes, this.region, layout.cfg);\n      }));\n    }\n  }\n\n  private renderLabelLine(labelItems: LabelItem[], shapesMap) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      if (!labelItem || !coordinate) {\n        return;\n      }\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      if (!labelItem.labelLine) {\n        // labelLine: null | false\uFF0C\u5173\u95ED label \u5BF9\u5E94\u7684 labelLine\n        return;\n      }\n      const labelLineCfg = get(labelItem, 'labelLine', {});\n      const id = labelItem.id;\n      let path = labelLineCfg.path;\n      if (!path) {\n        const start = polarToCartesian(center.x, center.y, radius, labelItem.angle);\n        path = [\n          ['M', start.x, start.y],\n          ['L', labelItem.x, labelItem.y],\n        ];\n      }\n      const labelGroup = shapesMap[id];\n      if (!labelGroup.destroyed) {\n        labelGroup.addShape('path', {\n          capture: false, // labelLine \u9ED8\u8BA4\u4E0D\u53C2\u4E0E\u4E8B\u4EF6\u6355\u83B7\n          attrs: {\n            path,\n            stroke: labelItem.color ? labelItem.color : get(labelItem, ['style', 'fill'], '#000'),\n            fill: null,\n            ...labelLineCfg.style,\n          },\n          id,\n          origin: labelItem.mappingData,\n          data: labelItem.data,\n          coordinate: labelItem.coordinate,\n        });\n      }\n    });\n  }\n\n  /**\n   * \u7ED8\u5236\u6807\u7B7E\u80CC\u666F\n   * @param labelItems\n   */\n  private renderLabelBackground(labelItems: LabelItem[], shapesMap) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      const background: LabelItem['background'] = get(labelItem, 'background');\n      if (!background || !coordinate) {\n        return;\n      }\n\n      const id = labelItem.id;\n      const labelGroup = shapesMap[id];\n      if (!labelGroup.destroyed) {\n        const labelContentShape = labelGroup.getChildren()[0];\n        if (labelContentShape) {\n          const { rotation, ...box } = getLabelBackgroundInfo(labelGroup, labelItem, background.padding);\n          const backgroundShape = labelGroup.addShape('rect', {\n            attrs: {\n              ...box,\n              ...(background.style || {}),\n            },\n            id,\n            origin: labelItem.mappingData,\n            data: labelItem.data,\n            coordinate: labelItem.coordinate,\n          });\n          backgroundShape.setZIndex(-1);\n\n          if (rotation) {\n            const matrix = labelContentShape.getMatrix();\n            backgroundShape.setMatrix(matrix);\n          }\n        }\n      }\n    });\n  }\n\n  private createOffscreenGroup() {\n    const container = this.container;\n    const GroupClass = container.getGroupBase(); // \u83B7\u53D6\u5206\u7EC4\u7684\u6784\u9020\u51FD\u6570\n    const newGroup = new GroupClass({});\n    return newGroup;\n  }\n\n  private adjustLabel(items: LabelItem[], shapesMap) {\n    each(items, (item) => {\n      if (item) {\n        const id = item.id;\n        const labelGroup = shapesMap[id];\n        if (!labelGroup.destroyed) {\n          // fix: \u5982\u679C\u8BF4\u5F00\u53D1\u8005\u7684 label content \u662F\u4E00\u4E2A group\uFF0C\u6B64\u5904\u7684\u504F\u79FB\u65E0\u6CD5\u5BF9 \u6574\u4E2A content group \u751F\u6548\uFF1B\u573A\u666F\u7C7B\u4F3C \u997C\u56FE spider label \u662F\u4E00\u4E2A\u542B 2 \u4E2A textShape \u7684 gorup\n          const labelShapes = labelGroup.findAll((ele) => ele.get('type') !== 'path');\n          each(labelShapes, (labelShape) => {\n            if (labelShape) {\n              if (item.offsetX) {\n                labelShape.attr('x', labelShape.attr('x') + item.offsetX);\n              }\n              if (item.offsetY) {\n                labelShape.attr('y', labelShape.attr('y') + item.offsetY);\n              }\n            }\n          });\n        }\n      }\n    });\n  }\n}\n", "import { deepMix, each, get, isArray, isFunction, isNil, isNumber, isString, isUndefined } from '@antv/util';\n\nimport { FIELD_ORIGIN } from '../../constant';\nimport { Scale } from '../../dependents';\nimport { Datum, LabelOption, MappingDatum, Point } from '../../interface';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\nimport { getDefaultAnimateCfg } from '../../animate';\nimport { getPolygonCentroid } from '../../util/graphics';\n\nimport Labels from '../../component/labels';\nimport Geometry from '../base';\nimport Element from '../element';\n\nexport type GeometryLabelConstructor = new (cfg: any) => GeometryLabel;\n\nfunction avg(arr: number[]) {\n  let sum = 0;\n  each(arr, (value: number) => {\n    sum += value;\n  });\n  return sum / arr.length;\n}\n\n/**\n * Geometry Label \u57FA\u7C7B\uFF0C\u7528\u4E8E\u751F\u6210 Geometry \u4E0B\u6240\u6709 label \u7684\u914D\u7F6E\u9879\u4FE1\u606F\n */\nexport default class GeometryLabel {\n  /** geometry \u5B9E\u4F8B */\n  public readonly geometry: Geometry;\n  public labelsRenderer: Labels;\n  /** \u9ED8\u8BA4\u7684\u5E03\u5C40 */\n  public defaultLayout: string;\n\n  constructor(geometry: Geometry) {\n    this.geometry = geometry;\n  }\n\n  public getLabelItems(mapppingArray: MappingDatum[]): LabelItem[] {\n    const items = [];\n    const labelCfgs = this.getLabelCfgs(mapppingArray);\n    // \u83B7\u53D6 label \u76F8\u5173\u7684 x\uFF0Cy \u7684\u503C\uFF0C\u83B7\u53D6\u5177\u4F53\u7684 x, y\uFF0C\u9632\u6B62\u5B58\u5728\u6570\u7EC4\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const labelCfg = labelCfgs[index];\n      if (!labelCfg || isNil(mappingData.x) || isNil(mappingData.y)) {\n        items.push(null);\n        return;\n      }\n\n      const labelContent = !isArray(labelCfg.content) ? [labelCfg.content] : labelCfg.content;\n      labelCfg.content = labelContent;\n      const total = labelContent.length;\n      each(labelContent, (content, subIndex) => {\n        if (isNil(content) || content === '') {\n          items.push(null);\n          return;\n        }\n\n        const item = {\n          ...labelCfg,\n          ...this.getLabelPoint(labelCfg, mappingData, subIndex),\n        };\n        if (!item.textAlign) {\n          item.textAlign = this.getLabelAlign(item, subIndex, total);\n        }\n\n        if (item.offset <= 0) {\n          item.labelLine = null;\n        }\n\n        items.push(item);\n      });\n    });\n    return items;\n  }\n\n  public async render(mappingArray: MappingDatum[], isUpdate: boolean = false) {\n    const labelItems = this.getLabelItems(mappingArray);\n    const labelsRenderer = this.getLabelsRenderer();\n    const shapes = this.getGeometryShapes();\n    // \u6E32\u67D3\u6587\u672C\n    await labelsRenderer.render(labelItems, shapes, isUpdate);\n  }\n\n  public clear() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.clear();\n    }\n  }\n\n  public destroy() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.destroy();\n    }\n    this.labelsRenderer = null;\n  }\n\n  // geometry \u66F4\u65B0\u4E4B\u540E\uFF0C\u5BF9\u5E94\u7684 Coordinate \u4E5F\u4F1A\u66F4\u65B0\uFF0C\u4E3A\u4E86\u83B7\u53D6\u5230\u6700\u65B0\u9C9C\u7684 Coordinate\uFF0C\u6545\u4F7F\u7528\u65B9\u6CD5\u83B7\u53D6\n  public getCoordinate() {\n    return this.geometry.coordinate;\n  }\n\n  /**\n   * \u83B7\u53D6 label \u7684\u9ED8\u8BA4\u914D\u7F6E\n   */\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const geometry = this.geometry;\n    const { type, theme } = geometry;\n\n    if (\n      type === 'polygon' ||\n      (type === 'interval' && position === 'middle') ||\n      (offset < 0 && !['line', 'point', 'path'].includes(type))\n    ) {\n      // polygon \u6216\u8005 (interval \u4E14 middle) \u6216\u8005 offset \u5C0F\u4E8E 0 \u65F6\uFF0C\u6587\u672C\u5C55\u793A\u5728\u56FE\u5F62\u5185\u90E8\uFF0C\u5C06\u5176\u989C\u8272\u8BBE\u7F6E\u4E3A \u767D\u8272\n      return get(theme, 'innerLabels', {});\n    }\n\n    return get(theme, 'labels', {});\n  }\n\n  /**\n   * \u83B7\u53D6\u5F53\u524D label \u7684\u6700\u7EC8\u914D\u7F6E\n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { type, theme } = geometry;\n    let themedLabelCfg;\n\n    if (type === 'polygon' || (labelCfg.offset < 0 && !['line', 'point', 'path'].includes(type))) {\n      // polygon \u6216\u8005 offset \u5C0F\u4E8E 0 \u65F6\uFF0C\u6587\u672C\u5C55\u793A\u5728\u56FE\u5F62\u5185\u90E8\uFF0C\u5C06\u5176\u989C\u8272\u8BBE\u7F6E\u4E3A \u767D\u8272\n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.innerLabels, labelCfg);\n    } else {\n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.labels, labelCfg);\n    }\n\n    return themedLabelCfg;\n  }\n\n  /**\n   * \u8BBE\u7F6E label \u4F4D\u7F6E\n   * @param labelPointCfg\n   * @param mappingData\n   * @param index\n   * @param position\n   */\n  protected setLabelPosition(\n    labelPointCfg: LabelPointCfg,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {}\n\n  /**\n   * @desc \u83B7\u53D6 label offset\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    const vector = this.getOffsetVector(offset);\n    return coordinate.isTransposed ? vector[0] : vector[1];\n  }\n\n  /**\n   * \u83B7\u53D6\u6BCF\u4E2A label \u7684\u504F\u79FB\u91CF (\u77E2\u91CF)\n   * @param labelCfg\n   * @param index\n   * @param total\n   * @return {Point} offsetPoint\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number): Point {\n    const offset = labelCfg.offset;\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const factor = transposed ? 1 : -1; // y \u65B9\u5411\u4E0A\u8D8A\u5927\uFF0C\u50CF\u7D20\u7684\u5750\u6807\u8D8A\u5C0F\uFF0C\u6240\u4EE5transposed\u65F6\u5C06\u7CFB\u6570\u53D8\u6210\n    const offsetPoint = {\n      x: 0,\n      y: 0,\n    };\n    if (index > 0 || total === 1) {\n      // \u5224\u65AD\u662F\u5426\u5C0F\u4E8E0\n      offsetPoint[dim] = offset * factor;\n    } else {\n      offsetPoint[dim] = offset * factor * -1;\n    }\n    return offsetPoint;\n  }\n\n  /**\n   * \u83B7\u53D6\u6BCF\u4E2A label \u7684\u4F4D\u7F6E\n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    const coordinate = this.getCoordinate();\n    const total = labelCfg.content.length;\n\n    function getDimValue(value: number | number[], idx: number, isAvg = false) {\n      let v = value;\n      if (isArray(v)) {\n        if (labelCfg.content.length === 1) {\n          if (isAvg) {\n            v = avg(v);\n          } else {\n            // \u5982\u679C\u4EC5\u4E00\u4E2A label\uFF0C\u591A\u4E2A y, \u53D6\u6700\u540E\u4E00\u4E2A y\n            if (v.length <= 2) {\n              v = v[(value as number[]).length - 1];\n            } else {\n              v = avg(v);\n            }\n          }\n        } else {\n          v = v[idx];\n        }\n      }\n      return v;\n    }\n\n    const label = {\n      content: labelCfg.content[index],\n      x: 0,\n      y: 0,\n      start: { x: 0, y: 0 },\n      color: '#fff',\n    };\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    const isFunnel = shape === 'funnel' || shape === 'pyramid';\n\n    // \u591A\u8FB9\u5F62\u573A\u666F\uFF0C\u591A\u7528\u4E8E\u5730\u56FE\n    if (this.geometry.type === 'polygon') {\n      const centroid = getPolygonCentroid(mappingData.x, mappingData.y);\n      label.x = centroid[0];\n      label.y = centroid[1];\n    } else if (this.geometry.type === 'interval' && !isFunnel) {\n      // \u5BF9\u76F4\u65B9\u56FE\u7684label X \u65B9\u5411\u7684\u4F4D\u7F6E\u5C45\u4E2D\n      label.x = getDimValue(mappingData.x, index, true);\n      label.y = getDimValue(mappingData.y, index);\n    } else {\n      label.x = getDimValue(mappingData.x, index);\n      label.y = getDimValue(mappingData.y, index);\n    }\n\n    // \u5904\u7406\u6F0F\u6597\u56FE\u6587\u672C\u4F4D\u7F6E\n    if (isFunnel) {\n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \u975E\u6F0F\u6597\u56FE\u5E95\u90E8\n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(nextPoints[1] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      } else if (shape === 'pyramid') {\n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(points[2] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      }\n    }\n\n    if (labelCfg.position) {\n      // \u5982\u679C label \u652F\u6301 position \u5C5E\u6027\n      this.setLabelPosition(label, mappingData, index, labelCfg.position);\n    }\n    const offsetPoint = this.getLabelOffsetPoint(labelCfg, index, total);\n    label.start = { x: label.x, y: label.y };\n    label.x += offsetPoint.x;\n    label.y += offsetPoint.y;\n    label.color = mappingData.color;\n    return label;\n  }\n\n  /**\n   * \u83B7\u53D6\u6587\u672C\u7684\u5BF9\u9F50\u65B9\u5F0F\n   * @param item\n   * @param index\n   * @param total\n   * @returns\n   */\n  protected getLabelAlign(item: LabelItem, index: number, total: number): TextAlign {\n    let align: TextAlign = 'center';\n    const coordinate = this.getCoordinate();\n    if (coordinate.isTransposed) {\n      const offset = item.offset;\n      if (offset < 0) {\n        align = 'right';\n      } else if (offset === 0) {\n        align = 'center';\n      } else {\n        align = 'left';\n      }\n      if (total > 1 && index === 0) {\n        if (align === 'right') {\n          align = 'left';\n        } else if (align === 'left') {\n          align = 'right';\n        }\n      }\n    }\n    return align;\n  }\n\n  /**\n   * \u83B7\u53D6\u6BCF\u4E00\u4E2A label \u7684\u552F\u4E00 id\n   * @param mappingData label \u5BF9\u5E94\u7684\u56FE\u5F62\u7684\u7ED8\u5236\u6570\u636E\n   */\n  protected getLabelId(mappingData: MappingDatum) {\n    const geometry = this.geometry;\n    const type = geometry.type;\n    const xScale = geometry.getXScale();\n    const yScale = geometry.getYScale();\n    const origin = mappingData[FIELD_ORIGIN]; // \u539F\u59CB\u6570\u636E\n\n    let labelId = geometry.getElementId(mappingData);\n    if (type === 'line' || type === 'area') {\n      // \u6298\u7EBF\u56FE\u4EE5\u53CA\u533A\u57DF\u56FE\uFF0C\u4E00\u6761\u7EBF\u4F1A\u5BF9\u5E94\u4E00\u7EC4\u6570\u636E\uFF0C\u5373\u591A\u4E2A labels\uFF0C\u4E3A\u4E86\u533A\u5206\u8FD9\u4E9B labels\uFF0C\u9700\u8981\u5728 line id \u7684\u524D\u63D0\u4E0B\u52A0\u4E0A x \u5B57\u6BB5\u503C\n      labelId += ` ${origin[xScale.field]}`;\n    } else if (type === 'path') {\n      // path \u8DEF\u5F84\u56FE\uFF0C\u65E0\u5E8F\uFF0C\u6709\u53EF\u80FD\u5B58\u5728\u76F8\u540C x \u4E0D\u540C y \u7684\u60C5\u51B5\uFF0C\u9700\u8981\u901A\u8FC7 x y \u6765\u786E\u5B9A\u552F\u4E00 id\n      labelId += ` ${origin[xScale.field]}-${origin[yScale.field]}`;\n    }\n\n    return labelId;\n  }\n\n  // \u83B7\u53D6 labels \u7EC4\u4EF6\n  private getLabelsRenderer() {\n    const { labelsContainer, labelOption, canvasRegion, animateOption } = this.geometry;\n    const coordinate = this.geometry.coordinate;\n\n    let labelsRenderer = this.labelsRenderer;\n    if (!labelsRenderer) {\n      labelsRenderer = new Labels({\n        container: labelsContainer,\n        layout: get(labelOption, ['cfg', 'layout'], {\n          type: this.defaultLayout,\n        }),\n      });\n      this.labelsRenderer = labelsRenderer;\n    }\n    labelsRenderer.region = canvasRegion;\n    // \u8BBE\u7F6E\u52A8\u753B\u914D\u7F6E\uFF0C\u5982\u679C geometry \u7684\u52A8\u753B\u5173\u95ED\u4E86\uFF0C\u90A3\u4E48 label \u7684\u52A8\u753B\u4E5F\u4F1A\u5173\u95ED\n    labelsRenderer.animate = animateOption ? getDefaultAnimateCfg('label', coordinate) : false;\n\n    return labelsRenderer;\n  }\n\n  private getLabelCfgs(mapppingArray: MappingDatum[]): LabelCfg[] {\n    const geometry = this.geometry;\n    const { labelOption, scales, coordinate } = geometry;\n    const { fields, callback, cfg } = labelOption as LabelOption;\n    const labelScales = fields.map((field: string) => {\n      return scales[field];\n    });\n\n    const labelCfgs: LabelCfg[] = [];\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const origin = mappingData[FIELD_ORIGIN]; // \u539F\u59CB\u6570\u636E\n      const originText = this.getLabelText(origin, labelScales);\n      let callbackCfg;\n      if (callback) {\n        // \u5F53\u540C\u65F6\u914D\u7F6E\u4E86 callback \u548C cfg \u65F6\uFF0C\u4EE5 callback \u4E3A\u51C6\n        const originValues = fields.map((field: string) => origin[field]);\n        callbackCfg = callback(...originValues);\n        if (isNil(callbackCfg)) {\n          labelCfgs.push(null);\n          return;\n        }\n      }\n\n      let labelCfg = {\n        id: this.getLabelId(mappingData), // \u8FDB\u884C ID \u6807\u8BB0\n        elementId: this.geometry.getElementId(mappingData), // label \u5BF9\u5E94 Element \u7684 ID\n        data: origin, // \u5B58\u50A8\u539F\u59CB\u6570\u636E\n        mappingData, // \u5B58\u50A8\u6620\u5C04\u540E\u7684\u6570\u636E,\n        coordinate, // \u5750\u6807\u7CFB\n        ...cfg,\n        ...callbackCfg,\n      };\n\n      if (isFunction(labelCfg.position)) {\n        labelCfg.position = labelCfg.position(origin, mappingData, index);\n      }\n\n      const offset = this.getLabelOffset(labelCfg.offset || 0);\n      // defaultCfg \u9700\u8981\u5224\u65AD innerLabels & labels\n      const defaultLabelCfg = this.getDefaultLabelCfg(offset, labelCfg.position);\n      // labelCfg priority: defaultCfg < cfg < callbackCfg\n      labelCfg = deepMix({}, defaultLabelCfg, labelCfg);\n      // \u83B7\u53D6\u6700\u7EC8\u7684 offset\n      labelCfg.offset = this.getLabelOffset(labelCfg.offset || 0);\n\n      const content = labelCfg.content;\n      if (isFunction(content)) {\n        labelCfg.content = content(origin, mappingData, index);\n      } else if (isUndefined(content)) {\n        // \u7528\u6237\u672A\u914D\u7F6E content\uFF0C\u5219\u9ED8\u8BA4\u4E3A\u6620\u5C04\u7684\u7B2C\u4E00\u4E2A\u5B57\u6BB5\u7684\u503C\n        labelCfg.content = originText[0];\n      }\n\n      labelCfgs.push(labelCfg);\n    });\n\n    return labelCfgs;\n  }\n\n  private getLabelText(origin: Datum, scales: Scale[]) {\n    const labelTexts = [];\n    each(scales, (scale: Scale) => {\n      let value = origin[scale.field];\n      if (isArray(value)) {\n        value = value.map((subVal) => {\n          return scale.getText(subVal);\n        });\n      } else {\n        value = scale.getText(value);\n      }\n\n      if (isNil(value) || value === '') {\n        labelTexts.push(null);\n      } else {\n        labelTexts.push(value);\n      }\n    });\n    return labelTexts;\n  }\n\n  private getOffsetVector(offset: number | string = 0) {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    }\n    // \u5982\u679C x,y \u7FFB\u8F6C\uFF0C\u5219\u504F\u79FB x\uFF0C\u5426\u5219\u504F\u79FB y\n    return coordinate.isTransposed ? coordinate.applyMatrix(actualOffset, 0) : coordinate.applyMatrix(0, actualOffset);\n  }\n\n  private getGeometryShapes() {\n    const geometry = this.geometry;\n    const shapes = {};\n    each(geometry.elementsMap, (element: Element, id: string) => {\n      shapes[id] = element.shape;\n    });\n    // \u56E0\u4E3A\u6709\u53EF\u80FD shape \u8FD8\u5728\u8FDB\u884C\u52A8\u753B\uFF0C\u5BFC\u81F4 shape.getBBox() \u83B7\u53D6\u5230\u7684\u503C\u4E0D\u662F\u6700\u7EC8\u6001\uFF0C\u6240\u4EE5\u9700\u8981\u4ECE offscreenGroup \u83B7\u53D6\n    each(geometry.getOffscreenGroup().getChildren(), (child) => {\n      const id = geometry.getElementId(child.get('origin').mappingData);\n      shapes[id] = child;\n    });\n\n    return shapes;\n  }\n}\n", "import { Attribute } from '../dependents';\n\n/**\n * @ignore\n * get the mapping value by attribute, if mapping value is nil, return def\n * @param attr\n * @param value\n * @param def\n * @returns get mapping value\n */\nexport function getMappingValue(attr: Attribute, value: any, def: string): string {\n  if (!attr) {\n    return def;\n  }\n\n  let r;\n  // \u591A\u53C2\u6570\u6620\u5C04\uFF0C\u963B\u6B62\u7A0B\u5E8F\u62A5\u9519\n  if (attr.callback && attr.callback.length > 1) {\n    const restArgs = Array(attr.callback.length - 1).fill('');\n    r = attr.mapping(value, ...restArgs).join('');\n  } else {\n    r = attr.mapping(value).join('');\n  }\n\n  return r || def;\n}\n", "/** @ignore */\nexport const MarkerSymbols = {\n  hexagon: (x: number, y: number, r: number) => {\n    const diffX = (r / 2) * Math.sqrt(3);\n    return [\n      ['M', x, y - r],\n      ['L', x + diffX, y - r / 2],\n      ['L', x + diffX, y + r / 2],\n      ['L', x, y + r],\n      ['L', x - diffX, y + r / 2],\n      ['L', x - diffX, y - r / 2],\n      ['Z'],\n    ];\n  },\n  bowtie: (x: number, y: number, r: number) => {\n    const diffY = r - 1.5;\n    return [['M', x - r, y - diffY], ['L', x + r, y + diffY], ['L', x + r, y - diffY], ['L', x - r, y + diffY], ['Z']];\n  },\n  cross: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y - r],\n      ['L', x + r, y + r],\n      ['M', x + r, y - r],\n      ['L', x - r, y + r],\n    ];\n  },\n  tick: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r / 2, y - r],\n      ['L', x + r / 2, y - r],\n      ['M', x, y - r],\n      ['L', x, y + r],\n      ['M', x - r / 2, y + r],\n      ['L', x + r / 2, y + r],\n    ];\n  },\n  plus: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n  hyphen: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n};\n", "import { LegendMarkerCfg } from '@antv/component';\nimport { deepMix, isString, each, get, isFunction } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { Attribute, ShapeAttrs, Tick } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { LegendCfg, LegendItem, MarkerCfg } from '../interface';\nimport { getMappingValue } from './attr';\nimport { omit } from './helper';\nimport { MarkerSymbols } from './marker';\n\n/** \u7EBF\u6761\u5F62 marker symbol */\nconst STROKES_SYMBOLS = ['line', 'cross', 'tick', 'plus', 'hyphen'];\n\n/**\n * \u5904\u7406\u7528\u6237\u914D\u7F6E\u7684 marker style\n * @param markerStyle\n * @param userMarker.style\n * @returns {ShapeAttrs} newStyle\n */\nfunction handleUserMarkerStyle(markerStyle: ShapeAttrs, style: MarkerCfg['style']): ShapeAttrs {\n  if (isFunction(style)) {\n    return style(markerStyle);\n  }\n  return deepMix({}, markerStyle, style);\n}\n\n/**\n * \u6839\u636E marker \u662F\u5426\u4E3A\u7EBF\u6761\u5F62 symbol, \u6765\u8C03\u6574\u4E0B\u6837\u5F0F\n * @param symbol\n * @param style\n * @param color\n */\nfunction adpatorMarkerStyle(marker: LegendMarkerCfg, color: string): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && STROKES_SYMBOLS.indexOf(symbol) !== -1) {\n    const markerStyle = get(marker, 'style', {});\n    const lineWidth = get(markerStyle, 'lineWidth', 1);\n    const stroke = markerStyle.stroke || markerStyle.fill || color;\n    marker.style = deepMix({}, marker.style, { lineWidth, stroke, fill: null });\n  }\n}\n\n/**\n * \u8BBE\u7F6E marker \u7684 symbol\uFF0C\u5C06 \u5B57\u7B26\u4E32\u7684 symbol \u8F6C\u6362\u4E3A\u771F\u6B63\u7684\u7ED8\u5236\u547D\u4EE4\n * @param marker\n */\nfunction setMarkerSymbol(marker: LegendMarkerCfg): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && MarkerSymbols[symbol]) {\n    marker.symbol = MarkerSymbols[symbol];\n  }\n}\n\n/**\n * @ignore\n * get the legend layout from direction\n * @param direction\n * @returns layout 'horizontal' | 'vertical'\n */\nexport function getLegendLayout(direction: DIRECTION): 'vertical' | 'horizontal' {\n  return direction.startsWith(DIRECTION.LEFT) || direction.startsWith(DIRECTION.RIGHT) ? 'vertical' : 'horizontal';\n}\n\n/** item of @antv/component legend  */\ntype ComponentLegendItem = Omit<LegendItem, 'marker'> & {\n  marker: any;\n};\n\n/**\n * @ignore\n * get the legend items\n * @param view\n * @param geometry\n * @param attr\n * @param themeMarker\n * @param markerCfg\n * @returns legend items\n */\nexport function getLegendItems(\n  view: View,\n  geometry: Geometry,\n  attr: Attribute,\n  themeMarker: object,\n  userMarker: LegendCfg['marker']\n): ComponentLegendItem[] {\n  const scale = attr.getScale(attr.type);\n  if (scale.isCategory) {\n    const field = scale.field;\n    const colorAttr = geometry.getAttribute('color');\n    const shapeAttr = geometry.getAttribute('shape');\n    const defaultColor = view.getTheme().defaultColor;\n    const isInPolar = geometry.coordinate.isPolar;\n\n    return scale.getTicks().map((tick: Tick, index: number) => {\n      const { text, value: scaleValue } = tick;\n      const name = text;\n      const value = scale.invert(scaleValue);\n\n      // \u901A\u8FC7\u8FC7\u6EE4\u56FE\u4F8B\u9879\u7684\u6570\u636E\uFF0C\u6765\u770B\u662F\u5426 unchecked\n      let unchecked = view.filterFieldData(field, [{ [field]: value }]).length === 0;\n      each(view.views, (subView) => {\n        if (!subView.filterFieldData(field, [{ [field]: value }]).length) {\n          unchecked = true;\n        }\n      });\n\n      // @ts-ignore\n      const color = getMappingValue(colorAttr, value, defaultColor);\n      const shape = getMappingValue(shapeAttr, value, 'point');\n      let marker = geometry.getShapeMarker(shape, {\n        color,\n        isInPolar,\n      });\n\n      let markerCfg = userMarker;\n      if (isFunction(markerCfg)) {\n        markerCfg = markerCfg(name, index, { name, value, ...deepMix({}, themeMarker, marker) });\n      }\n\n      // the marker configure order should be ensure\n      marker = deepMix({}, themeMarker, marker, omit({ ...markerCfg }, ['style']));\n      adpatorMarkerStyle(marker, color);\n      if (markerCfg && markerCfg.style) {\n        // handle user's style settings\n        marker.style = handleUserMarkerStyle(marker.style, markerCfg.style);\n      }\n      setMarkerSymbol(marker);\n\n      return { id: value, name, value, marker, unchecked };\n    });\n  }\n  return [];\n}\n\n/**\n *\n * @ignore\n * custom legend \u7684 items \u83B7\u53D6\n * @param themeMarker\n * @param userMarker\n * @param customItems\n */\nexport function getCustomLegendItems(themeMarker: object, userMarker: object, customItems: LegendItem[]) {\n  // \u5982\u679C\u6709\u81EA\u5B9A\u4E49\u7684 item\uFF0C\u90A3\u4E48\u5C31\u76F4\u63A5\u4F7F\u7528\uFF0C\u5E76\u5408\u5E76\u4E3B\u9898\u7684 marker \u914D\u7F6E\n  return customItems.map((item: LegendItem, index: number) => {\n    let markerCfg = userMarker;\n    if (isFunction(markerCfg)) {\n      markerCfg = markerCfg(item.name, index, deepMix({}, themeMarker, item));\n    }\n\n    const itemMarker = isFunction(item.marker)\n      ? item.marker(item.name, index, deepMix({}, themeMarker, item))\n      : item.marker;\n\n    const marker = deepMix({}, themeMarker, markerCfg, itemMarker);\n    setMarkerSymbol(marker);\n\n    item.marker = marker;\n    return item;\n  });\n}\n\n/**\n * get the legend cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction legend direction\n * @returns legend theme cfg\n */\nexport function getLegendThemeCfg(theme: object, direction: string): object {\n  const legendTheme = get(theme, ['components', 'legend'], {});\n  return deepMix({}, get(legendTheme, ['common'], {}), deepMix({}, get(legendTheme, [direction], {})));\n}\n", "import { isArray } from '@antv/util';\nimport { PathCommand } from '../../../dependents';\nimport { Point, RangePoint, ShapeVertices } from '../../../interface';\nimport { getSplinePath } from './path';\n\nfunction isValueEmpty(value) {\n  if (value) {\n    return false;\n  }\n  return value === null || value === undefined || isNaN(value);\n}\n\nfunction isYNil(point: Point[] | RangePoint) {\n  if (isArray(point)) {\n    // \u7279\u6B8A\u5904\u7406 area \u7684\u5173\u952E\u70B9\u6570\u636E\uFF0C\u5176\u5173\u952E\u70B9\u7ED3\u6784\u4E3A [{x: 0, y: 1}, {x: 0, y: 2}]\n    return isValueEmpty(point[1].y);\n  }\n  const value = point.y;\n  return isArray(value) ? isValueEmpty(value[0]) : isValueEmpty(value);\n}\n\n/**\n * @ignore\n * \u5206\u5272\u6570\u636E\uFF0C\u7528\u4E8E\u5904\u7406\u5728\u4E00\u7EC4\u70B9\u6570\u636E\u4E2D\uFF0Cy \u5BF9\u5E94\u7684\u6570\u503C\u5B58\u5728 null/undefined/NaN \u7684\u60C5\u51B5\n * \u5E94\u7528\u4E8E\u6298\u7EBF\u56FE\u3001\u533A\u57DF\u56FE\u4EE5\u53CA\u8DEF\u5F84\u56FE\n *\n * ```typescript\n * // return [[{x: 1, y: 2}, {x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], true);\n * // return [[{x: 1, y: 2}], [{x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], false);\n * // return [[[{ x: 1, y: 10 }, { x: 2, y: 2 }], [{ x: 9, y: 34 }, { x: 1, y: 1 }]]]\n * getPathPoints([\n *   [{ x: 1, y: 10 }, { x: 2, y: 2 }],\n *   [{ x: 4, y: 2 }, { x: 8, y: NaN }],\n *   [{ x: 9, y: 34 }, { x: 1, y: 1 }],\n * ], true);\n * ```\n *\n * @param points \u8981\u8FDB\u884C\u5904\u7406\u70B9\u96C6\u5408\n * @param connectNulls \u662F\u5426\u8FDE\u63A5\u7A7A\u503C\u6570\u636E\n * @param showSinglePoint \u662F\u5426\u5C55\u793A\u5B64\u7ACB\u70B9\n * @returns \u8FD4\u56DE\u5904\u7406\u540E\u7684\u70B9\u96C6\u5408\n */\nexport function getPathPoints(points: ShapeVertices, connectNulls: boolean = false, showSinglePoint: boolean = true) {\n  if (!points.length || (points.length === 1 && !showSinglePoint)) {\n    // \u7A7A\u6216\u8005\u53EA\u6709\u4E00\u4E2A\u70B9\u5E76\u914D\u7F6E\u4E0D\u5C55\u793A\u65F6\n    return [];\n  }\n\n  if (connectNulls) {\n    // \u5373 y \u503C\u4E3A\u7A7A\u7684\u573A\u666F\n    const filtered = [];\n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      if (!isYNil(point)) {\n        filtered.push(point);\n      }\n    }\n    return [filtered];\n  }\n\n  const result = [];\n  let tmp = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isYNil(point)) {\n      if (tmp.length) {\n        if (!(tmp.length === 1 && !showSinglePoint)) {\n          // \u5982\u679C\u524D\u6BB5\u6570\u636E\u53EA\u6709\u4E00\u4E2A\u5B57\u6BB5\u5E76\u4E14\u4E0D\u9700\u8981\u5C55\u793A\u65F6\u5219\u4E0D\u52A0\u5165\n          result.push(tmp);\n        }\n        tmp = [];\n      }\n    } else {\n      tmp.push(point);\n    }\n  }\n\n  if (tmp.length) {\n    result.push(tmp);\n  }\n  return result;\n}\n\n/**\n * \u83B7\u53D6\u5C0F\u63D0\u7434\u56FE\u7684\u8FB9\u754C path\n * @param points\n * @returns\n */\nexport function getViolinPath(points: ShapeVertices): PathCommand[] {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i] as Point;\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n  const first = points[0] as Point;\n  if (first) {\n    path.push(['L', first.x, first.y]);\n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n * \u83B7\u53D6\u5C0F\u63D0\u7434\u56FE \u5E73\u6ED1\u7684\u8FB9\u754C path\n * @param points\n * @returns\n */\nexport function getSmoothViolinPath(points: ShapeVertices): PathCommand[] {\n  const half = points.length / 2;\n  const leftPoints = [];\n  const rightPoints = [];\n  for (let i = 0; i < points.length; i++) {\n    if (i < half) {\n      leftPoints.push(points[i]);\n    } else {\n      rightPoints.push(points[i]);\n    }\n  }\n  const leftPath = getSplinePath(leftPoints, false);\n  const rightPath = getSplinePath(rightPoints, false);\n  if (rightPoints.length) {\n    leftPath.push(['L', rightPoints[0].x, rightPoints[0].y]);\n  }\n  rightPath.shift();\n  const path = leftPath.concat(rightPath);\n  if (leftPoints.length) {\n    path.push(['L', leftPoints[0].x, leftPoints[0].y]);\n  }\n  path.push(['z']);\n  return path;\n}\n", "import { deepMix, isNil, get } from '@antv/util';\nimport { ShapeInfo } from '../../../interface';\n\n/**\n * @ignore\n * \u83B7\u53D6 Shape \u7684\u56FE\u5F62\u5C5E\u6027\n * @param cfg\n * @param isStroke \u662F\u5426\u9700\u8981\u63CF\u8FB9\n * @param isFill \u662F\u5426\u9700\u8981\u586B\u5145\n * @param [sizeName] \u53EF\u9009\uFF0C\u8868\u793A\u56FE\u5F62\u5927\u5C0F\u7684\u5C5E\u6027\uFF0ClineWidth \u6216\u8005 r\n * @returns\n */\nexport function getStyle(cfg: ShapeInfo, isStroke: boolean, isFill: boolean, sizeName: string = '') {\n  const { style = {}, defaultStyle, color, size } = cfg;\n  const attrs = {\n    ...defaultStyle,\n    ...style,\n  };\n  if (color) {\n    if (isStroke) {\n      if (!style.stroke) {\n        // \u5982\u679C\u7528\u6237\u5728 style() \u4E2D\u914D\u7F6E\u4E86 stroke\uFF0C\u5219\u4EE5\u7528\u6237\u914D\u7F6E\u7684\u4E3A\u51C6\n        attrs.stroke = color;\n      }\n    }\n\n    if (isFill) {\n      if (!style.fill) {\n        // \u5982\u679C\u7528\u6237\u5728 style() \u4E2D\u914D\u7F6E\u4E86 fill\n        attrs.fill = color;\n      }\n    }\n  }\n  if (sizeName && isNil(style[sizeName]) && !isNil(size)) {\n    // \u5982\u679C\u7528\u6237\u5728 style() \u4E2D\u914D\u7F6E\u4E86 lineWidth \u6216\u8005 r \u5C5E\u6027\n    attrs[sizeName] = size;\n  }\n\n  return attrs;\n}\n\n/**\n * \u83B7\u53D6 \u77E9\u5F62\u80CC\u666F \u7684\u6837\u5F0F\n * @param cfg\n */\nexport function getBackgroundRectStyle(cfg?: ShapeInfo) {\n  return deepMix(\n    {},\n    {\n      // \u9ED8\u8BA4\u80CC\u666F\u8272\uFF0Ccopy from active-region\n      fill: '#CCD6EC',\n      fillOpacity: 0.3,\n    },\n    get(cfg, ['background', 'style'])\n  );\n}\n", "import { isArray } from '@antv/util';\nimport { Point, RangePoint } from '../../../interface';\n\n/**\n * @ignore\n * \u62C6\u5206\u70B9\u6570\u636E\n * @example\n * // result: [{x: 20, y: 20}, {x: 20, y: 30}]\n * splitPoints({x: 20,y: [20, 30]});\n * @example\n * // result: [{x: 20, y: 20}, {x: 30, y: 30}]\n * splitPoints({x: [20, 30],y: [20, 30]});\n * @param obj\n */\nexport function splitPoints(obj: RangePoint): Point[] {\n  // y \u6709\u53EF\u80FD\u662F\u6570\u7EC4\uFF0C\u5BF9\u5E94\u539F\u59CB\u6570\u636E\u4E2D y \u4E3A\u4E00\u4E2A\u533A\u95F4\u6570\u636E\uFF0C\u5982 [19, 30]\uFF0C\u4E3A\u4E86\u7EDF\u4E00\u4E5F\u5C06 x \u8F6C\u6362\u4E3A\u6570\u7EC4\n  const x = obj.x;\n  const y = isArray(obj.y) ? obj.y : [obj.y];\n\n  return y.map((eachY, index) => {\n    return {\n      x: isArray(x) ? x[index] : x,\n      y: eachY,\n    };\n  });\n}\n", "import { ShapeMarkerCfg } from '../../../interface';\n\nconst LineSymbols = {\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dot: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dash: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  smooth: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['A', r / 2, r / 2, 0, 1, 1, x, y],\n      ['A', r / 2, r / 2, 0, 1, 0, x + r, y],\n    ];\n  },\n  hv: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y - 2.5],\n      ['L', x, y - 2.5],\n      ['L', x, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y + 2.5],\n      ['L', x, y + 2.5],\n      ['L', x, y - 2.5],\n      ['L', x + r + 1, y - 2.5],\n    ];\n  },\n  hvh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - (r + 1), y + 2.5],\n      ['L', x - r / 2, y + 2.5],\n      ['L', x - r / 2, y - 2.5],\n      ['L', x + r / 2, y - 2.5],\n      ['L', x + r / 2, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vhv: (x: number, y: number) => {\n    // \u5BBD 13px\uFF0C\u9AD8 8px\n    return [\n      ['M', x - 5, y + 2.5],\n      ['L', x - 5, y],\n      ['L', x, y],\n      ['L', x, y - 3],\n      ['L', x, y + 3],\n      ['L', x + 6.5, y + 3],\n    ];\n  },\n};\n\n/**\n * Gets line marker\n * @ignore\n * @param markerCfg\n * @param shapeType\n * @returns \u8FD4\u56DE Line \u7684 marker \u914D\u7F6E\n */\nexport function getLineMarker(markerCfg: ShapeMarkerCfg, shapeType: string) {\n  const { color } = markerCfg;\n  return {\n    symbol: LineSymbols[shapeType],\n    style: {\n      lineWidth: 2,\n      r: 6,\n      stroke: color,\n    },\n  };\n}\n", "import { each, isArray } from '@antv/util';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\nimport { Point, Position, RangePoint, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\nimport { getLineMarker } from './util';\n\nfunction getShapeAttrs(cfg: ShapeInfo, smooth?: boolean, constraint?: Position[]) {\n  const { isStack, connectNulls, isInCircle, showSinglePoint } = cfg;\n  const shapeAttrs = getStyle(cfg, true, false, 'lineWidth');\n\n  const points = getPathPoints(cfg.points, connectNulls, showSinglePoint); // \u6839\u636E connectNulls \u503C\u5904\u7406 points\n  let path = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const eachLinePoints = points[i];\n    path = path.concat(getPath(eachLinePoints, isInCircle, isStack, smooth, constraint, shapeAttrs));\n  }\n  shapeAttrs.path = path;\n\n  return shapeAttrs;\n}\n\n// \u5355\u6761 path\nfunction getSinglePath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length === 1) {\n    // \u53EA\u6709\u4E00\u4E2A\u70B9\u65F6\n    return [\n      ['M', points[0].x, points[0].y - style.lineWidth / 2],\n      ['L', points[0].x, points[0].y],\n      ['L', points[0].x, points[0].y + style.lineWidth / 2],\n    ];\n  }\n\n  let path;\n  if (!smooth) {\n    path = getLinePath(points, false);\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  } else {\n    // \u76F4\u89D2\u5750\u6807\u7CFB\u4E0B\u7ED8\u5236\u66F2\u7EBF\u65F6\u9650\u5236\u6700\u5927\u503C\u3001\u6700\u5C0F\u503C\n    if (isInCircle && points.length) {\n      points.push({ x: points[0].x, y: points[0].y });\n    }\n    path = getSplinePath(points, false, constraint);\n  }\n\n  return path;\n}\n\nfunction getRangePath(\n  points: RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  const topPoints = [];\n  const bottomPoints = [];\n  each(points, (point: RangePoint) => {\n    const result = splitPoints(point);\n    topPoints.push(result[1]); // \u4E0A\u8FB9\n    bottomPoints.push(result[0]); // \u5E95\u8FB9\n  });\n\n  const topPath = getSinglePath(topPoints, isInCircle, smooth, constraint, style);\n  const bottomPath = getSinglePath(bottomPoints, isInCircle, smooth, constraint, style);\n  if (isStack) {\n    return topPath;\n  }\n  return topPath.concat(bottomPath);\n}\n\n/**\n * \u83B7\u53D6\u6298\u7EBF\u56FE path\n */\nexport function getPath(\n  points: Point[] | RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length) {\n    const first = points[0];\n\n    return isArray(first.y)\n      ? getRangePath(points as RangePoint[], isInCircle, isStack, smooth, constraint, style)\n      : getSinglePath(points as Point[], isInCircle, smooth, constraint, style);\n  }\n  return [];\n}\n\nconst LineShapeFactory = registerShapeFactory('line', {\n  defaultShapeType: 'line',\n});\n\n// \u8FD9\u91CC\u56E0\u4E3A\u4EE3\u7801\u516C\u7528\uFF0C\u6240\u4EE5\u76F4\u63A5\u5168\u90E8\u6CE8\u518C\n// 'line' \u9ED8\u8BA4\u6298\u7EBF\uFF1B'dot' \u70B9\u7EBF \u00B7\u00B7\u00B7\uFF1B'dash' \u65AD\u7EBF - - -\neach(['line', 'dot', 'dash', 'smooth'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const smooth = shapeType === 'smooth';\n      let constraint;\n      if (smooth) {\n        const { start, end } = this.coordinate;\n        constraint = [\n          [start.x, end.y],\n          [end.x, start.y],\n        ];\n      }\n\n      const attrs = getShapeAttrs(cfg, smooth, constraint);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n        capture: !smooth,\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n\nexport default LineShapeFactory;\n", "/* G2 \u7684\u4E00\u4E2A\u58F3\u5B50\uFF0C\u4E0D\u5305\u542B Geometry\uFF0C\u7531\u5F00\u53D1\u8005\u81EA\u5DF1\u5B9A\u4E49\u548C\u5F15\u5165 */\n\nexport const VERSION = '4.2.2';\n\n// \u6838\u5FC3\u57FA\u7C7B\u5BFC\u51FA\nexport { Chart, View, Event } from './chart'; // Chart, View \u7C7B\nexport { Controller as ComponentController } from './chart/controller/base'; // G2 \u7EC4\u4EF6\u57FA\u7C7B\nexport { default as TooltipController } from './chart/controller/tooltip'; // G2 tooltip \u7EC4\u4EF6\u57FA\u7C7B\nexport { default as Geometry } from './geometry/base'; // Geometry \u57FA\u7C7B\nexport { default as Element } from './geometry/element'; // Element \u7C7B\nexport { default as GeometryLabel } from './geometry/label/base'; // Geometry Label \u57FA\u7C7B\nexport { Interaction, Action } from './interaction'; // Interaction, Action \u57FA\u7C7B\nexport { Facet } from './facet'; // Facet \u57FA\u7C7B\nexport { default as InteractionAction } from './interaction/action/base'; // Interaction Action \u57FA\u7C7B\n\n// \u6CE8\u518C ComponentController\nexport { registerComponentController } from './chart';\n\n// \u6CE8\u518C Geometry\nexport { registerGeometry } from './chart';\n\n// \u6CE8\u518C Geometry Shape\nexport { registerShape, registerShapeFactory, getShapeFactory } from './geometry/shape/base';\n\n// \u6CE8\u518C Geometry label \u4EE5\u53CA Geometry Label \u5E03\u5C40\u51FD\u6570\nexport {\n  registerGeometryLabel,\n  registerGeometryLabelLayout,\n  getGeometryLabel,\n  getGeometryLabelLayout,\n} from './geometry/label';\n\n// \u6CE8\u518C interaction\nexport { getInteraction, registerInteraction, registerAction, getActionClass } from './interaction';\n\n// \u6CE8\u518C facet\nexport { getFacet, registerFacet } from './facet';\n\n// \u6CE8\u518C\u4E3B\u9898\nexport { getTheme, registerTheme } from './theme';\n\n// G engine \u7BA1\u7406\u76F8\u5173\nexport { registerEngine, getEngine } from './engine';\n\n// \u6CE8\u518C\u52A8\u753B\u51FD\u6570\nexport { registerAnimation, getAnimation } from './animate/animation';\n\nexport { LAYER, DIRECTION } from './constant';\n\n// \u56E0\u4E3A typescript \u90E8\u5206\u7248\u672C\u4E0D\u652F\u6301 export * as \u8BED\u6CD5\u3002\nimport * as Types from './interface';\nexport type { Types };\n\nexport { IGroup, ShapeAttrs, Coordinate, Scale, ScaleConfig } from './dependents';\n\n// \u4E00\u4E9B\u5DE5\u5177\u65B9\u6CD5\u5BFC\u51FA\nimport { getMappingValue } from './util/attr';\nimport { getLegendItems } from './util/legend';\nimport { getAngle, getSectorPath, polarToCartesian } from './util/graphics';\nimport { rotate, transform, translate, zoom } from './util/transform';\nimport { getTooltipItems } from './util/tooltip';\nimport { getDelegationObject } from './interaction/action/util';\nimport { getPathPoints } from './geometry/shape/util/get-path-points';\nimport { getPath } from './geometry/shape/line';\n\nexport const Util = {\n  getLegendItems,\n  translate,\n  rotate,\n  zoom,\n  transform,\n  getAngle,\n  getSectorPath,\n  polarToCartesian,\n  getDelegationObject,\n  getTooltipItems,\n  getMappingValue,\n  // shape \u7684\u4E00\u4E9B\u64CD\u4F5C\u65B9\u6CD5\n  getPath,\n  getPathPoints,\n};\n", "import { StyleSheetCfg } from '../../interface';\n\nconst WHITE_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst BLACK_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#E86452',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#E86452',\n  '#F8D0CB',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/** \u5355\u8272\u987A\u5E8F\u8272\u677F */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createDarkStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const { paletteQualitative10 = QUALITATIVE_10, paletteQualitative20 = QUALITATIVE_20 } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  const token = {\n    /** \u56FE\u8868\u80CC\u666F\u8272 */\n    backgroundColor: '#141414',\n    /** \u4E3B\u9898\u8272 */\n    brandColor,\n    /** \u56FE\u8868\u8F85\u52A9\u8272 */\n    subColor: 'rgba(255,255,255,0.05)',\n    /** \u5206\u7C7B\u8272\u677F 1\uFF0C\u5728\u6570\u636E\u91CF\u5C0F\u4E8E\u7B49\u4E8E 10 \u65F6\u4F7F\u7528 */\n    paletteQualitative10,\n    /** \u5206\u7C7B\u8272\u677F 2\uFF0C\u5728\u6570\u636E\u91CF\u5927\u4E8E 10 \u65F6\u4F7F\u7528 */\n    paletteQualitative20,\n    /** \u8BED\u4E49\u8272 */\n    paletteSemanticRed: '#F4664A',\n    /** \u8BED\u4E49\u8272 */\n    paletteSemanticGreen: '#30BF78',\n    /** \u8BED\u4E49\u8272 */\n    paletteSemanticYellow: '#FAAD14',\n    /** (\u5355\u8272)\u987A\u5E8F\u8272\u677F */\n    paletteSequence: SINGLE_SEQUENCE,\n    /** \u5B57\u4F53 */\n    fontFamily: `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n\n    // -------------------- \u5750\u6807\u8F74 --------------------\n    /** \u5750\u6807\u8F74\u7EBF\u989C\u8272 */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /** \u5750\u6807\u8F74\u7EBF\u7C97\u7EC6 */\n    axisLineBorder: 1,\n    /** \u5750\u6807\u8F74\u7EBF lineDash \u8BBE\u7F6E */\n    axisLineDash: null,\n\n    /** \u5750\u6807\u8F74\u6807\u9898\u989C\u8272 */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /** \u5750\u6807\u8F74\u6807\u9898\u6587\u672C\u5B57\u4F53\u5927\u5C0F */\n    axisTitleTextFontSize: 12,\n    /** \u5750\u6807\u8F74\u6807\u9898\u6587\u672C\u884C\u9AD8 */\n    axisTitleTextLineHeight: 12,\n    /** \u5750\u6807\u8F74\u6807\u9898\u6587\u672C\u5B57\u4F53\u7C97\u7EC6 */\n    axisTitleTextFontWeight: 'normal',\n    /** \u5750\u6807\u8F74\u6807\u9898\u8DDD\u79BB\u5750\u6807\u8F74\u6587\u672C\u7684\u95F4\u8DDD */\n    axisTitleSpacing: 12,\n    /** \u5750\u6807\u8F74\u6807\u9898\u8BE6\u7EC6\u8BF4\u660Eicon\u989C\u8272 */\n    axisDescriptionIconFillColor: WHITE_COLORS[85],\n\n    /** \u5750\u6807\u8F74\u523B\u5EA6\u7EBF\u989C\u8272 */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /** \u5750\u6807\u8F74\u523B\u5EA6\u7EBF\u957F\u5EA6 */\n    axisTickLineLength: 4,\n    /** \u5750\u6807\u8F74\u523B\u5EA6\u7EBF\u7C97\u7EC6 */\n    axisTickLineBorder: 1,\n\n    /** \u5750\u6807\u8F74\u6B21\u523B\u5EA6\u7EBF\u989C\u8272 */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /** \u5750\u6807\u8F74\u6B21\u523B\u5EA6\u7EBF\u957F\u5EA6 */\n    axisSubTickLineLength: 2,\n    /** \u5750\u6807\u8F74\u6B21\u523B\u5EA6\u7EBF\u7C97\u7EC6 */\n    axisSubTickLineBorder: 1,\n\n    /** \u5750\u6807\u8F74\u523B\u5EA6\u6587\u672C\u989C\u8272 */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /** \u5750\u6807\u8F74\u523B\u5EA6\u6587\u672C\u5B57\u4F53\u5927\u5C0F */\n    axisLabelFontSize: 12,\n    /** \u5750\u6807\u8F74\u523B\u5EA6\u6587\u672C\u884C\u9AD8 */\n    axisLabelLineHeight: 12,\n    /** \u5750\u6807\u8F74\u523B\u5EA6\u6587\u672C\u5B57\u4F53\u7C97\u7EC6 */\n    axisLabelFontWeight: 'normal',\n    /** \u5750\u6807\u8F74\u523B\u5EA6\u6587\u672C\u8DDD\u79BB\u5750\u6807\u8F74\u7EBF\u7684\u95F4\u8DDD */\n    axisLabelOffset: 8,\n\n    /** \u5750\u6807\u8F74\u7F51\u683C\u7EBF\u989C\u8272 */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /** \u5750\u6807\u8F74\u7F51\u683C\u7EBF\u7C97\u7EC6 */\n    axisGridBorder: 1,\n    /** \u5750\u6807\u8F74\u7F51\u683C\u7EBF\u865A\u7EBF\u8BBE\u7F6E */\n    axisGridLineDash: null,\n\n    // -------------------- \u56FE\u4F8B --------------------\n    /** \u56FE\u4F8B\u6807\u9898\u989C\u8272 */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /** \u56FE\u4F8B\u6807\u9898\u6587\u672C\u5B57\u4F53\u5927\u5C0F */\n    legendTitleTextFontSize: 12,\n    /** \u56FE\u4F8B\u6807\u9898\u6587\u672C\u884C\u9AD8 */\n    legendTitleTextLineHeight: 21,\n    /** \u56FE\u4F8B\u6807\u9898\u6587\u672C\u5B57\u4F53\u7C97\u7EC6 */\n    legendTitleTextFontWeight: 'normal',\n\n    /** \u56FE\u4F8B marker \u989C\u8272 */\n    legendMarkerColor: QUALITATIVE_10[0],\n    /** \u56FE\u4F8B marker \u8DDD\u79BB\u56FE\u4F8B\u6587\u672C\u7684\u95F4\u8DDD */\n    legendMarkerSpacing: 8,\n    /** \u56FE\u4F8B marker \u9ED8\u8BA4\u534A\u5F84\u5927\u5C0F */\n    legendMarkerSize: 4,\n    /** \u56FE\u4F8B 'circle' marker \u534A\u5F84 */\n    legendCircleMarkerSize: 4,\n    /** \u56FE\u4F8B 'square' marker \u534A\u5F84 */\n    legendSquareMarkerSize: 4,\n    /** \u56FE\u4F8B 'line' marker \u534A\u5F84 */\n    legendLineMarkerSize: 5,\n\n    /** \u56FE\u4F8B\u9879\u6587\u672C\u989C\u8272 */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /** \u56FE\u4F8B\u9879\u6587\u672C\u5B57\u4F53\u5927\u5C0F */\n    legendItemNameFontSize: 12,\n    /** \u56FE\u4F8B\u9879\u6587\u672C\u884C\u9AD8 */\n    legendItemNameLineHeight: 12,\n    /** \u56FE\u4F8B\u9879\u7C97\u7EC6 */\n    legendItemNameFontWeight: 'normal',\n    /** \u56FE\u4F8B\u9879\u4E4B\u95F4\u7684\u6C34\u5E73\u95F4\u8DDD */\n    legendItemSpacing: 24,\n    /** \u56FE\u4F8B\u9879\u5782\u76F4\u65B9\u5411\u7684\u95F4\u9694 */\n    legendItemMarginBottom: 12,\n    /** \u56FE\u4F8B\u4E0E\u56FE\u8868\u7ED8\u56FE\u533A\u57DF\u7684\u504F\u79FB\u8DDD\u79BB  */\n    legendSpacing: 16,\n    /** \u56FE\u4F8B\u4E0E\u56FE\u8868\u7ED8\u56FE\u533A\u57DF\u7684\u504F\u79FB\u8DDD\u79BB  */\n    legendPadding: [8, 8, 8, 8],\n    /** \u6C34\u5E73\u5E03\u5C40\u7684\u56FE\u4F8B\u4E0E\u7ED8\u56FE\u533A\u57DF\u504F\u79FB\u8DDD\u79BB */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /** \u5782\u76F4\u5E03\u5C40\u7684\u56FE\u4F8B\u4E0E\u7ED8\u56FE\u533A\u57DF\u504F\u79FB\u8DDD\u79BB */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // \u56FE\u4F8B\u5206\u9875\u5668\n    /** \u56FE\u4F8B\u5206\u9875\u5668 marker \u5927\u5C0F */\n    legendPageNavigatorMarkerSize: 12,\n    /** \u56FE\u4F8B\u5206\u9875\u5668 marker \u586B\u5145\u8272 */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[45],\n    /** \u56FE\u4F8B\u5206\u9875\u5668 marker \u586B\u5145\u8272\u900F\u660E\u5EA6 */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /** \u56FE\u4F8B\u5206\u9875\u5668 marker \u6FC0\u6D3B\u72B6\u6001\u586B\u5145\u8272 */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[45],\n    /** \u56FE\u4F8B\u5206\u9875\u5668 marker \u6FC0\u6D3B\u72B6\u6001\u586B\u5145\u8272\u900F\u660E\u5EA6 */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /** \u56FE\u4F8B\u5206\u9875\u5668\u6587\u672C\u989C\u8272 */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[65],\n    /** \u56FE\u4F8B\u5206\u9875\u5668\u6587\u672C\u5B57\u4F53\u5927\u5C0F */\n    legendPageNavigatorTextFontSize: 12,\n\n    /** \u8FDE\u7EED\u56FE\u4F8B\u6ED1\u5757\u586B\u5145\u8272 */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /** \u8FDE\u7EED\u56FE\u4F8B\u6ED1\u5757\u8FB9\u6846\u7C97\u7EC6 */\n    sliderRailBorder: 0,\n    /** \u8FDE\u7EED\u56FE\u4F8B\u6ED1\u5757\u8FB9\u6846\u989C\u8272 */\n    sliderRailBorderColor: null,\n    /** \u8FDE\u7EED\u56FE\u4F8B\u6ED1\u5757\u5BBD\u5EA6 */\n    sliderRailWidth: 100,\n    /** \u8FDE\u7EED\u56FE\u4F8B\u6ED1\u5757\u9AD8\u5EA6 */\n    sliderRailHeight: 12,\n\n    /** \u8FDE\u7EED\u56FE\u4F8B\u6587\u672C\u989C\u8272 */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /** \u8FDE\u7EED\u56FE\u4F8B\u6587\u672C\u5B57\u4F53\u5927\u5C0F */\n    sliderLabelTextFontSize: 12,\n    /** \u8FDE\u7EED\u56FE\u4F8B\u6587\u672C\u884C\u9AD8 */\n    sliderLabelTextLineHeight: 12,\n    /** \u8FDE\u7EED\u56FE\u4F8B\u6587\u672C\u5B57\u4F53\u7C97\u7EC6 */\n    sliderLabelTextFontWeight: 'normal',\n\n    /** \u8FDE\u7EED\u56FE\u4F8B\u6ED1\u5757\u989C\u8272 */\n    sliderHandlerFillColor: WHITE_COLORS[6],\n    /** \u8FDE\u7EED\u56FE\u4F8B\u6ED1\u5757\u5BBD\u5EA6 */\n    sliderHandlerWidth: 10,\n    /** \u8FDE\u7EED\u56FE\u4F8B\u6ED1\u5757\u9AD8\u5EA6 */\n    sliderHandlerHeight: 14,\n    /** \u8FDE\u7EED\u56FE\u4F8B\u6ED1\u5757\u8FB9\u6846\u7C97\u7EC6 */\n    sliderHandlerBorder: 1,\n    /** \u8FDE\u7EED\u56FE\u4F8B\u6ED1\u5757\u8FB9\u6846\u989C\u8272 */\n    sliderHandlerBorderColor: WHITE_COLORS[25],\n\n    // -------------------- Annotation\uFF0C\u56FE\u5F62\u6807\u6CE8 --------------------\n    /** arc \u56FE\u5F62\u6807\u6CE8\u63CF\u8FB9\u989C\u8272 */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc \u56FE\u5F62\u6807\u6CE8\u7C97\u7EC6 */\n    annotationArcBorder: 1,\n\n    /** line \u56FE\u5F62\u6807\u6CE8\u989C\u8272 */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line \u56FE\u5F62\u6807\u6CE8\u7C97\u7EC6 */\n    annotationLineBorder: 1,\n    /** lube \u56FE\u5F62\u6807\u6CE8\u7684\u865A\u7EBF\u95F4\u9694 */\n    annotationLineDash: null,\n\n    /** text \u56FE\u5F62\u6807\u6CE8\u6587\u672C\u989C\u8272 */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text \u56FE\u5F62\u6807\u6CE8\u6587\u672C\u5B57\u4F53\u5927\u5C0F */\n    annotationTextFontSize: 12,\n    /** text \u56FE\u5F62\u6807\u6CE8\u6587\u672C\u884C\u9AD8 */\n    annotationTextLineHeight: 12,\n    /** text \u56FE\u5F62\u6807\u6CE8\u6587\u672C\u5B57\u4F53\u7C97\u7EC6 */\n    annotationTextFontWeight: 'normal',\n    /** text \u56FE\u5F62\u6807\u6CE8\u6587\u672C\u8FB9\u6846\u989C\u8272 */\n    annotationTextBorderColor: null,\n    /** text \u56FE\u5F62\u6807\u6CE8\u6587\u672C\u8FB9\u6846\u7C97\u7EC6 */\n    annotationTextBorder: 0,\n\n    /** region \u56FE\u5F62\u6807\u6CE8\u586B\u5145\u989C\u8272 */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region \u56FE\u5F62\u6807\u6CE8\u586B\u5145\u989C\u8272\u900F\u660E\u8272 */\n    annotationRegionFillOpacity: 0.06,\n    /** region \u56FE\u5F62\u6807\u6CE8\u63CF\u8FB9\u7C97\u7EC6 */\n    annotationRegionBorder: 0,\n    /** region \u56FE\u5F62\u6807\u6CE8\u63CF\u8FB9\u989C\u8272 */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker \u56FE\u5F62\u6807\u6CE8\u7EBF\u7684\u957F\u5EA6 */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs \u8F85\u52A9\u7EBF\u989C\u8272 */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs \u8F85\u52A9\u7EBF\u7C97\u7EC6 */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs \u8F85\u52A9\u7EBF\u865A\u7EBF\u95F4\u9694 */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip \u5185\u5BB9\u6846\u80CC\u666F\u8272 */\n    tooltipContainerFillColor: '#1f1f1f',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip \u5185\u5BB9\u6846\u9634\u5F71 */\n    tooltipContainerShadow: '0px 2px 4px rgba(0,0,0,.5)',\n    /** tooltip \u5185\u5BB9\u6846\u5706\u89D2 */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip \u6587\u672C\u989C\u8272 */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip \u6587\u672C\u5B57\u4F53\u5927\u5C0F */\n    tooltipTextFontSize: 12,\n    /** tooltip \u6587\u672C\u884C\u9AD8 */\n    tooltipTextLineHeight: 12,\n    /** tooltip \u6587\u672C\u5B57\u4F53\u7C97\u7EC6 */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label \u6587\u672C\u989C\u8272 */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label \u6587\u672C\u5B57\u4F53\u5927\u5C0F */\n    labelFontSize: 12,\n    /** Geometry label \u6587\u672C\u884C\u9AD8 */\n    labelLineHeight: 12,\n    /** Geometry label \u6587\u672C\u5B57\u4F53\u7C97\u7EC6 */\n    labelFontWeight: 'normal',\n    /** Geometry label \u6587\u672C\u63CF\u8FB9\u989C\u8272 */\n    labelBorderColor: null,\n    /** Geometry label \u6587\u672C\u63CF\u8FB9\u7C97\u7EC6 */\n    labelBorder: 0,\n\n    /** Geometry innerLabel \u6587\u672C\u989C\u8272 */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel \u6587\u672C\u5B57\u4F53\u5927\u5C0F */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel \u6587\u672C\u884C\u9AD8 */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel \u6587\u672C\u5B57\u4F53\u7C97\u7EC6 */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel \u6587\u672C\u63CF\u8FB9\u989C\u8272 */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel \u6587\u672C\u63CF\u8FB9\u7C97\u7EC6 */\n    innerLabelBorder: 0,\n\n    /** Geometry label \u6587\u672C\u989C\u8272 */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    overflowLabelFillColorDark: '#2c3542',\n    overflowLabelFillColorLight: '#ffffff',\n    /** Geometry label \u6587\u672C\u5B57\u4F53\u5927\u5C0F */\n    overflowLabelFontSize: 12,\n    /** Geometry label \u6587\u672C\u884C\u9AD8 */\n    overflowLabelLineHeight: 12,\n    /** Geometry label \u6587\u672C\u5B57\u4F53\u7C97\u7EC6 */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry label \u6587\u672C\u63CF\u8FB9\u989C\u8272 */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry label \u6587\u672C\u63CF\u8FB9\u7C97\u7EC6 */\n    overflowLabelBorder: 1,\n\n    /** Geometry label \u6587\u672C\u8FDE\u63A5\u7EBF\u7C97\u7EC6 */\n    labelLineBorder: 1,\n    /** Geometry label \u6587\u672C\u8FDE\u63A5\u7EBF\u989C\u8272 */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider \u7EC4\u4EF6\u6837\u5F0F--------------------\n    /** slider \u6ED1\u9053\u9AD8\u5EA6 */\n    cSliderRailHieght: 16,\n    /** slider \u6ED1\u9053\u80CC\u666F\u8272 */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider \u6ED1\u9053\u80CC\u666F\u8272\u900F\u660E\u5EA6 */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider \u6ED1\u9053\u524D\u666F\u8272 */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider \u6ED1\u9053\u524D\u666F\u8272\u900F\u660E\u5EA6 */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle \u624B\u67C4\u6837\u5F0F\n    /** slider \u624B\u67C4\u9AD8\u5EA6 */\n    cSliderHandlerHeight: 24,\n    /** Slider \u624B\u67C4\u5BBD\u5EA6 */\n    cSliderHandlerWidth: 10,\n    /** Slider \u624B\u67C4\u80CC\u666F\u8272 */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider \u624B\u67C4\u80CC\u666F\u8272\u900F\u660E\u5EA6 */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider \u624B\u67C4\u9AD8\u4EAE\u80CC\u666F\u8272 */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider \u624B\u67C4\u8FB9\u6846\u8272 */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider \u624B\u67C4\u8FB9\u6846\u7C97\u7EC6 */\n    cSliderHandlerBorder: 1,\n    /** Slider \u624B\u67C4\u8FB9\u6846\u5706\u89D2 */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle \u5B57\u4F53\u6807\u7B7E\u6837\u5F0F\n    /** Slider \u5B57\u4F53\u6807\u7B7E\u989C\u8272 */\n    cSliderTextFillColor: '#fff',\n    /** Slider \u5B57\u4F53\u6807\u7B7E\u900F\u660E\u5EA6 */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider \u5B57\u4F53\u6807\u7B7E\u5927\u5C0F */\n    cSliderTextFontSize: 12,\n    /** Slider \u5B57\u4F53\u6807\u7B7E\u884C\u9AD8 */\n    cSliderTextLineHeight: 12,\n    /** Slider \u5B57\u4F53\u6807\u7B7E\u5B57\u91CD */\n    cSliderTextFontWeight: 'normal',\n    /** Slider \u5B57\u4F53\u6807\u7B7E\u63CF\u8FB9\u8272 */\n    cSliderTextBorderColor: null,\n    /** Slider \u5B57\u4F53\u6807\u7B7E\u63CF\u8FB9\u7C97\u7EC6 */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar \u7EC4\u4EF6\u6837\u5F0F--------------------\n    /** \u6EDA\u52A8\u6761 \u6EDA\u9053\u586B\u5145\u8272 */\n    scrollbarTrackFillColor: 'rgba(255,255,255,0.65)',\n    /** \u6EDA\u52A8\u6761 \u6ED1\u5757\u586B\u5145\u8272 */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.35)',\n    /** \u6EDA\u52A8\u6761 \u6ED1\u5757\u9AD8\u4EAE\u586B\u5145\u8272 */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.45)',\n\n    // -------------------- Geometry \u56FE\u5F62\u6837\u5F0F--------------------\n    /** \u70B9\u56FE\u586B\u5145\u989C\u8272 */\n    pointFillColor: QUALITATIVE_10[0],\n    /** \u70B9\u56FE\u586B\u5145\u989C\u8272\u900F\u660E\u5EA6 */\n    pointFillOpacity: 0.95,\n    /** \u70B9\u56FE\u5927\u5C0F */\n    pointSize: 4,\n    /** \u70B9\u56FE\u63CF\u8FB9\u7C97\u7EC6 */\n    pointBorder: 1,\n    /** \u70B9\u56FE\u63CF\u8FB9\u989C\u8272 */\n    pointBorderColor: WHITE_COLORS[100],\n    /** \u70B9\u56FE\u63CF\u8FB9\u900F\u660E\u5EA6 */\n    pointBorderOpacity: 1,\n\n    /** \u70B9\u56FE active \u72B6\u6001\u4E0B\u63CF\u8FB9\u989C\u8272 */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /** \u70B9\u56FE selected \u72B6\u6001\u4E0B\u63CF\u8FB9\u7C97\u7EC6 */\n    pointSelectedBorder: 2,\n    /** \u70B9\u56FE selected \u72B6\u6001\u4E0B\u63CF\u8FB9\u989C\u8272 */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /** \u70B9\u56FE inactive \u72B6\u6001\u4E0B\u586B\u5145\u989C\u8272\u900F\u660E\u5EA6 */\n    pointInactiveFillOpacity: 0.3,\n    /** \u70B9\u56FE inactive \u72B6\u6001\u4E0B\u63CF\u8FB9\u900F\u660E\u5EA6 */\n    pointInactiveBorderOpacity: 0.3,\n\n    /** \u7A7A\u5FC3\u70B9\u56FE\u5927\u5C0F */\n    hollowPointSize: 4,\n    /** \u7A7A\u5FC3\u70B9\u56FE\u63CF\u8FB9\u7C97\u7EC6 */\n    hollowPointBorder: 1,\n    /** \u7A7A\u5FC3\u70B9\u56FE\u63CF\u8FB9\u989C\u8272 */\n    hollowPointBorderColor: QUALITATIVE_10[0],\n    /** \u7A7A\u5FC3\u70B9\u56FE\u63CF\u8FB9\u900F\u660E\u5EA6 */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /** \u7A7A\u5FC3\u70B9\u56FE active \u72B6\u6001\u4E0B\u63CF\u8FB9\u7C97\u7EC6 */\n    hollowPointActiveBorder: 1,\n    /** \u7A7A\u5FC3\u70B9\u56FE active \u72B6\u6001\u4E0B\u63CF\u8FB9\u989C\u8272 */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /** \u7A7A\u5FC3\u70B9\u56FE active \u72B6\u6001\u4E0B\u63CF\u8FB9\u900F\u660E\u5EA6 */\n    hollowPointActiveBorderOpacity: 1,\n\n    /** \u7A7A\u5FC3\u70B9\u56FE selected \u72B6\u6001\u4E0B\u63CF\u8FB9\u7C97\u7EC6 */\n    hollowPointSelectedBorder: 2,\n    /** \u7A7A\u5FC3\u70B9\u56FE selected \u72B6\u6001\u4E0B\u63CF\u8FB9\u989C\u8272 */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /** \u7A7A\u5FC3\u70B9\u56FE selected \u72B6\u6001\u4E0B\u63CF\u8FB9\u900F\u660E\u5EA6 */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /** \u7A7A\u5FC3\u70B9\u56FE inactive \u72B6\u6001\u4E0B\u63CF\u8FB9\u900F\u660E\u5EA6 */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /** \u7EBF\u56FE\u7C97\u7EC6 */\n    lineBorder: 2,\n    /** \u7EBF\u56FE\u989C\u8272 */\n    lineBorderColor: QUALITATIVE_10[0],\n    /** \u7EBF\u56FE\u900F\u660E\u5EA6 */\n    lineBorderOpacity: 1,\n\n    /** \u7EBF\u56FE Active \u72B6\u6001\u4E0B\u7C97\u7EC6 */\n    lineActiveBorder: 3,\n\n    /** \u7EBF\u56FE selected \u72B6\u6001\u4E0B\u7C97\u7EC6 */\n    lineSelectedBorder: 3,\n\n    /** \u7EBF\u56FE inactive \u72B6\u6001\u4E0B\u900F\u660E\u5EA6 */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area \u586B\u5145\u989C\u8272 */\n    areaFillColor: QUALITATIVE_10[0],\n    /** area \u586B\u5145\u900F\u660E\u5EA6 */\n    areaFillOpacity: 0.25,\n\n    /** area \u5728 active \u72B6\u6001\u4E0B\u7684\u586B\u5145\u900F\u660E\u5EA6 */\n    areaActiveFillColor: QUALITATIVE_10[0],\n    areaActiveFillOpacity: 0.5,\n\n    /** area \u5728 selected \u72B6\u6001\u4E0B\u7684\u586B\u5145\u900F\u660E\u5EA6 */\n    areaSelectedFillColor: QUALITATIVE_10[0],\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive \u72B6\u6001\u4E0B\u586B\u5145\u900F\u660E\u5EA6 */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea \u989C\u8272 */\n    hollowAreaBorderColor: QUALITATIVE_10[0],\n    /** hollowArea \u8FB9\u6846\u7C97\u7EC6 */\n    hollowAreaBorder: 2,\n    /** hollowArea \u8FB9\u6846\u900F\u660E\u5EA6 */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active \u72B6\u6001\u4E0B\u7684\u8FB9\u6846\u7C97\u7EC6 */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected \u72B6\u6001\u4E0B\u7684\u8FB9\u6846\u7C97\u7EC6 */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive \u72B6\u6001\u4E0B\u7684\u8FB9\u6846\u900F\u660E\u5EA6 */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval \u586B\u5145\u989C\u8272 */\n    intervalFillColor: QUALITATIVE_10[0],\n    /** interval \u586B\u5145\u900F\u660E\u5EA6 */\n    intervalFillOpacity: 0.95,\n\n    /** interval active \u72B6\u6001\u4E0B\u8FB9\u6846\u7C97\u7EC6 */\n    intervalActiveBorder: 1,\n    /** interval active \u72B6\u6001\u4E0B\u8FB9\u6846\u989C\u8272 */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected \u72B6\u6001\u4E0B\u8FB9\u6846\u7C97\u7EC6 */\n    intervalSelectedBorder: 2,\n    /** interval selected \u72B6\u6001\u4E0B\u8FB9\u6846\u989C\u8272 */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected \u72B6\u6001\u4E0B\u8FB9\u6846\u900F\u660E\u5EA6 */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive \u72B6\u6001\u4E0B\u8FB9\u6846\u900F\u660E\u5EA6 */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive \u72B6\u6001\u4E0B\u586B\u5145\u900F\u660E\u5EA6 */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval \u8FB9\u6846\u7C97\u7EC6 */\n    hollowIntervalBorder: 2,\n    /** hollowInterval \u8FB9\u6846\u989C\u8272 */\n    hollowIntervalBorderColor: QUALITATIVE_10[0],\n    /** hollowInterval \u8FB9\u6846\u900F\u660E\u5EA6 */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active \u72B6\u6001\u4E0B\u8FB9\u6846\u7C97\u7EC6 */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active \u72B6\u6001\u4E0B\u8FB9\u6846\u989C\u8272 */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected \u72B6\u6001\u4E0B\u8FB9\u6846\u7C97\u7EC6 */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected \u72B6\u6001\u4E0B\u8FB9\u6846\u989C\u8272 */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected \u72B6\u6001\u4E0B\u8FB9\u6846\u900F\u660E\u5EA6 */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive \u72B6\u6001\u4E0B\u8FB9\u6846\u900F\u660E\u5EA6 */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n\n  return { ...token, ...cfg };\n};\n\nexport const antvDark = createDarkStyleSheet();\n", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry, { GeometryCfg } from './base';\nimport Element from './element';\n/** \u5F15\u5165\u5BF9\u5E94\u7684 ShapeFactory */\nimport './shape/line';\nimport { isModelChange } from './util/is-model-change';\nimport { diff } from './util/diff';\n\n/** Path \u6784\u9020\u51FD\u6570\u53C2\u6570\u7C7B\u578B */\nexport interface PathCfg extends GeometryCfg {\n  /** \u662F\u5426\u8FDE\u63A5\u7A7A\u503C */\n  connectNulls?: boolean;\n  /** \u5355\u4E2A\u5B64\u7ACB\u6570\u636E\u70B9\u662F\u5426\u5C55\u793A */\n  showSinglePoint?: boolean;\n}\n\n/**\n * Path \u51E0\u4F55\u6807\u8BB0\u3002\n * \u7528\u4E8E\u7ED8\u5236\u8DEF\u5F84\u56FE\u7B49\u3002\n */\nexport default class Path extends Geometry {\n  public readonly type: string = 'path';\n  public readonly shapeType: string = 'line';\n  /** \u662F\u5426\u8FDE\u63A5\u7A7A\u503C */\n  public connectNulls: boolean;\n  /** \u5355\u4E2A\u5B64\u7ACB\u6570\u636E\u70B9\u662F\u5426\u5C55\u793A */\n  public showSinglePoint: boolean;\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { connectNulls = false, showSinglePoint = true } = cfg;\n    this.connectNulls = connectNulls;\n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   * \u521B\u5EFA\u6240\u6709\u7684 Element \u5B9E\u4F8B\uFF0C\u5BF9\u4E8E Path\u3001Line\u3001Area\uFF0C\u4E00\u7EC4\u6570\u636E\u5BF9\u5E94\u4E00\u4E2A Element\u3002\n   * @param mappingData\n   * @param [isUpdate]\n   * @returns elements\n   */\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    // Path \u7684\u6BCF\u4E2A element \u5BF9\u5E94\u4E00\u7EC4\u6570\u636E\n    const keyData = new Map<string, MappingDatum[]>();\n    const keyIndex = new Map<string, number>();\n    const keys: string[] = [];\n\n    let index = 0;\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const key = this.getElementId(mappingData);\n      keys.push(key);\n      keyData.set(key, mappingData);\n      keyIndex.set(key, index);\n      index++;\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    for (const key of added) {\n      const mappingData = keyData.get(key);\n      const shapeFactory = this.getShapeFactory();\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const i = keyIndex.get(key);\n      const element = new Element({\n        shapeFactory,\n        container: this.container,\n        offscreenGroup: this.getOffscreenGroup(),\n        elementIndex: i,\n      });\n      element.geometry = this;\n      element.animate = this.animateOption;\n      element.draw(shapeCfg, isUpdate); // \u7ED8\u5236 shape\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of updated) {\n      const mappingData = keyData.get(key);\n      const element = this.lastElementsMap[key];\n      const i = keyIndex.get(key);\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const preShapeCfg = element.getModel();\n      if (this.isCoordinateChanged || isModelChange(preShapeCfg, shapeCfg)) {\n        element.animate = this.animateOption;\n        // \u901A\u8FC7\u7ED8\u5236\u6570\u636E\u7684\u53D8\u66F4\u6765\u5224\u65AD\u662F\u5426\u9700\u8981\u66F4\u65B0\uFF0C\u56E0\u4E3A\u7528\u6237\u6709\u53EF\u80FD\u4F1A\u4FEE\u6539\u56FE\u5F62\u5C5E\u6027\u6620\u5C04\n        element.update(shapeCfg); // \u66F4\u65B0\u5BF9\u5E94\u7684 element\n      }\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // \u66F4\u65B0\u52A8\u753B\u914D\u7F6E\uFF0C\u7528\u6237\u6709\u53EF\u80FD\u5728\u66F4\u65B0\u4E4B\u524D\u6709\u5BF9\u52A8\u753B\u8FDB\u884C\u914D\u7F6E\u64CD\u4F5C\n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   * \u83B7\u53D6\u7EC4\u6210\u4E00\u6761\u7EBF\uFF08\u4E00\u7EC4\u6570\u636E\uFF09\u7684\u6240\u6709\u70B9\u4EE5\u53CA\u6570\u636E\n   * @param mappingData \u6620\u5C04\u540E\u7684\u6570\u7EC4\n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push({\n        x: obj.x,\n        y: obj.y,\n      });\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n    const { points, data } = this.getPointsAndData(mappingData);\n    shapeCfg.mappingData = mappingData;\n    shapeCfg.data = data;\n    shapeCfg.isStack = !!this.getAdjust('stack');\n    shapeCfg.points = points;\n    shapeCfg.connectNulls = this.connectNulls;\n    shapeCfg.showSinglePoint = this.showSinglePoint;\n\n    return shapeCfg;\n  }\n}\n", "import { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position, Shape, ShapeInfo } from '../../../interface';\n\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\n\nfunction getPath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n): PathCommand[] {\n  let path = [];\n\n  if (points.length) {\n    const topLinePoints = []; // area \u533A\u57DF\u4E0A\u90E8\u5206\n    let bottomLinePoints = []; // area \u533A\u57DF\u4E0B\u90E8\u5206\n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      topLinePoints.push(point[1]);\n      bottomLinePoints.push(point[0]);\n    }\n    bottomLinePoints = bottomLinePoints.reverse();\n\n    each([topLinePoints, bottomLinePoints], (pointsData, index) => {\n      let subPath = [];\n      const parsedPoints = registeredShape.parsePoints(pointsData);\n      const p1 = parsedPoints[0];\n\n      if (topLinePoints.length === 1 && bottomLinePoints.length === 1) {\n        // \u90FD\u53EA\u6709\u4E00\u4E2A\u70B9\uFF0C\u7ED8\u5236\u4E00\u6761\u7AD6\u7EBF\n        subPath =\n          index === 0\n            ? [\n                ['M', p1.x - 0.5, p1.y],\n                ['L', p1.x + 0.5, p1.y],\n              ]\n            : [\n                ['L', p1.x + 0.5, p1.y],\n                ['L', p1.x - 0.5, p1.y],\n              ];\n      } else {\n        if (isInCircle) {\n          parsedPoints.push({ x: p1.x, y: p1.y });\n        }\n        if (smooth) {\n          subPath = getSplinePath(parsedPoints, false, constraint);\n        } else {\n          subPath = getLinePath(parsedPoints, false);\n        }\n        if (index > 0) {\n          subPath[0][0] = 'L';\n        }\n      }\n\n      path = path.concat(subPath);\n    });\n\n    path.push(['Z']);\n  }\n\n  return path;\n}\n\n/**\n * @ignore\n * Gets shape attrs\n * @param cfg\n * @param isStroke\n * @param smooth\n * @param registeredShape\n * @param [constraint]\n * @returns\n */\nexport function getShapeAttrs(\n  cfg: ShapeInfo,\n  isStroke: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n) {\n  const attrs = getStyle(cfg, isStroke, !isStroke, 'lineWidth');\n  const { connectNulls, isInCircle, points, showSinglePoint } = cfg;\n  const pathPoints = getPathPoints(points, connectNulls, showSinglePoint); // \u6839\u636E connectNulls \u914D\u7F6E\u83B7\u53D6\u56FE\u5F62\u5173\u952E\u70B9\n\n  let path = [];\n  for (let i = 0, len = pathPoints.length; i < len; i++) {\n    const eachPoints = pathPoints[i];\n    path = path.concat(getPath(eachPoints, isInCircle, smooth, registeredShape, constraint));\n  }\n  attrs.path = path;\n\n  return attrs;\n}\n\n/**\n * @ignore\n * Gets constraint\n * @param coordinate\n * @returns constraint\n */\nexport function getConstraint(coordinate: Coordinate): Position[] {\n  const { start, end } = coordinate;\n  return [\n    [start.x, end.y],\n    [end.x, start.y],\n  ];\n}\n", "import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getShapeAttrs } from './util';\n\nconst AreaShapeFactory = registerShapeFactory('area', {\n  defaultShapeType: 'area',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    // area \u57FA\u672C\u6807\u8BB0\u7684\u7ED8\u5236\u9700\u8981\u83B7\u53D6\u4E0A\u4E0B\u4E24\u8FB9\u7684\u9876\u70B9\n    const { x, y0 } = pointInfo;\n    const y = isArray(pointInfo.y) ? pointInfo.y : [y0, pointInfo.y];\n\n    return y.map((yItem: number) => {\n      return {\n        x: x as number,\n        y: yItem,\n      };\n    });\n  },\n});\n\n// Area \u51E0\u4F55\u6807\u8BB0\u9ED8\u8BA4\u7684 shape\uFF1A\u586B\u5145\u7684\u533A\u57DF\u56FE\nregisterShape('area', 'area', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, false, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default AreaShapeFactory;\n", "import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum } from '../interface';\nimport Path, { PathCfg } from './path';\nimport './shape/area';\n\n/** Area \u51E0\u4F55\u6807\u8BB0\u6784\u9020\u51FD\u6570\u53C2\u6570 */\nexport interface AreaCfg extends PathCfg {\n  /**\n   * \u9762\u79EF\u56FE\u662F\u5426\u4ECE 0 \u57FA\u51C6\u7EBF\u5F00\u59CB\u586B\u5145\u3002\n   * 1. \u9ED8\u8BA4\u503C\u4E3A `true`\uFF0C\u8868\u73B0\u5982\u4E0B\uFF1A\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2. \u5F53\u503C\u4E3A `false` \u65F6\uFF0C\u8868\u73B0\u5982\u4E0B\uFF1A\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  startOnZero?: boolean;\n}\n\n/**\n * Area \u51E0\u4F55\u6807\u8BB0\u7C7B\u3002\n * \u5E38\u7528\u4E8E\u7ED8\u5236\u9762\u79EF\u56FE\u3002\n */\nexport default class Area extends Path {\n  public readonly type: string = 'area';\n  public readonly shapeType: string = 'area';\n  /** \u751F\u6210\u56FE\u5F62\u5173\u952E\u70B9 */\n  public readonly generatePoints: boolean = true;\n  /**\n   * \u9762\u79EF\u56FE\u662F\u5426\u4ECE 0 \u57FA\u51C6\u7EBF\u5F00\u59CB\u586B\u5145\u3002\n   * 1. \u9ED8\u8BA4\u503C\u4E3A `true`\uFF0C\u8868\u73B0\u5982\u4E0B\uFF1A\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2. \u5F53\u503C\u4E3A `false` \u65F6\uFF0C\u8868\u73B0\u5982\u4E0B\uFF1A\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  public readonly startOnZero: boolean = true;\n\n  constructor(cfg: AreaCfg) {\n    super(cfg);\n\n    const { startOnZero = true, sortable = false, showSinglePoint = false } = cfg;\n    this.startOnZero = startOnZero; // \u9ED8\u8BA4\u4E3A true\n    this.sortable = sortable; // \u5173\u95ED\u9ED8\u8BA4\u7684 X \u8F74\u6570\u636E\u6392\u5E8F\n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   * \u83B7\u53D6\u56FE\u5F62\u7ED8\u5236\u7684\u5173\u952E\u70B9\u4EE5\u53CA\u6570\u636E\n   * @param mappingData \u6620\u5C04\u540E\u7684\u6570\u636E\n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push(obj.points);\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  /**\n   * \u83B7\u53D6 Y \u8F74\u4E0A\u7684\u6700\u5C0F\u503C\n   * @returns y \u5B57\u6BB5\u6700\u5C0F\u503C\n   */\n  protected getYMinValue(): number {\n    if (this.startOnZero) {\n      return super.getYMinValue();\n    }\n    const yScale = this.getYScale();\n    return yScale.min;\n  }\n}\n", "import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\n\nconst EdgeShapeFactory = registerShapeFactory('edge', {\n  defaultShapeType: 'line',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\nregisterShape('edge', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const path = getLinePath(this.parsePoints(cfg.points), this.coordinate.isPolar);\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n\nexport default EdgeShapeFactory;\n", "import Geometry from './base';\nimport './shape/edge';\n\n/**\n * Edge \u51E0\u4F55\u6807\u8BB0\uFF0C\u7528\u4E8E\u7ED8\u5236\u5173\u7CFB\u56FE\u4E2D\u7684**\u8FB9**\u56FE\u5F62\uFF0C\u5982\uFF1A\n * 1. \u6D41\u7A0B\u56FE\n * 2. \u6811\n * 3. \u5F27\u957F\u8FDE\u63A5\u56FE\n * 4. \u548C\u5F26\u56FE\n * 5. \u6851\u57FA\u56FE\n */\nexport default class Edge extends Geometry {\n  public readonly type: string = 'edge';\n  public readonly shapeType: string = 'edge';\n  protected generatePoints: boolean = true;\n}\n", "import ColorUtil from '@antv/color-util';\nimport { get, isNumber } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Color, IShape } from '../dependents';\nimport { Data, Datum, MappingDatum, ShapeInfo, AttributeOption, ColorAttrCallback } from '../interface';\nimport Geometry from './base';\n\n/**\n * \u7528\u4E8E\u7ED8\u5236\u70ED\u529B\u56FE\u3002\n */\nexport default class Heatmap extends Geometry {\n  public readonly type: string = 'heatmap';\n\n  private paletteCache: Record<number, number> = {};\n  private grayScaleBlurredCanvas: HTMLCanvasElement;\n  private shadowCanvas: HTMLCanvasElement;\n  private imageShape: IShape;\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const range = this.prepareRange(mappingData);\n      const radius = this.prepareSize();\n\n      let blur = get(this.styleOption, ['cfg', 'shadowBlur']);\n      if (!isNumber(blur)) {\n        blur = radius / 2;\n      }\n\n      this.prepareGreyScaleBlurredCircle(radius, blur);\n      this.drawWithRange(mappingData, range, radius, blur);\n    }\n  }\n\n  /** \u70ED\u529B\u56FE\u6682\u65F6\u4E0D\u652F\u6301 callback \u56DE\u8C03\uFF08\u6587\u6863\u9700\u8981\u8BF4\u660E\u4E0B\uFF09 */\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, typeof cfg !== 'function' ? cfg : '');\n\n    return this;\n  }\n\n  /**\n   * clear\n   */\n  public clear() {\n    super.clear();\n    this.clearShadowCanvasCtx();\n    this.paletteCache = {};\n  }\n\n  private prepareRange(data: MappingDatum[]) {\n    const colorAttr = this.getAttribute('color');\n    const colorField = colorAttr.getFields()[0];\n\n    let min = Infinity;\n    let max = -Infinity;\n    data.forEach((row) => {\n      const value = row[FIELD_ORIGIN][colorField];\n      if (value > max) {\n        max = value;\n      }\n      if (value < min) {\n        min = value;\n      }\n    });\n\n    if (min === max) {\n      min = max - 1;\n    }\n\n    return [min, max];\n  }\n\n  private prepareSize() {\n    let radius = this.getDefaultValue('size');\n    if (!isNumber(radius)) {\n      radius = this.getDefaultSize();\n    }\n\n    return radius;\n  }\n\n  private prepareGreyScaleBlurredCircle(radius: number, blur: number) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    const r2 = radius + blur;\n    const ctx = grayScaleBlurredCanvas.getContext('2d');\n    grayScaleBlurredCanvas.width = grayScaleBlurredCanvas.height = r2 * 2;\n    ctx.clearRect(0, 0, grayScaleBlurredCanvas.width, grayScaleBlurredCanvas.height);\n    ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n    ctx.shadowBlur = blur;\n    ctx.shadowColor = 'black';\n\n    ctx.beginPath();\n    ctx.arc(-r2, -r2, radius, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  private drawWithRange(data: MappingDatum[], range: number[], radius: number, blur: number) {\n    // canvas size\n    const { start, end } = this.coordinate;\n    const width = this.coordinate.getWidth();\n    const height = this.coordinate.getHeight();\n\n    // value, range, etc\n    const colorAttr = this.getAttribute('color');\n    const valueField = colorAttr.getFields()[0];\n\n    // prepare shadow canvas context\n    this.clearShadowCanvasCtx();\n    const ctx = this.getShadowCanvasCtx();\n    // filter data\n    if (range) {\n      data = data.filter((row) => {\n        return row[FIELD_ORIGIN][valueField] <= range[1] && row[FIELD_ORIGIN][valueField] >= range[0];\n      });\n    }\n\n    // step1. draw points with shadow\n    const scale = this.scales[valueField];\n    for (const obj of data) {\n      const { x, y } = this.getDrawCfg(obj);\n      const alpha = scale.scale(obj[FIELD_ORIGIN][valueField]);\n      this.drawGrayScaleBlurredCircle((x as number) - start.x, (y as number) - end.y, radius + blur, alpha, ctx);\n    }\n\n    // step2. convert pixels\n    const colored = ctx.getImageData(0, 0, width, height);\n    this.clearShadowCanvasCtx();\n    this.colorize(colored);\n    ctx.putImageData(colored, 0, 0);\n    const imageShape = this.getImageShape();\n    imageShape.attr('x', start.x);\n    imageShape.attr('y', end.y);\n    imageShape.attr('width', width);\n    imageShape.attr('height', height);\n    imageShape.attr('img', ctx.canvas);\n    imageShape.set('origin', this.getShapeInfo(data)); // \u5B58\u50A8\u7ED8\u56FE\u4FE1\u606F\u6570\u636E\n  }\n\n  private getDefaultSize() {\n    const position = this.getAttribute('position');\n    const coordinate = this.coordinate;\n    return Math.min(\n      coordinate.getWidth() / (position.scales[0].ticks.length * 4),\n      coordinate.getHeight() / (position.scales[1].ticks.length * 4)\n    );\n  }\n\n  private clearShadowCanvasCtx() {\n    const ctx = this.getShadowCanvasCtx();\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  }\n\n  private getShadowCanvasCtx() {\n    let canvas = this.shadowCanvas;\n    if (!canvas) {\n      canvas = document.createElement('canvas');\n      this.shadowCanvas = canvas;\n    }\n    canvas.width = this.coordinate.getWidth();\n    canvas.height = this.coordinate.getHeight();\n    return canvas.getContext('2d');\n  }\n\n  private getGrayScaleBlurredCanvas() {\n    if (!this.grayScaleBlurredCanvas) {\n      this.grayScaleBlurredCanvas = document.createElement('canvas');\n    }\n\n    return this.grayScaleBlurredCanvas;\n  }\n\n  private drawGrayScaleBlurredCircle(x: number, y: number, r: number, alpha: number, ctx: CanvasRenderingContext2D) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    ctx.globalAlpha = alpha;\n    ctx.drawImage(grayScaleBlurredCanvas, x - r, y - r);\n  }\n\n  private colorize(img: ImageData) {\n    const colorAttr = this.getAttribute('color') as Color;\n    const pixels = img.data;\n    const paletteCache = this.paletteCache;\n    for (let i = 3; i < pixels.length; i += 4) {\n      const alpha = pixels[i]; // get gradient color from opacity value\n      if (isNumber(alpha)) {\n        const palette = paletteCache[alpha] ? paletteCache[alpha] : ColorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n        pixels[i - 3] = palette[0];\n        pixels[i - 2] = palette[1];\n        pixels[i - 1] = palette[2];\n        pixels[i] = alpha;\n      }\n    }\n  }\n\n  private getImageShape() {\n    let imageShape = this.imageShape;\n    if (imageShape) {\n      return imageShape;\n    }\n    const container = this.container;\n    imageShape = container.addShape({\n      type: 'image',\n      attrs: {},\n    });\n    this.imageShape = imageShape;\n    return imageShape;\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n\n    const data = mappingData.map((obj: Datum) => {\n      return obj[FIELD_ORIGIN];\n    });\n\n    return {\n      ...shapeCfg,\n      mappingData,\n      data,\n    };\n  }\n}\n", "import { Coordinate } from '@antv/coord';\nimport { isArray, isNil, get } from '@antv/util';\nimport { getAngle, getSectorPath } from '../../../util/graphics';\nimport { PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapePoint } from '../../../interface';\n\n/**\n * @ignore\n * \u6839\u636E\u6570\u636E\u70B9\u751F\u6210\u77E9\u5F62\u7684\u56DB\u4E2A\u5173\u952E\u70B9\n * @param pointInfo \u6570\u636E\u70B9\u4FE1\u606F\n * @param [isPyramid] \u662F\u5426\u4E3A\u5C16\u5E95\u6F0F\u6597\u56FE\n * @returns rect points \u8FD4\u56DE\u77E9\u5F62\u56DB\u4E2A\u9876\u70B9\u4FE1\u606F\n */\nexport function getRectPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  // \u6709 4 \u79CD\u60C5\u51B5\uFF0C\n  // 1. x, y \u90FD\u4E0D\u662F\u6570\u7EC4\n  // 2. y\u662F\u6570\u7EC4\uFF0Cx\u4E0D\u662F\n  // 3. x\u662F\u6570\u7EC4\uFF0Cy\u4E0D\u662F\n  // 4. x, y \u90FD\u662F\u6570\u7EC4\n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  let xMin;\n  let xMax;\n  if (isArray(x)) {\n    [xMin, xMax] = x;\n  } else {\n    xMin = x - size / 2;\n    xMax = x + size / 2;\n  }\n\n  const points = [\n    { x: xMin, y: yMin },\n    { x: xMin, y: yMax },\n  ];\n\n  // \u77E9\u5F62\u7684\u56DB\u4E2A\u5173\u952E\u70B9\uFF0C\u7ED3\u6784\u5982\u4E0B\uFF08\u5DE6\u4E0B\u89D2\u987A\u65F6\u9488\u8FDE\u63A5\uFF09\n  // 1 ---- 2\n  // |      |\n  // 0 ---- 3\n  points.push({ x: xMax, y: yMax }, { x: xMax, y: yMin });\n\n  return points;\n}\n\n/**\n * @ignore\n * \u6839\u636E\u77E9\u5F62\u5173\u952E\u70B9\u7ED8\u5236 path\n * @param points \u5173\u952E\u70B9\u6570\u7EC4\n * @param isClosed path \u662F\u5426\u9700\u8981\u95ED\u5408\n * @returns \u8FD4\u56DE\u77E9\u5F62\u7684 path\n */\nexport function getRectPath(points: Point[], isClosed: boolean = true): PathCommand[] {\n  const path = [];\n  const firstPoint = points[0];\n  path.push(['M', firstPoint.x, firstPoint.y]);\n  for (let i = 1, len = points.length; i < len; i++) {\n    path.push(['L', points[i].x, points[i].y]);\n  }\n  // \u5BF9\u4E8E shape=\"line\" path \u4E0D\u5E94\u8BE5\u95ED\u5408\uFF0C\u5426\u5219\u4F1A\u9020\u6210 lineCap \u7ED8\u56FE\u5C5E\u6027\u5931\u6548\n  if (isClosed) {\n    path.push(['L', firstPoint.x, firstPoint.y]); // \u9700\u8981\u95ED\u5408\n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n * \u5904\u7406 rect path \u7684 radius\n * @returns \u8FD4\u56DE\u77E9\u5F62 path \u7684\u56DB\u4E2A\u89D2\u7684 arc \u534A\u5F84\n */\nexport function parseRadius(radius: number | number[], minLength: number): number[] {\n  let r1 = 0;\n  let r2 = 0;\n  let r3 = 0;\n  let r4 = 0;\n  if (isArray(radius)) {\n    if (radius.length === 1) {\n      r1 = r2 = r3 = r4 = radius[0];\n    } else if (radius.length === 2) {\n      r1 = r3 = radius[0];\n      r2 = r4 = radius[1];\n    } else if (radius.length === 3) {\n      r1 = radius[0];\n      r2 = r4 = radius[1];\n      r3 = radius[2];\n    } else {\n      r1 = radius[0];\n      r2 = radius[1];\n      r3 = radius[2];\n      r4 = radius[3];\n    }\n  } else {\n    r1 = r2 = r3 = r4 = radius;\n  }\n\n  // \u5904\u7406 \u8FB9\u754C\u503C\n  if (r1 + r2 > minLength) {\n    r1 = r1 ? minLength / (1 + r2 / r1) : 0;\n    r2 = minLength - r1;\n  }\n\n  if (r3 + r4 > minLength) {\n    r3 = r3 ? minLength / (1 + r4 / r3) : 0;\n    r4 = minLength - r3;\n  }\n\n  return [r1 || 0, r2 || 0, r3 || 0, r4 || 0];\n}\n\n/**\n * \u83B7\u53D6 interval \u77E9\u5F62\u80CC\u666F\u7684 path\n * @param cfg \u5173\u952E\u70B9\u7684\u4FE1\u606F\n * @param points \u5DF2\u8F6C\u5316\u4E3A\u753B\u5E03\u5750\u6807\u7684 4 \u4E2A\u5173\u952E\u70B9\n * @param coordinate \u5750\u6807\u7CFB\n * @returns \u8FD4\u56DE\u77E9\u5F62\u80CC\u666F\u7684 path\n */\nexport function getBackgroundRectPath(cfg: ShapeInfo, points: Point[], coordinate: Coordinate): PathCommand[] {\n  let path = [];\n  if (coordinate.isRect) {\n    const p0 = coordinate.isTransposed\n      ? { x: coordinate.start.x, y: points[0].y }\n      : { x: points[0].x, y: coordinate.start.y };\n    const p1 = coordinate.isTransposed\n      ? { x: coordinate.end.x, y: points[2].y }\n      : { x: points[3].x, y: coordinate.end.y };\n\n    // corner radius of background shape works only in \u7B1B\u5361\u5C14\u5750\u6807\u7CFB\n    const radius = get(cfg, ['background', 'style', 'radius']);\n    if (radius) {\n      const width = coordinate.isTransposed ? Math.abs(points[0].y - points[2].y) : points[2].x - points[1].x;\n      const height = coordinate.isTransposed ? coordinate.getWidth() : coordinate.getHeight();\n      const [r1, r2, r3, r4] = parseRadius(radius, Math.min(width, height));\n\n      path.push(['M', p0.x, p1.y + r1]);\n      r1 !== 0 && path.push(['A', r1, r1, 0, 0, 1, p0.x + r1, p1.y]);\n      path.push(['L', p1.x - r2, p1.y]);\n      r2 !== 0 && path.push(['A', r2, r2, 0, 0, 1, p1.x, p1.y + r2]);\n      path.push(['L', p1.x, p0.y - r3]);\n      r3 !== 0 && path.push(['A', r3, r3, 0, 0, 1, p1.x - r3, p0.y]);\n      path.push(['L', p0.x + r4, p0.y]);\n      r4 !== 0 && path.push(['A', r4, r4, 0, 0, 1, p0.x, p0.y - r4]);\n    } else {\n      path.push(['M', p0.x, p0.y]);\n      path.push(['L', p1.x, p0.y]);\n      path.push(['L', p1.x, p1.y]);\n      path.push(['L', p0.x, p1.y]);\n      path.push(['L', p0.x, p0.y]);\n    }\n\n    path.push(['z']);\n  }\n\n  if (coordinate.isPolar) {\n    const center = coordinate.getCenter();\n    const { startAngle, endAngle } = getAngle(cfg, coordinate);\n    if (coordinate.type !== 'theta' && !coordinate.isTransposed) {\n      // \u83B7\u53D6\u6247\u5F62 path\n      path = getSectorPath(center.x, center.y, coordinate.getRadius(), startAngle, endAngle);\n    } else {\n      const pow = (v) => Math.pow(v, 2);\n      const r1 = Math.sqrt(pow(center.x - points[0].x) + pow(center.y - points[0].y));\n      const r2 = Math.sqrt(pow(center.x - points[2].x) + pow(center.y - points[2].y));\n      // \u83B7\u53D6\u6247\u5F62 path\uFF08\u5176\u5B9E\u662F\u4E00\u4E2A\u5706\u73AF\uFF0C\u4ECE coordinate \u7684\u8D77\u59CB\u89D2\u5EA6\u5230\u7ED3\u675F\u89D2\u5EA6\uFF09\n      path = getSectorPath(center.x, center.y, r1, coordinate.startAngle, coordinate.endAngle, r2);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n * \u6839\u636E\u77E9\u5F62\u5173\u952E\u70B9\u7ED8\u5236 path\n * @param points \u5173\u952E\u70B9\u6570\u7EC4\n * @param lineCap 'round'\u5706\u89D2\u6837\u5F0F\n * @param coor \u5750\u6807\n * @returns \u8FD4\u56DE\u77E9\u5F62\u7684 path\n */\nexport function getIntervalRectPath(points: Point[], lineCap: CanvasLineCap, coor: Coordinate): PathCommand[] {\n  const width = coor.getWidth();\n  const height = coor.getHeight();\n  const isRect = coor.type === 'rect';\n  let path = [];\n  const r = (points[2].x - points[1].x) / 2;\n  const ry = coor.isTransposed ? (r * height) / width : (r * width) / height;\n  if (lineCap === 'round') {\n    if (isRect) {\n      path.push(['M', points[0].x, points[0].y + ry]);\n      path.push(['L', points[1].x, points[1].y - ry]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y - ry]);\n      path.push(['L', points[3].x, points[3].y + ry]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y + ry]);\n    } else {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['L', points[1].x, points[1].y]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y]);\n      path.push(['L', points[3].x, points[3].y]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y]);\n    }\n    path.push(['z']);\n  } else {\n    path = getRectPath(points);\n  }\n  return path;\n}\n\n/**\n * @ignore\n * \u6839\u636E funnel \u5173\u952E\u70B9\u7ED8\u5236\u6F0F\u6597\u56FE\u7684 path\n * @param points \u56FE\u5F62\u5173\u952E\u70B9\u4FE1\u606F\n * @param nextPoints \u4E0B\u4E00\u4E2A\u6570\u636E\u7684\u56FE\u5F62\u5173\u952E\u70B9\u4FE1\u606F\n * @param isPyramid \u662F\u5426\u4E3A\u5C16\u5E95\u6F0F\u6597\u56FE\n * @returns \u8FD4\u56DE\u6F0F\u6597\u56FE\u7684\u56FE\u5F62 path\n */\nexport function getFunnelPath(points: Point[], nextPoints: Point[], isPyramid: boolean) {\n  const path = [];\n  if (!isNil(nextPoints)) {\n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', nextPoints[1].x, nextPoints[1].y],\n      ['L', nextPoints[0].x, nextPoints[0].y],\n      ['Z']\n    );\n  } else if (isPyramid) {\n    // \u91D1\u5B57\u5854\u6700\u5E95\u90E8\n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', (points[2].x + points[3].x) / 2, (points[2].y + points[3].y) / 2],\n      ['Z']\n    );\n  } else {\n    // \u6F0F\u6597\u56FE\u6700\u5E95\u90E8\n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', points[2].x, points[2].y],\n      ['L', points[3].x, points[3].y],\n      ['Z']\n    );\n  }\n\n  return path;\n}\n\n/**\n * \u4EA4\u6362\u4E24\u4E2A\u5BF9\u8C61\n */\nfunction swap<T>(p0: T, p1: T) {\n  return [p1, p0];\n}\n\n/**\n * \u83B7\u53D6 \u5012\u89D2 \u77E9\u5F62\n * - \u76EE\u524D\u53EA\u9002\u7528\u4E8E\u7B1B\u5361\u5C14\u5750\u6807\u7CFB\u4E0B\n */\nexport function getRectWithCornerRadius(points: Point[], coordinate: Coordinate, radius?: number | number[]) {\n  // \u83B7\u53D6 \u56DB\u4E2A\u5173\u952E\u70B9\n  let [p0, p1, p2, p3] = [...points];\n  let [r1, r2, r3, r4] = typeof radius === 'number' ? Array(4).fill(radius) : radius;\n\n  if (coordinate.isTransposed) {\n    [p1, p3] = swap(p1, p3);\n  }\n\n  /**\n   * \u5B58\u5728\u955C\u50CF\n   */\n  if (coordinate.isReflect('y')) {\n    [p0, p1] = swap(p0, p1);\n    [p2, p3] = swap(p2, p3);\n  }\n  if (coordinate.isReflect('x')) {\n    [p0, p3] = swap(p0, p3);\n    [p1, p2] = swap(p1, p2);\n  }\n\n  const path = [];\n\n\n  /**\n   *  p1 \u2192 p2\n   *  \u2191    \u2193\n   *  p0 \u2190 p3\n   *\n   *  \u8D1F\u6570\u7684\u60C5\u51B5\uFF0C\u5173\u952E\u70B9\u4F1A\u53D8\u6210\u4E0B\u9762\u7684\u5F62\u5F0F\n   *\n   *  p0 \u2190 p3               p2 \u2190 p1\n   *  \u2193    \u2191                \u2193     \u2191\n   *  p1 \u2192 p2  --> (\u8F6C\u7F6E\u4E0B)  p3 \u2192 p0\n   */\n  const abs = v => Math.abs(v);\n  [r1, r2, r3, r4] = parseRadius([r1, r2, r3, r4], Math.min(abs(p3.x - p0.x), abs(p1.y - p0.y))).map(d => abs(d));\n\n  if (coordinate.isTransposed) {\n    [r1, r2, r3, r4] = [r4, r1, r2, r3]\n  }\n\n  if (p0.y < p1.y /** \u8D1F\u6570\u60C5\u51B5 */) {\n    path.push(['M', p3.x, p3.y + r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y + r4]);\n    path.push(['L', p1.x, p1.y - r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0/** \u9006\u65F6\u9488 */, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y - r2]);\n    path.push(['L', p3.x, p3.y + r3]);\n    path.push(['z']);\n  } else if (p3.x < p0.x) {\n    path.push(['M', p2.x + r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x + r3, p3.y]);\n    path.push(['L', p0.x - r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0, p1.x - r1, p1.y]);\n    path.push(['L', p2.x + r2, p2.y]);\n    path.push(['z']);\n  } else {\n    path.push(['M', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 1, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 1, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 1, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 1, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    path.push(['z']);\n  }\n\n  return path;\n}\n", "import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getIntervalRectPath, getRectPoints, getRectWithCornerRadius } from './util';\n\n/** Interval \u7684 shape \u5DE5\u5382 */\nconst IntervalShapeFactory = registerShapeFactory('interval', {\n  defaultShapeType: 'rect',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return getRectPoints(pointInfo);\n  },\n});\n\n/** Inerval \u9ED8\u8BA4 shape\uFF0C\u586B\u5145\u7684\u77E9\u5F62 */\nregisterShape('interval', 'rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    let group = container;\n\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup();\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    let path;\n    if (style.radius && this.coordinate.isRect) {\n      path = getRectWithCornerRadius(this.parsePoints(cfg.points), this.coordinate, style.radius);\n    } else {\n      path = this.parsePath(getIntervalRectPath(cfg.points as Point[], style.lineCap, this.coordinate));\n    }\n\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default IntervalShapeFactory;\n", "import { flatten, isString, valuesOfKey, isNil } from '@antv/util';\nimport { getXDimensionLength } from '../../util/coordinate';\n\n// \u5DF2\u7ECF\u6392\u5E8F\u540E\u7684\u6570\u636E\u67E5\u627E\u8DDD\u79BB\u6700\u5C0F\u7684\nfunction findMinDistance(arr, scale) {\n  const count = arr.length;\n  let sourceArr = arr;\n  if (isString(sourceArr[0])) {\n    // \u65E5\u671F\u7C7B\u578B\u7684 values \u7ECF\u5E38\u4E0A\u6587\u672C\u7C7B\u578B\uFF0C\u6240\u4EE5\u9700\u8981\u8F6C\u6362\u4E00\u4E0B\n    sourceArr = arr.map((v: string) => {\n      return scale.translate(v);\n    });\n  }\n  let distance = sourceArr[1] - sourceArr[0];\n  for (let i = 2; i < count; i++) {\n    const tmp = sourceArr[i] - sourceArr[i - 1];\n    if (distance > tmp) {\n      distance = tmp;\n    }\n  }\n  return distance;\n}\n\nfunction getDodgeCount(dataArray, dodgeBy) {\n  if (dodgeBy) {\n    const mergeData = flatten(dataArray);\n    const values = valuesOfKey(mergeData, dodgeBy);\n    return values.length;\n  }\n\n  return dataArray.length;\n}\n\n/** @ignore */\nexport function getDefaultSize(geometry): number {\n  const theme = geometry.theme;\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const xValues = xScale.values;\n  const dataArray = geometry.beforeMappingData;\n  let count: number = xValues.length;\n  const xDimensionLength = getXDimensionLength(geometry.coordinate);\n  // \u83B7\u53D6\u67F1\u5BBD\u76F8\u5173\u914D\u7F6E\u9879\n  const { intervalPadding, dodgePadding } = geometry;\n  // \u517C\u5BB9theme\u914D\u7F6E\n  const maxColumnWidth = geometry.maxColumnWidth || theme.maxColumnWidth;\n  const minColumnWidth = geometry.minColumnWidth || theme.minColumnWidth;\n  const columnWidthRatio = geometry.columnWidthRatio || theme.columnWidthRatio;\n  const multiplePieWidthRatio = geometry.multiplePieWidthRatio || theme.multiplePieWidthRatio;\n  const roseWidthRatio = geometry.roseWidthRatio || theme.roseWidthRatio;\n\n  // \u7EBF\u6027\u60C5\u51B5\u4E0Bcount\u503C\n  if (xScale.isLinear && xValues.length > 1) {\n    // Linear \u7C7B\u578B\u7528\u6237\u6709\u53EF\u80FD\u8BBE\u7F6E\u4E86 min, max \u8303\u56F4\u6240\u4EE5\u9700\u8981\u6839\u636E\u6570\u636E\u6700\u5C0F\u533A\u95F4\u8BA1\u7B97 count\n    xValues.sort();\n    const interval = findMinDistance(xValues, xScale);\n    count = (xScale.max - xScale.min) / interval;\n    if (xValues.length > count) {\n      count = xValues.length;\n    }\n  }\n\n  const range = xScale.range;\n  let normalizedSize = 1 / count;\n  let wr = 1;\n  if (coordinate.isPolar) {\n    // \u6781\u5750\u6807\u573A\u666F\n    if (coordinate.isTransposed && count > 1) {\n      // \u6781\u5750\u6807\u4E0B\u591A\u5C42\u73AF\u56FE\n      wr = multiplePieWidthRatio;\n    } else {\n      wr = roseWidthRatio;\n    }\n  } else {\n    // \u975E\u6781\u5750\u6807\u573A\u666F\n    if (xScale.isLinear) {\n      normalizedSize *= range[1] - range[0];\n    }\n    wr = columnWidthRatio;\n  }\n\n  // \u57FA\u7840\u67F1\u72B6\u56FE\n  if (!isNil(intervalPadding) && intervalPadding >= 0) {\n    // \u914D\u7F6E\u7EC4\u95F4\u8DDD\u60C5\u51B5\n    const normalizedIntervalPadding = intervalPadding / xDimensionLength;\n    normalizedSize = (1 - (count - 1) * normalizedIntervalPadding) / count;\n  } else {\n    // \u9ED8\u8BA4\u60C5\u51B5\n    normalizedSize *= wr;\n  }\n  // \u5206\u7EC4\u67F1\u72B6\u56FE\n  if (geometry.getAdjust('dodge')) {\n    const dodgeAdjust = geometry.getAdjust('dodge');\n    const dodgeBy = dodgeAdjust.dodgeBy;\n    const dodgeCount = getDodgeCount(dataArray, dodgeBy);\n    if (!isNil(dodgePadding) && dodgePadding >= 0) {\n      // \u4EC5\u914D\u7F6E\u7EC4\u5185\u95F4\u8DDD\u60C5\u51B5\n      const normalizedDodgePadding = dodgePadding / xDimensionLength;\n      normalizedSize = (normalizedSize - normalizedDodgePadding * (dodgeCount - 1)) / dodgeCount;\n    } else if (!isNil(intervalPadding) && intervalPadding >= 0) {\n      // \u8BBE\u7F6E\u7EC4\u95F4\u8DDD\u4F46\u672A\u8BBE\u7F6E\u7EC4\u5185\u95F4\u8DDD\u60C5\u51B5\uFF0C\u907F\u514D\u7EC4\u95F4\u8DDD\u8FC7\u5C0F\u5BFC\u81F4\u56FE\u5F62\u91CD\u53E0\uFF0C\u9700\u4E58\u4EE5wr\n      normalizedSize *= wr;\n      normalizedSize = normalizedSize / dodgeCount;\n    } else {\n      // \u7EC4\u95F4\u8DDD\u548C\u7EC4\u5185\u95F4\u8DDD\u5747\u672A\u914D\u7F6E\n      normalizedSize = normalizedSize / dodgeCount;\n    }\n    normalizedSize = normalizedSize >= 0 ? normalizedSize : 0;\n  }\n\n  // \u6700\u5927\u548C\u6700\u5C0F\u9650\u5236\n  if (!isNil(maxColumnWidth) && maxColumnWidth >= 0) {\n    const normalizedMaxColumnWidth = maxColumnWidth / xDimensionLength;\n    if (normalizedSize > normalizedMaxColumnWidth) {\n      normalizedSize = normalizedMaxColumnWidth;\n    }\n  }\n\n  // \bminColumnWidth\u53EF\u80FD\u8BBE\u7F6E\u4E3A0\n  if (!isNil(minColumnWidth) && minColumnWidth >= 0) {\n    const normalizedMinColumnWidth = minColumnWidth / xDimensionLength;\n    if (normalizedSize < normalizedMinColumnWidth) {\n      normalizedSize = normalizedMinColumnWidth;\n    }\n  }\n\n  return normalizedSize;\n}\n", "import { get } from '@antv/util';\nimport { Datum, MappingDatum, ShapeInfo, LooseObject } from '../interface';\nimport { ShapeAttrs } from '../dependents';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry, { GeometryCfg } from './base';\n/** \u5F15\u5165\u5BF9\u5E94\u7684 ShapeFactory */\nimport './shape/interval';\nimport { getDefaultSize } from './util/shape-size';\nimport { getMaxScale } from '../util/scale';\n\n/** Path \u6784\u9020\u51FD\u6570\u53C2\u6570\u7C7B\u578B */\nexport interface IntervalCfg extends GeometryCfg {\n  /** shape \u80CC\u666F\uFF0C\u53EA\u5BF9 Interval Geometry \u751F\u6548\uFF0C\u76EE\u524D\u53EA\u5BF9 interval-rect shape \u751F\u6548\u3002 */\n  background?: { style?: ShapeAttrs };\n}\n\n/**\n * Interval \u51E0\u4F55\u6807\u8BB0\u3002\n * \u7528\u4E8E\u7ED8\u5236\u67F1\u72B6\u56FE\u3001\u997C\u56FE\u3001\u6761\u5F62\u56FE\u3001\u73AB\u7470\u56FE\u7B49\u3002\n */\nexport default class Interval extends Geometry {\n  public readonly type: string = 'interval';\n  public readonly shapeType: string = 'interval';\n  /** shape \u80CC\u666F\u3002\u76EE\u524D\u53EA\u5BF9 interval-rect shape \u751F\u6548\u3002 */\n  protected background?: { style?: ShapeAttrs };\n  protected generatePoints: boolean = true;\n\n  constructor(cfg: IntervalCfg) {\n    super(cfg);\n\n    const { background } = cfg;\n    this.background = background;\n  }\n\n  /**\n   * \u83B7\u53D6\u6BCF\u6761\u6570\u636E\u7684 Shape \u7ED8\u5236\u4FE1\u606F\n   * @param obj \u7ECF\u8FC7\u5206\u7EC4 -> \u6570\u5B57\u5316 -> adjust \u8C03\u6574\u540E\u7684\u6570\u636E\u8BB0\u5F55\n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg = super.createShapePointsCfg(obj);\n\n    // \u8BA1\u7B97\u6BCF\u4E2A shape \u7684 size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, obj)[0];\n      // \u5F52\u4E00\u5316\n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n\n  /**\n   * \u8C03\u6574 y \u8F74\u7684 scale \u8303\u56F4\u3002\n   * \u5BF9\u4E8E Y \u8F74\u4E3A\u6570\u503C\u8F74\u67F1\u72B6\u56FE\uFF0C\u9ED8\u8BA4\u4ECE 0 \u5F00\u59CB \u751F\u957F\u3002\n   */\n  protected adjustScale() {\n    super.adjustScale();\n    const yScale = this.getYScale();\n    // \u7279\u6B8A\u903B\u8F91\uFF1A\u997C\u56FE\u9700\u8981\u586B\u5145\u6EE1\u6574\u4E2A\u7A7A\u95F4\n    if (this.coordinate.type === 'theta') {\n      yScale.change({\n        nice: false,\n        min: 0,\n        // \u53D1\u751F\u8FC7 stack \u8C03\u6574\uFF0CyScale \u7684 max \u88AB\u8C03\u6574\u8FC7\uFF0Cthis.updateStackRange()\n        max: getMaxScale(yScale),\n      });\n    } else {\n      // \u67F1\u72B6\u56FE\u6570\u503C\u8F74\u9ED8\u8BA4\u4ECE 0 \u5F00\u59CB\n      const scaleDefs = this.scaleDefs;\n      const { field, min, max, type } = yScale;\n      if (type !== 'time') {\n        // time \u7C7B\u578B\u4E0D\u505A\u8C03\u6574\n        // \u67F1\u72B6\u56FE\u7684 Y \u8F74\u8981\u4ECE 0 \u5F00\u59CB\u751F\u957F\uFF0C\u4F46\u662F\u5982\u679C\u7528\u6237\u8BBE\u7F6E\u4E86\u5219\u4EE5\u7528\u6237\u7684\u4E3A\u51C6\n        if (min > 0 && !get(scaleDefs, [field, 'min'])) {\n          yScale.change({\n            min: 0,\n          });\n        }\n        // \u67F1\u5F53\u67F1\u72B6\u56FE\u5168\u4E3A\u8D1F\u503C\u65F6\u4E5F\u9700\u8981\u4ECE 0 \u5F00\u59CB\u751F\u957F\uFF0C\u4F46\u662F\u5982\u679C\u7528\u6237\u8BBE\u7F6E\u4E86\u5219\u4EE5\u7528\u6237\u7684\u4E3A\u51C6\n        if (max <= 0 && !get(scaleDefs, [field, 'max'])) {\n          yScale.change({\n            max: 0,\n          });\n        }\n      }\n    }\n  }\n\n  /**\n   * @override\n   */\n  protected getDrawCfg(mappingData: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingData);\n    shapeCfg.background = this.background;\n\n    return shapeCfg;\n  }\n}\n", "import Path, { PathCfg } from './path';\n/** \u5F15\u5165 Path \u5BF9\u5E94\u7684 ShapeFactory */\nimport './shape/line';\n\n/**\n * Line \u51E0\u4F55\u6807\u8BB0\u3002\n * \u5E38\u7528\u4E8E\u6298\u7EBF\u56FE\u7684\u7ED8\u5236\u3002\n */\nexport default class Line extends Path {\n  public type: string = 'line';\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { sortable = false } = cfg; // \u5173\u95ED\u9ED8\u8BA4\u7684 X \u8F74\u6570\u636E\u6392\u5E8F\n    this.sortable = sortable;\n  }\n}\n", "import { IGroup, IShape } from '../../../dependents';\nimport { ShapeInfo } from '../../../interface';\nimport { MarkerSymbols } from '../../../util/marker';\nimport { getStyle } from '../util/get-style';\n\nexport const SHAPES = ['circle', 'square', 'bowtie', 'diamond', 'hexagon', 'triangle', 'triangle-down'];\nexport const HOLLOW_SHAPES = ['cross', 'tick', 'plus', 'hyphen', 'line'];\n\n/**\n * @ignore\n * Draws points\n * @param shape\n * @param cfg\n * @param container\n * @param shapeName\n * @param isStroke\n * @returns points\n */\nexport function drawPoints(\n  shape,\n  cfg: ShapeInfo,\n  container: IGroup,\n  shapeName: string,\n  isStroke: boolean\n): IShape | IGroup {\n  const style = getStyle(cfg, isStroke, !isStroke, 'r');\n  const points = shape.parsePoints(cfg.points);\n  let pointPosition = points[0];\n  if (cfg.isStack) {\n    pointPosition = points[1];\n  } else if (points.length > 1) {\n    const group = container.addGroup();\n    for (const point of points) {\n      group.addShape({\n        type: 'marker',\n        attrs: {\n          ...style,\n          symbol: MarkerSymbols[shapeName] || shapeName,\n          ...point,\n        },\n      });\n    }\n    return group;\n  }\n\n  return container.addShape({\n    type: 'marker',\n    attrs: {\n      ...style,\n      symbol: MarkerSymbols[shapeName] || shapeName,\n      ...pointPosition,\n    },\n  });\n}\n", "import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { splitPoints } from '../util/split-points';\nimport { drawPoints, SHAPES } from './util';\n\nconst PointShapeFactory = registerShapeFactory('point', {\n  defaultShapeType: 'hollow-circle',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\neach(SHAPES, (shapeName: string) => {\n  // \u6DFB\u52A0\u8BE5 shape \u5BF9\u5E94\u7684 hollow-shape\n  registerShape('point', `hollow-${shapeName}`, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n\nexport default PointShapeFactory;\n", "import { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry from './base';\n/** \u5F15\u5165 Point \u5BF9\u5E94\u7684 ShapeFactory */\nimport './shape/point';\n\n/**\n * Point \u51E0\u4F55\u6807\u8BB0\u3002\n * \u5E38\u7528\u4E8E\u7ED8\u5236\u70B9\u56FE\u3002\n */\nexport default class Point extends Geometry {\n  public readonly type: string = 'point';\n  public readonly shapeType: string = 'point';\n  protected generatePoints: boolean = true;\n\n  /**\n   * \u83B7\u53D6\u4E00\u4E2A\u70B9\u7684\u7ED8\u5236\u4FE1\u606F\u3002\n   * @param mappingDatum\n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingDatum);\n\n    return {\n      ...shapeCfg,\n      isStack: !!this.getAdjust('stack'), // \u5C42\u53E0\u70B9\u56FE\n    };\n  }\n}\n", "import { each, isEmpty, isEqual, last } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getPath(points: any[]) {\n  let flag: any = points[0];\n  let i = 1;\n\n  const path = [['M', flag.x, flag.y]];\n\n  while (i < points.length) {\n    const c: any = points[i];\n    if (c.x !== points[i - 1].x || c.y !== points[i - 1].y) {\n      path.push(['L', c.x, c.y]);\n      if (c.x === flag.x && c.y === flag.y && i < points.length - 1) {\n        flag = points[i + 1];\n        path.push(['Z']);\n        path.push(['M', flag.x, flag.y]);\n        i++;\n      }\n    }\n    i++;\n  }\n\n  if (!isEqual(last(path), flag)) {\n    path.push(['L', flag.x, flag.y]);\n  }\n\n  path.push(['Z']);\n\n  return path;\n}\n\nconst PolygonShapeFactory = registerShapeFactory('polygon', {\n  defaultShapeType: 'polygon',\n  getDefaultPoints(pointInfo: ShapePoint) {\n    const points = [];\n    each(pointInfo.x as number[], (subX, index) => {\n      const subY = pointInfo.y[index];\n      points.push({\n        x: subX,\n        y: subY,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('polygon', 'polygon', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const path = this.parsePath(getPath(cfg.points));\n      return container.addShape('path', {\n        attrs: {\n          ...shapeAttrs,\n          path,\n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default PolygonShapeFactory;\n", "import { isArray } from '@antv/util';\nimport { Datum } from '../interface';\nimport Geometry from './base';\n/** \u5F15\u5165 Path \u5BF9\u5E94\u7684 ShapeFactory */\nimport './shape/polygon';\n\n/**\n * Polygon \u51E0\u4F55\u6807\u8BB0\u3002\n * \u5E38\u7528\u4E8E\u7ED8\u5236\u8272\u5757\u56FE\u3001\u65E5\u5386\u56FE\u7B49\u3002\n */\nexport default class Polygon extends Geometry {\n  public readonly type: string = 'polygon';\n  public readonly shapeType: string = 'polygon';\n  protected generatePoints: boolean = true;\n\n  /**\n   * \u83B7\u53D6 Shape \u7684\u5173\u952E\u70B9\u6570\u636E\u3002\n   * @param obj\n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg: any = super.createShapePointsCfg(obj);\n    let x = cfg.x;\n    let y = cfg.y;\n    let temp;\n    // x y \u90FD\u662F\u6570\u7EC4\u65F6\uFF0C\u4E0D\u505A\u5904\u7406\n    if (!(isArray(x) && isArray(y))) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xCount = xScale.values.length;\n      const yCount = yScale.values.length;\n      const xOffset = (0.5 * 1) / xCount;\n      const yOffset = (0.5 * 1) / yCount;\n\n      if (xScale.isCategory && yScale.isCategory) {\n        // \u5982\u679Cx,y\u90FD\u662F\u5206\u7C7B\n        x = [x - xOffset, x - xOffset, x + xOffset, x + xOffset];\n        y = [y - yOffset, y + yOffset, y + yOffset, y - yOffset];\n      } else if (isArray(x)) {\n        // x \u662F\u6570\u7EC4\n        temp = x;\n        x = [temp[0], temp[0], temp[1], temp[1]];\n        y = [y - yOffset / 2, y + yOffset / 2, y + yOffset / 2, y - yOffset / 2];\n      } else if (isArray(y)) {\n        // y \u662F\u6570\u7EC4\n        temp = y;\n        y = [temp[0], temp[1], temp[1], temp[0]];\n        x = [x - xOffset / 2, x - xOffset / 2, x + xOffset / 2, x + xOffset / 2];\n      }\n      cfg.x = x;\n      cfg.y = y;\n    }\n    return cfg;\n  }\n}\n", "import { registerShapeFactory } from '../base';\n\nconst SchemaShapeFactory = registerShapeFactory('schema', {\n  defaultShapeType: '', // 'schema' is for some custom shapes, so will not specify defaultShapeType\n});\n\nexport default SchemaShapeFactory;\n", "import { LooseObject } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry from './base';\n/** \u5F15\u5165\u5BF9\u5E94\u7684 ShapeFactory */\nimport './shape/schema';\nimport { getDefaultSize } from './util/shape-size';\n\n/**\n * Schema \u51E0\u4F55\u6807\u8BB0\uFF0C\u7528\u4E8E\u4E00\u4E9B\u81EA\u5B9A\u4E49\u56FE\u5F62\u7684\u7ED8\u5236\uFF0C\u6BD4\u5982\u7BB1\u578B\u56FE\u3001\u80A1\u7968\u56FE\u7B49\u3002\n */\nexport default class Schema extends Geometry {\n  public readonly type: string = 'schema';\n  public readonly shapeType: string = 'schema';\n  protected generatePoints: boolean = true;\n\n  /**\n   * \u83B7\u53D6 Shape \u7684\u5173\u952E\u70B9\u6570\u636E\u3002\n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: LooseObject) {\n    const cfg = super.createShapePointsCfg(record);\n\n    // \u8BA1\u7B97\u6BCF\u4E2A shape \u7684 size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \u5F52\u4E00\u5316\n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n}\n", "import { each, max, map, isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ViolinShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\nfunction normalizeSize(arr: number[]) {\n  if (!isArray(arr)) {\n    return [];\n  }\n  const maxValue = max(arr);\n  return map(arr, (num) => num / maxValue);\n}\n\nconst ViolinShapeFactory = registerShapeFactory('violin', {\n  defaultShapeType: 'violin',\n  getDefaultPoints(pointInfo: ViolinShapePoint) {\n    const radius = pointInfo.size / 2;\n    const points = [];\n    const sizeArr = normalizeSize(pointInfo._size);\n\n    each(pointInfo.y as number[], (y, index) => {\n      const offset = sizeArr[index] * radius;\n      const isMin = index === 0;\n      const isMax = index === (pointInfo.y as number[]).length - 1;\n      points.push({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) - offset,\n        y,\n      });\n      points.unshift({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) + offset,\n        y,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('violin', 'violin', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const shapeAttrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...shapeAttrs,\n        path,\n      },\n      name: 'violin',\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default ViolinShapeFactory;\n", "import { get } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Datum, ViolinShapePoint } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport { getDefaultSize } from './util/shape-size';\nimport Geometry from './base';\n/** \u5F15\u5165 Path \u5BF9\u5E94\u7684 ShapeFactory */\nimport './shape/violin';\n\n/**\n * Violin \u51E0\u4F55\u6807\u8BB0\u3002\n * \u7528\u4E8E\u7ED8\u5236\u5C0F\u63D0\u7434\u56FE\u3002\n */\nexport default class Violin extends Geometry<ViolinShapePoint> {\n  public readonly type: string = 'violin';\n  public readonly shapeType: string = 'violin';\n  protected generatePoints: boolean = true;\n  /** size \u79C1\u6709\u6620\u5C04\u5B57\u6BB5 */\n  private _sizeField: string;\n\n  /**\n   * \u83B7\u53D6 Shape \u7684\u5173\u952E\u70B9\u6570\u636E\u3002\n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: Datum) {\n    const cfg = super.createShapePointsCfg(record);\n\n    // \u8BA1\u7B97\u6BCF\u4E2A shape \u7684 size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \u5F52\u4E00\u5316\n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n    cfg._size = get(record[FIELD_ORIGIN], [this._sizeField]);\n    return cfg;\n  }\n\n  /**\n   * @override\n   */\n  protected initAttributes() {\n    const { attributeOption } = this;\n    const sizeField = attributeOption.size\n      ? attributeOption.size.fields[0]\n      : this._sizeField\n      ? this._sizeField\n      : 'size';\n    this._sizeField = sizeField;\n    // fixme \u5E72\u5565\u8981\u5220\u6389\n    delete attributeOption.size;\n    super.initAttributes();\n  }\n}\n", "import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getShapeAttrs } from './util';\n\n/**\n * \u63CF\u8FB9\u4F46\u4E0D\u586B\u5145\u7684\u533A\u57DF\u56FE\n */\nregisterShape('area', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, true, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n", "import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**\n * \u586B\u5145\u7684\u5E73\u6ED1\u66F2\u9762\u56FE\n */\nregisterShape('area', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, false, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n      },\n    };\n  },\n});\n", "import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/** \u63CF\u8FB9\u7684\u5E73\u6ED1\u66F2\u9762\u56FE */\nregisterShape('area', 'smooth-line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, true, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n", "import { each } from '@antv/util';\nimport { Point } from '../../../interface';\n\n/**\n * @ignore\n * Gets cpath\n * @param from\n * @param to\n * @returns\n */\nexport function getCPath(from: Point, to: Point) {\n  return ['C', (from.x * 1) / 2 + (to.x * 1) / 2, from.y, (from.x * 1) / 2 + (to.x * 1) / 2, to.y, to.x, to.y];\n}\n\n/**\n * @ignore\n * Gets qpath\n * @param to\n * @param center\n * @returns\n */\nexport function getQPath(to: Point, center: Point) {\n  const points = [];\n  points.push({\n    x: center.x,\n    y: center.y,\n  });\n  points.push(to);\n\n  const sub = ['Q'];\n  each(points, (point) => {\n    sub.push(point.x, point.y);\n  });\n\n  return sub;\n}\n", "import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { getArcPath } from '../../../util/graphics';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath, getQPath } from './util';\n\nfunction getArcShapePath(from: Point, to: Point, center: Point) {\n  const sub = getQPath(to, center);\n  const path = [['M', from.x, from.y]];\n  path.push(sub);\n  return path;\n}\n\nfunction getArcShapeWeightPath(points: Point[], center: Point) {\n  const arc1 = getQPath(points[1], center);\n  const arc2 = getQPath(points[3], center);\n  const path = [['M', points[0].x, points[0].y]];\n  path.push(arc2);\n  path.push(['L', points[3].x, points[3].y]);\n  path.push(['L', points[2].x, points[2].y]);\n  path.push(arc1);\n  path.push(['L', points[1].x, points[1].y]);\n  path.push(['L', points[0].x, points[0].y]);\n  path.push(['Z']);\n  return path;\n}\n\n// \u5F27\u7EBF\u5305\u62EC\u7B1B\u5361\u5C14\u5750\u6807\u7CFB\u4E0B\u7684\u534A\u5706\u5F27\u7EBF\u3001\u6781\u5750\u6807\u7CFB\u4E0B\u4EE5\u5706\u5FC3\u4E3A\u63A7\u5236\u70B9\u7684\u4E8C\u9636\u66F2\u7EBF\u3001\u7B1B\u5361\u5C14\u5750\u6807\u7CFB\u4E0B\u5E26\u6743\u91CD\u7684\u4E09\u9636\u66F2\u7EBF\u3001\u6781\u5750\u6807\u7CFB\u4E0B\u5E26\u6743\u91CD\u7684\u4EE5\u5706\u5FC3\u4E3A\u63A7\u5236\u70B9\u7684\u4E8C\u9636\u66F2\u7EBF\nregisterShape('edge', 'arc', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n\n    let points = cfg.points as Point[];\n    const type = points.length > 2 ? 'weight' : 'normal';\n    let path;\n    if (cfg.isInCircle) {\n      const center = { x: 0, y: 1 };\n      if (type === 'normal') {\n        path = getArcShapePath(points[0], points[1], center);\n      } else {\n        style.fill = style.stroke;\n        path = getArcShapeWeightPath(points, center);\n      }\n      path = this.parsePath(path);\n\n      return container.addShape('path', {\n        attrs: {\n          ...style,\n          path,\n        },\n      });\n    } else {\n      if (type === 'normal') {\n        points = this.parsePoints(points);\n        path = getArcPath(\n          (points[1].x + points[0].x) / 2,\n          points[0].y,\n          Math.abs(points[1].x - points[0].x) / 2,\n          Math.PI,\n          Math.PI * 2\n        );\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      } else {\n        const c1 = getCPath(points[1], points[3]);\n        const c2 = getCPath(points[2], points[0]);\n\n        path = [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          c1,\n          ['L', points[3].x, points[3].y],\n          ['L', points[2].x, points[2].y],\n          c2,\n          ['Z'],\n        ];\n        path = this.parsePath(path);\n        style.fill = style.stroke;\n\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      }\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n", "import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath } from './util';\n\nfunction getSmoothPath(from: Point, to: Point) {\n  const sub = getCPath(from, to);\n  const path = [['M', from.x, from.y]];\n\n  path.push(sub);\n  return path;\n}\n\nregisterShape('edge', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getSmoothPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n", "import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nconst CORNER_PERCENT = 1 / 3;\n\nfunction getVHVPath(from: Point, to: Point) {\n  const points = [];\n  points.push({\n    x: from.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push({\n    x: to.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push(to);\n\n  const path = [['M', from.x, from.y]];\n  each(points, (point) => {\n    path.push(['L', point.x, point.y]);\n  });\n\n  return path;\n}\n\nregisterShape('edge', 'vhv', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getVHVPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n", "import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/** \u6F0F\u6597\u56FE */\nregisterShape('interval', 'funnel', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; // \u6F0F\u6597\u56FE\u7684 size \u662F\u67F1\u72B6\u56FE\u7684\u4E24\u500D\n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n", "import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getRectPath } from './util';\n\n/** \u63CF\u8FB9\u67F1\u72B6\u56FE */\nregisterShape('interval', 'hollow-rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    let group = container;\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup();\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    const path = this.parsePath(getRectPath(cfg.points as Point[]));\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n", "import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getRectPath } from './util';\nimport { omit } from '../../../util/helper';\n\n// \u6839\u636E\u6570\u636E\u70B9\u751F\u6210 Line \u7684\u4E24\u4E2A\u5173\u952E\u70B9\nfunction getLinePoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0 } = pointInfo;\n\n  if (isArray(y)) {\n    return y.map((yItem, idx) => {\n      return {\n        x: isArray(x) ? x[idx] : x,\n        y: yItem,\n      };\n    });\n  }\n\n  // \u8D77\u59CB\u70B9\u4ECE y0 \u5F00\u59CB\n  return [\n    { x: x as number, y: y0 },\n    { x: x as number, y },\n  ];\n}\n\nregisterShape('interval', 'line', {\n  getPoints(shapePoint: ShapePoint) {\n    return getLinePoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const newStyle = omit({ ...style }, ['fill']);\n    const path = this.parsePath(getRectPath(cfg.points as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...newStyle,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x, y - r],\n          ['L', x, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n", "import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/** \u91D1\u5B57\u5854\u56FE\uFF0C\u5C16\u5E95\u6F0F\u6597\u56FE */\nregisterShape('interval', 'pyramid', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; // \u6F0F\u6597\u56FE\u7684 size \u662F\u67F1\u72B6\u56FE\u7684\u4E24\u500D\n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], true));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n", "import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\n// \u6839\u636E\u6570\u636E\u70B9\u751F\u6210 tick shape \u7684 6 \u4E2A\u5173\u952E\u70B9\nfunction getTickPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  const xMax = (x as number) + size / 2;\n  const xMin = (x as number) - size / 2;\n\n  // tick \u5173\u952E\u70B9\u987A\u5E8F\n  // 4 - 1 - 5\n  //     |\n  // 2 - 0 - 3\n  return [\n    { x: x as number, y: yMin },\n    { x: x as number, y: yMax },\n    { x: xMin, y: yMin },\n    { x: xMax, y: yMin },\n    { x: xMin, y: yMax },\n    { x: xMax, y: yMax },\n  ];\n}\n\n// \u6839\u636E tick \u5173\u952E\u70B9\u7ED8\u5236 path\nfunction getTickPath(points: Point[]) {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n  ];\n}\n\n/** I \u5F62\u72B6\u67F1\u72B6\u56FE\uFF0C\u5E38\u7528\u4E8E error bar chart */\nregisterShape('interval', 'tick', {\n  getPoints(shapePoint: ShapePoint) {\n    return getTickPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getTickPath(cfg.points as Point[]));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x - r / 2, y - r],\n          ['L', x + r / 2, y - r],\n          ['M', x, y - r],\n          ['L', x, y + r],\n          ['M', x - r / 2, y + r],\n          ['L', x + r / 2, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n", "import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLineMarker } from './util';\n\nconst interpolateCallback = (point: Point, nextPoint: Point, shapeType: string) => {\n  const x = point.x as number;\n  const y = point.y as number;\n  const nextX = nextPoint.x as number;\n  const nextY = nextPoint.y as number;\n  let result;\n\n  switch (shapeType) {\n    case 'hv':\n      result = [{ x: nextX, y }];\n      break;\n    case 'vh':\n      result = [{ x, y: nextY }];\n      break;\n    case 'hvh':\n      const middleX = (nextX + x) / 2;\n      result = [\n        { x: middleX, y },\n        { x: middleX, y: nextY },\n      ];\n      break;\n    case 'vhv':\n      const middleY = (y + nextY) / 2;\n      result = [\n        { x, y: middleY },\n        { x: nextX, y: middleY },\n      ];\n      break;\n    default:\n      break;\n  }\n\n  return result;\n};\n\nfunction getInterpolatePoints(points: Point[], shapeType: string) {\n  let result = [];\n  each(points, (point: Point, index) => {\n    const nextPoint = points[index + 1];\n    result.push(point);\n    if (nextPoint) {\n      const interpolatePoint = interpolateCallback(point, nextPoint, shapeType);\n      result = result.concat(interpolatePoint);\n    }\n  });\n  return result;\n}\n\n// \u63D2\u503C\u7684\u56FE\u5F62path\uFF0C\u4E0D\u8003\u8651null\nfunction getInterpolatePath(points: Point[]) {\n  return points.map((point, index) => {\n    return index === 0 ? ['M', point.x, point.y] : ['L', point.x, point.y];\n  });\n}\n\n// \u63D2\u503C\u7684\u56FE\u5F62\nfunction getInterpolateShapeAttrs(cfg: ShapeInfo, shapeType: string) {\n  const points = getPathPoints(cfg.points, cfg.connectNulls, cfg.showSinglePoint); // \u6839\u636E connectNulls \u503C\u5904\u7406 points\n  let path = [];\n  each(points, (eachLinePoints) => {\n    const interpolatePoints = getInterpolatePoints(eachLinePoints, shapeType);\n    path = path.concat(getInterpolatePath(interpolatePoints));\n  });\n\n  return {\n    ...getStyle(cfg, true, false, 'lineWidth'),\n    path,\n  };\n}\n\n// step line\neach(['hv', 'vh', 'hvh', 'vhv'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const attrs = getInterpolateShapeAttrs(cfg, shapeType);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n", "import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, HOLLOW_SHAPES } from './util';\n\n// \u6DFB\u52A0 hollowShape\neach(HOLLOW_SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName],\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n", "import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nregisterShape('point', 'image', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const { r: size } = getStyle(cfg, false, false, 'r');\n    const points = this.parsePoints(cfg.points);\n    let pointPosition = points[0];\n    if (cfg.isStack) {\n      pointPosition = points[1];\n    } else if (points.length > 1) {\n      const group = container.addGroup();\n      for (const point of points) {\n        group.addShape('image', {\n          attrs: {\n            x: (point.x as number) - size / 2,\n            y: (point.y as number) - size,\n            width: size,\n            height: size,\n            img: cfg.shape[1],\n          },\n        });\n      }\n\n      return group;\n    }\n\n    return container.addShape('image', {\n      attrs: {\n        x: (pointPosition.x as number) - size / 2,\n        y: (pointPosition.y as number) - size,\n        width: size,\n        height: size,\n        img: cfg.shape[1],\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: color,\n      },\n    };\n  },\n});\n", "import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, SHAPES } from './util';\n\n// \u6240\u6709\u7684 SHAPES \u90FD\u6CE8\u518C\u4E00\u4E0B\neach(SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, false);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    },\n  });\n});\n", "import { isArray, isNil } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction parseValue(value: number[]) {\n  const array = !isArray(value) ? [value] : value;\n\n  const min = array[0]; // \u6700\u5C0F\u503C\n  const max = array[array.length - 1]; // \u6700\u5927\u503C\n  const min1 = array.length > 1 ? array[1] : min;\n  const max1 = array.length > 3 ? array[3] : max;\n  const median = array.length > 2 ? array[2] : min1;\n\n  return {\n    min, // \u6700\u5C0F\u503C\n    max, // \u6700\u5927\u503C\n    min1,\n    max1,\n    median,\n  };\n}\n\nfunction getBoxPoints(x: number | number[], y: number | number[], size: number): Point[] {\n  const halfSize = size / 2;\n  let pointsArray;\n  if (isArray(y)) {\n    // 2\u7EF4\n    const { min, max, median, min1, max1 } = parseValue(y);\n    const minX = (x as number) - halfSize;\n    const maxX = (x as number) + halfSize;\n    pointsArray = [\n      [minX, max],\n      [maxX, max],\n      [x as number, max],\n      [x as number, max1],\n      [minX, min1],\n      [minX, max1],\n      [maxX, max1],\n      [maxX, min1],\n      [x as number, min1],\n      [x as number, min],\n      [minX, min],\n      [maxX, min],\n      [minX, median],\n      [maxX, median],\n    ];\n  } else {\n    // \u53EA\u6709\u4E00\u4E2A\u7EF4\u5EA6\n    y = isNil(y) ? 0.5 : y;\n    const { min, max, median, min1, max1 } = parseValue(x as number[]);\n    const minY = y - halfSize;\n    const maxY = y + halfSize;\n    pointsArray = [\n      [min, minY],\n      [min, maxY],\n      [min, y],\n      [min1, y],\n      [min1, minY],\n      [min1, maxY],\n      [max1, maxY],\n      [max1, minY],\n      [max1, y],\n      [max, y],\n      [max, minY],\n      [max, maxY],\n      [median, minY],\n      [median, maxY],\n    ];\n  }\n\n  return pointsArray.map((arr) => {\n    return {\n      x: arr[0],\n      y: arr[1],\n    };\n  });\n}\n\nfunction getBoxPath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['L', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n    ['L', points[4].x, points[4].y], // \u5C01\u95ED z\n    ['Z'],\n    ['M', points[8].x, points[8].y],\n    ['L', points[9].x, points[9].y],\n    ['M', points[10].x, points[10].y],\n    ['L', points[11].x, points[11].y],\n    ['M', points[12].x, points[12].y],\n    ['L', points[13].x, points[13].y],\n  ];\n}\n\n// box shape\nregisterShape('schema', 'box', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getBoxPoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getBoxPath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y - 6, y - 3, y, y + 3, y + 6];\n        const points = getBoxPoints(x, yValues, r);\n        return [\n          ['M', points[0].x + 1, points[0].y],\n          ['L', points[1].x - 1, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['M', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['L', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n          ['L', points[4].x, points[4].y],\n          ['Z'],\n          ['M', points[8].x, points[8].y],\n          ['L', points[9].x, points[9].y],\n          ['M', points[10].x + 1, points[10].y],\n          ['L', points[11].x - 1, points[11].y],\n          ['M', points[12].x, points[12].y],\n          ['L', points[13].x, points[13].y],\n        ];\n      },\n      style: {\n        r: 6,\n        lineWidth: 1,\n        stroke: color,\n      },\n    };\n  },\n});\n", "import { isArray } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { padEnd } from '../../../util/helper';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getCandleYValues(value: number | number[]) {\n  const array = !isArray(value) ? [value] : value;\n  // \u4ECE\u5927\u5230\u5C0F\u6392\u5E8F\n  const sorted = array.sort((a, b) => b - a);\n  return padEnd(sorted, 4, sorted[sorted.length - 1]);\n}\n\n// get candle shape's key points\nfunction getCandlePoints(x: number, y: number[], size: number): Point[] {\n  const yValues = getCandleYValues(y);\n  return [\n    { x, y: yValues[0] },\n    { x, y: yValues[1] },\n    { x: x - size / 2, y: yValues[2] },\n    { x: x - size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[2] },\n    { x, y: yValues[2] },\n    { x, y: yValues[3] },\n  ];\n}\n\nfunction getCandlePath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['L', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['Z'],\n    ['M', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n  ];\n}\n\n// k line shape\nregisterShape('schema', 'candle', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getCandlePoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, true);\n    const path = this.parsePath(getCandlePath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y + 7.5, y + 3, y - 3, y - 7.5];\n        const points = getCandlePoints(x, yValues, r);\n        return [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['L', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['Z'],\n          ['M', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n        ];\n      },\n      style: {\n        lineWidth: 1,\n        stroke: color,\n        fill: color,\n        r: 6,\n      },\n    };\n  },\n});\n", "import { isEmpty, clamp } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getRectAttrs(points: any[], size: number) {\n  const width = Math.abs(points[0].x - points[2].x);\n  const height = Math.abs(points[0].y - points[2].y);\n\n  let len = Math.min(width, height);\n  if (size) {\n    len = clamp(size, 0, Math.min(width, height));\n  }\n  len = len / 2;\n  const centerX = (points[0].x + points[2].x) / 2;\n  const centerY = (points[0].y + points[2].y) / 2;\n\n  return {\n    x: centerX - len,\n    y: centerY - len,\n    width: len * 2,\n    height: len * 2,\n  };\n}\n\nregisterShape('polygon', 'square', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const points = this.parsePoints(cfg.points); // \u8F6C\u6362\u4E3A\u753B\u5E03\u5750\u6807\n      return container.addShape('rect', {\n        attrs: {\n          ...shapeAttrs,\n          ...getRectAttrs(points, cfg.size), // \u83B7\u53D6 rect \u7ED8\u56FE\u4FE1\u606F\n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n", "import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * \u5E73\u6ED1\u8FB9\u754C\u7684\u5C0F\u63D0\u7434\u56FE\n */\nregisterShape('violin', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        stroke: null,\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n", "import { IGroup, Point } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath, getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * \u7A7A\u5FC3\u5C0F\u63D0\u7434\u56FE\n */\nregisterShape('violin', 'hollow', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n\n/**\n * \u5E73\u6ED1\u8FB9\u754C\u7684\u7A7A\u5FC3\u5C0F\u63D0\u7434\u56FE\n */\nregisterShape('violin', 'hollow-smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n", "import { get, deepMix, isArray } from '@antv/util';\nimport { Writeable } from '../../util/types';\nimport { MappingDatum, Point } from '../../interface';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\n/**\n * \u67F1\u72B6\u56FE label\n */\nexport default class IntervalLabel extends GeometryLabel {\n  /**\n   * \u83B7\u53D6 interval label \u7684\u65B9\u5411\uFF0C\u53D6\u51B3\u4E8E value \u7684\u503C\u662F\u6B63\u8FD8\u662F\u8D1F\n   * @param labelCfg\n   */\n  private getLabelValueDir(mappingData: MappingDatum) {\n    // points \u4E2D\u7684 x/y \u548C transpose \u65E0\u5173\n    const dim = 'y';\n    const { points } = mappingData;\n\n    return points[0][dim] <= points[2][dim] ? 1 : -1;\n  }\n\n  /**\n   * \u91CD\u8F7D\uFF1A\u6839\u636E interval \u503C\u7684\u6B63\u8D1F\u6765\u8C03\u6574 label \u504F\u79FB\u91CF\n   * @param labelCfg\n   * @param index\n   * @param total\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number, position?: string) {\n    let point = super.getLabelOffsetPoint(labelCfg, index, total);\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const dir = this.getLabelValueDir(labelCfg.mappingData);\n    point = { ...point, [dim]: point[dim] * dir };\n\n    if (coordinate.isReflect('x')) {\n      point = {\n        ...point,\n        x: point.x * -1,\n      };\n    }\n    if (coordinate.isReflect('y')) {\n      point = {\n        ...point,\n        y: point.y * -1,\n      };\n    }\n\n    return point;\n  }\n\n  /**\n   * \u91CD\u8F7D\uFF1A\u5B9A\u5236 interval label \u7684\u9ED8\u8BA4\u4E3B\u9898\u914D\u7F6E\n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { theme } = geometry;\n\n    // \u5982\u679C interval label position \u8BBE\u7F6E\u4E3A middle\uFF0C\u5219\u5C06\u4E3B\u9898\u4E2D\u7684 offset \u8986\u76D6\u4E3A 0\n    return deepMix({}, defaultLabelCfg, theme.labels, labelCfg.position === 'middle' ? { offset: 0 } : {}, labelCfg);\n  }\n\n  protected setLabelPosition(\n    labelPointCfg: Writeable<LabelPointCfg>,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const shapePoints = mappingData.points as Point[];\n    const point0 = coordinate.convert(shapePoints[0]);\n    const point2 = coordinate.convert(shapePoints[2]);\n    const dir = this.getLabelValueDir(mappingData);\n\n    let top;\n    let right;\n    let bottom;\n    let left;\n\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    if (shape === 'funnel' || shape === 'pyramid') {\n      // \u5904\u7406\u6F0F\u6597\u56FE\n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \u975E\u6F0F\u6597\u56FE\u5E95\u90E8\n        const p0 = coordinate.convert(points[0] as Point);\n        const p1 = coordinate.convert(points[1] as Point);\n        const nextP0 = coordinate.convert(nextPoints[0] as Point);\n        const nextP1 = coordinate.convert(nextPoints[1] as Point);\n\n        // TODO: \u4F7F\u7528\u5305\u56F4\u76D2\u7684\u8BA1\u7B97\u65B9\u6CD5\n        if (transposed) {\n          top = Math.min(nextP0.y, p0.y);\n          bottom = Math.max(nextP0.y, p0.y);\n          right = (p1.x + nextP1.x) / 2;\n          left = (p0.x + nextP0.x) / 2;\n        } else {\n          top = Math.min((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          bottom = Math.max((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          right = nextP1.x;\n          left = p0.x;\n        }\n      } else {\n        top = Math.min(point2.y, point0.y);\n        bottom = Math.max(point2.y, point0.y);\n        right = point2.x;\n        left = point0.x;\n      }\n    } else {\n      top = Math.min(point2.y, point0.y);\n      bottom = Math.max(point2.y, point0.y);\n      right = point2.x;\n      left = point0.x;\n    }\n\n    switch (position) {\n      case 'right':\n        labelPointCfg.x = right;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'left':\n        labelPointCfg.x = left;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'bottom':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = bottom;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      case 'middle':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', 'middle');\n        break;\n      case 'top':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = top;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      default:\n        break;\n    }\n  }\n}\n", "import { each, get, isArray, map, isNumber, isString } from '@antv/util';\nimport { MappingDatum, Point } from '../../interface';\nimport { getDistanceToCenter } from '../../util/coordinate';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, PolarLabelItem, LabelPointCfg, Writeable } from './interface';\n\nconst HALF_PI = Math.PI / 2;\n\n/**\n * \u6781\u5750\u6807\u4E0B\u7684\u56FE\u5F62 label\n */\nexport default class PolarLabel extends GeometryLabel {\n  /**\n   * @override\n   * @desc \u83B7\u53D6 label offset\n   * polar & theta coordinate support\u300Cstring\u300Dtype, should transform to \u300Cnumber\u300D\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    } else if (isString(offset) && offset.indexOf('%') !== -1) {\n      let r = coordinate.getRadius();\n      if (coordinate.innerRadius > 0) {\n        r = r * (1 - coordinate.innerRadius);\n      }\n      actualOffset = parseFloat(offset) * 0.01 * r;\n    }\n\n    return actualOffset;\n  }\n\n  /**\n   * @override\n   * \u83B7\u53D6 labelItems, \u589E\u52A0\u5207\u7247 percent\n   * @param mapppingArray\n   */\n  public getLabelItems(mapppingArray: MappingDatum[]): PolarLabelItem[] {\n    const items = super.getLabelItems(mapppingArray);\n    const yScale = this.geometry.getYScale();\n\n    return map(items, (item) => {\n      if (item && yScale) {\n        const percent = yScale.scale(get(item.data, yScale.field));\n        return { ...item, percent };\n      }\n      return item;\n    });\n  }\n  /**\n   * @override\n   * \u83B7\u53D6\u6587\u672C\u7684\u5BF9\u9F50\u65B9\u5F0F\n   * @param point\n   */\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    let align;\n    if (point.labelEmit) {\n      align = point.angle <= Math.PI / 2 && point.angle >= -Math.PI / 2 ? 'left' : 'right';\n    } else if (!coordinate.isTransposed) {\n      align = 'center';\n    } else {\n      const center = coordinate.getCenter();\n      const offset = point.offset;\n      if (Math.abs(point.x - center.x) < 1) {\n        align = 'center';\n      } else if (point.angle > Math.PI || point.angle <= 0) {\n        align = offset > 0 ? 'left' : 'right';\n      } else {\n        align = offset > 0 ? 'right' : 'left';\n      }\n    }\n    return align;\n  }\n\n  /**\n   * @override\n   * \u83B7\u53D6 label \u7684\u4F4D\u7F6E\n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    let factor = 1;\n    let arcPoint;\n    const content = labelCfg.content[index];\n    if (this.isToMiddle(mappingData)) {\n      arcPoint = this.getMiddlePoint(mappingData.points as Point[]);\n    } else {\n      if (labelCfg.content.length === 1 && index === 0) {\n        index = 1;\n      } else if (index === 0) {\n        factor = -1;\n      }\n      arcPoint = this.getArcPoint(mappingData, index);\n    }\n\n    const offset = labelCfg.offset * factor;\n    const middleAngle = this.getPointAngle(arcPoint);\n    const isLabelEmit = labelCfg.labelEmit;\n    const labelPositionCfg: Writeable<LabelPointCfg> = this.getCirclePoint(middleAngle, offset, arcPoint, isLabelEmit);\n    if (labelPositionCfg.r === 0) {\n      // \u5982\u679C\u6587\u672C\u4F4D\u7F6E\u4F4D\u4E8E\u5706\u5FC3\uFF0C\u5219\u4E0D\u5C55\u793A\n      labelPositionCfg.content = '';\n    } else {\n      labelPositionCfg.content = content;\n      labelPositionCfg.angle = middleAngle;\n      labelPositionCfg.color = mappingData.color;\n    }\n\n    labelPositionCfg.rotate = labelCfg.autoRotate\n      ? this.getLabelRotate(middleAngle, offset, isLabelEmit)\n      : labelCfg.rotate;\n    labelPositionCfg.start = {\n      x: arcPoint.x,\n      y: arcPoint.y,\n    };\n    return labelPositionCfg;\n  }\n\n  /**\n   * \u83B7\u53D6\u5706\u5F27\u7684\u4F4D\u7F6E\n   */\n  protected getArcPoint(mappingData: MappingDatum, index: number = 0): Point {\n    if (!isArray(mappingData.x) && !isArray(mappingData.y)) {\n      return {\n        x: mappingData.x,\n        y: mappingData.y,\n      };\n    }\n\n    return {\n      x: isArray(mappingData.x) ? mappingData.x[index] : mappingData.x,\n      y: isArray(mappingData.y) ? mappingData.y[index] : mappingData.y,\n    };\n  }\n\n  /**\n   * \u8BA1\u7B97\u5750\u6807\u7EBF\u70B9\u5728\u6781\u5750\u6807\u7CFB\u4E0B\u89D2\u5EA6\n   * @param point\n   */\n  protected getPointAngle(point: Point): number {\n    return getAngleByPoint(this.getCoordinate(), point);\n  }\n\n  /**\n   * \u83B7\u53D6\u5750\u6807\u70B9\u4E0E\u5706\u5FC3\u5F62\u6210\u7684\u5706\u7684\u4F4D\u7F6E\u4FE1\u606F\n   * @param angle\n   * @param offset\n   * @param point\n   * @param isLabelEmit\n   */\n  protected getCirclePoint(angle: number, offset: number, point: Point, isLabelEmit: boolean) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    let r = getDistanceToCenter(coordinate, point);\n    if (r === 0) {\n      return {\n        ...center,\n        r,\n      };\n    }\n\n    let labelAngle = angle;\n    if (coordinate.isTransposed && r > offset && !isLabelEmit) {\n      const appendAngle = Math.asin(offset / (2 * r));\n      labelAngle = angle + appendAngle * 2;\n    } else {\n      r = r + offset;\n    }\n\n    return {\n      x: center.x + r * Math.cos(labelAngle),\n      y: center.y + r * Math.sin(labelAngle),\n      r,\n    };\n  }\n\n  /**\n   * \u83B7\u53D6 label \u7684\u65CB\u8F6C\u89D2\u5EA6\n   * @param angle\n   * @param offset\n   * @param isLabelEmit\n   */\n  protected getLabelRotate(angle: number, offset: number, isLabelEmit: boolean) {\n    let rotate = angle + HALF_PI;\n    if (isLabelEmit) {\n      rotate -= HALF_PI;\n    }\n    if (rotate) {\n      if (rotate > HALF_PI) {\n        rotate = rotate - Math.PI;\n      } else if (rotate < -HALF_PI) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  // \u83B7\u53D6\u4E2D\u5FC3\u7684\u4F4D\u7F6E\n  private getMiddlePoint(points: Point[]) {\n    const coordinate = this.getCoordinate();\n    const count = points.length;\n    let middlePoint = {\n      x: 0,\n      y: 0,\n    };\n    each(points, (point: Point) => {\n      middlePoint.x += point.x;\n      middlePoint.y += point.y;\n    });\n    middlePoint.x /= count;\n    middlePoint.y /= count;\n\n    middlePoint = coordinate.convert(middlePoint);\n    return middlePoint;\n  }\n\n  // \u662F\u5426\u5C45\u4E2D\n  private isToMiddle(mappingData: MappingDatum) {\n    return (mappingData.x as number[]).length > 2;\n  }\n}\n", "import { deepMix, get, isArray } from '@antv/util';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { LabelItem } from './interface';\nimport PolarLabel from './polar';\n\n/**\n * \u997C\u56FE label\n */\nexport default class PieLabel extends PolarLabel {\n  public defaultLayout = 'distribute';\n\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const cfg = super.getDefaultLabelCfg(offset, position);\n    return deepMix({}, cfg, get(this.geometry.theme, 'pieLabels', {}));\n  }\n\n  /** @override */\n  protected getLabelOffset(offset: string | number): number {\n    return super.getLabelOffset(offset) || 0;\n  }\n\n  protected getLabelRotate(angle: number, offset: number, isLabelLimit: boolean) {\n    let rotate;\n    if (offset < 0) {\n      rotate = angle;\n      if (rotate > Math.PI / 2) {\n        rotate = rotate - Math.PI;\n      }\n      if (rotate < -Math.PI / 2) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n\n    let align;\n    if (point.angle <= Math.PI / 2 && point.x >= center.x) {\n      align = 'left';\n    } else {\n      align = 'right';\n    }\n    if (point.offset <= 0) {\n      if (align === 'right') {\n        align = 'left';\n      } else {\n        align = 'right';\n      }\n    }\n    return align;\n  }\n\n  protected getArcPoint(point) {\n    return point;\n  }\n\n  protected getPointAngle(point) {\n    const coordinate = this.getCoordinate();\n    const startPoint = {\n      x: isArray(point.x) ? point.x[0] : point.x,\n      y: point.y[0],\n    };\n    const endPoint = {\n      x: isArray(point.x) ? point.x[1] : point.x,\n      y: point.y[1],\n    };\n    let angle;\n    const startAngle = getAngleByPoint(coordinate, startPoint);\n    if (point.points && point.points[0].y === point.points[1].y) {\n      angle = startAngle;\n    } else {\n      let endAngle = getAngleByPoint(coordinate, endPoint);\n      if (startAngle >= endAngle) {\n        // 100% pie slice\n        endAngle = endAngle + Math.PI * 2;\n      }\n      angle = startAngle + (endAngle - startAngle) / 2;\n    }\n    return angle;\n  }\n\n  /** @override */\n  protected getCirclePoint(angle: number, offset: number) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    const r = coordinate.getRadius() + offset;\n    return {\n      ...polarToCartesian(center.x, center.y, r, angle),\n      angle,\n      r,\n    };\n  }\n}\n", "import { isObject, each, find, get } from '@antv/util';\n\nimport { BBox, IGroup, IShape } from '../../../../dependents';\nimport { LabelItem } from '../../interface';\n\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { IElement } from '@antv/g-base';\n\n/** label text\u548Cline\u8DDD\u79BB 4px */\nconst MARGIN = 4;\n\nfunction antiCollision(labelShapes, labels, lineHeight, plotRange, center, isRight) {\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const start = plotRange.start;\n  const end = plotRange.end;\n  const startY = Math.min(start.y, end.y);\n  let totalHeight = Math.abs(start.y - end.y);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      size: lineHeight,\n      targets: [label.y - startY],\n    };\n  });\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      // box.pos = Math.max(0, target - box.size / 2);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + lineHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += lineHeight;\n      i++;\n    });\n  });\n\n  const labelsMap = {};\n  for (const labelShape of labelShapes) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // (x - cx)^2 + (y - cy)^2 = totalR^2\n  labels.forEach((label) => {\n    const rPow2 = label.r * label.r;\n    const dyPow2 = Math.pow(Math.abs(label.y - center.y), 2);\n    if (rPow2 < dyPow2) {\n      label.x = center.x;\n    } else {\n      const dx = Math.sqrt(rPow2 - dyPow2);\n      if (!isRight) {\n        // left\n        label.x = center.x - dx;\n      } else {\n        // right\n        label.x = center.x + dx;\n      }\n    }\n\n    // adjust labelShape\n    const labelShape = labelsMap[label.id];\n    labelShape.attr('x', label.x);\n    labelShape.attr('y', label.y);\n\n    // because group could not effect text-shape, should set text-shape position manually\n    const textShape = find(labelShape.getChildren(), (ele) => ele.get('type') === 'text') as IElement;\n    // @ts-ignore\n    if (textShape) {\n      textShape.attr('y', label.y);\n      textShape.attr('x', label.x);\n    }\n  });\n}\n\nexport function distribute(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  if (!items.length || !labels.length) {\n    return;\n  }\n  const offset = items[0] ? items[0].offset : 0;\n  const coordinate = labels[0].get('coordinate');\n  const radius = coordinate.getRadius();\n  const center = coordinate.getCenter();\n\n  if (offset > 0) {\n    // const lineHeight = get(this.geometry.theme, ['pieLabels', 'labelHeight'], 14);\n    const lineHeight = 14; // TODO\n    const totalR = radius + offset;\n    const totalHeight = totalR * 2 + lineHeight * 2;\n    const plotRange = {\n      start: coordinate.start,\n      end: coordinate.end,\n    };\n\n    // step 1: separate labels\n    const halves = [\n      [], // left\n      [], // right\n    ];\n    items.forEach((labelItem) => {\n      if (!labelItem) {\n        return;\n      }\n      if (labelItem.textAlign === 'right') {\n        // left\n        halves[0].push(labelItem);\n      } else {\n        // right or center will be put on the right side\n        halves[1].push(labelItem);\n      }\n    });\n\n    halves.forEach((half, index) => {\n      // step 2: reduce labels\n      const maxLabelsCountForOneSide = totalHeight / lineHeight;\n      if (half.length > maxLabelsCountForOneSide) {\n        half.sort((a, b) => {\n          // sort by percentage DESC\n          return b['..percent'] - a['..percent'];\n        });\n        half.splice(maxLabelsCountForOneSide, half.length - maxLabelsCountForOneSide);\n      }\n\n      // step 3: distribute position (x and y)\n      half.sort((a, b) => {\n        // sort by y ASC\n        return a.y - b.y;\n      });\n\n      antiCollision(labels, half, lineHeight, plotRange, center, index);\n    });\n  }\n\n  // \u914D\u7F6E labelLine\n  each(items, (item) => {\n    if (item && item.labelLine) {\n      const distance = item.offset;\n      const angle = item.angle;\n      // \u8D34\u8FD1\u5706\u5468\n      const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n      const innerPoint = polarToCartesian(center.x, center.y, radius + distance / 2, angle);\n      const itemX = item.x + get(item, 'offsetX', 0);\n      const itemY = item.y + get(item, 'offsetY', 0);\n      const endPoint = {\n        x: itemX - Math.cos(angle) * MARGIN,\n        y: itemY - Math.sin(angle) * MARGIN,\n      };\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n      item.labelLine.path = [\n        `M ${startPoint.x}`,\n        `${startPoint.y} Q${innerPoint.x}`,\n        `${innerPoint.y} ${endPoint.x}`,\n        endPoint.y,\n      ].join(',');\n    }\n  });\n}\n", "import { PolarLabelItem } from '../../interface';\n\n/**\n * \u78B0\u649E\u68C0\u6D4B\u7B97\u6CD5\n */\nexport function antiCollision(\n  items: PolarLabelItem[],\n  labelHeight: number,\n  plotRange: { minY: number; maxY: number; minX: number; maxX: number }\n) {\n  const labels = items.filter((item) => !item.invisible);\n\n  // sorted by y, mutable\n  labels.sort((a, b) => a.y - b.y);\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const startY = plotRange.minY;\n  const endY = plotRange.maxY;\n  let totalHeight = Math.abs(startY - endY);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      content: label.content,\n      size: labelHeight,\n      targets: [label.y - startY],\n      pos: null,\n    };\n  });\n\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      box.pos = Math.max(0, box.pos);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + labelHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += labelHeight;\n      i++;\n    });\n  });\n}\n", "import { Coordinate } from '@antv/coord';\nimport { BBox, IGroup, IShape, IElement } from '@antv/g-base';\nimport { isObject, each, get, groupBy, isNil, filter } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\n\n/** label text\u548Cline\u8DDD\u79BB 4px */\nconst MARGIN = 4;\n\n/**\n * \u914D\u7F6E labelline\n * @param item PolarLabelItem\n */\nfunction drawLabelline(item: any /** PolarLabelItem */, coordinate: Coordinate) {\n  /** \u5750\u6807\u5706\u5FC3 */\n  const center = coordinate.getCenter();\n  /** \u5706\u534A\u5F84 */\n  const radius = coordinate.getRadius();\n\n  if (item && item.labelLine) {\n    const { angle, offset: labelOffset } = item;\n    // \u8D34\u8FD1\u5706\u5468\n    const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n    const itemX = item.x + get(item, 'offsetX', 0) * (Math.cos(angle) > 0 ? 1 : -1);\n    const itemY = item.y + get(item, 'offsetY', 0) * (Math.sin(angle) > 0 ? 1 : -1);\n\n    const endPoint = {\n      x: itemX - Math.cos(angle) * MARGIN,\n      y: itemY - Math.sin(angle) * MARGIN,\n    };\n\n    const smoothConnector = item.labelLine.smooth;\n    const path = [];\n    const dx = endPoint.x - center.x;\n    const dy = endPoint.y - center.y;\n    let endAngle = Math.atan(dy / dx);\n    // \u7B2C\u4E09\u8C61\u9650 & \u7B2C\u56DB\u8C61\u9650\n    if (dx < 0) {\n      endAngle += Math.PI;\n    }\n\n    // \u9ED8\u8BA4 smooth, undefined \u4E5F\u4E3A smooth\n    if (smoothConnector === false) {\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n\n      // \u8868\u793A\u5F27\u7EBF\u7684\u65B9\u5411\uFF0C0 \u8868\u793A\u4ECE\u8D77\u70B9\u5230\u7EC8\u70B9\u6CBF\u9006\u65F6\u9488\u753B\u5F27, 1 \u8868\u793A\u987A\u65F6\u9488\n      let sweepFlag = 0;\n\n      // \u7B2C\u4E00\u8C61\u9650\n      if ((angle < 0 && angle > -Math.PI / 2) || angle > Math.PI * 1.5) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \u7B2C\u4E8C\u8C61\u9650\n      if (angle >= 0 && angle < Math.PI / 2) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \u7B2C\u4E09\u8C61\u9650\n      if (angle >= Math.PI / 2 && angle < Math.PI) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \u7B2C\u56DB\u8C61\u9650\n      if (angle < -Math.PI / 2 || (angle >= Math.PI && angle < Math.PI * 1.5)) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      const distance = labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0);\n      const breakPoint = polarToCartesian(center.x, center.y, radius + distance, angle);\n      // \u5706\u5F27\u7684\u7ED3\u675F\u70B9\n      const breakPoint3 = polarToCartesian(center.x, center.y, radius + labelOffset / 2, endAngle);\n\n      /**\n       * @example\n       * M 100 100 L100 90 A 50 50 0 0 0 150 50\n       * \u79FB\u52A8\u81F3 (100, 100), \u8FDE\u63A5\u5230 (100, 90), \u4EE5 (50, 50) \u4E3A\u5706\u5FC3\uFF0C\u7ED8\u5236\u5706\u5F27\u81F3 (150, 50);\n       * A \u547D\u4EE4\u7684\u7B2C 4 \u4E2A\u53C2\u6570 large-arc-flag, \u51B3\u5B9A\u5F27\u7EBF\u662F\u5927\u4E8E\u8FD8\u662F\u5C0F\u4E8E 180 \u5EA6: 0 \u8868\u793A\u5C0F\u89D2\u5EA6\u5F27\uFF0C1 \u8868\u793A\u5927\u89D2\n       * \u7B2C 5 \u4E2A\u53C2\u6570: \u662F\u5426\u987A\u65F6\u9488\u7ED8\u5236\n       */\n      // \u9ED8\u8BA4\u5C0F\u5F27\n      const largeArcFlag = 0;\n      // step1: \u79FB\u52A8\u81F3\u8D77\u70B9\n      path.push(`M ${startPoint.x} ${startPoint.y}`);\n      // step2: \u8FDE\u63A5\u62D0\u70B9\n      path.push(`L ${breakPoint.x} ${breakPoint.y}`);\n      // step3: \u7ED8\u5236\u5706\u5F27 \u81F3 \u7ED3\u675F\u70B9\n      path.push(`A ${center.x} ${center.y} 0 ${largeArcFlag} ${sweepFlag} ${breakPoint3.x} ${breakPoint3.y}`);\n      // step4: \u8FDE\u63A5\u7ED3\u675F\u70B9\n      path.push(`L ${endPoint.x} ${endPoint.y}`);\n    } else {\n      const breakPoint = polarToCartesian(\n        center.x,\n        center.y,\n        radius + (labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0)),\n        angle\n      );\n      // G2 \u65E7\u7684\u62C9\u7EBF\n      // path.push('Q', `${breakPoint.x}`, `${breakPoint.y}`, `${endPoint.x}`, `${endPoint.y}`);\n      const xSign = startPoint.x < center.x ? 1 : -1;\n      // step1: \u8FDE\u63A5\u7ED3\u675F\u70B9\n      path.push(`M ${endPoint.x} ${endPoint.y}`);\n      const slope1 = (startPoint.y - center.y) / (startPoint.x - center.x);\n      const slope2 = (endPoint.y - center.y) / (endPoint.x - center.x);\n      if (Math.abs(slope1 - slope2) > Math.pow(Math.E, -16)) {\n        // step2: \u7ED8\u5236 curve line (\u8D77\u70B9 & \u7ED3\u5408\u70B9\u4E0E\u5706\u5FC3\u7684\u659C\u7387\u4E0D\u7B49\u65F6, \u7531\u4E8E\u5B58\u5728\u8BEF\u5DEE, \u4F7F\u7528\u8FD1\u4F3C\u5904\u7406)\n        path.push(\n          ...[\n            'C',\n            endPoint.x + xSign * 4,\n            endPoint.y,\n            2 * breakPoint.x - startPoint.x,\n            2 * breakPoint.y - startPoint.y,\n            startPoint.x,\n            startPoint.y,\n          ]\n        );\n      }\n      // step3: \u8FDE\u63A5\u81F3\u8D77\u70B9\n      path.push(`L ${startPoint.x} ${startPoint.y}`);\n    }\n    item.labelLine.path = path.join(' ');\n  }\n}\n\n/**\n * \u997C\u56FE outer-label \u5E03\u5C40, \u9002\u7528\u4E8E type = pie \u4E14 label offset > 0 \u7684\u6807\u7B7E\n */\nexport function pieOuterLabelLayout(\n  originalItems: PolarLabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox\n) {\n  const items = filter(originalItems, (item) => !isNil(item));\n  /** \u5750\u6807\u7CFB */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /** \u5750\u6807\u5706\u5FC3 */\n  const center = coordinate.getCenter();\n  /** \u5706\u534A\u5F84 */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // note labelHeight \u53EF\u4EE5\u63A7\u5236 label \u7684\u884C\u9AD8\n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = get(items[0], 'offset', 0);\n\n  if (labelOffset <= 0) {\n    return;\n  }\n\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const separateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  const { start, end } = coordinate;\n  // step2: calculate totalHeight\n  const totalHeight = Math.min((radius + labelOffset + labelHeight) * 2, coordinate.getHeight());\n  const totalR = totalHeight / 2;\n\n  /** labels \u5BB9\u5668\u7684\u8303\u56F4(\u540E\u7EED\u6839\u636E\u7EC4\u4EF6\u7684\u5E03\u5C40\u8BBE\u8BA1\u8FDB\u884C\u8C03\u6574) */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalR,\n    maxY: center.y + totalR,\n  };\n\n  // step 3: antiCollision\n  each(separateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = Math.floor(totalHeight / labelHeight);\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx + 1 > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  each(separateLabels, (half: PolarLabelItem[], key: string) => {\n    each(half, (item: PolarLabelItem) => {\n      const isRight = key === RIGHT_HALF_KEY;\n      const labelShape = labelsMap[item.id];\n\n      // because group could not effect content-shape, should set content-shape position manually\n      const content = labelShape.getChildByIndex(0) as IElement;\n\n      // textShape \u53D1\u751F\u8FC7\u8C03\u6574\n      if (content) {\n        const r = radius + labelOffset;\n        // (x - cx)^2 + (y - cy)^2 = totalR^2\n        const dy = item.y - center.y;\n\n        const rPow2 = Math.pow(r, 2);\n        const dyPow2 = Math.pow(dy, 2);\n        const dxPow2 = rPow2 - dyPow2 > 0 ? rPow2 - dyPow2 : 0;\n        const dx = Math.sqrt(dxPow2);\n\n        const dx_offset = Math.abs(Math.cos(item.angle) * r);\n        if (!isRight) {\n          // left\n          item.x = center.x - Math.max(dx, dx_offset);\n        } else {\n          // right\n          item.x = center.x + Math.max(dx, dx_offset);\n        }\n      }\n\n      // adjust labelShape\n      if (content) {\n        content.attr('y', item.y);\n        content.attr('x', item.x);\n      }\n\n      drawLabelline(item, coordinate);\n    });\n  });\n}\n", "import { BBox, IGroup, IShape } from '@antv/g-base';\nimport { each, get, isNil, deepMix, groupBy } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { LabelItem, PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\nimport { translate } from '../../../../util/transform';\nimport { Coordinate } from '@antv/coord';\n\n/** \u62D0\u70B9\u504F\u79FB\u91CF, \u6682\u4E0D\u53EF\u914D\u7F6E */\nconst INFLECTION_OFFSET = 4;\n/** \u6807\u7B7E\u504F\u79FB\u91CF, distance between label and edge: offsetX */\nconst LABEL_OFFSET_X = 4;\n/** \u6807\u7B7E\u4E0E\u7275\u5F15\u7EBF\u7684\u504F\u79FB\u91CF */\nconst LABEL_TEXT_LINE_OFFSET = 4;\n\nfunction drawLabelline(item: PolarLabelItem, coordinate: Coordinate, inRight: boolean) {\n  /** \u5750\u6807\u5706\u5FC3 */\n  const center = coordinate.getCenter();\n  /** \u5706\u534A\u5F84 */\n  const radius = coordinate.getRadius();\n  const startPoint = {\n    x: item.x - (inRight ? LABEL_TEXT_LINE_OFFSET : -LABEL_TEXT_LINE_OFFSET),\n    y: item.y,\n  };\n  const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n  const p1 = { x: startPoint.x, y: startPoint.y };\n  const p2 = { x: inflectionPoint.x, y: inflectionPoint.y };\n\n  const endPoint = polarToCartesian(center.x, center.y, radius, item.angle);\n  let path = '';\n\n  // \u6587\u672C\u88AB\u8C03\u6574\u4E0B\u53BB\u4E86\uFF0C\u5219\u6DFB\u52A0\u62D0\u70B9\u8FDE\u63A5\u7EBF\n  if (startPoint.y !== inflectionPoint.y) {\n    const offset = inRight ? 4 : -4;\n    p1.y = startPoint.y;\n\n    /** \u662F\u5426\u5728\u7B2C\u4E00\u8C61\u9650 */\n    if (item.angle < 0 && item.angle >= -Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /** \u662F\u5426\u5728 \u7B2C\u4E8C\u8C61\u9650 */\n    if (item.angle > 0 && item.angle < Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /** \u662F\u5426\u5728 \u7B2C\u4E09\u8C61\u9650 */\n    if (item.angle > Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n    /** \u662F\u5426\u5728 \u7B2C\u56DB\u8C61\u9650 */\n    if (item.angle < -Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n  }\n\n  path = [\n    `M ${startPoint.x},${startPoint.y}`,\n    `L ${p1.x},${p1.y}`,\n    `L ${p2.x},${p2.y}`,\n    `L ${inflectionPoint.x},${inflectionPoint.y}`,\n    `L ${endPoint.x},${endPoint.y}`,\n  ].join(' ');\n  item.labelLine = deepMix({}, item.labelLine, { path });\n}\n\n/**\n * \u997C\u56FE\u6807\u7B7E spider \u5E03\u5C40, \u53EA\u9002\u7528\u4E8E pie-spider \u7684\u6807\u7B7E\u7C7B\u578B\n * region \u5E94\u8BE5\u662F labelsRenderer \u5BB9\u5668\u7684\u8303\u56F4\u9650\u5236(\u4FBF\u4E8E\u540E\u7EED\u7EC4\u4EF6\u95F4\u5E03\u5C40)\n */\nexport function pieSpiderLabelLayout(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  /** \u5750\u6807\u7CFB */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /** \u5750\u6807\u5706\u5FC3 */\n  const center = coordinate.getCenter();\n  /** \u5706\u534A\u5F84 */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = Math.max(get(items[0], 'offset', 0), INFLECTION_OFFSET);\n\n  // step 1: adjust items to spider\n  each(items, (item) => {\n    if (!item) return;\n    const label = get(labelsMap, [item.id]);\n    if (!label) return;\n\n    const inRight = item.x > center.x || (item.x === center.x && item.y > center.y);\n    const offsetX = !isNil(item.offsetX) ? item.offsetX : LABEL_OFFSET_X;\n    const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n\n    const totalOffset = labelOffset + offsetX;\n    item.x = center.x + (inRight ? 1 : -1) * (radius + totalOffset);\n    item.y = inflectionPoint.y;\n  });\n\n  const { start, end } = coordinate;\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const separateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  // step2: calculate totalHeight\n  let totalHeight = (radius + labelOffset) * 2 + labelHeight;\n\n  each(separateLabels, (half: PolarLabelItem[]) => {\n    const halfHeight = half.length * labelHeight;\n    if (halfHeight > totalHeight) {\n      totalHeight = Math.min(halfHeight, Math.abs(start.y - end.y));\n    }\n  });\n\n  /** labels \u5BB9\u5668\u7684\u8303\u56F4(\u540E\u7EED\u6839\u636E\u7EC4\u4EF6\u7684\u5E03\u5C40\u8BBE\u8BA1\u8FDB\u884C\u8C03\u6574) */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalHeight / 2,\n    maxY: center.y + totalHeight / 2,\n  };\n\n  // step 3: antiCollision\n  each(separateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = totalHeight / labelHeight;\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  const startY = labelsContainerRange.minY;\n  const endY = labelsContainerRange.maxY;\n\n  // step4: applyTo labels and adjust labelLines\n  each(separateLabels, (half, key) => {\n    const inRight = key === RIGHT_HALF_KEY;\n\n    each(half, (item) => {\n      const label: IGroup = get(labelsMap, item && [item.id]);\n      if (!label) {\n        return;\n      }\n      // out of range, hidden\n      if (item.y < startY || item.y > endY) {\n        label.set('visible', false);\n        return;\n      }\n\n      const labelContent = label.getChildByIndex(0);\n      const box = labelContent.getCanvasBBox();\n      const originalPos = { x: inRight ? box.x : box.maxX, y: box.y + box.height / 2 /** vertical-align: middle */ };\n\n      translate(labelContent as any, item.x - originalPos.x /** \u4ECE pos.x \u79FB\u52A8\u5230 item.x */, item.y - originalPos.y);\n\n      // adjust labelLines\n      if (item.labelLine) {\n        drawLabelline(item, coordinate, inRight);\n      }\n    });\n  });\n}\n", "import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n * \u5C06 label \u9650\u5236\u5728\u753B\u5E03\u8303\u56F4\u5185\uFF0C\u7B80\u5355\u5F97\u5C06\u8D85\u51FA\u753B\u5E03\u7684 label \u5F80\u753B\u5E03\u5185\u8C03\u6574\n * @param labels\n * @param cfg\n */\nexport function limitInCanvas(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label: IGroup) => {\n    const { minX: regionMinX, minY: regionMinY, maxX: regionMaxX, maxY: regionMaxY } = region;\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (minX < regionMinX || maxX < regionMinX) {\n      // \u8D85\u51FA\u5DE6\u4FA7\n      finalX = regionMinX;\n    }\n    if (minY < regionMinY || maxY < regionMinY) {\n      // \u8D85\u51FA\u9876\u90E8\n      finalY = regionMinY;\n    }\n\n    if (minX > regionMaxX) {\n      // \u6574\u4F53\u8D85\u51FA\u53F3\u4FA7\n      finalX = regionMaxX - width;\n    } else if (maxX > regionMaxX) {\n      // \u8D85\u51FA\u53F3\u4FA7\n      finalX = finalX - (maxX - regionMaxX);\n    }\n\n    if (minY > regionMaxY) {\n      // \u6574\u4F53\u8D85\u51FA\u9876\u90E8\n      finalY = regionMaxY - height;\n    } else if (maxY > regionMaxY) {\n      // \u8D85\u51FA\u5E95\u90E8\n      finalY = finalY - (maxY - regionMaxY);\n    }\n\n    if (finalX !== x || finalY !== y) {\n      translate(label, finalX - x, finalY - y);\n    }\n  });\n}\n", "import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n * \u6839\u636E\u56FE\u5F62\u5143\u7D20\u4EE5\u53CA label \u7684 bbox \u8FDB\u884C\u8C03\u6574\uFF0C\u5982\u679C label \u8D85\u51FA\u4E86 shape \u7684 bbox \u5219\u4E0D\u5C55\u793A\n */\nexport function limitInShape(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label, index) => {\n    const labelBBox = label.getCanvasBBox(); // \u6587\u672C\u6709\u53EF\u80FD\u53D1\u751F\u65CB\u8F6C\n    const shapeBBox = shapes[index].getBBox();\n    if (\n      labelBBox.minX < shapeBBox.minX ||\n      labelBBox.minY < shapeBBox.minY ||\n      labelBBox.maxX > shapeBBox.maxX ||\n      labelBBox.maxY > shapeBBox.maxY\n    ) {\n      label.remove(true); // \u8D85\u51FA\u5219\u4E0D\u5C55\u793A\n    }\n  });\n}\n", "import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\nconst MAX_TIMES = 100;\n\n/** @ignore */\ninterface Bitmap {\n  [key: number]: {\n    [key: number]: boolean;\n  };\n}\n\n/** @ignore */\ninterface GreedyCfg {\n  readonly xGap?: number;\n  readonly yGap?: number;\n}\n\n/**\n * @ignore\n * Greedy \u8D2A\u5A6A\u7B97\u6CD5\n */\nclass Greedy {\n  public readonly xGap: number;\n  /** optimizing for text overlapping detection: use a min text height as gap */\n  public readonly yGap: number;\n\n  private bitmap: Bitmap = {};\n\n  constructor(cfg: GreedyCfg = {}) {\n    const { xGap = 1, yGap = 8 } = cfg;\n    this.xGap = xGap;\n    this.yGap = yGap;\n  }\n\n  public hasGap(bbox: BBox): boolean {\n    let hasGap = true;\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n        continue;\n      }\n      if (i === minX || i === maxX) {\n        for (let j = minY; j <= maxY; j++) {\n          if (bitmap[i][j]) {\n            hasGap = false;\n            break;\n          }\n        }\n      } else {\n        if (bitmap[i][minY] || bitmap[i][maxY]) {\n          hasGap = false;\n          break;\n        }\n      }\n    }\n    return hasGap;\n  }\n\n  public fillGap(bbox: BBox): void {\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    // filling grid\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n      }\n    }\n    for (let i = minX; i <= maxX; i += this.xGap) {\n      for (let j = minY; j <= maxY; j += this.yGap) {\n        bitmap[i][j] = true;\n      }\n      bitmap[i][maxY] = true;\n    }\n\n    // filling y edges\n    if (this.yGap !== 1) {\n      for (let i = minY; i <= maxY; i += 1) {\n        bitmap[minX][i] = true;\n        bitmap[maxX][i] = true;\n      }\n    }\n\n    // filling x edges\n    if (this.xGap !== 1) {\n      for (let i = minX; i <= maxX; i += 1) {\n        bitmap[i][minY] = true;\n        bitmap[i][maxY] = true;\n      }\n    }\n  }\n\n  public destroy(): void {\n    this.bitmap = {};\n  }\n}\n\nfunction spiralFill(label: IShape, greedy: Greedy, maxTimes: number = MAX_TIMES) {\n  const dt = -1;\n  const { x, y } = label.attr();\n  const bbox = label.getCanvasBBox();\n  const maxDelta = Math.sqrt(bbox.width * bbox.width + bbox.height * bbox.height);\n  let dxdy;\n  let t = -dt;\n  let dx = 0;\n  let dy = 0;\n  const f = (param: number) => {\n    const nt = param * 0.1;\n    return [nt * Math.cos(nt), nt * Math.sin(nt)];\n  };\n\n  if (greedy.hasGap(bbox)) {\n    greedy.fillGap(bbox);\n    return true;\n  }\n  let canFill = false;\n  let times = 0;\n  const accessedCache = {};\n  while (Math.min(Math.abs(dx), Math.abs(dy)) < maxDelta && times < maxTimes) {\n    dxdy = f((t += dt));\n    dx = ~~dxdy[0];\n    dy = ~~dxdy[1];\n    if ((!dx && !dy) || accessedCache[`${dx}-${dy}`]) {\n      continue;\n    }\n    label.attr({ x: x + dx, y: y + dy });\n    if (dx + dy < 0) {\n      label.attr('textAlign', 'right');\n    }\n    times++;\n    if (greedy.hasGap(label.getCanvasBBox())) {\n      greedy.fillGap(label.getCanvasBBox());\n      canFill = true;\n      accessedCache[`${dx}-${dy}`] = true;\n      break;\n    }\n  }\n  return canFill;\n}\n\n/*\n *  \u6839\u636E\u5982\u4E0B\u89C4\u5219\u5C1D\u8BD5\u653E\u7F6Elabel\n *                5\n *        ------------------\n *        |    1   |   0   |\n *    8   \u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u20144\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014   7\n *        |    2   |   3   |\n *        \u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\n *                 6\n */\nfunction adjustLabelPosition(label: IShape, x: number, y: number, index: number) {\n  const { width, height } = label.getCanvasBBox();\n  const attrs = {\n    x,\n    y,\n    textAlign: 'center',\n  };\n  switch (index) {\n    case 0:\n      attrs.y -= height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 1:\n      attrs.y -= height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 2:\n      attrs.y += height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 3:\n      attrs.y += height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 5:\n      attrs.y -= height * 2 + 2;\n      break;\n    case 6:\n      attrs.y += height * 2 + 2;\n      break;\n    case 7:\n      attrs.x += width + 1;\n      attrs.textAlign = 'left';\n      break;\n    case 8:\n      attrs.x -= width + 1;\n      attrs.textAlign = 'right';\n      break;\n    default:\n      break;\n  }\n  label.attr(attrs);\n  return label.getCanvasBBox();\n}\n\n/**\n * @ignore\n * label \u9632\u906E\u6321\u5E03\u5C40\uFF1A\u5728\u4E0D\u6539\u53D8 label \u4F4D\u7F6E\u7684\u60C5\u51B5\u4E0B\u5BF9\u76F8\u4E92\u91CD\u53E0\u7684 label \u8FDB\u884C\u8C03\u6574\u3002\n * \u4E0D\u540C\u4E8E 'overlap' \u7C7B\u578B\u7684\u5E03\u5C40\uFF0C\u8BE5\u5E03\u5C40\u4E0D\u4F1A\u5BF9 label \u7684\u4F4D\u7F6E\u8FDB\u884C\u504F\u79FB\u8C03\u6574\u3002\n * @param labels \u53C2\u4E0E\u5E03\u5C40\u8C03\u6574\u7684 label \u6570\u7EC4\u96C6\u5408\n */\nexport function fixedOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    if (!spiralFill(labelShape, greedy)) {\n      label.remove(true);\n    }\n  });\n  greedy.destroy();\n}\n\n/**\n * @ignore\n * label \u9632\u906E\u6321\u5E03\u5C40\uFF1A\u4E3A\u4E86\u9632\u6B62 label \u4E4B\u95F4\u76F8\u4E92\u8986\u76D6\u540C\u65F6\u4FDD\u8BC1\u5C3D\u53EF\u80FD\u591A \u7684 label \u5C55\u793A\uFF0C\u901A\u8FC7\u5C1D\u8BD5\u5C06 label \u5411**\u56DB\u5468\u504F\u79FB**\u6765\u5254\u9664\u653E\u4E0D\u4E0B\u7684 label\n * @param labels \u53C2\u4E0E\u5E03\u5C40\u8C03\u6574\u7684 label \u6570\u7EC4\u96C6\u5408\n */\nexport function overlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    const { x, y } = labelShape.attr();\n    let canFill = false;\n    for (let i = 0; i <= 8; i++) {\n      const bbox = adjustLabelPosition(labelShape, x, y, i);\n      if (greedy.hasGap(bbox)) {\n        greedy.fillGap(bbox);\n        canFill = true;\n        break;\n      }\n    }\n    if (!canFill) {\n      label.remove(true);\n    }\n  });\n\n  greedy.destroy();\n}\n", "import { isNumber } from '@antv/util';\nimport { Point } from '../dependents';\n\ntype Vec2 = [number, number];\n\ntype Item = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  rotation?: number;\n  visible?: boolean;\n};\n/**\n * \u5B9A\u4E49\u6295\u5F71\u5BF9\u8C61\n */\ntype Projection = { min: number; max: number };\n\nfunction dot(a, b) {\n  return (a[0] || 0) * (b[0] || 0) + (a[1] || 0) * (b[1] || 0) + (a[2] || 0) * (b[2] || 0);\n}\n\n/**\n * @private\n * 1. \u83B7\u53D6\u6295\u5F71\u8F74\n */\nfunction getAxes(points: Point[] /** \u591A\u8FB9\u5F62\u7684\u5173\u952E\u70B9 */): Vec2[] {\n  // \u76EE\u524D\u5148\u5904\u7406 \u5E73\u884C\u77E9\u5F62 \u7684\u573A\u666F, \u5176\u4ED6\u591A\u8FB9\u5F62\u4E0D\u5904\u7406\n  if (points.length > 4) {\n    return [];\n  }\n  // \u83B7\u53D6\u5411\u91CF\n  const vector = (start: Point, end: Point): Vec2 => {\n    return [end.x - start.x, end.y - start.y];\n  };\n\n  // \u7531\u4E8E \u77E9\u5F62\u7684\u5E73\u884C\u539F\u7406\uFF0C\u6240\u4EE5\u53EA\u6709 2 \u6761\u6295\u5F71\u8F74: A -> B, B -> C\n  const AB = vector(points[0], points[1]);\n  const BC = vector(points[1], points[2]);\n\n  return [AB, BC];\n}\n\n/**\n * @private\n * \u7ED5\u6307\u5B9A\u70B9\u987A\u65F6\u9488\u65CB\u8F6C\u540E\u7684\u70B9\u5750\u6807\n * \u9ED8\u8BA4\u7ED5\u539F\u70B9\u65CB\u8F6C\n */\nfunction rotateAtPoint(point: Point, deg = 0, origin = { x: 0, y: 0 }): Point {\n  const { x, y } = point;\n  return {\n    x: (x - origin.x) * Math.cos(-deg) + (y - origin.y) * Math.sin(-deg) + origin.x,\n    y: (origin.x - x) * Math.sin(-deg) + (y - origin.y) * Math.cos(-deg) + origin.y,\n  };\n}\n\n/**\n * @private\n * \u8F6C\u5316\u4E3A\u9876\u70B9\u5750\u6807\u6570\u7EC4\n *\n * @param {Object} box\n */\nfunction getRectPoints(box: Item): Point[] {\n  const points = [\n    { x: box.x, y: box.y },\n    { x: box.x + box.width, y: box.y },\n    { x: box.x + box.width, y: box.y + box.height },\n    { x: box.x, y: box.y + box.height },\n  ];\n\n  const rotation = box.rotation;\n  if (rotation) {\n    return [\n      rotateAtPoint(points[0], rotation, points[0]),\n      rotateAtPoint(points[1], rotation, points[0]),\n      rotateAtPoint(points[2], rotation, points[0]),\n      rotateAtPoint(points[3], rotation, points[0]),\n    ];\n  }\n\n  return points;\n}\n\n/**\n * @private\n * 2. \u83B7\u53D6\u591A\u8FB9\u5F62\u5728\u6295\u5F71\u8F74\u4E0A\u7684\u6295\u5F71\n *\n * \u5411\u91CF\u7684\u70B9\u79EF\u7684\u5176\u4E2D\u4E00\u4E2A\u51E0\u4F55\u542B\u4E49\u662F\uFF1A\u4E00\u4E2A\u5411\u91CF\u5728\u5E73\u884C\u4E8E\u53E6\u4E00\u4E2A\u5411\u91CF\u65B9\u5411\u4E0A\u7684\u6295\u5F71\u7684\u6570\u503C\u4E58\u79EF\u3002\n * \u7531\u4E8E\u6295\u5F71\u8F74\u662F\u5355\u4F4D\u5411\u91CF\uFF08\u957F\u5EA6\u4E3A1\uFF09\uFF0C\u6295\u5F71\u7684\u957F\u5EA6\u4E3A x1 * x2 + y1 * y2\n */\nfunction getProjection(points: Point[] /** \u591A\u8FB9\u5F62\u7684\u5173\u952E\u70B9 */, axis: Vec2): Projection {\n  // \u76EE\u524D\u5148\u5904\u7406\u77E9\u5F62\u7684\u573A\u666F\n  if (points.length > 4) {\n    return { min: 0, max: 0 };\n  }\n\n  const scalars = [];\n  points.forEach((point) => {\n    scalars.push(dot([point.x, point.y], axis));\n  });\n\n  return { min: Math.min(...scalars), max: Math.max(...scalars) };\n}\n\nfunction isProjectionOverlap(projection1: Projection, projection2: Projection): boolean {\n  return projection1.max > projection2.min && projection1.min < projection2.max;\n}\n\nfunction isValidNumber(d: number) {\n  return typeof d === 'number' && !Number.isNaN(d) && d !== Infinity && d !== -Infinity;\n}\n\nfunction isValidBox(box: Item) {\n  return ['x', 'y', 'width', 'height'].every(attr => isValidNumber(box[attr]))\n}\n\n/**\n * \u5FEB\u901F\u5224\u65AD\u4E24\u4E2A\u65E0\u65CB\u8F6C\u77E9\u5F62\u662F\u5426\u906E\u6321\n */\nexport function isIntersectRect(box1: Item, box2: Item, margin: number = 0): boolean {\n  return !(\n    box2.x > box1.x + box1.width + margin ||\n    box2.x + box2.width < box1.x - margin ||\n    box2.y > box1.y + box1.height + margin ||\n    box2.y + box2.height < box1.y - margin\n  );\n}\n\n/**\n * detect whether two shape is intersected, useful when shape is been rotated\n * \u5224\u65AD\u4E24\u4E2A\u77E9\u5F62\u662F\u5426\u91CD\u53E0\uFF08\u76F8\u4EA4\u548C\u5305\u542B, \u662F\u5426\u65CB\u8F6C\uFF09\n *\n * - \u539F\u7406: \u5206\u79BB\u8F74\u5B9A\u5F8B\n */\nexport function intersect(box1: Item, box2: Item, margin: number = 0) {\n  // \u5982\u679C\u4E24\u4E2A box \u4E2D\u6709\u4E00\u4E2A\u662F\u4E0D\u5408\u6CD5\u7684 box\uFF0C\u4E5F\u5C31\u662F\u4E0D\u4F1A\u88AB\u6E32\u67D3\u51FA\u6765\u7684\uFF0C\u90A3\u4E48\u5B83\u4EEC\u5C31\u4E0D\u76F8\u4EA4\u3002\n  if (!isValidBox(box1) || !isValidBox(box2)) return false;\n\n  // \u5982\u679C\u4E24\u4E2A\u77E9\u5F62\u6CA1\u6709\u65CB\u8F6C\uFF0C\u4F7F\u7528\u5FEB\u901F\u5224\u65AD\n  if (!box1.rotation && !box2.rotation) {\n    return isIntersectRect(box1, box2, margin);\n  }\n\n  // \u5206\u522B\u83B7\u53D6 4 \u4E2A\u5173\u952E\u70B9\n  const rect1Points = getRectPoints(box1);\n  const rect2Points = getRectPoints(box2);\n\n  // \u83B7\u53D6\u6240\u6709\u6295\u5F71\u8F74\n  const axes = getAxes(rect1Points).concat(getAxes(rect2Points));\n\n  for (let i = 0; i < axes.length; i++) {\n    const axis = axes[i];\n    const projection1 = getProjection(rect1Points, axis);\n    const projection2 = getProjection(rect2Points, axis);\n\n    // \u5224\u65AD\u6295\u5F71\u8F74\u4E0A\u7684\u6295\u5F71\u662F\u5426\u5B58\u5728\u91CD\u53E0\uFF0C\u82E5\u68C0\u6D4B\u5230\u5B58\u5728\u95F4\u9699\u5219\u7ACB\u523B\u9000\u51FA\u5224\u65AD\uFF0C\u6D88\u9664\u4E0D\u5FC5\u8981\u7684\u8FD0\u7B97\u3002\n    if (!isProjectionOverlap(projection1, projection2)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n", "export function createWorker(f: any) {\n  if (typeof window === \"undefined\") return;\n\n  let blob;\n  try {\n    blob = new Blob([f.toString()], { type: 'application/javascript' });\n  } catch (e) {\n    // @ts-ignore\n    blob = new window.BlobBuilder();\n    blob.append(f.toString());\n    blob = blob.getBlob();\n  }\n\n  return new Worker(URL.createObjectURL(blob));\n}\n", "const onmessage = function (e) {\n  type Item = {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n    rotation?: number;\n    visible?: boolean;\n  };\n\n  // Copy from src/util/collision-detect.ts\n  function generateUtils() {\n    type Vec2 = [number, number];\n\n    type Point = { x: number; y: number };\n\n    /**\n     * \u5B9A\u4E49\u6295\u5F71\u5BF9\u8C61\n     */\n    type Projection = { min: number; max: number };\n\n    function dot(a, b) {\n      return (a[0] || 0) * (b[0] || 0) + (a[1] || 0) * (b[1] || 0) + (a[2] || 0) * (b[2] || 0);\n    }\n    /**\n     * 1. \u83B7\u53D6\u6295\u5F71\u8F74\n     */\n    function getAxes(points: Point[] /** \u591A\u8FB9\u5F62\u7684\u5173\u952E\u70B9 */): Vec2[] {\n      // \u76EE\u524D\u5148\u5904\u7406 \u5E73\u884C\u77E9\u5F62 \u7684\u573A\u666F, \u5176\u4ED6\u591A\u8FB9\u5F62\u4E0D\u5904\u7406\n      if (points.length > 4) {\n        return [];\n      }\n      // \u83B7\u53D6\u5411\u91CF\n      const vector = (start: Point, end: Point): Vec2 => {\n        return [end.x - start.x, end.y - start.y];\n      };\n\n      // \u7531\u4E8E \u77E9\u5F62\u7684\u5E73\u884C\u539F\u7406\uFF0C\u6240\u4EE5\u53EA\u6709 2 \u6761\u6295\u5F71\u8F74: A -> B, B -> C\n      const AB = vector(points[0], points[1]);\n      const BC = vector(points[1], points[2]);\n\n      return [AB, BC];\n    }\n\n    /**\n     * \u7ED5\u6307\u5B9A\u70B9\u987A\u65F6\u9488\u65CB\u8F6C\u540E\u7684\u70B9\u5750\u6807\n     * \u9ED8\u8BA4\u7ED5\u539F\u70B9\u65CB\u8F6C\n     */\n    function rotateAtPoint(point: Point, deg = 0, origin = { x: 0, y: 0 }): Point {\n      const { x, y } = point;\n      return {\n        x: (x - origin.x) * Math.cos(-deg) + (y - origin.y) * Math.sin(-deg) + origin.x,\n        y: (origin.x - x) * Math.sin(-deg) + (y - origin.y) * Math.cos(-deg) + origin.y,\n      };\n    }\n\n    /**\n     * @private\n     * \u8F6C\u5316\u4E3A\u9876\u70B9\u5750\u6807\u6570\u7EC4\n     *\n     * @param {Object} box\n     */\n    function getRectPoints(box: Item): Point[] {\n      const points = [\n        { x: box.x, y: box.y },\n        { x: box.x + box.width, y: box.y },\n        { x: box.x + box.width, y: box.y + box.height },\n        { x: box.x, y: box.y + box.height },\n      ];\n\n      const rotation = box.rotation;\n      if (rotation) {\n        return [\n          rotateAtPoint(points[0], rotation, points[0]),\n          rotateAtPoint(points[1], rotation, points[0]),\n          rotateAtPoint(points[2], rotation, points[0]),\n          rotateAtPoint(points[3], rotation, points[0]),\n        ];\n      }\n\n      return points;\n    }\n\n    /**\n     * 2. \u83B7\u53D6\u591A\u8FB9\u5F62\u5728\u6295\u5F71\u8F74\u4E0A\u7684\u6295\u5F71\n     *\n     * \u5411\u91CF\u7684\u70B9\u79EF\u7684\u5176\u4E2D\u4E00\u4E2A\u51E0\u4F55\u542B\u4E49\u662F\uFF1A\u4E00\u4E2A\u5411\u91CF\u5728\u5E73\u884C\u4E8E\u53E6\u4E00\u4E2A\u5411\u91CF\u65B9\u5411\u4E0A\u7684\u6295\u5F71\u7684\u6570\u503C\u4E58\u79EF\u3002\n     * \u7531\u4E8E\u6295\u5F71\u8F74\u662F\u5355\u4F4D\u5411\u91CF\uFF08\u957F\u5EA6\u4E3A1\uFF09\uFF0C\u6295\u5F71\u7684\u957F\u5EA6\u4E3A x1 * x2 + y1 * y2\n     */\n    function getProjection(points: Point[] /** \u591A\u8FB9\u5F62\u7684\u5173\u952E\u70B9 */, axis: Vec2): Projection {\n      // \u76EE\u524D\u5148\u5904\u7406\u77E9\u5F62\u7684\u573A\u666F\n      if (points.length > 4) {\n        return { min: 0, max: 0 };\n      }\n\n      const scalars = [];\n      points.forEach((point) => {\n        scalars.push(dot([point.x, point.y], axis));\n      });\n\n      return { min: Math.min.apply(null, scalars), max: Math.max.apply(null, scalars) };\n    }\n\n    function isProjectionOverlap(projection1: Projection, projection2: Projection): boolean {\n      return projection1.max > projection2.min && projection1.min < projection2.max;\n    }\n\n    function isValidNumber(d: number) {\n      return typeof d === 'number' && !Number.isNaN(d) && d !== Infinity && d !== -Infinity;\n    }\n\n    function isValidBox(box: Item) {\n      return ['x', 'y', 'width', 'height'].every(attr => isValidNumber(box[attr]))\n    }\n\n    function isIntersectRect(box1: Item, box2: Item, margin: number = 0): boolean {\n      return !(\n        box2.x > box1.x + box1.width + margin ||\n        box2.x + box2.width < box1.x - margin ||\n        box2.y > box1.y + box1.height + margin ||\n        box2.y + box2.height < box1.y - margin\n      );\n    }\n    function intersect(box1: Item, box2: Item, margin: number = 0) {\n      if (!isValidBox(box1) || !isValidBox(box2)) return false;\n\n      // Quick detect, if rotation is null or zero.\n      if (!box1.rotation && !box2.rotation) {\n        return isIntersectRect(box1, box2, margin);\n      }\n\n      // \u5206\u522B\u83B7\u53D6 4 \u4E2A\u5173\u952E\u70B9\n      const rect1Points = getRectPoints(box1);\n      const rect2Points = getRectPoints(box2);\n\n      // \u83B7\u53D6\u6240\u6709\u6295\u5F71\u8F74\n      const axes = getAxes(rect1Points).concat(getAxes(rect2Points));\n\n      for (let i = 0; i < axes.length; i++) {\n        const axis = axes[i];\n        const projection1 = getProjection(rect1Points, axis);\n        const projection2 = getProjection(rect2Points, axis);\n\n        if (!isProjectionOverlap(projection1, projection2)) return false;\n      }\n\n      return true;\n    }\n    return { intersect }\n  }\n  const { intersect } = generateUtils();\n\n  // Label layouts.\n  function hideOverlap(items: Item[]) {\n    const boxes = items.slice();\n    for (let i = 0; i < boxes.length; i++) {\n      const box1 = boxes[i];\n      if (box1.visible) {\n        for (let j = i + 1; j < boxes.length; j++) {\n          const box2 = boxes[j];\n          if (box1 !== box2 && box2.visible) {\n            if (intersect(box1, box2)) {\n              box2.visible = false;\n            }\n          }\n        }\n      }\n    }\n    return boxes;\n  }\n\n  const methods = {\n    'hide-overlap': hideOverlap,\n  }\n\n  // Main\n  try {\n    const eventData = JSON.parse(e.data);\n    if (!eventData || !eventData.type || !methods[eventData.type]) return;\n\n    const { type, items } = eventData;\n    const result = methods[type](items);\n    self.postMessage(result);\n  } catch (e) {\n    throw e;\n  }\n}\n\nconst code = `\n   self.onmessage = ${onmessage.toString()}\n`\nexport { code };\n", "import { get, each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { intersect } from '../../../util/collision-detect';\nimport { LabelItem } from '../interface';\nimport { getLabelBackgroundInfo } from '../util';\nimport { createWorker } from '../util/createWorker';\nimport { code as layoutCode } from './worker/hide-overlap';\n\ntype Item = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  rotation?: number;\n  visible?: boolean;\n};\n\nconst layout = (items: Item[]): Item[] => {\n  const boxes = items.slice();\n  for (let i = 0; i < boxes.length; i++) {\n    const box1 = boxes[i];\n    if (box1.visible) {\n      for (let j = i + 1; j < boxes.length; j++) {\n        const box2 = boxes[j];\n        if (box1 !== box2 && box2.visible) {\n          if (intersect(box1, box2)) {\n            box2.visible = false;\n          }\n        }\n      }\n    }\n  }\n  return boxes;\n}\n\nconst cache: Map<string, any> = new Map();\nconst worker = createWorker(layoutCode);\n\n/**\n * label \u9632\u906E\u6321\u5E03\u5C40\uFF1A\u5728\u4E0D\u6539\u53D8 label \u4F4D\u7F6E\u7684\u60C5\u51B5\u4E0B\u5BF9\u76F8\u4E92\u91CD\u53E0\u7684 label \u8FDB\u884C\u9690\u85CF\uFF08\u975E\u79FB\u9664\uFF09\n * \u4E0D\u540C\u4E8E 'overlap' \u7C7B\u578B\u7684\u5E03\u5C40\uFF0C\u8BE5\u5E03\u5C40\u4E0D\u4F1A\u5BF9 label \u7684\u4F4D\u7F6E\u8FDB\u884C\u504F\u79FB\u8C03\u6574\u3002\n * @param labels \u53C2\u4E0E\u5E03\u5C40\u8C03\u6574\u7684 label \u6570\u7EC4\u96C6\u5408\n */\nexport function hideOverlap(labelItems: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  // todo \u6DFB\u52A0 label rank\n  return new Promise((resolve) => {\n    const boxes = labels.map((d, idx) => ({\n      ...getLabelBackgroundInfo(d, labelItems[idx], get(labelItems[idx], 'background.padding')),\n      visible: true,\n    }));\n    const memoKey = JSON.stringify(boxes);\n    const cb = (items: Item[]) => {\n      cache.set(memoKey, items);\n      each(items, ({ visible }, idx) => {\n        const labelShape = labels[idx];\n        if (visible) {\n          labelShape?.show()\n        } else {\n          labelShape?.hide();\n        }\n      });\n      return resolve(items);\n    }\n    if (cache.get(memoKey)) {\n      cb(cache.get(memoKey))\n    } else if (worker) {\n      // Do layout in worker.\n      try {\n        worker.postMessage(JSON.stringify({ type: 'hide-overlap', items: boxes }));\n        worker.onmessage = (e) => cb(Array.isArray(e.data) ? e.data : []);\n        worker.onmessageerror = (e) => {\n          console.warn('[AntV G2] Web worker is not available');\n          // Normal layout in main thread.\n          cb(layout(boxes));\n        };\n      } catch (e) {\n        console.error(e);\n        cb(layout(boxes));\n      }\n    } else {\n      // Normal layout in main thread.\n      cb(layout(boxes));\n    }\n  });\n}\n", "import colorUtil from '@antv/color-util';\n\n// \u5185\u7F6E\u7684\u4E00\u4E9B\u7279\u6B8A\u8BBE\u7F6E\nconst preset = {\n  '#5B8FF9': true,\n};\n\n// \u6839\u636EYIQ\u4EAE\u5EA6\u5224\u65AD\u6307\u5B9A\u989C\u8272\u53D6\u53CD\u8272\u662F\u4E0D\u662F\u767D\u8272\n// http://24ways.org/2010/calculating-color-contrast\n// http://www.w3.org/TR/AERT#color-contrast\nexport const isContrastColorWhite = (color: string): boolean => {\n  const rgb = colorUtil.toRGB(color).toUpperCase();\n  if (preset[rgb]) {\n    return preset[rgb];\n  }\n\n  const [r, g, b] = colorUtil.rgb2arr(rgb);\n  const isDark = (r * 299 + g * 587 + b * 114) / 1000 < 128;\n\n  return isDark;\n};\n", "import { IGroup, IShape } from '../../../dependents';\nimport { BBox } from '../../../util/bbox';\nimport { isContrastColorWhite } from '../../../util/color';\nimport Element from '../../element';\nimport { LabelItem } from '../interface';\n\nexport function adjustColor(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0].get('element');\n  const theme = element.geometry.theme;\n  const { fillColorLight, fillColorDark } = theme.labels || {};\n\n  shapes.forEach((shape: IShape | IGroup, index: number) => {\n    const label = labels[index];\n    const textShape = label.find((el) => el.get('type') === 'text');\n    const shapeBBox = BBox.fromObject(shape.getBBox());\n    const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n    const overflow = !shapeBBox.contains(textBBox);\n\n    const bgColor = shape.attr('fill');\n    const fillWhite = isContrastColorWhite(bgColor);\n\n    if (!overflow) {\n      if (fillWhite) {\n        if (fillColorLight) {\n          textShape.attr('fill', fillColorLight);\n        }\n      } else {\n        if (fillColorDark) {\n          textShape.attr('fill', fillColorDark);\n        }\n      }\n    } else {\n      // \u51FA\u73B0\u6EA2\u51FA\u76F4\u63A5\u5E94\u7528 overflowLabel \u6837\u5F0F\n      textShape.attr(theme.overflowLabels.style);\n    }\n  });\n}\n", "import { IElement, IGroup, IShape } from '../../../../dependents';\nimport { BBox } from '../../../../util/bbox';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\nfunction shouldInShapeSingle(geometry: Geometry, label: IGroup, shape: IElement): boolean {\n  const coordinate = geometry.coordinate;\n  const textShape = findLabelTextShape(label);\n  const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n\n  return coordinate.isTransposed ? shapeBBox.height >= textBBox.height : shapeBBox.width >= textBBox.width;\n}\n\nfunction shouldInShape(geometry: Geometry, labels: IGroup[], shapes: IShape[] | IGroup[]): boolean {\n  const isStack = !!geometry.getAdjust('stack');\n\n  return (\n    isStack ||\n    labels.every((label: IGroup, index: number) => {\n      const shape = shapes[index];\n      return shouldInShapeSingle(geometry, label, shape);\n    })\n  );\n}\n\nfunction moveInShape(geometry: Geometry, label: IGroup, shape: IElement): void {\n  const coordinate = geometry.coordinate;\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n  const textShape = findLabelTextShape(label);\n\n  if (coordinate.isTransposed) {\n    // \u6C34\u5E73\u65B9\u5411\uFF1A\u6761\u5F62\u56FE\u7CFB\u5217\n    textShape.attr({\n      x: shapeBBox.minX + shapeBBox.width / 2,\n      textAlign: 'center',\n    });\n  } else {\n    // \u5782\u76F4\u65B9\u5411\uFF1A\u67F1\u5F62\u56FE\u7CFB\u5217\n    textShape.attr({\n      y: shapeBBox.minY + shapeBBox.height / 2,\n      textBaseline: 'middle',\n    });\n  }\n}\n\n/**\n * \u9002\u7528\u4E8E interval geometry \u7684\u6570\u636E\u6807\u7B7E\u4F4D\u7F6E\u81EA\u52A8\u8C03\u6574\u5E03\u5C40\u65B9\u6CD5\n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalAdjustPosition(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const inShape = shouldInShape(geometry, labels, shapes);\n  if (inShape) {\n    shapes.forEach((shape: IShape | IGroup, index: number) => {\n      const label = labels[index];\n      moveInShape(geometry, label, shape);\n    });\n  }\n}\n", "import { IGroup, IShape } from '../../../../dependents';\nimport { each, groupBy, uniq, map, size, filter } from '@antv/util';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { checkShapeOverlap } from '../../util';\n\nfunction filterLabel(labels: IShape[] | IGroup[]) {\n  const MAX_CNT = 500; // \u6700\u591A\u663E\u793A 500 \u4E2A\u6570\u636E\u6807\u7B7E\n  const filteredLabels = [];\n  const pages = Math.max(Math.floor(labels.length / MAX_CNT), 1);\n  each(labels, (label, idx) => {\n    if (idx % pages === 0) {\n      filteredLabels.push(label);\n    } else {\n      label.set('visible', false);\n    }\n  });\n\n  return filteredLabels;\n}\n\n/**\n * \u4E3A interval geometry \u5B9A\u5236\u7684\u6570\u636E\u6807\u7B7E\u91CD\u53E0\u81EA\u52A8\u9690\u85CF\u5E03\u5C40\u65B9\u6CD5\n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalHideOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const filteredLabels = filterLabel(labels);\n  const [xField] = geometry.getXYFields();\n  const dones: IShape[] = [];\n  const todo: IShape[] = [];\n  const groupedLabels = groupBy(filteredLabels, (label) => label.get('data')[xField]);\n  const xValues = uniq(map(filteredLabels, (label: IShape) => label.get('data')[xField]));\n  let xValue;\n\n  filteredLabels.forEach((label) => {\n    label.set('visible', true);\n  });\n\n  const addCurrentGroup = (curItems: IShape[]) => {\n    if (curItems) {\n      if (curItems.length) {\n        // \u6700\u540E\u4E00\u4E2A\n        todo.push(curItems.pop());\n      }\n      todo.push(...curItems);\n    }\n  };\n\n  if (size(xValues) > 0) {\n    // \u7B2C\u4E00\u7EC4\n    xValue = xValues.shift();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  if (size(xValues) > 0) {\n    // \u6700\u540E\u4E00\u7EC4\n    xValue = xValues.pop();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  each(xValues.reverse(), (val) => {\n    // \u5176\u4ED6\u7EC4\n    addCurrentGroup(groupedLabels[val]);\n  });\n\n  while (todo.length > 0) {\n    const cur = todo.shift();\n    if (cur.get('visible')) {\n      if (checkShapeOverlap(cur, dones)) {\n        cur.set('visible', false);\n      } else {\n        dones.push(cur);\n      }\n    }\n  }\n}\n", "import { groupBy, keys, map } from '@antv/util';\nimport { IElement, IGroup, IShape, BBox } from '../../../../dependents';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout \u7684\u914D\u7F6E\u7C7B\u578B\n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * \u5BF9\u540C\u4E00\u7EC4(\u76F8\u540C xField )\u7684 Label \u8FDB\u884C\u6392\u5E8F\uFF1A\u7B2C\u4E00\u4E2A\u3001\u6700\u540E\u4E00\u4E2A\u3001\u5176\u4ED6...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * \u8BA1\u7B97\u4E24\u4E2A\u77E9\u5F62\u4E4B\u95F4\u7684\u5806\u53E0\u533A\u57DF\u9762\u79EF\n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n * \u5224\u65AD\u65B0\u6DFB\u52A0\u7684 Label \u662F\u5426\u548C\u5DF2\u5B58\u5728\u7684\u53D1\u751F\u91CD\u53E0\n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n * \u9002\u7528\u4E8E point geometry \u7684\u6570\u636E\u6807\u7B7E\u4F4D\u7F6E\u81EA\u52A8\u8C03\u6574\u5E03\u5C40\u65B9\u6CD5\n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pointAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'point') {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // \u91CD\u590D\u4F4D\u7F6E\uFF0C\u76F4\u63A5\u9690\u85CF\n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n", "import { groupBy, keys, map } from '@antv/util';\nimport { IGroup, IShape, BBox } from '../../../../dependents';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout \u7684\u914D\u7F6E\u7C7B\u578B\n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * \u5BF9\u540C\u4E00\u7EC4(\u76F8\u540C xField )\u7684 Label \u8FDB\u884C\u6392\u5E8F\uFF1A\u7B2C\u4E00\u4E2A\u3001\u6700\u540E\u4E00\u4E2A\u3001\u5176\u4ED6...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * \u8BA1\u7B97\u4E24\u4E2A\u77E9\u5F62\u4E4B\u95F4\u7684\u5806\u53E0\u533A\u57DF\u9762\u79EF\n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n * \u5224\u65AD\u65B0\u6DFB\u52A0\u7684 Label \u662F\u5426\u548C\u5DF2\u5B58\u5728\u7684\u53D1\u751F\u91CD\u53E0\n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n * \u9002\u7528\u4E8E point geometry \u7684\u6570\u636E\u6807\u7B7E\u4F4D\u7F6E\u81EA\u52A8\u8C03\u6574\u5E03\u5C40\u65B9\u6CD5\n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pathAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || ['path', 'line', 'area'].indexOf(geometry.type) < 0) {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // \u91CD\u590D\u4F4D\u7F6E\uFF0C\u76F4\u63A5\u9690\u85CF\n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n", "let ctx: CanvasRenderingContext2D;\n\n/**\n * \u83B7\u53D6 canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n", "import { isString, memoize, values, toString } from '@antv/util';\nimport * as CSS from 'csstype';\nimport { getCanvasContext } from './context';\n\ntype FontFace = CSS.Properties;\n\ntype Font = Pick<FontFace, 'fontFamily' | 'fontWeight' | 'fontStyle' | 'fontVariant'> & {\n  fontSize?: number;\n};\n\n/**\n * \u8BA1\u7B97\u6587\u672C\u5728\u753B\u5E03\u4E2D\u7684\u5BBD\u5EA6\n */\nexport const measureTextWidth = memoize(\n  (text: any, font: Font = {}): number => {\n    const { fontSize, fontFamily, fontWeight, fontStyle, fontVariant } = font;\n    const ctx = getCanvasContext();\n    ctx!.font = [fontStyle, fontVariant, fontWeight, `${fontSize}px`, fontFamily].join(' ');\n    return ctx!.measureText(isString(text) ? text : '').width;\n  },\n  (text: any, font: Font = {}) => [text, ...values(font)].join('')\n);\n\n/**\n * \u83B7\u53D6\u6587\u672C\u7684 ... \u6587\u672C\u3002\n * \u7B97\u6CD5\uFF08\u51CF\u5C11\u6BCF\u6B21 measureText \u7684\u957F\u5EA6\uFF0CmeasureText \u7684\u6027\u80FD\u8DDF\u5B57\u7B26\u4E32\u65F6\u95F4\u76F8\u5173\uFF09\uFF1A\n * 1. \u5148\u901A\u8FC7 STEP \u9010\u6B65\u8BA1\u7B97\uFF0C\u627E\u5230\u6700\u540E\u4E00\u4E2A\u5C0F\u4E8E maxWidth \u7684\u5B57\u7B26\u4E32\n * 2. \u7136\u540E\u5BF9\u6700\u540E\u8FD9\u4E2A\u5B57\u7B26\u4E32\u4E8C\u5206\u8BA1\u7B97\n * @param text \u9700\u8981\u8BA1\u7B97\u7684\u6587\u672C, \u7531\u4E8E\u5386\u53F2\u539F\u56E0 \u9664\u4E86\u652F\u6301string\uFF0C\u8FD8\u652F\u6301\u7A7A\u503C,number\u548C\u6570\u7EC4\u7B49\n * @param maxWidth\n * @param font\n */\nexport const getEllipsisText = (text: any, maxWidth: number, font?: Font) => {\n  const STEP = 16; // \u6BCF\u6B21 16\uFF0C\u8C03\u53C2\u5DE5\u7A0B\u5E08\n  const DOT_WIDTH = measureTextWidth('...', font);\n\n  let leftText;\n\n  if (!isString(text)) {\n    leftText = toString(text);\n  } else {\n    leftText = text;\n  }\n\n  let leftWidth = maxWidth;\n\n  const r = []; // \u6700\u7EC8\u7684\u5206\u6BB5\u5B57\u7B26\u4E32\n  let currentText;\n  let currentWidth;\n\n  if (measureTextWidth(text, font) <= maxWidth) {\n    return text;\n  }\n\n  // \u9996\u5148\u901A\u8FC7 step \u8BA1\u7B97\uFF0C\u627E\u51FA\u6700\u5927\u7684\u672A\u8D85\u51FA\u957F\u5EA6\u7684\n  while (true) {\n    // \u66F4\u65B0\u5B57\u7B26\u4E32\n    currentText = leftText.substr(0, STEP);\n\n    // \u8BA1\u7B97\u5BBD\u5EA6\n    currentWidth = measureTextWidth(currentText, font);\n\n    // \u8D85\u51FA\u5269\u4F59\u5BBD\u5EA6\uFF0C\u5219\u505C\u6B62\n    if (currentWidth + DOT_WIDTH > leftWidth) {\n      if (currentWidth > leftWidth) {\n        break;\n      }\n    }\n\n    r.push(currentText);\n\n    // \u6CA1\u6709\u8D85\u51FA\uFF0C\u5219\u8BA1\u7B97\u5269\u4F59\u5BBD\u5EA6\n    leftWidth -= currentWidth;\n    leftText = leftText.substr(STEP);\n\n    // \u5B57\u7B26\u4E32\u6574\u4F53\u6CA1\u6709\u8D85\u51FA\n    if (!leftText) {\n      return r.join('');\n    }\n  }\n\n  // \u6700\u4E0B\u7684\u6700\u540E\u4E00\u4E2A STEP\uFF0C\u4F7F\u7528 1 \u9012\u589E\uFF08\u7528\u4E8C\u5206\u6548\u679C\u66F4\u9AD8\uFF09\n  while (true) {\n    // \u66F4\u65B0\u5B57\u7B26\u4E32\n    currentText = leftText.substr(0, 1);\n\n    // \u8BA1\u7B97\u5BBD\u5EA6\n    currentWidth = measureTextWidth(currentText, font);\n\n    // \u8D85\u51FA\u5269\u4F59\u5BBD\u5EA6\uFF0C\u5219\u505C\u6B62\n    if (currentWidth + DOT_WIDTH > leftWidth) {\n      break;\n    }\n\n    r.push(currentText);\n    // \u6CA1\u6709\u8D85\u51FA\uFF0C\u5219\u8BA1\u7B97\u5269\u4F59\u5BBD\u5EA6\n    leftWidth -= currentWidth;\n    leftText = leftText.substr(1);\n\n    if (!leftText) {\n      return r.join('');\n    }\n  }\n\n  return `${r.join('')}...`;\n};\n", "import { each, pick } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { getCoordinateBBox } from '../../../util/coordinate';\nimport { getEllipsisText } from '../../../util/text';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/** limitInPlot layout \u7684\u53EF\u9009\u914D\u7F6E */\nexport interface LimitInPlotLayoutCfg {\n  /** \u9700\u8981\u9650\u5236\u54EA\u4E9B\u65B9\u5411\u4E0A\u4E0D\u80FD\u8D85\u8FC7 Plot \u8303\u56F4\uFF0C\u9ED8\u8BA4\u56DB\u4E2A\u65B9\u5411\u4E0A\u90FD\u9650\u5236 */\n  direction?: ('top' | 'right' | 'bottom' | 'left')[];\n  /** \u53EF\u4EE5\u5141\u8BB8\u7684 margin */\n  margin?: number;\n  /** \u8D85\u8FC7\u9650\u5236\u540E\u7684\u52A8\u4F5C\uFF0C\u9ED8\u8BA4 translate \u79FB\u52A8\u4F4D\u7F6E; ellipsis \u5BF9 text \u8FDB\u884C\u7701\u7565\u5C55\u793A */\n  action?: 'hide' | 'translate' | 'ellipsis';\n}\n\n/**\n * @ignore\n * \u5C06 label \u9650\u5236\u5728 Plot \u8303\u56F4\u5185\uFF0C\u5C06\u8D85\u51FA Plot \u8303\u56F4\u7684 label \u53EF\u9009\u62E9\u8FDB\u884C\u9690\u85CF\u6216\u8005\u79FB\u52A8\u4F4D\u7F6E\n * @param labels\n * @param cfg\n */\nexport function limitInPlot(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LimitInPlotLayoutCfg\n) {\n  if (labels.length <= 0) {\n    return;\n  }\n  const direction = cfg?.direction || ['top', 'right', 'bottom', 'left'];\n  const action = cfg?.action || 'translate';\n  const margin = cfg?.margin || 0;\n  const coordinate = labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n  const {\n    minX: regionMinX,\n    minY: regionMinY,\n    maxX: regionMaxX,\n    maxY: regionMaxY,\n  } = getCoordinateBBox(coordinate, margin);\n\n  each(labels, (label: IGroup) => {\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (direction.indexOf('left') >= 0 && (minX < regionMinX || maxX < regionMinX)) {\n      // \u8D85\u51FA\u5DE6\u4FA7\n      finalX = regionMinX;\n    }\n    if (direction.indexOf('top') >= 0 && (minY < regionMinY || maxY < regionMinY)) {\n      // \u8D85\u51FA\u9876\u90E8\n      finalY = regionMinY;\n    }\n\n    if (direction.indexOf('right') >= 0) {\n      if (minX > regionMaxX) {\n        // \u6574\u4F53\u8D85\u51FA\u53F3\u4FA7\n        finalX = regionMaxX - width;\n      } else if (maxX > regionMaxX) {\n        // \u8D85\u51FA\u53F3\u4FA7\n        finalX = finalX - (maxX - regionMaxX);\n      }\n    }\n\n    if (direction.indexOf('bottom') >= 0) {\n      if (minY > regionMaxY) {\n        // \u6574\u4F53\u8D85\u51FA\u5E95\u90E8\n        finalY = regionMaxY - height;\n      } else if (maxY > regionMaxY) {\n        // \u8D85\u51FA\u5E95\u90E8\n        finalY = finalY - (maxY - regionMaxY);\n      }\n    }\n\n    if (finalX !== x || finalY !== y) {\n      const translateX = finalX - x;\n      if (action === 'translate') {\n        translate(label, translateX, finalY - y);\n      } else if (action === 'ellipsis') {\n        const textShapes = label.findAll((shape) => shape.get('type') === 'text');\n        textShapes.forEach((textShape) => {\n          const style = pick(textShape.attr(), ['fontSize', 'fontFamily', 'fontWeight', 'fontStyle', 'fontVariant']);\n          const textBox = textShape.getCanvasBBox();\n          const text = getEllipsisText(textShape.attr('text'), textBox.width - Math.abs(translateX), style);\n          textShape.attr('text', text);\n        });\n      } else {\n        label.hide();\n      }\n    }\n  });\n}\n", "import { isNil } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \u5355\u4E2A shape \u52A8\u753B\n * \u6E10\u73B0\u52A8\u753B\n * @param shape \u6267\u884C\u52A8\u753B\u7684\u56FE\u5F62\u5143\u7D20\n * @param animateCfg \u52A8\u753B\u914D\u7F6E\n * @param cfg \u989D\u5916\u4FE1\u606F\n */\nexport function fadeIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity'),\n    strokeOpacity: isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity'),\n    opacity: isNil(shape.attr('opacity')) ? 1 : shape.attr('opacity'),\n  };\n  shape.attr({\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  });\n  shape.animate(endState, animateCfg);\n}\n\n/**\n * @ignore\n * \u5355\u4E2A shape \u52A8\u753B\n * \u6E10\u9690\u52A8\u753B\n * @param shape \u6267\u884C\u52A8\u753B\u7684\u56FE\u5F62\u5143\u7D20\n * @param animateCfg \u52A8\u753B\u914D\u7F6E\n * @param cfg \u989D\u5916\u4FE1\u606F\n */\nexport function fadeOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  };\n  const { easing, duration, delay } = animateCfg;\n  shape.animate(\n    endState,\n    duration,\n    easing,\n    () => {\n      shape.remove(true);\n    },\n    delay\n  );\n}\n", "import { ext } from '@antv/matrix-util';\nimport { Coordinate, IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\n\n/**\n * @ignore\n * \u5BF9\u56FE\u5F62\u5143\u7D20\u8FDB\u884C\u77E9\u9635\u53D8\u6362\uFF0C\u540C\u65F6\u8FD4\u56DE\u53D8\u6362\u524D\u7684\u56FE\u5F62\u77E9\u9635\n * @param shape \u8FDB\u884C\u77E9\u9635\u53D8\u6362\u7684\u56FE\u5F62\n * @param vector \u77E9\u9635\u53D8\u6362\u7684\u4E2D\u5FC3\u70B9\n * @param direct \u77E9\u9635\u53D8\u6362\u7684\u7C7B\u578B\n */\nexport function transformShape(shape: IShape | IGroup, vector: [number, number], direct: string): number[] {\n  let scaledMatrix;\n\n  const [x, y] = vector;\n  shape.applyToMatrix([x, y, 1]);\n  if (direct === 'x') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 1],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 1],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'y') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 1, 100],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'xy') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 100],\n      ['t', x, y],\n    ]);\n  }\n  return scaledMatrix;\n}\n\n/**\n * \u5BF9\u56FE\u5F62\u5143\u7D20\u8FDB\u884C\u526A\u5207\u52A8\u753B\n * @param element \u8FDB\u884C\u52A8\u753B\u7684\u56FE\u5F62\u5143\u7D20\n * @param animateCfg \u52A8\u753B\u914D\u7F6E\n * @param coordinate \u5F53\u524D\u5750\u6807\u7CFB\n * @param yMinPoint y \u8F74\u7684\u6700\u5C0F\u503C\u5BF9\u5E94\u7684\u56FE\u5F62\u5750\u6807\u70B9\n * @param type \u526A\u5207\u52A8\u753B\u7684\u7C7B\u578B\n */\nexport function doScaleAnimate(\n  element: IGroup | IShape,\n  animateCfg: GAnimateCfg,\n  coordinate: Coordinate,\n  yMinPoint: Point,\n  type: string\n) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  let x: number;\n  let y: number;\n\n  if (type === 'y') {\n    x = start.x + width / 2;\n    y = yMinPoint.y < start.y ? yMinPoint.y : start.y;\n  } else if (type === 'x') {\n    x = yMinPoint.x > start.x ? yMinPoint.x : start.x;\n    y = start.y + height / 2;\n  } else if (type === 'xy') {\n    if (coordinate.isPolar) {\n      x = coordinate.getCenter().x;\n      y = coordinate.getCenter().y;\n    } else {\n      x = (start.x + end.x) / 2;\n      y = (start.y + end.y) / 2;\n    }\n  }\n\n  const endMatrix = transformShape(element, [x, y], type);\n  element.animate(\n    {\n      matrix: endMatrix,\n    },\n    animateCfg\n  );\n}\n", "import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { doScaleAnimate } from './util';\n\n/**\n * @ignore\n * \u5165\u573A\u52A8\u753B\n * x \u65B9\u5411\u7684\u751F\u957F\n * @param element \u6267\u884C\u52A8\u753B\u7684\u5143\u7D20\n * @param animateCfg \u52A8\u753B\u914D\u7F6E\n * @param cfg \u989D\u5916\u4FE1\u606F\n */\nexport function growInX(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'x');\n}\n\n/**\n * @ignore\n * \u5165\u573A\u52A8\u753B\n * y \u8F74\u65B9\u5411\u4E0A\u7684\u751F\u957F\n * @param element \u6267\u884C\u52A8\u753B\u7684\u5143\u7D20\n * @param animateCfg \u52A8\u753B\u914D\u7F6E\n * @param cfg \u989D\u5916\u4FE1\u606F\n */\nexport function growInY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'y');\n}\n\n/**\n * @ignore\n * \u5165\u573A\n * \u4E2D\u5FC3\u70B9\u7684\u5411\u56DB\u5468\u7684\u751F\u957F\u52A8\u753B\n * @param element \u6267\u884C\u52A8\u753B\u7684\u5143\u7D20\n * @param animateCfg \u52A8\u753B\u914D\u7F6E\n * @param cfg \u989D\u5916\u4FE1\u606F\n */\nexport function growInXY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'xy');\n}\n", "import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \u5165\u573A\u52A8\u753B\n * path \u7684\u5165\u573A\u52A8\u753B\n * @param element \u6267\u884C\u52A8\u753B\u7684\u5143\u7D20\n * @param animateCfg \u52A8\u753B\u914D\u7F6E\n * @param cfg \u989D\u5916\u4FE1\u606F\n */\nexport function pathIn(element: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  // @ts-ignore\n  const length = element.getTotalLength();\n  // \u8BBE\u7F6E\u865A\u7EBF\u6837\u5F0F\n  element.attr('lineDash', [length]);\n  element.animate((ratio: number) => {\n    return {\n      // \u5BF9\u865A\u7EBF\u504F\u79FB\u91CF\u505A\u52A8\u753B\n      lineDashOffset: (1 - ratio) * length,\n    };\n  }, animateCfg);\n}\n", "import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \u5750\u6807\u79FB\u52A8\u52A8\u753B\n * @param shape \u56FE\u5F62\n * @param animateCfg\n * @param cfg\n */\nexport function positionUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs } = cfg;\n  // @ts-ignore\n  const x = toAttrs.x;\n  // @ts-ignore\n  const y = toAttrs.y;\n\n  // @ts-ignore\n  delete toAttrs.x;\n  // @ts-ignore\n  delete toAttrs.y;\n\n  shape.attr(toAttrs);\n\n  shape.animate(\n    {\n      x,\n      y,\n    },\n    animateCfg\n  );\n}\n", "import { ext } from '@antv/matrix-util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \u6CBF\u7740 x \u65B9\u5411\u653E\u5927\u7684\u52A8\u753B\n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInX(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const points = mappingData.points as Point[];\n  // x \u6570\u503C\u5982\u679C\u4E3A\u8D1F\u503C\uFF0C\u90A3\u4E48\u5E94\u8BE5\u4ECE\u53F3\u5F80\u5DE6\u751F\u957F\n  const x = points[0].y - points[1].y > 0 ? box.maxX : box.minX;\n  const y = (box.minY + box.maxY) / 2;\n\n  shape.applyToMatrix([x, y, 1]);\n\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 0.01, 1],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 100, 1],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n\n/**\n * @ignore\n * \u6CBF\u7740 y \u65B9\u5411\u653E\u5927\u7684\u52A8\u753B\n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInY(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const x = (box.minX + box.maxX) / 2;\n  const points = mappingData.points as Point[];\n  // \u6570\u503C\u5982\u679C\u4E3A\u8D1F\u503C\uFF0C\u90A3\u4E48\u5E94\u8BE5\u4ECE\u4E0A\u5F80\u4E0B\u751F\u957F\uFF0C\u901A\u8FC7 shape \u7684\u5173\u952E\u70B9\u8FDB\u884C\u5224\u65AD\n  const y = points[0].y - points[1].y <= 0 ? box.maxY : box.minY;\n\n  shape.applyToMatrix([x, y, 1]);\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 1, 0.01],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 100],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n", "import { getArcParams } from '@antv/g-canvas';\nimport { isNumberEqual, isEqual } from '@antv/util';\n\nimport { IShape, PathCommand } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { getArcPath, getSectorPath } from '../../util/graphics';\n\nfunction getAngle(startPoint: number[], arcPath: PathCommand) {\n  let { startAngle, endAngle } = getArcParams(startPoint, arcPath);\n\n  if (!isNumberEqual(startAngle, -Math.PI * 0.5) && startAngle < -Math.PI * 0.5) {\n    startAngle += Math.PI * 2;\n  }\n  if (!isNumberEqual(endAngle, -Math.PI * 0.5) && endAngle < -Math.PI * 0.5) {\n    endAngle += Math.PI * 2;\n  }\n\n  if (arcPath[5] === 0) {\n    // \u9006\u65F6\u9488\uFF0C\u9700\u8981\u5C06 startAngle \u548C endAngle \u8F6C\u7F6E\uFF0C\u56E0\u4E3A G2 \u6781\u5750\u6807\u7CFB\u4E3A\u987A\u65F6\u9488\u65B9\u5411\n    [startAngle, endAngle] = [endAngle, startAngle];\n  }\n\n  if (isNumberEqual(startAngle, Math.PI * 1.5)) {\n    startAngle = Math.PI * -0.5;\n  }\n\n  if (isNumberEqual(endAngle, Math.PI * -0.5)) {\n    endAngle = Math.PI * 1.5;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\nfunction getArcStartPoint(path: PathCommand) {\n  let startPoint;\n  if (path[0] === 'M' || path[0] === 'L') {\n    startPoint = [path[1], path[2]];\n  } else if (path[0] === 'a' || path[0] === 'A' || path[0] === 'C') {\n    startPoint = [path[path.length - 2], path[path.length - 1]];\n  }\n\n  return startPoint;\n}\n\n/**\n * path \u5B58\u5728\u4EE5\u4E0B\u60C5\u51B5\n * 1. \u997C\u56FE\u4E0D\u4E3A\u6574\u5706\u7684 path\uFF0C\u547D\u4EE4\u4E3A M, L, A, L, Z\n * 2. \u997C\u56FE\u4E3A\u6574\u5706\u7684 path\uFF0C\u547D\u4EE4\u4E3A M, M, A, A, M, Z\n * 3. \u73AF\u56FE\u4E0D\u4E3A\u6574\u5706\u7684 path\uFF0C\u547D\u4EE4\u4E3A M, A, L, A, L, Z\n * 4. \u73AF\u56FE\u4E3A\u6574\u5706\u7684 path\uFF0C\u547D\u4EE4\u4E3A M, A, A, M, A, A, M, Z\n * 5. radial-line, \u4E0D\u4E3A\u6574\u5706\u65F6\u7684 path, \u547D\u4EE4\u4E3A M, A, A, Z\n * 6. radial-line, \u4E3A\u6574\u5706\u65F6\u7684 path\uFF0C\u547D\u4EE4\u4E3A M, A, A, A, A, Z\n * @param path theta \u5750\u6807\u7CFB\u4E0B\u5706\u5F27\u7684 path \u547D\u4EE4\n */\nfunction getArcInfo(path: PathCommand[]) {\n  let startAngle;\n  let endAngle;\n\n  const arcPaths = path.filter((command) => {\n    return command[0] === 'A' || command[0] === 'a';\n  });\n\n  if (arcPaths.length === 0) {\n    return {\n      startAngle: 0,\n      endAngle: 0,\n      radius: 0,\n      innerRadius: 0,\n    };\n  }\n\n  const firstArcPathCommand = arcPaths[0];\n  const lastArcPathCommand = arcPaths.length > 1 ? arcPaths[1] : arcPaths[0];\n  const firstIndex = path.indexOf(firstArcPathCommand);\n  const lastIndex = path.indexOf(lastArcPathCommand);\n  const firstStartPoint = getArcStartPoint(path[firstIndex - 1]);\n  const lastStartPoint = getArcStartPoint(path[lastIndex - 1]);\n\n  const { startAngle: firstStartAngle, endAngle: firstEndAngle } = getAngle(firstStartPoint, firstArcPathCommand);\n  const { startAngle: lastStartAngle, endAngle: lastEndAngle } = getAngle(lastStartPoint, lastArcPathCommand);\n\n  if (isNumberEqual(firstStartAngle, lastStartAngle) && isNumberEqual(firstEndAngle, lastEndAngle)) {\n    startAngle = firstStartAngle;\n    endAngle = firstEndAngle;\n  } else {\n    startAngle = Math.min(firstStartAngle, lastStartAngle);\n    endAngle = Math.max(firstEndAngle, lastEndAngle);\n  }\n\n  let radius = firstArcPathCommand[1];\n  let innerRadius = arcPaths[arcPaths.length - 1][1];\n  if (radius < innerRadius) {\n    [radius, innerRadius] = [innerRadius, radius];\n  } else if (radius === innerRadius) {\n    innerRadius = 0;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n    radius,\n    innerRadius,\n  };\n}\n\n/**\n * @ignore\n * \u997C\u56FE\u66F4\u65B0\u52A8\u753B\n * @param shape \u6587\u672C\u56FE\u5F62\n * @param animateCfg\n * @param cfg\n */\nexport function sectorPathUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs, coordinate } = cfg;\n  const path = (toAttrs as { path: PathCommand[] }).path || [];\n  const pathCommands = path.map((command) => command[0]);\n\n  if (path.length < 1) return;\n\n  const { startAngle: curStartAngle, endAngle: curEndAngle, radius, innerRadius } = getArcInfo(path);\n  const { startAngle: preStartAngle, endAngle: preEndAngle } = getArcInfo(shape.attr('path'));\n\n  const center = coordinate.getCenter();\n  const diffStartAngle = curStartAngle - preStartAngle;\n  const diffEndAngle = curEndAngle - preEndAngle;\n  // \u6CA1\u6709 diff \u65F6\u76F4\u63A5\u8FD4\u56DE\u6700\u7EC8 attrs\uFF0C\u4E0D\u9700\u8981\u989D\u5916\u52A8\u753B\n  if (diffStartAngle === 0 && diffEndAngle === 0) {\n    shape.attr('path', path);\n    return;\n  }\n\n  shape.animate(\n    (ratio) => {\n      const onFrameStartAngle = preStartAngle + ratio * diffStartAngle;\n      const onFrameEndAngle = preEndAngle + ratio * diffEndAngle;\n      return {\n        ...toAttrs,\n        path:\n          // hack, \u517C\u5BB9 /examples/bar/basic/demo/radial-line.ts \u52A8\u753B\n          isEqual(pathCommands, ['M', 'A', 'A', 'Z'])\n            ? getArcPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle)\n            : getSectorPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle, innerRadius),\n      };\n    },\n    {\n      ...animateCfg,\n      callback: () => {\n        // \u5C06 path \u4FDD\u6301\u539F\u59CB\u6001\uFF0C\u5426\u5219\u4F1A\u5F71\u54CD setState() \u7684\u52A8\u753B\n        shape.attr('path', path);\n      },\n    }\n  );\n}\n", "import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { getCoordinateClipCfg } from '../../util/coordinate';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \u6574\u4F53\u52A8\u753B\n * \u5212\u5165\u5165\u573A\u52A8\u753B\u6548\u679C\n * @todo \u653E\u4E24\u5F20\u76F4\u89D2\u5750\u6807\u7CFB\u548C\u6781\u5750\u6807\u7CFB\u7684\u56FE\n * @param element \u53C2\u4E0E\u52A8\u753B\u7684\u56FE\u5F62\u5143\u7D20\n * @param animateCfg \u52A8\u753B\u914D\u7F6E\n * @param cfg \u989D\u5916\u4FE1\u606F\n */\nexport function waveIn(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { type, startState, endState } = getCoordinateClipCfg(cfg.coordinate, 20); // \u6839\u636E\u5750\u6807\u7CFB\u7C7B\u578B\u83B7\u53D6\u6574\u4F53\u7684\u526A\u5207\u533A\u57DF\u914D\u7F6E\u4FE1\u606F\n  const clipShape = element.setClip({\n    type,\n    attrs: startState,\n  }) as IShape; // \u4E3A shape \u8BBE\u7F6E\u526A\u5207\u533A\u57DF\n\n  // \b\u5BF9\u526A\u5207\u56FE\u5F62\u505A\u52A8\u753B\n  clipShape.animate(endState, {\n    ...animateCfg,\n    callback: () => {\n      if (element && !element.get('destroyed')) {\n        element.set('clipShape', null);\n      }\n      clipShape.remove(true); // \u52A8\u753B\u7ED3\u675F\u9700\u8981\u5C06\u526A\u5207\u56FE\u5F62\u9500\u6BC1\n    },\n  });\n}\n", "import { ext } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nfunction doShapeZoom(shape: IShape | IGroup, animateCfg: GAnimateCfg, type: 'zoomIn' | 'zoomOut') {\n  if (shape.isGroup()) {\n    each((shape as IGroup).getChildren(), (child) => {\n      doShapeZoom(child, animateCfg, type);\n    });\n  } else {\n    const bbox = shape.getBBox();\n    const x = (bbox.minX + bbox.maxX) / 2;\n    const y = (bbox.minY + bbox.maxY) / 2;\n    shape.applyToMatrix([x, y, 1]);\n\n    if (type === 'zoomIn') {\n      // \u653E\u5927\n      const matrix = ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ]);\n      shape.setMatrix(matrix);\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 100, 100],\n            ['t', x, y],\n          ]),\n        },\n        animateCfg\n      );\n    } else {\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 0.01, 0.01],\n            ['t', x, y],\n          ]),\n        },\n        {\n          ...animateCfg,\n          callback: () => {\n            shape.remove(true);\n          },\n        }\n      );\n    }\n  }\n}\n\n/**\n * @ignore\n * \u5355\u4E2A shape \u52A8\u753B\n * shape \u4EE5\u81EA\u8EAB\u4E2D\u5FC3\u70B9\u9010\u6E10\u653E\u5927\u7684\u8FDB\u5165\u52A8\u753B\n * @param shape \u53C2\u4E0E\u52A8\u753B\u7684\u56FE\u5F62\u5143\u7D20\n * @param animateCfg \u52A8\u753B\u914D\u7F6E\n * @param cfg \u989D\u5916\u4FE1\u606F\n */\nexport function zoomIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomIn');\n}\n\n/**\n * @ignore\n * \u5355\u4E2A shape \u52A8\u753B\n * \u6D88\u5931\u52A8\u753B\uFF0Cshape \u4EE5\u81EA\u8EAB\u4E3A\u4E2D\u5FC3\u70B9\u7684\u9010\u6E10\u7F29\u5C0F\n * @param shape \u53C2\u4E0E\u52A8\u753B\u7684\u56FE\u5F62\u5143\u7D20\n * @param animateCfg \u52A8\u753B\u914D\u7F6E\n * @param cfg \u989D\u5916\u4FE1\u606F\n */\nexport function zoomOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomOut');\n}\n", "import { DIRECTION } from '../constant';\nimport { Point } from '../dependents';\nimport { FacetTitle } from '../interface';\n\n/**\n * @ignore\n * \u83B7\u53D6 facet title \u7684\u6700\u4F73\u9ED8\u8BA4\u914D\u7F6E\uFF0C\u9632\u6B62\n */\nexport function getFactTitleConfig(direction: DIRECTION): FacetTitle {\n  if ([DIRECTION.TOP, DIRECTION.BOTTOM].includes(direction)) {\n    return {\n      offsetX: 0,\n      offsetY: direction === DIRECTION.TOP ? -8 : 8,\n      style: {\n        textAlign: 'center',\n        textBaseline: direction === DIRECTION.TOP ? 'bottom' : 'top',\n      },\n    };\n  }\n\n  if ([DIRECTION.LEFT, DIRECTION.RIGHT].includes(direction)) {\n    return {\n      offsetX: direction === DIRECTION.LEFT ? -8 : 8,\n      offsetY: 0,\n      style: {\n        textAlign: direction === DIRECTION.LEFT ? 'right' : 'left',\n        textBaseline: 'middle',\n        rotate: Math.PI / 2, // \u6587\u672C\u9605\u8BFB\u4E60\u60EF\u4ECE\u4E0A\u5F80\u4E0B\n      },\n    };\n  }\n\n  return {};\n}\n\n/**\n * @ignore\n * \u6839\u636E\u89D2\u5EA6\uFF0C\u83B7\u53D6 \u25CB \u4E0A\u7684\u70B9\n * @param center\n * @param r\n * @param angle\n */\nexport function getAnglePoint(center: Point, r: number, angle: number): Point {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle),\n  };\n}\n", "import { deepMix, each, filter, get } from '@antv/util';\nimport { AxisCfg, CircleCfg, CircleData, Datum } from '../interface';\n\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { getAnglePoint, getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \u955C\u50CF\u5206\u9762\n */\nexport default class Circle extends Facet<CircleCfg, CircleData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'circle',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   * \u6839\u636E\u603B\u6570\u548C\u5F53\u524D\u7D22\u5F15\uFF0C\u8BA1\u7B97\u5206\u9762\u7684 region\n   * @param count\n   * @param index\n   */\n  protected getRegion(count: number, index: number) {\n    const r = 1 / 2; // \u753B\u5E03\u534A\u5F84\n    // \u753B\u5E03\u5706\u5FC3\n    const center = { x: 0.5, y: 0.5 };\n    // \u6BCF\u9694\u5206\u9762\u95F4\u9694\u7684\u5F27\u5EA6\n    const avgAngle = (Math.PI * 2) / count;\n\n    // \u5F53\u524D\u5206\u9762\u6240\u5728\u7684\u5F27\u5EA6\n    const angle = (-1 * Math.PI) / 2 + avgAngle * index;\n    // TODO \u6CA1\u770B\u61C2\n    const facetR = r / (1 + 1 / Math.sin(avgAngle / 2));\n    // \u5206\u9762\u7684\u4E2D\u5FC3\u70B9\n    const middle = getAnglePoint(center, r - facetR, angle);\n    const startAngle = (Math.PI * 5) / 4; // \u53F3\u4E0A\u89D2\n    const endAngle = (Math.PI * 1) / 4; // \u5DE6\u4E0B\u89D2\n\n    return {\n      start: getAnglePoint(middle, facetR, startAngle),\n      end: getAnglePoint(middle, facetR, endAngle),\n    };\n  }\n\n  protected afterEachView(view: View, facet: CircleData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: CircleData) {}\n\n  protected generateFacets(data: Datum[]): CircleData[] {\n    const { fields, type } = this.cfg;\n    const [field] = fields;\n    if (!field) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const values = this.getFieldValues(data, field);\n    const count = values.length;\n\n    const rst = [];\n    values.forEach((value: any, index: number) => {\n      const conditions = [{ field, value, values }];\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: CircleData = {\n        type,\n        data: facetData,\n        region: this.getRegion(count, index),\n\n        columnValue: value,\n        columnField: field,\n        columnIndex: index,\n        columnValuesLength: count,\n\n        rowValue: null,\n        rowField: null,\n        rowIndex: 0,\n        rowValuesLength: 1,\n      };\n      rst.push(facet);\n    });\n    return rst;\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \u4E0D\u505A\u4EFB\u4F55\u5904\u7406\n    return option;\n  }\n\n  /**\n   * \u8BBE\u7F6E y \u5750\u6807\u8F74\u7684\u6587\u672C\u3001title \u662F\u5426\u663E\u793A\n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \u4E0D\u505A\u4EFB\u4F55\u5904\u7406\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: CircleData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n}\n", "import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, ListCfg, ListData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \u955C\u50CF\u5206\u9762\n */\nexport default class List extends Facet<ListCfg, ListData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'list',\n      cols: null, // \u9ED8\u8BA4\u663E\u793A\u4E00\u5217\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: ListData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: ListData) {}\n\n  protected generateFacets(data: Datum[]): ListData[] {\n    const { fields } = this.cfg;\n    let { cols } = this.cfg;\n\n    const [columnField] = fields;\n    if (!columnField) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const colValues = this.getFieldValues(data, columnField);\n\n    const count = colValues.length;\n    cols = cols || count; // \u6BCF\u884C\u6709\u51E0\u5217\u6570\u636E\n\n    // \u603B\u5171\u6709\u51E0\u884C\n    const rows = this.getPageCount(count, cols);\n    const rst = [];\n\n    colValues.forEach((val, index) => {\n      // \u5F53\u524D index \u5728\u90A3\u4E2A\u884C\u5217\n      const { row, col } = this.getRowCol(index, cols);\n\n      const conditions = [{ field: columnField, value: val, values: colValues }];\n\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: ListData = {\n        type: this.cfg.type,\n        data: facetData,\n        region: this.getRegion(rows, cols, col, row),\n\n        columnValue: val,\n        rowValue: val,\n        columnField,\n        rowField: null,\n        columnIndex: col,\n        rowIndex: row,\n        columnValuesLength: cols,\n        rowValuesLength: rows,\n\n        total: count,\n      };\n\n      rst.push(facet);\n    });\n\n    return rst;\n  }\n\n  /**\n   * \u8BBE\u7F6E x \u5750\u6807\u8F74\u7684\u6587\u672C\u3001title \u662F\u5426\u663E\u793A\n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: ListData): object {\n    // \u5F53\u662F\u6700\u540E\u4E00\u884C\u6216\u8005\u4E0B\u9762\u6CA1\u6709 view \u65F6\u6587\u672C\u4E0D\u663E\u793A\n    if (\n      facet.rowIndex !== facet.rowValuesLength - 1 &&\n      facet.columnValuesLength * facet.rowIndex + facet.columnIndex + 1 + facet.columnValuesLength <= facet.total\n    ) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * \u8BBE\u7F6E y \u5750\u6807\u8F74\u7684\u6587\u672C\u3001title \u662F\u5426\u663E\u793A\n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: ListData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: ListData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  /**\n   * \u8BA1\u7B97\u5206\u9875\u6570\n   * @param total\n   * @param pageSize\n   */\n  private getPageCount(total: number, pageSize: number): number {\n    return Math.floor((total + pageSize - 1) / pageSize);\n  }\n\n  /**\n   * \u7D22\u5F15\u503C\u5728\u54EA\u4E00\u9875\n   * @param index\n   * @param pageSize\n   */\n  private getRowCol(index: number, pageSize: number) {\n    const row = Math.floor(index / pageSize);\n    const col = index % pageSize;\n\n    return { row, col };\n  }\n}\n", "import { deepMix, each, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MatrixCfg, MatrixData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \u955C\u50CF\u5206\u9762\n */\nexport default class Matrix extends Facet<MatrixCfg, MatrixData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'matrix',\n      showTitle: false,\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: MatrixData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: MatrixData) {}\n\n  protected generateFacets(data: Datum[]): MatrixData[] {\n    const { fields, type } = this.cfg;\n\n    // \u77E9\u9635\u4E2D\u884C\u5217\u76F8\u7B49\uFF0C\u7B49\u4E8E\u6307\u5B9A\u7684\u5B57\u6BB5\u4E2A\u6570\n    const rowValuesLength = fields.length;\n    const columnValuesLength = rowValuesLength;\n\n    const rst = [];\n    for (let i = 0; i < columnValuesLength; i++) {\n      const columnField = fields[i];\n      for (let j = 0; j < rowValuesLength; j++) {\n        const rowField = fields[j];\n\n        const facet: MatrixData = {\n          type,\n          data,\n          region: this.getRegion(rowValuesLength, columnValuesLength, i, j),\n\n          columnValue: columnField,\n          rowValue: rowField,\n          columnField,\n          rowField,\n          columnIndex: i,\n          rowIndex: j,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      }\n    }\n    return rst;\n  }\n\n  /**\n   * \u8BBE\u7F6E x \u5750\u6807\u8F74\u7684\u6587\u672C\u3001title \u662F\u5426\u663E\u793A\n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \u6700\u540E\u4E00\u884C\u663E\u793A\n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * \u8BBE\u7F6E y \u5750\u6807\u8F74\u7684\u6587\u672C\u3001title \u662F\u5426\u663E\u793A\n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \u7B2C\u4E00\u5217\u663E\u793A\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: MatrixData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, rowValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n", "import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MirrorCfg, MirrorData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \u955C\u50CF\u5206\u9762\n */\nexport default class Mirror extends Facet<MirrorCfg, MirrorData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'mirror',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n      transpose: false,\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected beforeEachView(view: View, facet: MirrorData) {\n    // \u505A\u4E00\u4E0B\u5750\u6807\u7CFB\u8F6C\u5316\n    if (this.cfg.transpose) {\n      if (facet.columnIndex % 2 === 0) {\n        view.coordinate().transpose().reflect('x');\n      } else {\n        view.coordinate().transpose();\n      }\n    } else {\n      if (facet.rowIndex % 2 !== 0) {\n        view.coordinate().reflect('y');\n      }\n    }\n  }\n\n  protected afterEachView(view: View, facet: MirrorData) {\n    this.processAxis(view, facet);\n  }\n\n  protected generateFacets(data: Datum[]): MirrorData[] {\n    const [f] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    let columnField;\n    let rowField;\n\n    if (this.cfg.transpose) {\n      columnField = f;\n      columnValues = this.getFieldValues(data, columnField).slice(0, 2); // \u955C\u50CF\u6700\u591A\u4E24\u4E2A\n      columnValuesLength = columnValues.length;\n    } else {\n      rowField = f;\n      rowValues = this.getFieldValues(data, rowField).slice(0, 2); // \u955C\u50CF\u6700\u591A\u4E24\u4E2A\n      rowValuesLength = rowValues.length;\n    }\n\n    // \u83B7\u53D6\u6BCF\u4E2A\u7EF4\u5EA6\u5BF9\u5E94\u7684\u6570\u636E\u914D\u7F6E\u7247\u6BB5\n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: MirrorData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  /**\n   * \u8BBE\u7F6E x \u5750\u6807\u8F74\u7684\u6587\u672C\u3001title \u662F\u5426\u663E\u793A\n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // \u975E\u6700\u540E\u4E00\u884C\n    // \u5F53\u662F\u6700\u540E\u4E00\u884C\u6216\u8005\u4E0B\u9762\u6CA1\u6709 view \u65F6\u6587\u672C\u4E0D\u663E\u793A\n    if (facet.columnIndex === 1 || facet.rowIndex === 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n\n    return option;\n  }\n\n  /**\n   * \u8BBE\u7F6E y \u5750\u6807\u8F74\u7684\u6587\u672C\u3001title \u662F\u5426\u663E\u793A\n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // do nothing\n    return option;\n  }\n\n  private renderTitle() {\n    each(this.facets, (facet: MirrorData, facetIndex: number) => {\n      const { columnValue, rowValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      if (this.cfg.transpose) {\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      } else {\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n", "import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, RectCfg, RectData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \u77E9\u9635\u5206\u9762\n */\nexport default class Rect extends Facet<RectCfg, RectData> {\n  protected afterEachView(view: View, facet: RectData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: RectData) {\n    // do nothing\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'rect',\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   * \u751F\u6210\u77E9\u9635\u5206\u9762\u7684\u5206\u9762\u6570\u636E\n   * @param data\n   */\n  protected generateFacets(data: Datum[]): RectData[] {\n    const [columnField, rowField] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    if (columnField) {\n      columnValues = this.getFieldValues(data, columnField);\n      columnValuesLength = columnValues.length;\n    }\n    if (rowField) {\n      rowValues = this.getFieldValues(data, rowField);\n      rowValuesLength = rowValues.length;\n    }\n\n    // \u83B7\u53D6\u6BCF\u4E2A\u7EF4\u5EA6\u5BF9\u5E94\u7684\u6570\u636E\u914D\u7F6E\u7247\u6BB5\n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: RectData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  private renderTitle(): void {\n    each(this.facets, (facet: RectData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n\n  /**\n   * \u8BBE\u7F6E x \u5750\u6807\u8F74\u7684\u6587\u672C\u3001title \u662F\u5426\u663E\u793A\n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: RectData): object {\n    // \u975E\u6700\u540E\u4E00\u884C\n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.columnIndex !== Math.floor((facet.columnValuesLength - 1) / 2)) {\n      // \u4E0D\u662F\u4E2D\u95F4\u5217\n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * \u8BBE\u7F6E y \u5750\u6807\u8F74\u7684\u6587\u672C\u3001title \u662F\u5426\u663E\u793A\n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: RectData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.rowIndex !== Math.floor((facet.rowValuesLength - 1) / 2)) {\n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n}\n", "/**\n * Create By Bruce Too\n * On 2020-02-10\n */\nimport { assign, deepMix, each, get } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION, VIEW_LIFE_CIRCLE } from '../constant';\nimport { AxisCfg, Condition, Datum, TreeCfg, TreeData } from '../interface';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * Tree Facet\n */\nexport default class Tree extends Facet<TreeCfg, TreeData> {\n  protected afterEachView(view: View, facet: TreeData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: TreeData) {}\n\n  public init() {\n    super.init();\n    this.view.on(VIEW_LIFE_CIRCLE.AFTER_RENDER, this.afterChartRender);\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'tree',\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: '#ddd',\n        },\n        smooth: false,\n      },\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  protected generateFacets(data: Datum[]): TreeData[] {\n    const fields = this.cfg.fields;\n    if (!fields.length) {\n      throw new Error('Please specify for the fields for rootFacet!');\n    }\n    const rst = [];\n    const rootFacet: TreeData = {\n      type: this.cfg.type,\n      data,\n      region: null,\n      rowValuesLength: this.getRows(),\n      columnValuesLength: 1,\n      rowIndex: 0,\n      columnIndex: 0,\n      rowField: '',\n      columnField: '',\n      rowValue: '',\n      columnValue: '',\n    };\n    rst.push(rootFacet);\n    rootFacet.children = this.getChildFacets(data, 1, rst);\n    this.setRegion(rst);\n    return rst;\n  }\n\n  private setRegion(facets: TreeData[]) {\n    this.forceColIndex(facets);\n    facets.forEach((facet) => {\n      // @ts-ignore \u5141\u8BB8\u8C03\u6574\n      facet.region = this.getRegion(facet.rowValuesLength, facet.columnValuesLength, facet.columnIndex, facet.rowIndex);\n    });\n  }\n\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number) {\n    const xWidth = 1 / cols; // x\u8F74\u65B9\u5411\u7684\u6BCF\u4E2A\u5206\u9762\u7684\u504F\u79FB\n    const yWidth = 1 / rows; // y\u8F74\u65B9\u5411\u7684\u6BCF\u4E2A\u5206\u9762\u7684\u504F\u79FB\n\n    const start = {\n      x: xWidth * xIndex,\n      y: yWidth * yIndex,\n    };\n\n    const end = {\n      x: start.x + xWidth,\n      y: start.y + (yWidth * 2) / 3, // \u9884\u75591/3\u7684\u7A7A\u9699\uFF0C\u65B9\u4FBF\u6DFB\u52A0\u8FDE\u63A5\u7EBF\n    };\n    return {\n      start,\n      end,\n    };\n  }\n\n  private forceColIndex(facets: TreeData[]) {\n    const leafs: TreeData[] = [];\n    let index = 0;\n    facets.forEach((facet) => {\n      if (this.isLeaf(facet)) {\n        leafs.push(facet);\n        // @ts-ignore \u5141\u8BB8\u8C03\u6574\n        facet.columnIndex = index;\n        index++;\n      }\n    });\n\n    leafs.forEach((facet) => {\n      // @ts-ignore\n      facet.columnValuesLength = leafs.length;\n    });\n    const maxLevel = this.cfg.fields.length;\n    for (let i = maxLevel - 1; i >= 0; i--) {\n      const levelFacets = this.getFacetsByLevel(facets, i);\n      // var yIndex = maxLevel - i;\n      for (const facet of levelFacets) {\n        if (!this.isLeaf(facet)) {\n          facet.originColIndex = facet.columnIndex;\n          // @ts-ignore\n          facet.columnIndex = this.getRegionIndex(facet.children);\n          // @ts-ignore\n          facet.columnValuesLength = leafs.length;\n        }\n      }\n    }\n  }\n\n  // get facet use level\n  private getFacetsByLevel(facets: TreeData[], level: number) {\n    const rst: TreeData[] = [];\n    facets.forEach((facet) => {\n      if (facet.rowIndex === level) {\n        rst.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  // if the facet has children , make it's column index in the middle of it's children\n  private getRegionIndex(children: TreeData[]) {\n    const first = children[0];\n    const last = children[children.length - 1];\n    return (last.columnIndex - first.columnIndex) / 2 + first.columnIndex;\n  }\n\n  // is  a leaf without children\n  private isLeaf(facet: TreeData) {\n    return !facet.children || !facet.children.length;\n  }\n\n  private getRows() {\n    return this.cfg.fields.length + 1;\n  }\n\n  // get child\n  private getChildFacets(data: Datum[], level: number, arr: TreeData[]) {\n    // [ 'grade', 'class' ]\n    const fields = this.cfg.fields;\n    const length = fields.length;\n    if (length < level) {\n      return;\n    }\n    const rst = [];\n    // get fist level except root node\n    const field = fields[level - 1];\n    // get field value\n    const values = this.getFieldValues(data, field);\n    values.forEach((value, index) => {\n      const conditions = [{ field, value, values } as Condition];\n      const subData = data.filter(this.getFacetDataFilter(conditions));\n      if (subData.length) {\n        const facet: TreeData = {\n          type: this.cfg.type,\n          data: subData,\n          region: null,\n          columnValue: value,\n          rowValue: '',\n          columnField: field,\n          rowField: '',\n          columnIndex: index,\n          rowValuesLength: this.getRows(),\n          columnValuesLength: 1,\n          rowIndex: level,\n          children: this.getChildFacets(subData, level + 1, arr),\n        };\n        rst.push(facet);\n        arr.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  public render() {\n    super.render();\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  private afterChartRender = () => {\n    if (this.facets && this.cfg.line) {\n      this.container.clear();\n      this.drawLines(this.facets);\n    }\n  };\n\n  private renderTitle() {\n    each(this.facets, (facet: TreeData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  private drawLines(facets: TreeData[]) {\n    facets.forEach((facet) => {\n      if (!this.isLeaf(facet)) {\n        const children = facet.children;\n        this.addFacetLines(facet, children);\n      }\n    });\n  }\n\n  // add lines with it's children\n  private addFacetLines(facet: TreeData, children: TreeData[]) {\n    const view = facet.view;\n    const region = view.coordinateBBox;\n    // top, right, bottom, left\n    const start = {\n      x: region.x + region.width / 2,\n      y: region.y + region.height,\n    };\n\n    children.forEach((subFacet) => {\n      const subRegion = subFacet.view.coordinateBBox;\n      const end = {\n        x: subRegion.bl.x + (subRegion.tr.x - subRegion.bl.x) / 2,\n        y: subRegion.tr.y,\n      };\n\n      const middle1 = {\n        x: start.x,\n        y: start.y + (end.y - start.y) / 2,\n      };\n      const middle2 = {\n        x: end.x,\n        y: middle1.y,\n      };\n      this.drawLine([start, middle1, middle2, end]);\n    });\n  }\n\n  private getPath(points) {\n    const path = [];\n    const smooth = this.cfg.line.smooth;\n    if (smooth) {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['C', points[1].x, points[1].y, points[2].x, points[2].y, points[3].x, points[3].y]);\n    } else {\n      points.forEach((point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n    }\n\n    return path;\n  }\n\n  // draw line width points\n  private drawLine(points) {\n    const path = this.getPath(points);\n    const line = this.cfg.line.style;\n    this.container.addShape('path', {\n      attrs: assign(\n        {\n          // @ts-ignore\n          path,\n        },\n        line\n      ),\n    });\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.originColIndex !== 0 && facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n}\n", "import { reduce, isNumber } from '@antv/util';\n\n/**\n * \u83B7\u5F97\u4E2D\u4F4D\u6570\n * @param array\n */\nexport function getMedian(array: number[]) {\n  const arr = [...array];\n  // \u5148\u6392\u5E8F\n  arr.sort((a: number, b: number) => {\n    return a - b;\n  });\n\n  const len = arr.length;\n\n  // median\n  // 0\n  if (len === 0) {\n    return 0;\n  }\n\n  // \u5947\u6570\n  if (len % 2 === 1) {\n    return arr[(len - 1) / 2];\n  }\n\n  // \u5076\u6570\n  return (arr[len / 2] + arr[len / 2 - 1]) / 2;\n}\n\n/**\n * \u83B7\u5F97\u5E73\u5747\u503C\n * @param array\n */\nexport function getMean(array: number[]) {\n  const sum = reduce(\n    array,\n    (r: number, num: number) => {\n      return (r += isNaN(num) || !isNumber(num) ? 0 : num);\n    },\n    0\n  );\n\n  return array.length === 0 ? 0 : sum / array.length;\n}\n", "import { getMedian, getMean } from './stat';\nimport { Scale } from '../dependents';\n\n/**\n * parse the value position\n * @param val\n * @param scale\n */\nexport function getNormalizedValue(val: number | string, scale: Scale) {\n  if (!scale) {\n    return null;\n  }\n  let scaled: number;\n\n  switch (val) {\n    case 'start':\n      return 0;\n    case 'center':\n      return 0.5;\n    case 'end':\n      return 1;\n    case 'median': {\n      scaled = scale.isCategory ? getMedian(scale.values.map((_, idx: number) => idx)) : getMedian(scale.values);\n      break;\n    }\n    case 'mean': {\n      scaled = scale.isCategory ? (scale.values.length - 1) / 2 : getMean(scale.values);\n      break;\n    }\n    case 'min':\n      scaled = scale.isCategory ? 0 : scale[val];\n      break;\n    case 'max':\n      scaled = scale.isCategory ? scale.values.length - 1 : scale[val];\n      break;\n    default:\n      scaled = val as number;\n      break;\n  }\n\n  return scale.scale(scaled);\n}\n", "import {\n  contains,\n  deepMix,\n  each,\n  get,\n  isArray,\n  isFunction,\n  isNil,\n  isString,\n  keys,\n  upperFirst,\n  find,\n  includes,\n} from '@antv/util';\nimport { Annotation as AnnotationComponent, IElement, IGroup } from '../../dependents';\nimport {\n  AnnotationBaseOption as BaseOption,\n  AnnotationPosition as Position,\n  ArcOption,\n  ComponentOption,\n  ShapeAnnotationOption,\n  Data,\n  DataMarkerOption,\n  DataRegionOption,\n  Datum,\n  HtmlAnnotationOption,\n  ImageOption,\n  LineOption,\n  Point,\n  RegionFilterOption,\n  RegionOption,\n  RegionPositionBaseOption,\n  TextOption,\n} from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\nimport { COMPONENT_TYPE, DIRECTION, GEOMETRY_LIFE_CIRCLE, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\n\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element';\nimport { getAngleByPoint, getDistanceToCenter } from '../../util/coordinate';\nimport { omit } from '../../util/helper';\nimport { getNormalizedValue } from '../../util/annotation';\nimport View from '../view';\nimport { Controller } from './base';\nimport { Scale } from '@antv/attr';\n\n/** \u9700\u8981\u5728\u56FE\u5F62\u7ED8\u5236\u5B8C\u6210\u540E\u624D\u6E32\u67D3\u7684\u8F85\u52A9\u7EC4\u4EF6\u7C7B\u578B\u5217\u8868 */\nconst ANNOTATIONS_AFTER_RENDER = ['regionFilter', 'shape'];\n\n/**\n * Annotation controller, \u4E3B\u8981\u4F5C\u7528:\n * 1. \u521B\u5EFA Annotation: line\u3001text\u3001arc ...\n * 2. \u751F\u547D\u5468\u671F: init\u3001layout\u3001render\u3001clear\u3001destroy\n */\nexport default class Annotation extends Controller<BaseOption[]> {\n  private foregroundContainer: IGroup;\n  private backgroundContainer: IGroup;\n\n  /* \u7EC4\u4EF6\u66F4\u65B0\u7684 cache\uFF0C\u7EC4\u4EF6\u914D\u7F6E object : \u7EC4\u4EF6 */\n  private cache = new Map<BaseOption, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    this.foregroundContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.backgroundContainer = this.view.getLayer(LAYER.BG).addGroup();\n\n    this.option = [];\n  }\n\n  public get name(): string {\n    return 'annotation';\n  }\n\n  public init() { }\n\n  /**\n   * \u56E0\u4E3A annotation \u9700\u8981\u4F9D\u8D56\u5750\u6807\u7CFB\u4FE1\u606F\uFF0C\u6240\u4EE5 render \u9636\u6BB5\u4E3A\u7A7A\u65B9\u6CD5\uFF0C\u5B9E\u9645\u7684\u521B\u5EFA\u903B\u8F91\u90FD\u5728 layout \u4E2D\n   */\n  public layout() {\n    this.update();\n  }\n\n  // \u56E0\u4E3A Annotation \u4E0D\u53C2\u4E0E\u5E03\u5C40\uFF0C\u4F46\u662F\u6E32\u67D3\u7684\u4F4D\u7F6E\u4F9D\u8D56\u4E8E\u5750\u6807\u7CFB\uFF0C\u6240\u4EE5\u53EF\u4EE5\u5C06\u7ED8\u5236\u9636\u6BB5\u5EF6\u8FDF\u5230 layout() \u8FDB\u884C\n  public render() { }\n\n  /**\n   * \u66F4\u65B0\n   */\n  public update() {\n    // 1. \u5148\u5904\u7406\u9700\u8981\u5728\u56FE\u5F62\u6E32\u67D3\u4E4B\u540E\u7684\u8F85\u52A9\u7EC4\u4EF6 \u9700\u8981\u5728 Geometry \u5B8C\u6210\u4E4B\u540E\uFF0C\u62FF\u5230\u56FE\u5F62\u4FE1\u606F\n    this.onAfterRender(() => {\n      const updated = new Map<BaseOption, ComponentOption>();\n      // \u5148\u770B\u662F\u5426\u6709 regionFilter/shape \u8981\u66F4\u65B0\n      each(this.option, (option: BaseOption) => {\n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          const co = this.updateOrCreate(option);\n          // \u5B58\u50A8\u5DF2\u7ECF\u5904\u7406\u8FC7\u7684\n          if (co) {\n            updated.set(this.getCacheKey(option), co);\n          }\n        }\n      });\n\n      // \u5904\u7406\u5B8C\u6210\u4E4B\u540E\uFF0C\u66F4\u65B0 cache\n      // \u5904\u7406\u5B8C\u6210\u4E4B\u540E\uFF0C\u9500\u6BC1\u5220\u9664\u7684\n      this.cache = this.syncCache(updated);\n    });\n\n    // 2. \u5904\u7406\u975E regionFilter\n    const updateCache = new Map<BaseOption, ComponentOption>();\n    each(this.option, (option: BaseOption) => {\n      if (!includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        const co = this.updateOrCreate(option);\n        // \u5B58\u50A8\u5DF2\u7ECF\u5904\u7406\u8FC7\u7684\n        if (co) {\n          updateCache.set(this.getCacheKey(option), co);\n        }\n      }\n    });\n    this.cache = this.syncCache(updateCache);\n  }\n\n  /**\n   * \u6E05\u7A7A\n   * @param includeOption \u662F\u5426\u6E05\u7A7A option \u914D\u7F6E\u9879\n   */\n  public clear(includeOption = false) {\n    super.clear();\n\n    this.clearComponents();\n    this.foregroundContainer.clear();\n    this.backgroundContainer.clear();\n\n    // clear all option\n    if (includeOption) {\n      this.option = [];\n    }\n  }\n\n  public destroy() {\n    this.clear(true);\n\n    this.foregroundContainer.remove(true);\n    this.backgroundContainer.remove(true);\n  }\n\n  /**\n   * \u590D\u5199\u57FA\u7C7B\u7684\u65B9\u6CD5\n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   * \u6E05\u9664\u5F53\u524D\u7684\u7EC4\u4EF6\n   */\n  private clearComponents() {\n    this.getComponents().forEach((co) => {\n      co.component.destroy();\n    });\n\n    this.cache.clear();\n  }\n\n  /**\n   * region filter \u6BD4\u8F83\u7279\u6B8A\u7684\u6E32\u67D3\u65F6\u673A\n   * @param doWhat\n   */\n  private onAfterRender(doWhat: () => void) {\n    if (this.view.getOptions().animate) {\n      this.view.geometries.forEach((g: Geometry) => {\n        // \u5982\u679C geometry \u5F00\u542F\uFF0C\u5219\u76D1\u542C\n        if (g.animateOption) {\n          g.once(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE, () => {\n            doWhat();\n          });\n        }\n      });\n    } else {\n      this.view.getRootView().once(VIEW_LIFE_CIRCLE.AFTER_RENDER, () => {\n        doWhat();\n      });\n    }\n  }\n\n  private createAnnotation(option: BaseOption) {\n    const { type } = option;\n\n    const Ctor = AnnotationComponent[upperFirst(type)];\n    if (Ctor) {\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n      // \u4E0D\u521B\u5EFA\n      if (!cfg) {\n        return null;\n      }\n      const annotation = new Ctor(cfg);\n\n      return {\n        component: annotation,\n        layer: this.isTop(cfg) ? LAYER.FORE : LAYER.BG,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.ANNOTATION,\n        extra: option,\n      };\n    }\n  }\n\n  // APIs for creating annotation component\n  public annotation(option: any) {\n    this.option.push(option);\n  }\n\n  /**\n   * \u521B\u5EFA Arc\n   * @param option\n   * @returns AnnotationController\n   */\n  public arc(option: ArcOption) {\n    this.annotation({\n      type: 'arc',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   * \u521B\u5EFA image\n   * @param option\n   * @returns AnnotationController\n   */\n  public image(option: ImageOption) {\n    this.annotation({\n      type: 'image',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   * \u521B\u5EFA Line\n   * @param option\n   * @returns AnnotationController\n   */\n  public line(option: LineOption) {\n    this.annotation({\n      type: 'line',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   * \u521B\u5EFA Region\n   * @param option\n   * @returns AnnotationController\n   */\n  public region(option: RegionOption) {\n    this.annotation({\n      type: 'region',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   * \u521B\u5EFA Text\n   * @param option\n   * @returns AnnotationController\n   */\n  public text(option: TextOption) {\n    this.annotation({\n      type: 'text',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   * \u521B\u5EFA DataMarker\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataMarker(option: DataMarkerOption) {\n    this.annotation({\n      type: 'dataMarker',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   * \u521B\u5EFA DataRegion\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataRegion(option: DataRegionOption) {\n    this.annotation({\n      type: 'dataRegion',\n      ...option,\n    });\n  }\n\n  /**\n   * \u521B\u5EFA RegionFilter\n   * @param option\n   * @returns AnnotationController\n   */\n  public regionFilter(option: RegionFilterOption) {\n    this.annotation({\n      type: 'regionFilter',\n      ...option,\n    });\n  }\n\n  /**\n   * \u521B\u5EFA ShapeAnnotation\n   * @param option\n   */\n  public shape(option: ShapeAnnotationOption) {\n    this.annotation({\n      type: 'shape',\n      ...option,\n    });\n  }\n\n  /**\n   * \u521B\u5EFA HtmlAnnotation\n   * @param option\n   */\n  public html(option: HtmlAnnotationOption) {\n    this.annotation({\n      type: 'html',\n      ...option,\n    });\n  }\n  // end API\n\n  /**\n   * parse the point position to [x, y]\n   * @param p Position\n   * @returns { x, y }\n   */\n  private parsePosition(\n    p:\n      | [string | number, string | number]\n      | Datum\n      | ((xScale: Scale, yScale: Scale) => [string | number, string | number] | number | Datum)\n  ): Point {\n    const xScale = this.view.getXScale();\n    // \u8F6C\u6210 object\n    const yScales = this.view.getScalesByDim('y');\n\n    const position: Position = isFunction(p) ? p.call(null, xScale, yScales) : p;\n\n    let x = 0;\n    let y = 0;\n\n    // \u5165\u53C2\u662F [24, 24] \u8FD9\u7C7B\u65F6\n    if (isArray(position)) {\n      const [xPos, yPos] = position;\n      // \u5982\u679C\u6570\u636E\u683C\u5F0F\u662F ['50%', '50%'] \u7684\u683C\u5F0F\n      // fix: \u539F\u59CB\u6570\u636E\u4E2D\u53EF\u80FD\u4F1A\u5305\u542B 'xxx5%xxx' \u8FD9\u6837\u7684\u6570\u636E\uFF0C\u9700\u8981\u5224\u65AD\u4E0B https://github.com/antvis/f2/issues/590\n      // @ts-ignore\n      if (isString(xPos) && xPos.indexOf('%') !== -1 && !isNaN(xPos.slice(0, -1))) {\n        return this.parsePercentPosition(position as [string, string]);\n      }\n\n      x = getNormalizedValue(xPos, xScale);\n      y = getNormalizedValue(yPos, Object.values(yScales)[0]);\n    } else if (!isNil(position)) {\n      // \u5165\u53C2\u662F object \u7ED3\u6784\uFF0C\u6570\u636E\u70B9\n      for (const key of keys(position)) {\n        const value = position[key];\n        if (key === xScale.field) {\n          x = getNormalizedValue(value, xScale);\n        }\n        if (yScales[key]) {\n          y = getNormalizedValue(value, yScales[key]);\n        }\n      }\n    }\n\n    if (isNaN(x) || isNaN(y)) {\n      return null;\n    }\n\n    return this.view.getCoordinate().convert({ x, y });\n  }\n\n  /**\n   * parse all the points between start and end\n   * @param start\n   * @param end\n   * @return Point[]\n   */\n  private getRegionPoints(start: Position | Data, end: Position | Data): Point[] {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getScalesByDim('y');\n    const yScale = Object.values(yScales)[0];\n    const xField = xScale.field;\n    const viewData = this.view.getData();\n    const startXValue = isArray(start) ? start[0] : start[xField];\n    const endXValue = isArray(end) ? end[0] : end[xField];\n    const arr = [];\n\n    let startIndex;\n    each(viewData, (item, idx) => {\n      if (item[xField] === startXValue) {\n        startIndex = idx;\n      }\n      if (idx >= startIndex) {\n        const point = this.parsePosition([item[xField], item[yScale.field]]);\n        if (point) {\n          arr.push(point);\n        }\n      }\n      if (item[xField] === endXValue) {\n        return false;\n      }\n    });\n\n    return arr;\n  }\n\n  /**\n   * parse percent position\n   * @param position\n   */\n  private parsePercentPosition(position: [string, string]): Point {\n    const xPercent = parseFloat(position[0]) / 100;\n    const yPercent = parseFloat(position[1]) / 100;\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n    const x = coordinate.getWidth() * xPercent + topLeft.x;\n    const y = coordinate.getHeight() * yPercent + topLeft.y;\n    return { x, y };\n  }\n\n  /**\n   * get coordinate bbox\n   */\n  private getCoordinateBBox() {\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const width = coordinate.getWidth();\n    const height = coordinate.getHeight();\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n\n    return {\n      x: topLeft.x,\n      y: topLeft.y,\n      minX: topLeft.x,\n      minY: topLeft.y,\n      maxX: topLeft.x + width,\n      maxY: topLeft.y + height,\n      width,\n      height,\n    };\n  }\n\n  /**\n   * get annotation component config by different type\n   * @param type\n   * @param option \u7528\u6237\u7684\u914D\u7F6E\n   * @param theme\n   */\n  private getAnnotationCfg(type: string, option: any, theme: object): object | null {\n    const coordinate = this.view.getCoordinate();\n    const canvas = this.view.getCanvas();\n    let o = {};\n\n    if (isNil(option)) {\n      return null;\n    }\n    const { start, end, position } = option;;\n    const sp = this.parsePosition(start);\n    const ep = this.parsePosition(end);\n    const textPoint = this.parsePosition(position);\n    if (['arc', 'image', 'line', 'region', 'regionFilter'].includes(type) && (!sp || !ep)) {\n      return null;\n    } else if (['text', 'dataMarker', 'html'].includes(type) && !textPoint) {\n      return null;\n    }\n\n    if (type === 'arc') {\n      const { start, end, ...rest } = option as ArcOption;\n      const startAngle = getAngleByPoint(coordinate, sp);\n      let endAngle = getAngleByPoint(coordinate, ep);\n      if (startAngle > endAngle) {\n        endAngle = Math.PI * 2 + endAngle;\n      }\n\n      o = {\n        ...rest,\n        center: coordinate.getCenter(),\n        radius: getDistanceToCenter(coordinate, sp),\n        startAngle,\n        endAngle,\n      };\n    } else if (type === 'image') {\n      const { start, end, ...rest } = option as ImageOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        src: option.src,\n      };\n    } else if (type === 'line') {\n      const { start, end, ...rest } = option as LineOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        text: get(option, 'text', null),\n      };\n    } else if (type === 'region') {\n      const { start, end, ...rest } = option as RegionPositionBaseOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'text') {\n      const filteredData = this.view.getData();\n      const { position, content, ...rest } = option as TextOption;\n      let textContent = content;\n      if (isFunction(content)) {\n        textContent = content(filteredData);\n      }\n      o = {\n        ...textPoint,\n        ...rest,\n        content: textContent,\n      };\n    } else if (type === 'dataMarker') {\n      const { position, point, line, text, autoAdjust, direction, ...rest } = option as DataMarkerOption;\n      o = {\n        ...rest,\n        ...textPoint,\n        coordinateBBox: this.getCoordinateBBox(),\n        point,\n        line,\n        text,\n        autoAdjust,\n        direction,\n      };\n    } else if (type === 'dataRegion') {\n      const { start, end, region, text, lineLength, ...rest } = option as DataRegionOption;\n      o = {\n        ...rest,\n        points: this.getRegionPoints(start, end),\n        region,\n        text,\n        lineLength,\n      };\n    } else if (type === 'regionFilter') {\n      const { start, end, apply, color, ...rest } = option as RegionFilterOption;\n      const geometries: Geometry[] = this.view.geometries;\n      const shapes = [];\n      const addShapes = (item?: IElement) => {\n        if (!item) {\n          return;\n        }\n        if (item.isGroup()) {\n          (item as IGroup).getChildren().forEach((child) => addShapes(child));\n        } else {\n          shapes.push(item);\n        }\n      };\n      each(geometries, (geom: Geometry) => {\n        if (apply) {\n          if (contains(apply, geom.type)) {\n            each(geom.elements, (elem: Element) => {\n              addShapes(elem.shape);\n            });\n          }\n        } else {\n          each(geom.elements, (elem: Element) => {\n            addShapes(elem.shape);\n          });\n        }\n      });\n      o = {\n        ...rest,\n        color,\n        shapes,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'shape') {\n      const { render, ...restOptions } = option as ShapeAnnotationOption;\n      const wrappedRender = (container: IGroup) => {\n        if (isFunction(option.render)) {\n          return render(container, this.view, { parsePosition: this.parsePosition.bind(this) });\n        }\n      };\n      o = {\n        ...restOptions,\n        render: wrappedRender,\n      };\n    } else if (type === 'html') {\n      const { html, position, ...restOptions } = option as HtmlAnnotationOption;\n      const wrappedHtml = (container: HTMLElement) => {\n        if (isFunction(html)) {\n          return html(container, this.view);\n        }\n        return html;\n      };\n      o = {\n        ...restOptions,\n        ...textPoint,\n        // html \u7EC4\u4EF6\u9700\u8981\u6307\u5B9A parent\n        parent: canvas.get('el').parentNode,\n        html: wrappedHtml,\n      };\n    }\n    // \u5408\u5E76\u4E3B\u9898\uFF0C\u7528\u6237\u914D\u7F6E\u4F18\u5148\u7EA7\u9AD8\u4E8E\u9ED8\u8BA4\u4E3B\u9898\n    const cfg = deepMix({}, theme, {\n      ...o,\n      top: option.top,\n      style: option.style,\n      offsetX: option.offsetX,\n      offsetY: option.offsetY,\n    });\n    if (type !== 'html') {\n      // html \u7C7B\u578B\u4E0D\u4F7F\u7528 G container\n      cfg.container = this.getComponentContainer(cfg);\n    }\n    cfg.animate = this.view.getOptions().animate && cfg.animate && get(option, 'animate', cfg.animate); // \u5982\u679C view \u5173\u95ED\u52A8\u753B\uFF0C\u5219\u4E0D\u6267\u884C\n    cfg.animateOption = deepMix({}, DEFAULT_ANIMATE_CFG, cfg.animateOption, option.animateOption);\n\n    return cfg;\n  }\n\n  /**\n   * is annotation render on top\n   * @param option\n   * @return whethe on top\n   */\n  private isTop(option: any): boolean {\n    return get(option, 'top', true);\n  }\n\n  /**\n   * get the container by option.top\n   * default is on top\n   * @param option\n   * @returns the container\n   */\n  private getComponentContainer(option: any) {\n    return this.isTop(option) ? this.foregroundContainer : this.backgroundContainer;\n  }\n\n  private getAnnotationTheme(type: string) {\n    return get(this.view.getTheme(), ['components', 'annotation', type], {});\n  }\n\n  /**\n   * \u521B\u5EFA\u6216\u8005\u66F4\u65B0 annotation\n   * @param option\n   */\n  private updateOrCreate(option: BaseOption) {\n    // \u62FF\u5230\u7F13\u5B58\u7684\u5185\u5BB9\n    let co = this.cache.get(this.getCacheKey(option));\n\n    // \u5B58\u5728\u5219\u66F4\u65B0\uFF0C\u4E0D\u5B58\u5728\u5728\u521B\u5EFA\n    if (co) {\n      const { type } = option;\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n\n      // \u5FFD\u7565\u6389\u4E00\u4E9B\u914D\u7F6E\n      if (cfg) {\n        omit(cfg, ['container']);\n      }\n      co.component.update({ ...(cfg || {}), visible: !!cfg });\n      // \u5BF9\u4E8E regionFilter/shape\uFF0C\u56E0\u4E3A\u751F\u547D\u5468\u671F\u7684\u539F\u56E0\uFF0C\u9700\u8981\u989D\u5916 render\n      if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        co.component.render();\n      }\n    } else {\n      // \u4E0D\u5B58\u5728\uFF0C\u521B\u5EFA\n      co = this.createAnnotation(option);\n      if (co) {\n        co.component.init();\n        // Note\uFF1AregionFilter/shape \u7279\u6B8A\u5904\u7406\uFF0CregionFilter/shape \u9700\u8981\u53D6\u5230 Geometry \u4E2D\u7684 Shape\uFF0C\u9700\u8981\u5728 view render \u4E4B\u540E\u5904\u7406\n        // \u5176\u4ED6\u7EC4\u4EF6\u4F7F\u7528\u5916\u5C42\u7684\u7EDF\u4E00 render \u903B\u8F91\n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          co.component.render();\n        }\n      }\n    }\n    return co;\n  }\n\n  /**\n   * \u66F4\u65B0\u7F13\u5B58\uFF0C\u4EE5\u53CA\u9500\u6BC1\u7EC4\u4EF6\n   * @param updated \u66F4\u65B0\u6216\u8005\u521B\u5EFA\u7684\u7EC4\u4EF6\n   */\n  private syncCache(updated: Map<BaseOption, ComponentOption>) {\n    const newCache = new Map(this.cache); // clone \u4E00\u4EFD\n\n    // \u5C06 update \u66F4\u65B0\u5230 cache\n    updated.forEach((co: ComponentOption, key: BaseOption) => {\n      newCache.set(key, co);\n    });\n\n    // \u53E6\u5916\u548C options \u8FDB\u884C\u5BF9\u6BD4\uFF0C\u5220\u9664\n    newCache.forEach((co: ComponentOption, key: BaseOption) => {\n      // option \u4E2D\u5DF2\u7ECF\u627E\u4E0D\u5230\uFF0C\u90A3\u4E48\u5C31\u662F\u5220\u9664\u7684\n      if (\n        !find(this.option, (option: BaseOption) => {\n          return key === this.getCacheKey(option);\n        })\n      ) {\n        co.component.destroy();\n        newCache.delete(key);\n      }\n    });\n\n    return newCache;\n  }\n\n  /**\n   * \u83B7\u5F97\u7F13\u5B58\u7EC4\u4EF6\u7684 key\n   * @param option\n   */\n  private getCacheKey(option: BaseOption) {\n    // \u5982\u679C\u5B58\u5728 id\uFF0C\u5219\u4F7F\u7528 id string\uFF0C\u5426\u5219\u76F4\u63A5\u4F7F\u7528 option \u5F15\u7528\u4F5C\u4E3A key\n    return option;\n    // \u540E\u7EED\u6269\u5C55 id \u7528\n    // const id = get(option, 'id');\n    // return id ? id : option;\n  }\n}\n", "import { deepMix, get, map } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale, Tick } from '../dependents';\n\n/**\n * @ignore\n * get the grid theme by type, will mix the common cfg of axis\n * @param theme\n * @param direction\n * @returns theme object\n */\nexport function getGridThemeCfg(theme: object, direction: DIRECTION | 'common'): object {\n  const axisTheme = deepMix(\n    {},\n    get(theme, ['components', 'axis', 'common']),\n    get(theme, ['components', 'axis', direction])\n  );\n  return get(axisTheme, ['grid'], {});\n}\n\n/**\n * @ignore\n * get axis grid items\n * @param coordinate\n * @param scale\n * @param dim\n * @return items\n */\nexport function getLineGridItems(coordinate: Coordinate, scale: Scale, dim: string, alignTick?: boolean) {\n  const items = [];\n  const ticks = scale.getTicks();\n  if (coordinate.isPolar) {\n    // \u8865\u5168 ticks\n    ticks.push({\n      value: 1,\n      text: '',\n      tickValue: '',\n    });\n  }\n  ticks.reduce((preTick: Tick, currentTick: Tick, currentIndex) => {\n    const currentValue = currentTick.value;\n    if (alignTick) {\n      items.push({\n        points: [\n          coordinate.convert(dim === 'y' ? { x: 0, y: currentValue } : { x: currentValue, y: 0 }),\n          coordinate.convert(dim === 'y' ? { x: 1, y: currentValue } : { x: currentValue, y: 1 }),\n        ],\n      });\n    } else {\n      if (currentIndex) {\n        const preValue = preTick.value;\n        const middleValue = (preValue + currentValue) / 2;\n        items.push({\n          points: [\n            coordinate.convert(dim === 'y' ? { x: 0, y: middleValue } : { x: middleValue, y: 0 }),\n            coordinate.convert(dim === 'y' ? { x: 1, y: middleValue } : { x: middleValue, y: 1 }),\n          ],\n        });\n      }\n    }\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * get\n * @param coordinate\n * @param xScale\n * @param yScale\n * @param dim\n * @returns items\n */\nexport function getCircleGridItems(\n  coordinate: Coordinate,\n  xScale: Scale,\n  yScale: Scale,\n  alignTick: boolean,\n  dim: string\n) {\n  const count = xScale.values.length;\n  const items = [];\n  const ticks = yScale.getTicks();\n\n  ticks.reduce((preTick: Tick, currentTick: Tick) => {\n    const preValue = preTick ? preTick.value : currentTick.value; // \u53EA\u6709\u4E00\u9879\u6570\u636E\u65F6\u53D6\u5F53\u524D\u503C\n    const currentValue = currentTick.value;\n    const middleValue = (preValue + currentValue) / 2;\n    if (dim === 'x') {\n      // \u5982\u679C\u662F x \u8F74\u4F5C\u4E3A\u534A\u5F84\u8F74\uFF0C\u90A3\u4E48\u53EA\u9700\u8981\u53D6\u5706\u5F27\u6536\u5C3E\u4E24\u4E2A\u5373\u53EF\n      items.push({\n        points: [\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 0,\n          }),\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 1,\n          }),\n        ],\n      });\n    } else {\n      items.push({\n        points: map(Array(count + 1), (__: any, idx: number) => {\n          return coordinate.convert({\n            x: idx / count,\n            y: alignTick ? currentValue : middleValue,\n          });\n        }),\n      });\n    }\n\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * show grid or not\n * @param axisTheme\n * @param axisOption\n */\nexport function showGrid(axisTheme: any, axisOption: any): boolean {\n  const userGrid = get(axisOption, 'grid');\n  if (userGrid === null) {\n    return false;\n  }\n\n  const themeGrid = get(axisTheme, 'grid');\n\n  return !(userGrid === undefined && themeGrid === null);\n}\n", "import { deepMix, each, get, isUndefined } from '@antv/util';\nimport { DIRECTION, COMPONENT_TYPE, LAYER } from '../../constant';\nimport { CircleAxis, CircleGrid, IGroup, LineAxis, LineGrid, Scale } from '../../dependents';\nimport { AxisCfg, AxisOption, ComponentOption } from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\n\nimport {\n  getAxisDirection,\n  getAxisFactorByRegion,\n  getAxisRegion,\n  getAxisThemeCfg,\n  getAxisTitleOptions,\n  getAxisTitleText,\n  getCircleAxisCenterRadius,\n  isVertical,\n} from '../../util/axis';\nimport { getAxisOption } from '../../util/axis';\nimport { getCircleGridItems, getGridThemeCfg, getLineGridItems, showGrid } from '../../util/grid';\nimport { omit } from '../../util/helper';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype Option = Record<string, AxisOption> | boolean;\n\ntype Cache = Map<string, ComponentOption>;\n\n// update \u7EC4\u4EF6\u7684\u65F6\u5019\uFF0C\u5FFD\u7565\u7684\u6570\u636E\u66F4\u65B0\nconst OMIT_CFG = ['container'];\n\n// \u5750\u6807\u8F74\u9ED8\u8BA4\u52A8\u753B\u914D\u7F6E\nconst AXIS_DEFAULT_ANIMATE_CFG = {\n  ...DEFAULT_ANIMATE_CFG,\n  appear: null,\n};\n\n/**\n * @ignore\n * G2 Axis controller, will:\n *  - create component\n *    - axis\n *    - grid\n *  - life circle\n */\nexport default class Axis extends Controller<Option> {\n  /** the draw group of axis */\n  private axisContainer: IGroup;\n  private axisForeContainer: IGroup;\n  private gridContainer: IGroup;\n  private gridForeContainer: IGroup;\n\n  /** \u4F7F\u7528 object \u5B58\u50A8\u7EC4\u4EF6 */\n  private cache: Cache = new Map<string, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    // \u5148\u521B\u5EFA gridContainer\uFF0C\u5C06 grid \u653E\u5230 axis \u5E95\u5C42\n    this.gridContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.gridForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.axisContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.axisForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'axis';\n  }\n\n  public init() {}\n\n  public render() {\n    this.update();\n  }\n\n  /**\n   * \u66F4\u65B0\u7EC4\u4EF6\u5E03\u5C40\uFF0C\u4F4D\u7F6E\u5927\u5C0F\n   */\n  public layout() {\n    const coordinate = this.view.getCoordinate();\n\n    each(this.getComponents(), (co: ComponentOption) => {\n      const { component, direction, type, extra } = co;\n      const { dim, scale, alignTick } = extra;\n\n      let updated;\n\n      if (type === COMPONENT_TYPE.AXIS) {\n        if (coordinate.isPolar) {\n          if (dim === 'x') {\n            updated = coordinate.isTransposed\n              ? getAxisRegion(coordinate, direction)\n              : getCircleAxisCenterRadius(coordinate);\n          } else if (dim === 'y') {\n            updated = coordinate.isTransposed\n              ? getCircleAxisCenterRadius(coordinate)\n              : getAxisRegion(coordinate, direction);\n          }\n        } else {\n          updated = getAxisRegion(coordinate, direction);\n        }\n      } else if (type === COMPONENT_TYPE.GRID) {\n        if (coordinate.isPolar) {\n          let items;\n          if (coordinate.isTransposed) {\n            items =\n              dim === 'x'\n                ? getCircleGridItems(coordinate, this.view.getYScales()[0], scale, alignTick, dim)\n                : getLineGridItems(coordinate, scale, dim, alignTick);\n          } else {\n            items =\n              dim === 'x'\n                ? getLineGridItems(coordinate, scale, dim, alignTick)\n                : getCircleGridItems(coordinate, this.view.getXScale(), scale, alignTick, dim);\n          }\n          updated = {\n            items,\n            // coordinate \u66F4\u65B0\u4E4B\u540E\uFF0Ccenter \u4E5F\u53D8\u5316\u4E86\n            center: this.view.getCoordinate().getCenter(),\n          };\n        } else {\n          updated = { items: getLineGridItems(coordinate, scale, dim, alignTick) };\n        }\n      }\n      component.update(updated);\n    });\n  }\n\n  /**\n   * \u66F4\u65B0 axis \u7EC4\u4EF6\n   */\n  public update() {\n    this.option = this.view.getOptions().axes;\n\n    const updatedCache = new Map<string, ComponentOption>();\n\n    this.updateXAxes(updatedCache);\n    this.updateYAxes(updatedCache);\n\n    // \u5904\u7406\u5B8C\u6210\u4E4B\u540E\uFF0C\u9500\u6BC1\u5220\u9664\u7684\n    // \u4E0D\u5728\u5904\u7406\u4E2D\u7684\n    const newCache = new Map<string, ComponentOption>();\n\n    this.cache.forEach((co: ComponentOption, key: string) => {\n      if (updatedCache.has(key)) {\n        newCache.set(key, co);\n      } else {\n        // \u4E0D\u5B58\u5728\uFF0C\u5219\u662F\u6240\u6709\u9700\u8981\u88AB\u9500\u6BC1\u7684\u7EC4\u4EF6\n        co.component.destroy();\n      }\n    });\n\n    // \u66F4\u65B0\u7F13\u5B58\n    this.cache = newCache;\n  }\n\n  public clear() {\n    super.clear();\n\n    this.cache.clear();\n    this.gridContainer.clear();\n    this.gridForeContainer.clear();\n    this.axisContainer.clear();\n    this.axisForeContainer.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.gridContainer.remove(true);\n    this.gridForeContainer.remove(true);\n    this.axisContainer.remove(true);\n    this.axisForeContainer.remove(true);\n  }\n\n  /**\n   * @override\n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   * \u66F4\u65B0 x axis\n   * @param updatedCache\n   */\n  private updateXAxes(updatedCache: Cache) {\n    // x axis\n    const scale = this.view.getXScale();\n\n    if (!scale || scale.isIdentity) {\n      return;\n    }\n\n    const xAxisOption = getAxisOption(this.option, scale.field);\n    if (xAxisOption === false) {\n      return;\n    }\n\n    const direction = getAxisDirection(xAxisOption, DIRECTION.BOTTOM);\n    const layer = LAYER.BG;\n    const dim = 'x';\n\n    const coordinate = this.view.getCoordinate();\n\n    const axisId = this.getId('axis', scale.field);\n    const gridId = this.getId('grid', scale.field);\n\n    if (coordinate.isRect) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \u5B58\u5728\u5219\u66F4\u65B0\n      if (axis) {\n        const cfg = this.getLineAxisCfg(scale, xAxisOption, direction);\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \u4E0D\u5B58\u5728\uFF0C\u5219\u521B\u5EFA\n        axis = this.createLineAxis(scale, xAxisOption, layer, direction, dim);\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \u5B58\u5728\u5219\u66F4\u65B0\n      if (grid) {\n        const cfg = this.getLineGridCfg(scale, xAxisOption, direction, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \u4E0D\u5B58\u5728\u5219\u521B\u5EFA\n        grid = this.createLineGrid(scale, xAxisOption, layer, direction, dim);\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else if (coordinate.isPolar) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \u5B58\u5728\u5219\u66F4\u65B0\n      if (axis) {\n        const cfg = coordinate.isTransposed\n          ? this.getLineAxisCfg(scale, xAxisOption, DIRECTION.RADIUS)\n          : this.getCircleAxisCfg(scale, xAxisOption, direction);\n\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \u4E0D\u5B58\u5728\uFF0C\u5219\u521B\u5EFA\n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            // \u9ED8\u8BA4\u4E0D\u6E32\u67D3\u8F6C\u7F6E\u6781\u5750\u6807\u4E0B\u7684\u5750\u6807\u8F74\n            return;\n          } else {\n            // \u5982\u679C\u7528\u6237\u6253\u5F00\u4E86\u9690\u85CF\u7684\u5750\u6807\u8F74 chart.axis(true)/chart.axis('x', true)\n            // \u90A3\u4E48\u5BF9\u4E8E\u8F6C\u7F6E\u4E86\u7684\u6781\u5750\u6807\uFF0C\u534A\u5F84\u8F74\u663E\u793A\u7684\u662F x \u8F74\u5BF9\u5E94\u7684\u6570\u636E\n            axis = this.createLineAxis(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          axis = this.createCircleAxis(scale, xAxisOption, layer, direction, dim);\n        }\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \u5B58\u5728\u5219\u66F4\u65B0\n      if (grid) {\n        const cfg = coordinate.isTransposed\n          ? this.getCircleGridCfg(scale, xAxisOption, DIRECTION.RADIUS, dim)\n          : this.getLineGridCfg(scale, xAxisOption, DIRECTION.CIRCLE, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \u4E0D\u5B58\u5728\u5219\u521B\u5EFA\n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            return;\n          } else {\n            grid = this.createCircleGrid(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          // grid\uFF0C\u6781\u5750\u6807\u4E0B\u7684 x \u8F74\u7F51\u683C\u7EBF\u6CBF\u7740\u534A\u5F84\u65B9\u5411\u7ED8\u5236\n          grid = this.createLineGrid(scale, xAxisOption, layer, DIRECTION.CIRCLE, dim);\n        }\n\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else {\n      // helix and other, do not draw axis\n    }\n  }\n\n  private updateYAxes(updatedCache: Cache) {\n    // y axes\n    const yScales = this.view.getYScales();\n\n    each(yScales, (scale: Scale, idx: number) => {\n      // @ts-ignore\n      if (!scale || scale.isIdentity) {\n        return;\n      }\n      const { field } = scale;\n      const yAxisOption = getAxisOption(this.option, field);\n\n      if (yAxisOption !== false) {\n        const layer = LAYER.BG;\n        const dim = 'y';\n        const axisId = this.getId('axis', field);\n        const gridId = this.getId('grid', field);\n\n        const coordinate = this.view.getCoordinate();\n\n        if (coordinate.isRect) {\n          const direction = getAxisDirection(yAxisOption, idx === 0 ? DIRECTION.LEFT : DIRECTION.RIGHT);\n\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \u5B58\u5728\u5219\u66F4\u65B0\n          if (axis) {\n            const cfg = this.getLineAxisCfg(scale, yAxisOption, direction);\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \u4E0D\u5B58\u5728\uFF0C\u5219\u521B\u5EFA\n            axis = this.createLineAxis(scale, yAxisOption, layer, direction, dim);\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \u5B58\u5728\u5219\u66F4\u65B0\n          if (grid) {\n            const cfg = this.getLineGridCfg(scale, yAxisOption, direction, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \u4E0D\u5B58\u5728\u5219\u521B\u5EFA\n            grid = this.createLineGrid(scale, yAxisOption, layer, direction, dim);\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else if (coordinate.isPolar) {\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \u5B58\u5728\u5219\u66F4\u65B0\n          if (axis) {\n            const cfg = coordinate.isTransposed\n              ? this.getCircleAxisCfg(scale, yAxisOption, DIRECTION.CIRCLE)\n              : this.getLineAxisCfg(scale, yAxisOption, DIRECTION.RADIUS);\n\n            // @ts-ignore\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \u4E0D\u5B58\u5728\uFF0C\u5219\u521B\u5EFA\n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                axis = this.createCircleAxis(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              axis = this.createLineAxis(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \u5B58\u5728\u5219\u66F4\u65B0\n          if (grid) {\n            const cfg = coordinate.isTransposed\n              ? this.getLineGridCfg(scale, yAxisOption, DIRECTION.CIRCLE, dim)\n              : this.getCircleGridCfg(scale, yAxisOption, DIRECTION.RADIUS, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \u4E0D\u5B58\u5728\u5219\u521B\u5EFA\n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                grid = this.createLineGrid(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              grid = this.createCircleGrid(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else {\n          // helix and other, do not draw axis\n        }\n      }\n    });\n  }\n\n  /**\n   * \u521B\u5EFA line axis\n   * @param scale\n   * @param option\n   * @param layer\n   * @param direction\n   * @param dim\n   */\n  private createLineAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    // axis\n    const axis = {\n      component: new LineAxis(this.getLineAxisCfg(scale, option, direction)),\n      layer,\n      direction: direction === DIRECTION.RADIUS ? DIRECTION.NONE : direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createLineGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getLineGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new LineGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n      grid.component.init();\n\n      return grid;\n    }\n  }\n\n  private createCircleAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const axis = {\n      component: new CircleAxis(this.getCircleAxisCfg(scale, option, direction)),\n      layer,\n      direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createCircleGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getCircleGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new CircleGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n\n      grid.component.init();\n      return grid;\n    }\n  }\n\n  /**\n   * generate line axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return line axis cfg\n   */\n  private getLineAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n    const region = getAxisRegion(coordinate, direction);\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n\n    const cfg = deepMix(\n      {\n        container,\n        ...region,\n        ticks: scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value })),\n        verticalFactor: coordinate.isPolar\n          ? getAxisFactorByRegion(region, coordinate.getCenter()) * -1\n          : getAxisFactorByRegion(region, coordinate.getCenter()),\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animateOption = animateOption;\n    cfg.animate = animate;\n\n    // \u8BA1\u7B97 verticalLimitLength\n    const isAxisVertical = isVertical(region);\n    // TODO: 1 / 3 \u7B49\u9ED8\u8BA4\u503C\u9700\u8981\u6709\u4E00\u4E2A\u5168\u5C40\u7684\u914D\u7F6E\u7684\u5730\u65B9\n    const verticalLimitLength = get(cfg, 'verticalLimitLength', isAxisVertical ? 1 / 3 : 1 / 2);\n    if (verticalLimitLength <= 1) {\n      // \u914D\u7F6E\u7684\u76F8\u5BF9\u503C\uFF0C\u76F8\u5BF9\u4E8E\u753B\u5E03\n      const canvasWidth = this.view.getCanvas().get('width');\n      const canvasHeight = this.view.getCanvas().get('height');\n      cfg.verticalLimitLength = verticalLimitLength * (isAxisVertical ? canvasWidth : canvasHeight);\n    }\n\n    return cfg;\n  }\n\n  /**\n   * generate line grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @param dim\n   * @return line grid cfg\n   */\n  private getLineGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    // grid \u52A8\u753B\u4EE5 axis \u4E3A\u51C6\n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    gridCfg.items = getLineGridItems(this.view.getCoordinate(), scale, dim, get(gridCfg, 'alignTick', true));\n\n    return gridCfg;\n  }\n\n  /**\n   * generate circle axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle axis cfg\n   */\n  private getCircleAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n\n    const ticks = scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value }));\n    if (!scale.isCategory && Math.abs(coordinate.endAngle - coordinate.startAngle) === Math.PI * 2) {\n      // x \u8F74\u5BF9\u5E94\u7684\u503C\u5982\u679C\u662F\u975E cat \u7C7B\u578B\uFF0C\u5728\u6574\u5706\u7684\u60C5\u51B5\u4E0B\u5750\u6807\u8F74\u7B2C\u4E00\u4E2A\u548C\u6700\u540E\u4E00\u4E2A\u6587\u672C\u4F1A\u91CD\u53E0\uFF0C\u9ED8\u8BA4\u53EA\u5C55\u793A\u7B2C\u4E00\u4E2A\u6587\u672C\n      ticks.pop();\n    }\n\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), DIRECTION.CIRCLE);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n    const cfg = deepMix(\n      {\n        container,\n        ...getCircleAxisCenterRadius(this.view.getCoordinate()),\n        ticks,\n        verticalFactor: 1,\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animate = animate;\n    cfg.animateOption = animateOption;\n\n    return cfg;\n  }\n\n  /**\n   * generate circle grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle grid cfg\n   */\n  private getCircleGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n\n    // the cfg order should be ensure\n    // grid \u52A8\u753B\u4EE5 axis \u4E3A\u51C6\n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), DIRECTION.RADIUS);\n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n        center: this.view.getCoordinate().getCenter(),\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    const alignTick = get(gridCfg, 'alignTick', true);\n    const verticalScale = dim === 'x' ? this.view.getYScales()[0] : this.view.getXScale();\n    gridCfg.items = getCircleGridItems(this.view.getCoordinate(), verticalScale, scale, alignTick, dim);\n    // the cfg order should be ensure\n    // grid \u52A8\u753B\u4EE5 axis \u4E3A\u51C6\n    return gridCfg;\n  }\n\n  private getId(name: string, key: string): string {\n    const coordinate = this.view.getCoordinate();\n    // \u5750\u6807\u7CFB\u7C7B\u578B\u4E5F\u4F5C\u4E3A\u7EC4\u4EF6\u7684 key\n    return `${name}-${key}-${coordinate.type}`;\n  }\n\n  private getAnimateCfg(cfg) {\n    return {\n      animate: this.view.getOptions().animate && get(cfg, 'animate'), // \u5982\u679C view \u5173\u95ED\u52A8\u753B\uFF0C\u5219\u4E0D\u6267\u884C\u52A8\u753B\n      animateOption:\n        cfg && cfg.animateOption ? deepMix({}, AXIS_DEFAULT_ANIMATE_CFG, cfg.animateOption) : AXIS_DEFAULT_ANIMATE_CFG,\n    };\n  }\n}\n", "import { DIRECTION } from '../constant';\nimport { Coordinate } from '../dependents';\nimport { Position } from '../interface';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n * \u65B9\u4F4D\u5E38\u91CF\u8F6C\u5B9E\u9645\u7684 bbox \u4F4D\u7F6E\u5927\u5C0F\n * @param parentBBox\n * @param bbox\n * @param direction\n */\nexport function directionToPosition(parentBBox: BBox, bbox: BBox, direction: DIRECTION): Position {\n  if (direction === DIRECTION.TOP) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.minY];\n  }\n  if (direction === DIRECTION.BOTTOM) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.maxY - bbox.height];\n  }\n  if (direction === DIRECTION.LEFT) {\n    return [parentBBox.minX, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n  if (direction === DIRECTION.RIGHT) {\n    return [parentBBox.maxX - bbox.width, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n\n  if (direction === DIRECTION.TOP_LEFT || direction === DIRECTION.LEFT_TOP) {\n    return [parentBBox.tl.x, parentBBox.tl.y];\n  }\n  if (direction === DIRECTION.TOP_RIGHT || direction === DIRECTION.RIGHT_TOP) {\n    return [parentBBox.tr.x - bbox.width, parentBBox.tr.y];\n  }\n  if (direction === DIRECTION.BOTTOM_LEFT || direction === DIRECTION.LEFT_BOTTOM) {\n    return [parentBBox.bl.x, parentBBox.bl.y - bbox.height];\n  }\n  if (direction === DIRECTION.BOTTOM_RIGHT || direction === DIRECTION.RIGHT_BOTTOM) {\n    return [parentBBox.br.x - bbox.width, parentBBox.br.y - bbox.height];\n  }\n\n  return [0, 0];\n}\n\n/**\n * get direction after coordinate transpose\n * @param direction\n * @param coordinate\n * @returns direction after transpose or not\n */\nfunction getTransposedDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  if (coordinate.isTransposed) {\n    switch (direction) {\n      case DIRECTION.BOTTOM:\n        return DIRECTION.LEFT;\n      case DIRECTION.LEFT:\n        return DIRECTION.BOTTOM;\n      case DIRECTION.RIGHT:\n        return DIRECTION.TOP;\n      case DIRECTION.TOP:\n        return DIRECTION.RIGHT;\n    }\n  }\n  return direction;\n}\n\nfunction reflectX(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.LEFT) {\n    return DIRECTION.RIGHT;\n  }\n\n  if (direct === DIRECTION.RIGHT) {\n    return DIRECTION.LEFT;\n  }\n\n  return direct;\n}\n\nfunction reflectY(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.TOP) {\n    return DIRECTION.BOTTOM;\n  }\n  if (direct === DIRECTION.BOTTOM) {\n    return DIRECTION.TOP;\n  }\n\n  return direct;\n}\n\n/**\n * get direction after coordinate.scale\n * @param direction\n * @param coordinate\n */\nfunction getScaleDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  const x = coordinate.matrix[0];\n  const y = coordinate.matrix[4];\n\n  let d = direction;\n  if (x < 0) {\n    d = reflectX(d);\n  }\n  if (y < 0) {\n    d = reflectY(d);\n  }\n  return d;\n}\n\n/**\n *\n * @param direction\n * @param coordinate\n */\nfunction getReflectDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n\n  if (coordinate.isReflect('x')) {\n    d = reflectX(d);\n  }\n  if (coordinate.isReflect('y')) {\n    d = reflectY(d);\n  }\n\n  return d;\n}\n\n/**\n * @ignore\n * get direction after coordinate translate\n * @param direction\n * @param coordinate\n */\nexport function getTranslateDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n  d = getTransposedDirection(d, coordinate);\n  d = getScaleDirection(d, coordinate);\n  d = getReflectDirection(d, coordinate);\n\n  return d;\n}\n", "import { deepMix, each, find, get, head, isBoolean, last } from '@antv/util';\nimport { COMPONENT_MAX_VIEW_PERCENTAGE, COMPONENT_TYPE, DIRECTION, LAYER } from '../../constant';\nimport { Attribute, CategoryLegend, ContinuousLegend, GroupComponent, IGroup, Scale, Tick } from '../../dependents';\nimport { ComponentOption, LegendCfg, LegendOption, LooseObject, AllLegendsOptions, Padding } from '../../interface';\nimport { DEFAULT_ANIMATE_CFG } from '../../animate';\nimport Geometry from '../../geometry/base';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { omit } from '../../util/helper';\nimport { getCustomLegendItems, getLegendItems, getLegendLayout, getLegendThemeCfg } from '../../util/legend';\nimport { getName } from '../../util/scale';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype DoEach = (geometry: Geometry, attr: Attribute, scale: Scale) => void;\n\n/**\n * \u4ECE\u914D\u7F6E\u4E2D\u83B7\u53D6\u5355\u4E2A\u5B57\u6BB5\u7684 legend \u914D\u7F6E\n * @param legends\n * @param field\n * @returns the option of one legend field\n */\nfunction getLegendOption(legends: AllLegendsOptions, field: string) {\n  if (isBoolean(legends)) {\n    return legends === false ? false : {};\n  }\n\n  return get(legends, [field], legends);\n}\n\nfunction getDirection(legendOption: any): DIRECTION {\n  return get(legendOption, 'position', DIRECTION.BOTTOM);\n}\n\n/**\n * @ignore\n * legend Controller\n */\nexport default class Legend extends Controller<AllLegendsOptions> {\n  /** the draw group of axis */\n  private container: IGroup;\n  /** \u7528\u4E8E\u591A\u4E2A legend \u5E03\u5C40\u7684 bbox */\n  private layoutBBox: BBox;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'legend';\n  }\n\n  public init() {}\n\n  /**\n   * render the legend component by legend options\n   */\n  public render() {\n    // \u548C update \u903B\u8F91\u4FDD\u6301\u4E00\u81F4\n    this.update();\n  }\n\n  /**\n   * layout legend\n   * \u8BA1\u7B97\u51FA legend \u7684 direction \u4F4D\u7F6E x, y\n   */\n  public layout() {\n    this.layoutBBox = this.view.viewBBox;\n\n    each(this.components, (co: ComponentOption) => {\n      const { component, direction } = co;\n      const layout = getLegendLayout(direction);\n      const maxWidthRatio = component.get('maxWidthRatio');\n      const maxHeightRatio = component.get('maxHeightRatio');\n\n      const maxSize = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n\n      const maxWidth = component.get('maxWidth');\n      const maxHeight = component.get('maxHeight');\n\n      // \u5148\u66F4\u65B0 maxSize\uFF0C\u66F4\u65B0 layoutBBox\uFF0C\u4EE5\u4FBF\u8BA1\u7B97\u6B63\u786E\u7684 x y\n      component.update({\n        maxWidth: Math.min(maxSize.maxWidth, maxWidth || 0),\n        maxHeight: Math.min(maxSize.maxHeight, maxHeight || 0),\n      });\n\n      const padding = component.get('padding') as Padding;\n\n      const bboxObject = component.getLayoutBBox(); // \u8FD9\u91CC\u53EA\u9700\u8981\u4ED6\u7684 width\u3001height \u4FE1\u606F\u505A\u4F4D\u7F6E\u8C03\u6574\n      const bbox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(padding);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, direction);\n      const [x2, y2] = directionToPosition(this.layoutBBox, bbox, direction);\n\n      let x = 0;\n      let y = 0;\n\n      // \u56E0\u4E3A legend x y \u8981\u548C coordinateBBox \u5BF9\u9F50\uFF0C\u6240\u4EE5\u8981\u505A\u4E00\u4E2A\u7B80\u5355\u7684\u5224\u65AD\n      if (direction.startsWith('top') || direction.startsWith('bottom')) {\n        x = x1;\n        y = y2;\n      } else {\n        x = x2;\n        y = y1;\n      }\n\n      // \u66F4\u65B0\u4F4D\u7F6E\n      component.setLocation({ x: x + padding[3], y: y + padding[0] });\n\n      this.layoutBBox = this.layoutBBox.cut(bbox, direction);\n    });\n  }\n\n  /**\n   * legend \u7684\u66F4\u65B0\u903B\u8F91\n   */\n  public update() {\n    this.option = this.view.getOptions().legends;\n\n    // \u5DF2\u7ECF\u5904\u7406\u8FC7\u7684 legend\n    const updated: Record<string, true> = {};\n\n    const eachLegend = (geometry: Geometry, attr: Attribute, scale: Scale) => {\n      const id = this.getId(scale.field);\n\n      const existCo = this.getComponentById(id);\n\n      // \u5B58\u5728\u5219 update\n      if (existCo) {\n        let cfg;\n        const legendOption = getLegendOption(this.option, scale.field);\n\n        // if the legend option is not false, means legend should be created.\n        if (legendOption !== false) {\n          if (get(legendOption, 'custom')) {\n            cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n          } else {\n            if (scale.isLinear) {\n              // linear field, create continuous legend\n              cfg = this.getContinuousCfg(geometry, attr, scale, legendOption);\n            } else if (scale.isCategory) {\n              // category field, create category legend\n              cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n            }\n          }\n        }\n\n        // \u5982\u679C cfg \u4E3A\u7A7A\uFF0C\u5219\u4E0D\u5728 updated \u6807\u8BB0\uFF0C\u90A3\u4E48\u4F1A\u5728\u540E\u9762\u903B\u8F91\u4E2D\u5220\u9664\n        if (cfg) {\n          // omit \u6389\u4E00\u4E9B\u5C5E\u6027\uFF0C\u6BD4\u5982 container \u7B49\n          omit(cfg, ['container']);\n\n          existCo.direction = getDirection(legendOption);\n\n          existCo.component.update(cfg);\n\n          // \u6807\u8BB0\u4E3A\u65B0\u7684\n          updated[id] = true;\n        }\n      } else {\n        // \u4E0D\u5B58\u5728\u5219 create\n        const legend = this.createFieldLegend(geometry, attr, scale);\n\n        if (legend) {\n          (legend.component as GroupComponent).init();\n          this.components.push(legend);\n\n          // \u6807\u8BB0\u4E3A\u65B0\u7684\n          updated[id] = true;\n        }\n      }\n    };\n\n    // \u5168\u5C40\u81EA\u5B9A\u4E49\u56FE\u4F8B\n    if (get(this.option, 'custom')) {\n      const id = 'global-custom';\n      const existCo = this.getComponentById(id);\n      if (existCo) {\n        const customCfg = this.getCategoryCfg(undefined, undefined, undefined, this.option, true);\n        omit(customCfg, ['container']);\n        existCo.component.update(customCfg);\n\n        updated[id] = true;\n      } else {\n        const component = this.createCustomLegend(undefined, undefined, undefined, this.option as LegendCfg);\n        if (component) {\n          component.init();\n\n          const layer = LAYER.FORE;\n          const direction = getDirection(this.option);\n\n          this.components.push({\n            id,\n            component,\n            layer,\n            direction,\n            type: COMPONENT_TYPE.LEGEND,\n            extra: undefined,\n          });\n\n          // \u6807\u8BB0\u4E3A\u66F4\u65B0\n          updated[id] = true;\n        }\n      }\n    } else {\n      // \u904D\u5386\u5904\u7406\u6BCF\u4E00\u4E2A\u521B\u5EFA\u903B\u8F91\n      this.loopLegends(eachLegend);\n    }\n\n    // \u5904\u7406\u5B8C\u6210\u4E4B\u540E\uFF0C\u9500\u6BC1\u5220\u9664\u7684\n    // \u4E0D\u5728\u5904\u7406\u4E2D\u7684\n    const components = [];\n    each(this.getComponents(), (co: ComponentOption) => {\n      if (updated[co.id]) {\n        components.push(co);\n      } else {\n        co.component.destroy();\n      }\n    });\n\n    // \u66F4\u65B0\u5F53\u524D\u5DF2\u6709\u7684 components\n    this.components = components;\n  }\n\n  public clear() {\n    super.clear();\n    this.container.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.container.remove(true);\n  }\n\n  /**\n   * \u9012\u5F52\u83B7\u53D6\u6240\u6709\u7684 Geometry\n   */\n  private getGeometries(view: View): Geometry[] {\n    let geometries = view.geometries;\n\n    each(view.views, (v: View) => {\n      geometries = geometries.concat(this.getGeometries(v));\n    });\n\n    return geometries;\n  }\n\n  /**\n   * \u904D\u5386 Geometry\uFF0C\u5904\u7406 legend \u903B\u8F91\n   * @param doEach \u6BCF\u4E2A loop \u4E2D\u7684\u5904\u7406\u65B9\u6CD5\n   */\n  private loopLegends(doEach: DoEach) {\n    const isRootView = this.view.getRootView() === this.view;\n    // \u975E\u6839 view\uFF0C\u4E0D\u5904\u7406 legend\n    if (!isRootView) {\n      return;\n    }\n\n    // \u9012\u5F52 view \u4E2D\u6240\u6709\u7684 Geometry\uFF0C\u8FDB\u884C\u521B\u5EFA legend\n    const geometries = this.getGeometries(this.view);\n\n    const looped: Record<string, true> = {}; // \u9632\u6B62\u4E00\u4E2A\u5B57\u6BB5\u521B\u5EFA\u4E24\u4E2A legend\n\n    each(geometries, (geometry: Geometry) => {\n      const attributes = geometry.getGroupAttributes();\n\n      each(attributes, (attr: Attribute) => {\n        const scale = attr.getScale(attr.type);\n        // \u5982\u679C\u5728\u89C6\u89C9\u901A\u9053\u4E0A\u6620\u5C04\u5E38\u91CF\u503C\uFF0C\u5982 size(2) shape('circle') \u4E0D\u521B\u5EFA legend\n        if (!scale || scale.type === 'identity' || looped[scale.field]) {\n          return;\n        }\n\n        doEach(geometry, attr, scale);\n\n        looped[scale.field] = true;\n      });\n    });\n  }\n\n  /**\n   * \u521B\u5EFA\u4E00\u4E2A legend\n   * @param geometry\n   * @param attr\n   * @param scale\n   */\n  private createFieldLegend(geometry: Geometry, attr: Attribute, scale: Scale): ComponentOption {\n    let component;\n\n    const legendOption = getLegendOption(this.option, scale.field);\n    const layer = LAYER.FORE;\n    const direction = getDirection(legendOption);\n\n    // if the legend option is not false, means legend should be created.\n    if (legendOption !== false) {\n      if (get(legendOption, 'custom')) {\n        component = this.createCustomLegend(geometry, attr, scale, legendOption);\n      } else {\n        if (scale.isLinear) {\n          // linear field, create continuous legend\n          component = this.createContinuousLegend(geometry, attr, scale, legendOption);\n        } else if (scale.isCategory) {\n          // category field, create category legend\n          component = this.createCategoryLegend(geometry, attr, scale, legendOption);\n        }\n      }\n    }\n\n    if (component) {\n      component.set('field', scale.field);\n\n      return {\n        id: this.getId(scale.field),\n        component,\n        layer,\n        direction,\n        type: COMPONENT_TYPE.LEGEND,\n        extra: { scale },\n      };\n    }\n  }\n\n  /**\n   * \u81EA\u5B9A\u4E49\u56FE\u4F8B\u4F7F\u7528 category \u56FE\u4F8B\u53BB\u6E32\u67D3\n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCustomLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: LegendCfg) {\n    // \u76F4\u63A5\u4F7F\u7528 \u5206\u7C7B\u56FE\u4F8B\u6E32\u67D3\n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \u521B\u5EFA\u8FDE\u7EED\u56FE\u4F8B\n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createContinuousLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getContinuousCfg(geometry, attr, scale, omit(legendOption, ['value']));\n    return new ContinuousLegend(cfg);\n  }\n\n  /**\n   * \u521B\u5EFA\u5206\u7C7B\u56FE\u4F8B\n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCategoryLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \u83B7\u5F97\u8FDE\u7EED\u56FE\u4F8B\u7684\u914D\u7F6E\n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private getContinuousCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const ticks = scale.getTicks();\n\n    const containMin = find(ticks, (tick: Tick) => tick.value === 0);\n    const containMax = find(ticks, (tick: Tick) => tick.value === 1);\n    const items = ticks.map((tick: Tick) => {\n      const { value, tickValue } = tick;\n      const attrValue = attr.mapping(scale.invert(value)).join('');\n\n      return {\n        value: tickValue,\n        attrValue,\n        color: attrValue,\n        scaleValue: value,\n      };\n    });\n\n    if (!containMin) {\n      items.push({\n        value: scale.min,\n        attrValue: attr.mapping(scale.invert(0)).join(''),\n        color: attr.mapping(scale.invert(0)).join(''),\n        scaleValue: 0,\n      });\n    }\n    if (!containMax) {\n      items.push({\n        value: scale.max,\n        attrValue: attr.mapping(scale.invert(1)).join(''),\n        color: attr.mapping(scale.invert(1)).join(''),\n        scaleValue: 1,\n      });\n    }\n\n    // \u6392\u5E8F\n    items.sort((a: any, b: any) => a.value - b.value);\n\n    // \u8DDF attr \u76F8\u5173\u7684\u914D\u7F6E\n    // size color \u533A\u522B\u7684\u914D\u7F6E\n    const attrLegendCfg: LooseObject = {\n      min: head(items).value,\n      max: last(items).value,\n      colors: [],\n      rail: {\n        type: attr.type,\n      },\n      track: {},\n    };\n\n    if (attr.type === 'size') {\n      attrLegendCfg.track = {\n        style: {\n          // size \u7684\u9009\u4E2D\u524D\u666F\u8272\uFF0C\u5BF9\u4E8E color\uFF0C\u5219\u76F4\u63A5\u4F7F\u7528 color \u6807\u8BC6\n          // @ts-ignore\n          fill: attr.type === 'size' ? this.view.getTheme().defaultColor : undefined,\n        },\n      };\n    }\n\n    if (attr.type === 'color') {\n      attrLegendCfg.colors = items.map((item) => item.attrValue);\n    }\n\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = getDirection(legendOption);\n\n    const layout = getLegendLayout(direction);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: getName(scale),\n        },\n        title\n      );\n    }\n\n    // \u57FA\u7840\u914D\u7F6E\uFF0C\u4ECE\u5F53\u524D\u6570\u636E\u4E2D\u8BFB\u5230\u7684\u914D\u7F6E\n    attrLegendCfg.container = container;\n    attrLegendCfg.layout = layout;\n    attrLegendCfg.title = title;\n    attrLegendCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    // @ts-ignore\n    return this.mergeLegendCfg(attrLegendCfg, legendOption, 'continuous');\n  }\n\n  /**\n   * \u83B7\u53D6\u5206\u7C7B\u56FE\u4F8B\u7684\u914D\u7F6E\u9879\n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param custom\n   * @param legendOption\n   */\n  private getCategoryCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any, custom?: boolean) {\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = get(legendOption, 'position', DIRECTION.BOTTOM);\n\n    const legendTheme = getLegendThemeCfg(this.view.getTheme(), direction);\n\n    // the default marker style\n    const themeMarker = get(legendTheme, ['marker']);\n    const userMarker = get(legendOption, 'marker');\n    const layout = getLegendLayout(direction);\n    const themePageNavigator = get(legendTheme, ['pageNavigator']);\n    const userPageNavigator = get(legendOption, 'pageNavigator');\n\n    const items = custom\n      ? getCustomLegendItems(themeMarker, userMarker, legendOption.items)\n      : getLegendItems(this.view, geometry, attr, themeMarker, userMarker);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: scale ? getName(scale) : '',\n        },\n        title\n      );\n    }\n    const maxWidthRatio = get(legendOption, 'maxWidthRatio');\n    const maxHeightRatio = get(legendOption, 'maxHeightRatio');\n\n    const baseCfg: LooseObject = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n    baseCfg.container = container;\n    baseCfg.layout = layout;\n    baseCfg.items = items;\n    baseCfg.title = title;\n    baseCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    baseCfg.pageNavigator = deepMix({}, themePageNavigator, userPageNavigator);\n\n    const categoryCfg = this.mergeLegendCfg(baseCfg, legendOption, direction);\n    if (categoryCfg.reversed) {\n      // \u56FE\u4F8B\u9879\u9700\u8981\u9006\u5E8F\n      categoryCfg.items.reverse();\n    }\n\n    const maxItemWidth = get(categoryCfg, 'maxItemWidth');\n    if (maxItemWidth && maxItemWidth <= 1) {\n      // \u8F6C\u6362\u6210\u50CF\u7D20\u503C\n      categoryCfg.maxItemWidth = this.view.viewBBox.width * maxItemWidth;\n    }\n\n    return categoryCfg;\n  }\n\n  /**\n   * get legend config, use option > suggestion > theme\n   * @param baseCfg\n   * @param legendOption\n   * @param direction\n   */\n  private mergeLegendCfg(baseCfg: object, legendOption: LegendOption, direction: DIRECTION) {\n    const position = direction.split('-')[0];\n    const themeObject = getLegendThemeCfg(this.view.getTheme(), position);\n\n    return deepMix({}, themeObject, baseCfg, legendOption);\n  }\n\n  /**\n   * \u751F\u6210 id\n   * @param key\n   */\n  private getId(key: string): string {\n    return `${this.name}-${key}`;\n  }\n\n  /**\n   * \u6839\u636E id \u6765\u83B7\u53D6\u7EC4\u4EF6\n   * @param id\n   */\n  private getComponentById(id: string): ComponentOption {\n    return find(this.components, (co) => co.id === id);\n  }\n\n  private getCategoryLegendSizeCfg(\n    layout: 'horizontal' | 'vertical',\n    maxWidthRatio = COMPONENT_MAX_VIEW_PERCENTAGE,\n    maxHeightRatio = COMPONENT_MAX_VIEW_PERCENTAGE\n  ) {\n    const { width: vw, height: vh } = this.view.viewBBox;\n    // \u76EE\u524D legend \u7684\u5E03\u5C40\u662F\u4EE5 viewBBox \u4E3A\u53C2\u7167\n    // const { width: cw, height: ch } = this.view.coordinateBBox;\n    return layout === 'vertical'\n      ? {\n          maxWidth: vw * maxWidthRatio,\n          maxHeight: vh,\n        }\n      : {\n          maxWidth: vw,\n          maxHeight: vh * maxHeightRatio,\n        };\n  }\n}\n", "import { deepMix, get, isObject, size, clamp, isNil, noop, throttle, isEmpty, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { IGroup, Slider as SliderComponent } from '../../dependents';\nimport { ComponentOption, Datum, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { isBetween } from '../../util/helper';\nimport { Writeable } from '../../util/types';\nimport View from '../view';\nimport { Controller } from './base';\nimport { SliderOption, SliderCfg } from '../../interface';\n\n/**\n * @ignore\n * slider Controller\n */\nexport default class Slider extends Controller<SliderOption> {\n  private slider: ComponentOption;\n  private container: IGroup;\n\n  private width: number;\n  private start: number;\n  private end: number;\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n\n    this.width = 0;\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'slider';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  /**\n   * \u521D\u59CB\u5316\n   */\n  public init() {}\n\n  /**\n   * \u6E32\u67D3\n   */\n  public render() {\n    this.option = this.view.getOptions().slider;\n    const { start, end } = this.getSliderCfg();\n    if (isNil(this.start)) {\n      this.start = start;\n      this.end = end;\n    }\n\n    const { data: viewData } = this.view.getOptions();\n    if (this.option && !isEmpty(viewData)) {\n      if (this.slider) {\n        // exist, update\n        this.slider = this.updateSlider();\n      } else {\n        // not exist, create\n        this.slider = this.createSlider();\n        // \u76D1\u542C\u4E8B\u4EF6\uFF0C\u7ED1\u5B9A\u4EA4\u4E92\n        this.slider.component.on('sliderchange', this.onChangeFn);\n      }\n    } else {\n      if (this.slider) {\n        // exist, destroy\n        this.slider.component.destroy();\n        this.slider = undefined;\n      } else {\n        // do nothing\n      }\n    }\n  }\n\n  /**\n   * \u5E03\u5C40\n   */\n  public layout() {\n    if (this.option && !this.width) {\n      this.measureSlider();\n      setTimeout(() => {\n        // \u521D\u59CB\u72B6\u6001\u4E0B\u7684 view \u6570\u636E\u8FC7\u6EE4\n        if (!this.view.destroyed) {\n          this.changeViewData(this.start, this.end);\n        }\n      }, 0);\n    }\n    if (this.slider) {\n      const width = this.view.coordinateBBox.width;\n      // \u83B7\u53D6\u7EC4\u4EF6\u7684 layout bbox\n      const padding: Padding = this.slider.component.get('padding') as Padding;\n      const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n      const bboxObject = this.slider.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n      const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n\n      // \u9ED8\u8BA4\u653E\u5728 bottom\n      this.slider.component.update({\n        ...this.getSliderCfg(),\n        x: x2 + paddingLeft,\n        y: y1 + paddingTop,\n        width: this.width,\n        start: this.start,\n        end: this.end,\n        minText,\n        maxText,\n      });\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, DIRECTION.BOTTOM);\n    }\n  }\n\n  /**\n   * \u66F4\u65B0\n   */\n  public update() {\n    // \u903B\u8F91\u548C render \u4FDD\u6301\u4E00\u81F4\n    this.render();\n  }\n\n  /**\n   * \u521B\u5EFA slider \u7EC4\u4EF6\n   */\n  private createSlider(): ComponentOption {\n    const cfg: any = this.getSliderCfg();\n    // \u6DFB\u52A0 slider \u7EC4\u4EF6\n    const component = new SliderComponent({\n      container: this.container,\n      ...cfg,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: DIRECTION.BOTTOM,\n      type: COMPONENT_TYPE.SLIDER,\n    };\n  }\n\n  /**\n   * \u66F4\u65B0\u914D\u7F6E\n   */\n  private updateSlider() {\n    let cfg = this.getSliderCfg();\n    if (this.width) {\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n      cfg = { ...cfg, width: this.width, start: this.start, end: this.end, minText, maxText };\n    }\n\n    this.slider.component.update(cfg);\n\n    return this.slider;\n  }\n\n  /**\n   * \u8FDB\u884C\u6D4B\u91CF\u64CD\u4F5C\n   */\n  private measureSlider() {\n    const { width } = this.getSliderCfg();\n\n    this.width = width;\n  }\n\n  /**\n   * \u6E05\u9664\u6D4B\u91CF\n   */\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  /**\n   * \u751F\u6210 slider \u914D\u7F6E\n   */\n  private getSliderCfg() {\n    let cfg: Writeable<SliderCfg> & { x: number; y: number; width: number; minText: string; maxText: string } = {\n      height: 16,\n      start: 0,\n      end: 1,\n      minText: '',\n      maxText: '',\n      x: 0,\n      y: 0,\n      width: this.view.coordinateBBox.width,\n    };\n    if (isObject(this.option)) {\n      // \u7528\u6237\u914D\u7F6E\u7684\u6570\u636E\uFF0C\u4F18\u5148\u7EA7\u66F4\u9AD8\n      const trendCfg = {\n        data: this.getData(),\n        ...get(this.option, 'trendCfg', {}),\n      };\n\n      // \u56E0\u4E3A\u6709\u6837\u5F0F\uFF0C\u6240\u4EE5\u6DF1\u5C42\u8986\u76D6\n      cfg = deepMix({}, cfg, this.getThemeOptions(), this.option);\n\n      // trendCfg \u56E0\u4E3A\u6709\u6570\u636E\u6570\u7EC4\uFF0C\u6240\u4EE5\u4F7F\u7528\u6D45\u66FF\u6362\n      cfg = { ...cfg, trendCfg };\n    }\n\n    cfg.start = clamp(Math.min(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n    cfg.end = clamp(Math.max(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n\n    return cfg;\n  }\n\n  /**\n   * \u4ECE view \u4E2D\u83B7\u53D6\u6570\u636E\uFF0C\u7F29\u7565\u8F74\u4F7F\u7528\u5168\u91CF\u7684\u6570\u636E\n   */\n  private getData(): number[] {\n    const data = this.view.getOptions().data;\n    const [yScale] = this.view.getYScales();\n    const groupScales = this.view.getGroupScales();\n    if (groupScales.length) {\n      const { field, ticks } = groupScales[0];\n      return data.reduce((pre, cur) => {\n        if (cur[field] === ticks[0]) {\n          pre.push(cur[yScale.field] as number);\n        }\n        return pre;\n      }, []) as number[];\n    }\n\n    return data.map((datum) => datum[yScale.field] || 0);\n  }\n\n  /**\n   * \u83B7\u53D6 slider \u7684\u4E3B\u9898\u914D\u7F6E\n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'slider', 'common'], {});\n  }\n\n  /**\n   * \u6ED1\u5757\u6ED1\u52A8\u7684\u65F6\u5019\u51FA\u53D1\n   * @param v\n   */\n  private onValueChange = (v: any) => {\n    const [min, max] = v;\n\n    this.start = min;\n    this.end = max;\n\n    this.changeViewData(min, max);\n  };\n\n  /**\n   * \u6839\u636E start/end \u548C\u5F53\u524D\u6570\u636E\u8BA1\u7B97\u51FA\u5F53\u524D\u7684 minText/maxText\n   * @param min\n   * @param max\n   */\n  private getMinMaxText(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const isHorizontal = true;\n    let values = valuesOfKey(data, xScale.field);\n\n    // \u5982\u679C\u662F xScale \u6570\u503C\u7C7B\u578B\uFF0C\u5219\u8FDB\u884C\u6392\u5E8F\n    if (xScale.isLinear) {\n      values = values.sort();\n    }\n\n    const xValues = isHorizontal ? values : values.reverse();\n    const dataSize = size(data);\n\n    if (!xScale || !dataSize) {\n      return {}; // fix: \u9700\u8981\u517C\u5BB9\uFF0C\u5426\u5219\u8C03\u7528\u65B9\u76F4\u63A5\u53D6\u503C\u4F1A\u62A5\u9519\n    }\n\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.floor(min * (xTickCount - 1));\n    const maxIndex = Math.floor(max * (xTickCount - 1));\n\n    let minText = get(xValues, [minIndex]);\n    let maxText = get(xValues, [maxIndex]);\n\n    const formatter = this.getSliderCfg().formatter as SliderCfg['formatter'];\n    if (formatter) {\n      minText = formatter(minText, data[minIndex], minIndex);\n      maxText = formatter(maxText, data[maxIndex], maxIndex);\n    }\n\n    return {\n      minText,\n      maxText,\n    };\n  }\n\n  /**\n   * \u66F4\u65B0 view \u8FC7\u6EE4\u6570\u636E\n   * @param min\n   * @param max\n   */\n  private changeViewData(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const dataSize = size(data);\n    if (!xScale || !dataSize) {\n      return;\n    }\n    const isHorizontal = true;\n    const values = valuesOfKey(data, xScale.field);\n\n    // \u5982\u679C\u662F xScale \u6570\u503C\u7C7B\u578B\uFF0C\u5219\u8FDB\u884C\u6392\u5E8F\n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.floor(min * (xTickCount - 1));\n    const maxIndex = Math.floor(max * (xTickCount - 1));\n\n    // \u589E\u52A0 x \u8F74\u7684\u8FC7\u6EE4\u5668\n    this.view.filter(xScale.field, (value: any, datum: Datum) => {\n      const idx: number = xValues.indexOf(value);\n      return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n    });\n    this.view.render(true);\n  }\n\n  /**\n   * \u8986\u5199\u7236\u7C7B\u65B9\u6CD5\n   */\n  public getComponents() {\n    return this.slider ? [this.slider] : [];\n  }\n\n  /**\n   * \u8986\u76D6\u7236\u7C7B\n   */\n  public clear() {\n    if (this.slider) {\n      this.slider.component.destroy();\n      this.slider = undefined;\n    }\n    this.width = 0;\n    this.start = undefined;\n    this.end = undefined;\n  }\n}\n", "import { Controller } from './base';\nimport { IGroup, Scrollbar as ScrollbarComponent, Scale } from '../../dependents';\nimport { ScrollbarOption, ComponentOption, ScrollbarCfg, Data, ScaleOption, Padding } from '../../interface';\nimport View from '../view';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { isObject, clamp, size, throttle, noop, get, valuesOfKey, deepMix } from '@antv/util';\nimport { isBetween } from '../../util/helper';\n\nconst DEFAULT_PADDING: number = 0;\nconst DEFAULT_SIZE: number = 8;\nconst DEFAULT_CATEGORY_SIZE: number = 32;\nconst MIN_THUMB_LENGTH: number = 20;\n\nexport default class Scrollbar extends Controller<ScrollbarOption> {\n  private scrollbar: ComponentOption;\n  private container: IGroup;\n\n  private trackLen: number;\n  private thumbLen: number;\n  private cnt: number;\n  private step: number;\n  private ratio: number;\n  private data: Data;\n  private xScaleCfg: {\n    field: string;\n    values: string[];\n  };\n  private yScalesCfg: Scale[];\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'scrollbar';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  public init() { }\n\n  /**\n   * \u6E32\u67D3\n   */\n  public render() {\n    this.option = this.view.getOptions().scrollbar;\n\n    if (this.option) {\n      if (this.scrollbar) {\n        // exist, update\n        this.scrollbar = this.updateScrollbar();\n      } else {\n        // not exist, create\n        this.scrollbar = this.createScrollbar();\n        this.scrollbar.component.on('scrollchange', this.onChangeFn);\n      }\n    } else {\n      if (this.scrollbar) {\n        // exist, destroy\n        this.scrollbar.component.destroy();\n        this.scrollbar = undefined;\n      }\n    }\n  }\n\n  /**\n   * \u5E03\u5C40\n   */\n  public layout() {\n    if (this.option && !this.trackLen) {\n      this.measureScrollbar();\n      setTimeout(() => {\n        if (!this.view.destroyed) {\n          this.changeViewData(this.getScrollRange(), true);\n        }\n      });\n    }\n    if (this.scrollbar) {\n      const width = this.view.coordinateBBox.width;\n      const padding: Padding = this.scrollbar.component.get('padding') as Padding;\n      const bboxObject = this.scrollbar.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const cfg = this.getScrollbarComponentCfg();\n\n      let x: number;\n      let y: number;\n\n      if (cfg.isHorizontal) {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n        const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n        x = x2;\n        y = y1;\n      } else {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        const [x2, y2] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        x = x2;\n        y = y1;\n      }\n\n      x += padding[3];\n      y += padding[0];\n\n      // \u9ED8\u8BA4\u653E\u5728 bottom\n      if (this.trackLen) {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n          trackLen: this.trackLen,\n          thumbLen: this.thumbLen,\n          thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n        });\n      } else {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n        });\n      }\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, cfg.isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT);\n    }\n  }\n\n  /**\n   * \u66F4\u65B0\n   */\n  public update() {\n    // \u903B\u8F91\u548C render \u4FDD\u6301\u4E00\u81F4\n    this.render();\n  }\n\n  public getComponents() {\n    return this.scrollbar ? [this.scrollbar] : [];\n  }\n\n  public clear() {\n    if (this.scrollbar) {\n      this.scrollbar.component.destroy();\n      this.scrollbar = undefined;\n    }\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n    this.cnt = 0;\n    this.step = 0;\n    this.data = undefined;\n    this.xScaleCfg = undefined;\n    this.yScalesCfg = [];\n  }\n\n  /** \u8BBE\u7F6E\u6EDA\u52A8\u6761\u4F4D\u7F6E  */\n  public setValue(ratio: number) {\n    this.onValueChange({ ratio });\n  }\n\n  /** \u83B7\u5F97\u6EDA\u52A8\u6761\u4F4D\u7F6E  */\n  public getValue() {\n    return this.ratio;\n  }\n\n  /**\n   * \u83B7\u53D6 scrollbar \u7684\u4E3B\u9898\u914D\u7F6E\n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'scrollbar', 'common'], {});\n  }\n\n  /**\n   * \u83B7\u53D6 scrollbar \u7EC4\u4EF6\u7684\u4E3B\u9898\u6837\u5F0F\n   */\n  private getScrollbarTheme(style?: ScrollbarCfg['style']) {\n    const theme = get(this.view.getTheme(), ['components', 'scrollbar']);\n    const { thumbHighlightColor, ...restStyles } = style || {};\n    return {\n      default: deepMix({}, get(theme, ['default', 'style'], {}), restStyles),\n      hover: deepMix({}, get(theme, ['hover', 'style'], {}), { thumbColor: thumbHighlightColor }),\n    };\n  }\n\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  private onValueChange = ({ ratio }: { ratio: number }) => {\n    const { animate } = this.getValidScrollbarCfg();\n    this.ratio = clamp(ratio, 0, 1);\n    const originalAnimate = this.view.getOptions().animate;\n    if (!animate) {\n      this.view.animate(false);\n    }\n    this.changeViewData(this.getScrollRange(), true);\n    this.view.animate(originalAnimate);\n  };\n\n  private measureScrollbar(): void {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getYScales().slice();\n    this.data = this.getScrollbarData();\n    this.step = this.getStep();\n    this.cnt = this.getCnt();\n    const { trackLen, thumbLen } = this.getScrollbarComponentCfg();\n    this.trackLen = trackLen;\n    this.thumbLen = thumbLen;\n    this.xScaleCfg = {\n      field: xScale.field,\n      values: xScale.values || [],\n    };\n    this.yScalesCfg = yScales;\n  }\n\n  private getScrollRange(): [number, number] {\n    const startIdx: number = Math.floor((this.cnt - this.step) * clamp(this.ratio, 0, 1));\n    const endIdx: number = Math.min(startIdx + this.step - 1, this.cnt - 1);\n    return [startIdx, endIdx];\n  }\n\n  private changeViewData([startIdx, endIdx]: [number, number], render?: boolean): void {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const values = valuesOfKey(this.data, this.xScaleCfg.field);\n\n    // \u5982\u679C\u662F xScale \u6570\u503C\u7C7B\u578B\uFF0C\u5219\u8FDB\u884C\u6392\u5E8F\n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    this.yScalesCfg.forEach((cfg) => {\n      this.view.scale(cfg.field, {\n        formatter: cfg.formatter,\n        type: cfg.type as ScaleOption['type'],\n        min: cfg.min,\n        max: cfg.max,\n        tickMethod: cfg.tickMethod\n      });\n    });\n    this.view.filter(this.xScaleCfg.field, (val) => {\n      const idx = xValues.indexOf(val);\n      return idx > -1 ? isBetween(idx, startIdx, endIdx) : true;\n    });\n    this.view.render(true);\n  }\n\n  private createScrollbar(): ComponentOption {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const component = new ScrollbarComponent({\n      container: this.container,\n      ...this.getScrollbarComponentCfg(),\n      x: 0,\n      y: 0,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT,\n      type: COMPONENT_TYPE.SCROLLBAR,\n    };\n  }\n\n  private updateScrollbar(): ComponentOption {\n    const config = this.getScrollbarComponentCfg();\n    const realConfig = this.trackLen\n      ? {\n        ...config,\n        trackLen: this.trackLen,\n        thumbLen: this.thumbLen,\n        thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n      }\n      : { ...config };\n    this.scrollbar.component.update(realConfig);\n\n    return this.scrollbar;\n  }\n\n  private getStep() {\n    if (this.step) {\n      return this.step;\n    }\n    const { coordinateBBox } = this.view;\n    const { type, categorySize } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n\n    return Math.floor((isHorizontal ? coordinateBBox.width : coordinateBBox.height) / categorySize);\n  }\n\n  private getCnt() {\n    if (this.cnt) {\n      return this.cnt;\n    }\n    const xScale = this.view.getXScale();\n    const data = this.getScrollbarData();\n    const values = valuesOfKey(data, xScale.field);\n    return size(values);\n  }\n\n  private getScrollbarComponentCfg() {\n    const { coordinateBBox, viewBBox } = this.view;\n    const { type, padding, width, height, style } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n    const position = isHorizontal\n      ? {\n        x: coordinateBBox.minX + paddingLeft,\n        y: viewBBox.maxY - height - paddingBottom,\n      }\n      : {\n        x: viewBBox.maxX - width - paddingRight,\n        y: coordinateBBox.minY + paddingTop,\n      };\n    const step = this.getStep();\n    const cnt = this.getCnt();\n    const trackLen = isHorizontal\n      ? coordinateBBox.width - paddingLeft - paddingRight\n      : coordinateBBox.height - paddingTop - paddingBottom;\n    const thumbLen = Math.max(trackLen * clamp(step / cnt, 0, 1), MIN_THUMB_LENGTH);\n\n    return {\n      ...this.getThemeOptions(),\n      x: position.x,\n      y: position.y,\n      size: isHorizontal ? height : width,\n      isHorizontal,\n      trackLen,\n      thumbLen,\n      thumbOffset: 0,\n      theme: this.getScrollbarTheme(style),\n    };\n  }\n\n  /**\n   * \u586B\u5145\u4E00\u4E9B\u9ED8\u8BA4\u7684\u914D\u7F6E\u9879\u76EE\n   */\n  private getValidScrollbarCfg(): Required<ScrollbarCfg> {\n    let cfg: Required<ScrollbarCfg> = {\n      type: 'horizontal',\n      categorySize: DEFAULT_CATEGORY_SIZE,\n      width: DEFAULT_SIZE,\n      height: DEFAULT_SIZE,\n      padding: [0, 0, 0, 0],\n      animate: true,\n      style: {},\n    };\n    if (isObject(this.option)) {\n      cfg = { ...cfg, ...this.option };\n    }\n    if (!isObject(this.option) || !this.option.padding) {\n      cfg.padding =\n        cfg.type === 'horizontal' ? [DEFAULT_PADDING, 0, DEFAULT_PADDING, 0] : [0, DEFAULT_PADDING, 0, DEFAULT_PADDING];\n    }\n\n    return cfg;\n  }\n\n  /**\n   * \u83B7\u53D6\u6570\u636E\n   */\n  private getScrollbarData(): Data {\n    const coordinate = this.view.getCoordinate();\n    const cfg = this.getValidScrollbarCfg();\n    let data = this.view.getOptions().data || [];\n    // \u7EB5\u5411\u505A\u4E86 y \u8F74\u955C\u50CF\u4E4B\u540E\uFF0C\u6570\u636E\u4E5F\u9700\u8981\u955C\u50CF\u53CD\u8F6C\n    if (coordinate.isReflect('y') && cfg.type === 'vertical') {\n      data = [...data].reverse();\n    }\n\n    return data;\n  }\n}\n", "import { each, head, isEqual, last, get, flatten, isArray, uniq, isNil } from '@antv/util';\nimport { View } from 'src/chart';\nimport { findItemsFromViewRecurisive } from '../../util/tooltip';\nimport { IShape, Point, ShapeAttrs } from '../../dependents';\nimport Element from '../../geometry/element';\nimport { LooseObject, TooltipCfg } from '../../interface';\nimport { getAngle, getSectorPath } from '../../util/graphics';\nimport Action from './base';\n\nconst DEFAULT_REGION_PATH_STYLE = {\n  fill: '#CCD6EC',\n  opacity: 0.3,\n};\n\nexport function getItemsOfView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let items = findItemsFromViewRecurisive(view, point, tooltipCfg);\n  if (items.length) {\n    // \u4E09\u5C42\n    items = flatten(items);\n    for (const itemArr of items) {\n      for (const item of itemArr) {\n        const { x, y } = item.mappingData;\n        item.x = isArray(x) ? x[x.length - 1] : x;\n        item.y = isArray(y) ? y[y.length - 1] : y;\n      }\n    }\n\n    const { shared } = tooltipCfg;\n    // shared: false \u4EE3\u8868\u53EA\u663E\u793A\u5F53\u524D\u62FE\u53D6\u5230\u7684 shape \u7684\u6570\u636E\uFF0C\u4F46\u662F\u4E00\u4E2A view \u4F1A\u6709\u591A\u4E2A Geometry\uFF0C\u6240\u4EE5\u6709\u53EF\u80FD\u4F1A\u62FE\u53D6\u5230\u591A\u4E2A shape\n    if (shared === false && items.length > 1) {\n      let snapItem = items[0];\n      let min = Math.abs(point.y - snapItem[0].y);\n      for (const aItem of items) {\n        const yDistance = Math.abs(point.y - aItem[0].y);\n        if (yDistance <= min) {\n          snapItem = aItem;\n          min = yDistance;\n        }\n      }\n      items = [snapItem];\n    }\n\n    return uniq(flatten(items));\n  }\n\n  return [];\n}\n\n/**\n * \u80CC\u666F\u6846\u7684 Action. \u53EA\u4F5C\u7528\u4E8E interval \u548C schema geometry\n * @ignore\n */\nclass ActiveRegion extends Action {\n  private items: any[];\n  private regionPath: IShape;\n  /**\n   * \u663E\u793A\n   * @param {ShapeAttrs} style region-path \u7684\u6837\u5F0F\n   * @param {number} appendRatio \u9002\u7528\u4E8E\u7B1B\u5361\u5C14\u5750\u6807\u7CFB. \u5BF9\u4E8E x \u8F74\u975E linear \u7C7B\u578B: \u9ED8\u8BA4\uFF1A0.25, x \u8F74 linear \u7C7B\u578B: \u9ED8\u8BA4 0\n   * @param {number} appendWidth  \u9002\u7528\u4E8E\u7B1B\u5361\u5C14\u5750\u6807\u7CFB. \u50CF\u7D20\u7EA7\u522B\uFF0C\u4F18\u5148\u7EA7 > appendRatio\n   */\n  public show(args?: { style: ShapeAttrs; appendRatio?: number; appendWidth?: number }) {\n    const view = this.context.view;\n    const ev = this.context.event;\n\n    const tooltipCfg = view.getController('tooltip').getTooltipCfg();\n    const tooltipItems = getItemsOfView(\n      view,\n      {\n        x: ev.x,\n        y: ev.y,\n      },\n      tooltipCfg\n    );\n\n    if (isEqual(tooltipItems, this.items)) {\n      // \u5982\u679C\u62FE\u53D6\u6570\u636E\u540C\u4E0A\u6B21\u76F8\u540C\uFF0C\u5219\u4E0D\u91CD\u590D\u7ED8\u5236\n      return;\n    }\n    this.items = tooltipItems;\n    if (tooltipItems.length) {\n      const xField = view.getXScale().field;\n      const xValue = tooltipItems[0].data[xField];\n      // \u6839\u636E x \u5BF9\u5E94\u7684\u503C\u67E5\u627E elements\n      let elements: Element[] = [];\n      const geometries = view.geometries;\n      each(geometries, (geometry) => {\n        if (geometry.type === 'interval' || geometry.type === 'schema') {\n          const result = geometry.getElementsBy((ele) => {\n            const eleData = ele.getData();\n            return eleData[xField] === xValue;\n          });\n\n          elements = elements.concat(result);\n        }\n      });\n\n      // \u6839\u636E bbox \u8BA1\u7B97\u80CC\u666F\u6846\u7684\u9762\u79EF\u533A\u57DF\n      if (elements.length) {\n        const coordinate = view.getCoordinate();\n\n        let firstBBox = elements[0].shape.getCanvasBBox();\n        let lastBBox = elements[0].shape.getCanvasBBox();\n        const groupBBox: LooseObject = firstBBox;\n\n        each(elements, (ele: Element) => {\n          const bbox = ele.shape.getCanvasBBox();\n          if (coordinate.isTransposed) {\n            if (bbox.minY < firstBBox.minY) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxY > lastBBox.maxY) {\n              lastBBox = bbox;\n            }\n          } else {\n            if (bbox.minX < firstBBox.minX) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxX > lastBBox.maxX) {\n              lastBBox = bbox;\n            }\n          }\n\n          groupBBox.x = Math.min(bbox.minX, groupBBox.minX);\n          groupBBox.y = Math.min(bbox.minY, groupBBox.minY);\n          groupBBox.width = Math.max(bbox.maxX, groupBBox.maxX) - groupBBox.x;\n          groupBBox.height = Math.max(bbox.maxY, groupBBox.maxY) - groupBBox.y;\n        });\n\n        const { backgroundGroup, coordinateBBox } = view;\n        let path;\n        if (coordinate.isRect) {\n          const xScale = view.getXScale();\n\n          let { appendRatio, appendWidth } = args || {};\n          if (isNil(appendWidth)) {\n            appendRatio = isNil(appendRatio) ? (xScale.isLinear ? 0 : 0.25) : appendRatio; // \u5982\u679C x \u8F74\u662F\u6570\u503C\u7C7B\u578B\uFF0C\u5982\u76F4\u65B9\u56FE\uFF0C\u9ED8\u8BA4\u4E0D\u9700\u8981\u52A0\u989D\u5916\u7684\u5BBD\u5EA6\n            appendWidth = coordinate.isTransposed ? appendRatio * lastBBox.height : appendRatio * firstBBox.width;\n          }\n\n          let minX: number;\n          let minY: number;\n          let width: number;\n          let height: number;\n          if (coordinate.isTransposed) {\n            minX = coordinateBBox.minX;\n            minY = Math.min(lastBBox.minY, firstBBox.minY) - appendWidth;\n            width = coordinateBBox.width;\n            height = groupBBox.height + appendWidth * 2;\n          } else {\n            minX = Math.min(firstBBox.minX, lastBBox.minX) - appendWidth;\n            // \u76F4\u89D2\u5750\u6807\u7CFB \u975E\u8F6C\u7F6E\uFF1A\u6700\u5C0F\u503C\u76F4\u63A5\u53D6 \u5750\u6807\u7CFB minY\n            minY = coordinateBBox.minY;\n            width = groupBBox.width + appendWidth * 2;\n            height = coordinateBBox.height;\n          }\n\n          path = [\n            ['M', minX, minY],\n            ['L', minX + width, minY],\n            ['L', minX + width, minY + height],\n            ['L', minX, minY + height],\n            ['Z'],\n          ];\n        } else {\n          const firstElement = head(elements);\n          const lastElement = last(elements);\n          const { startAngle } = getAngle(firstElement.getModel(), coordinate);\n          const { endAngle } = getAngle(lastElement.getModel(), coordinate);\n          const center = coordinate.getCenter();\n          const radius = coordinate.getRadius();\n          const innterRadius = coordinate.innerRadius * radius;\n          path = getSectorPath(center.x, center.y, radius, startAngle, endAngle, innterRadius);\n        }\n\n        if (this.regionPath) {\n          this.regionPath.attr('path', path);\n          this.regionPath.show();\n        } else {\n          const style = get(args, 'style', DEFAULT_REGION_PATH_STYLE);\n          this.regionPath = backgroundGroup.addShape({\n            type: 'path',\n            name: 'active-region',\n            capture: false,\n            attrs: {\n              ...style,\n              path,\n            },\n          });\n        }\n      }\n    }\n  }\n  /**\n   * \u9690\u85CF\n   */\n  public hide() {\n    if (this.regionPath) {\n      this.regionPath.hide();\n    }\n    // this.regionPath = null;\n    this.items = null;\n  }\n  /**\n   * \u9500\u6BC1\n   */\n  public destroy() {\n    this.hide();\n    if (this.regionPath) {\n      this.regionPath.remove(true);\n    }\n    super.destroy();\n  }\n}\n\nexport default ActiveRegion;\n", "import { isEqual, get } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport Tooltip from '../../../../chart/controller/tooltip';\n\n/**\n * Tooltip \u5C55\u793A\u9690\u85CF\u7684 Action\n * @ignore\n */\nclass TooltipAction extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n\n  /**\n   * \u663E\u793A Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const view = context.view;\n    const isTooltipLocked = view.isTooltipLocked();\n    if (isTooltipLocked) {\n      // \u9501\u5B9A\u65F6\u4E0D\u79FB\u52A8 tooltip\n      return;\n    }\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    // \u5728 showDelay \u6BEB\u79D2\uFF08\u9ED8\u8BA4 16ms\uFF09\u5185\u5230 tooltip \u4E0A\u53EF\u4EE5\u5B9E\u73B0 enterable\uFF08\u8C03\u53C2\u5DE5\u7A0B\u5E08\uFF09\n    const showDelay = get(context.view.getOptions(), 'tooltip.showDelay', 16);\n    if (timeStamp - lastTimeStamp > showDelay) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(view, curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   * \u9690\u85CF Tooltip\u3002\n   * @returns\n   */\n  public hide() {\n    const view = this.context.view;\n\n    const tooltip = view.getController('tooltip');\n    const { clientX, clientY } = this.context.event;\n\n    // \u5982\u679C\u5DF2\u7ECF enterable + \u5DF2\u7ECF\u5728 tooltip \u4E0A\uFF0C\u90A3\u4E48\u4E0D\u9690\u85CF\n    if (tooltip.isCursorEntered({ x: clientX, y: clientY })) {\n      return;\n    }\n\n    // \u9501\u5B9A tooltip \u65F6\u4E0D\u9690\u85CF\n    if (view.isTooltipLocked()) {\n      return;\n    }\n    this.hideTooltip(view);\n    this.location = null;\n  }\n\n  protected showTooltip(view: View, point: Point) {\n    // \u76F8\u540C\u4F4D\u7F6E\u4E0D\u91CD\u590D\u5C55\u793A\n    view.showTooltip(point);\n  }\n\n  protected hideTooltip(view) {\n    view.hideTooltip();\n  }\n}\n\nexport default TooltipAction;\n", "import { each } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport { getSiblingPoint, getSilbings } from '../../util';\nimport TooltipAction from './geometry';\n\n/**\n * \u5B58\u5728\u591A\u4E2A view \u65F6\uFF0C\u63A7\u5236\u5176\u4ED6 view \u4E0A\u7684 tooltip \u663E\u793A\n * @ignore\n */\nclass SiblingTooltip extends TooltipAction {\n  /**\n   * \u6240\u6709\u540C\u4E00\u5C42\u7EA7\u7684 tooltip \u663E\u793A\n   * @param view\n   * @param point\n   */\n  protected showTooltip(view: View, point: Point) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const siblingPoint = getSiblingPoint(view, sibling, point);\n      sibling.showTooltip(siblingPoint);\n    });\n  }\n  /**\n   * \u9690\u85CF\u540C\u4E00\u5C42\u7EA7\u7684 tooltip\n   * @param view\n   */\n  protected hideTooltip(view) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n}\n\nexport default SiblingTooltip;\n", "import { isEqual, get, deepMix } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport { HtmlTooltip } from '../../../../dependents';\n\n/**\n * \u7528\u4E8E\u7EC4\u4EF6\u6587\u672C\u7701\u7565\u540E\u9700\u8981\u5C55\u793A\u5B8C\u6574\u4FE1\u606F\u7684 Tooltip Action\n * @ignore\n */\nexport default class EllipsisText extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   * \u663E\u793A Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    if (timeStamp - lastTimeStamp > 16) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   * \u9690\u85CF Tooltip\u3002\n   * @returns\n   */\n  public hide() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // \u5EF6\u8FDF\u751F\u6210\n      }\n      const tipContent = target.get('tip');\n      // \u5C55\u793A tooltip\n      this.tooltip.update({\n        title: tipContent,\n        ...curLoc,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const view = this.context.view;\n    const canvas = view.canvas;\n\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const theme = view.getTheme();\n    const tooltipStyles = get(theme, ['components', 'tooltip', 'domStyles'], {}); // \u83B7\u53D6 tooltip \u6837\u5F0F\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      visible: false,\n      crosshairs: null,\n      domStyles: {\n        ...deepMix({}, tooltipStyles, {\n          // \u8D85\u957F\u7684\u65F6\u5019\uFF0Ctooltip tip \u6700\u5927\u5BBD\u5EA6\u4E3A 50%\uFF0C\u7136\u540E\u53EF\u4EE5\u6362\u884C\n          [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: { 'max-width': '50%' },\n          [TOOLTIP_CSS_CONST.TITLE_CLASS]: { 'word-break': 'break-all' },\n        }),\n      },\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // \u4E0D\u5141\u8BB8\u6355\u83B7\u4E8B\u4EF6\n    this.tooltip = tooltip;\n  }\n}\n", "import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport Action from '../base';\nimport { getElementsByState } from '../util';\n\n/**\n * \u72B6\u6001\u91CF Action \u7684\u57FA\u7C7B\n * @abstract\n * @class\n * @ignore\n */\nabstract class StateBase extends Action {\n  /**\n   * \u72B6\u6001\u540D\u79F0\n   */\n  protected stateName: string = '';\n\n  /**\n   * \u8BBE\u7F6E\u72B6\u6001\u662F\u5426\u6FC0\u6D3B\n   * @param enable \u72B6\u6001\u503C\n   */\n  protected abstract setStateEnable(enable: boolean);\n\n  /**\n   * \u662F\u5426\u5177\u6709\u67D0\u4E2A\u72B6\u6001\n   * @param element \u56FE\u8868 Element \u5143\u7D20\n   */\n  protected hasState(element: Element): boolean {\n    return element.hasState(this.stateName);\n  }\n  /**\n   * \u8BBE\u7F6E\u72B6\u6001\u6FC0\u6D3B\n   * @param enable \u72B6\u6001\u503C\n   */\n  protected setElementState(element: Element, enable: boolean) {\n    // \u9632\u6B62\u95EA\u70C1\n    element.setState(this.stateName, enable);\n  }\n\n  /**\n   * \u8BBE\u7F6E\u72B6\u6001\n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   * \u6E05\u9664\u6240\u6709 Element \u7684\u72B6\u6001\n   */\n  public clear() {\n    const view = this.context.view;\n    this.clearViewState(view);\n  }\n\n  protected clearViewState(view) {\n    const elements = getElementsByState(view, this.stateName);\n    each(elements, (el: Element) => {\n      this.setElementState(el, false);\n    });\n  }\n}\n\nexport default StateBase;\n", "import { each, isNil, get } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport {\n  getCurrentElement,\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isElementChange,\n  isList,\n} from '../util';\nimport StateBase from './state-base';\n\nfunction getItem(shape) {\n  return get(shape.get('delegateObject'), 'item');\n}\n\n/**\n * \u72B6\u6001\u91CF Action \u7684\u57FA\u7C7B\uFF0C\u5141\u8BB8\u591A\u4E2A Element \u540C\u65F6\u62E5\u6709\u67D0\u4E2A\u72B6\u6001\n * @class\n * @ignore\n */\nclass ElementState extends StateBase {\n  protected ignoreListItemStates = ['unchecked'];\n\n  // \u662F\u5426\u5FFD\u7565\u89E6\u53D1\u7684\u5217\u8868\u9879\n  private isItemIgnore(item: ListItem, list) {\n    const states = this.ignoreListItemStates;\n    const filtered = states.filter((state) => {\n      return list.hasState(item, state);\n    });\n    return !!filtered.length;\n  }\n\n  // \u8BBE\u7F6E\u7531\u7EC4\u4EF6\u9009\u9879\u5BFC\u81F4\u7684\u72B6\u6001\u53D8\u5316\n  private setStateByComponent(component, item: ListItem, enable: boolean) {\n    const view = this.context.view;\n    const field = component.get('field');\n    const elements = getElements(view);\n    this.setElementsStateByItem(elements, field, item, enable);\n  }\n\n  // \u5904\u7406\u89E6\u53D1\u6E90\u7531 element \u5BFC\u81F4\u7684\u72B6\u6001\u53D8\u5316\n  protected setStateByElement(element: Element, enable: boolean) {\n    this.setElementState(element, enable);\n  }\n\n  /** \u7EC4\u4EF6\u7684\u9009\u9879\u662F\u5426\u540C element \u5339\u914D */\n  protected isMathItem(element: Element, field: string, item: ListItem) {\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    return !isNil(value) && item.name === scale.getText(value);\n  }\n\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    each(elements, (el) => {\n      if (this.isMathItem(el, field, item)) {\n        el.setState(this.stateName, enable);\n      }\n    });\n  }\n\n  /** \u8BBE\u7F6E\u72B6\u6001\u662F\u5426\u6FC0\u6D3B */\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      // \u89E6\u53D1\u6E90\u7531\u4E8E element \u5BFC\u81F4\n      if (isElementChange(this.context)) {\n        this.setStateByElement(element, enable);\n      }\n    } else {\n      // \u89E6\u53D1\u6E90\u7531\u7EC4\u4EF6\u5BFC\u81F4\n      const delegateObject = getDelegationObject(this.context);\n      // \u5982\u679C\u89E6\u53D1\u6E90\u65F6\u5217\u8868\uFF0C\u56FE\u4F8B\u3001\u5750\u6807\u8F74\n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (item && component && !this.isItemIgnore(item, component)) {\n          const event = this.context.event.gEvent;\n          // \u9632\u6B62\u95EA\u70C1\n          if (event && event.fromShape && event.toShape && getItem(event.fromShape) === getItem(event.toShape)) {\n            return;\n          }\n          this.setStateByComponent(component, item, enable);\n        }\n      }\n    }\n  }\n\n  /**\n   * \u5207\u6362\u72B6\u6001\n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \u53D6\u6D88\u5F53\u524D\u65F6\u95F4\u5F71\u54CD\u7684\u72B6\u6001\n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementState;\n", "import StateAction from './state';\n\n/**\n * \u5143\u7D20 active \u7684 Action\uFF0C\u5141\u8BB8\u591A\u4E2A\u5143\u7D20\u540C\u65F6 active\n * @class\n * @ignore\n */\nclass ElementActive extends StateAction {\n  protected stateName: string = 'active';\n  /**\n   * Active Element\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementActive;\n", "import Action from '../base';\nimport { getCurrentElement, getElementValue, getElementsByField } from '../util';\nimport Element from '../../../geometry/element/';\nimport { deepMix, each, isFunction } from '@antv/util';\nimport { LooseObject } from '../../../interface';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\n\ntype LinkActiveStyle = ShapeAttrs | ((style: ShapeAttrs, Element: Element) => ShapeAttrs);\n\n/**\n * Link Elements by color\n *\n * public \u65B9\u6CD5\u662F\u5BF9\u5916\u53EF\u7528\u7684\u53CD\u9988\u4EA4\u4E92\u3002\u4F7F\u7528\u65B9\u5F0F\uFF0C\u5982\uFF1Aelement-link-by-color:link, element-link-by-color:unlink, element-link-by-color:clear\n */\nclass LinkByColor extends Action {\n  private linkGroup: IGroup;\n  private cache: LooseObject = {};\n  // \u83B7\u53D6\u989C\u8272\u5BF9\u5E94\u7684 scale\n  private getColorScale(view, element) {\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return null;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    return scale;\n  }\n  // \u83B7\u53D6\u8FDE\u63A5\u7684 path\n  private getLinkPath(element: Element, nextElement: Element) {\n    const view = this.context.view;\n    const { isTransposed } = view.getCoordinate();\n    const bbox = element.shape.getCanvasBBox();\n    const nextBBox = nextElement.shape.getCanvasBBox();\n    const path = isTransposed\n      ? [\n          ['M', bbox.minX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', nextBBox.maxX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.minY],\n          ['Z'],\n        ]\n      : [\n          ['M', bbox.maxX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.maxY],\n          ['Z'],\n        ];\n    return path;\n  }\n  // \u6DFB\u52A0\u8FDE\u63A5\u7684\u56FE\u5F62\n  private addLinkShape(group: IGroup, element: Element, nextElement: Element, activeStyle?: LinkActiveStyle) {\n    const style = {\n      opacity: 0.4,\n      fill: element.shape.attr('fill'),\n    };\n    group.addShape({\n      type: 'path',\n      attrs: {\n        ...deepMix({}, style, isFunction(activeStyle) ? activeStyle(style, element) : activeStyle),\n        path: this.getLinkPath(element, nextElement),\n      },\n    });\n  }\n  // \u4F7F\u7528\u56FE\u5F62\u8FDE\u63A5\n  private linkByElement(element: Element, activeStyle?: LinkActiveStyle) {\n    const view = this.context.view;\n    const scale = this.getColorScale(view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (!this.cache[value]) {\n      const elements = getElementsByField(view, scale.field, value);\n      const linkGroup = this.linkGroup;\n      const group = linkGroup.addGroup();\n      this.cache[value] = group; // \u7F13\u5B58\n      const count = elements.length;\n      each(elements, (el, index) => {\n        if (index < count - 1) {\n          const nextEl = elements[index + 1];\n          this.addLinkShape(group, el, nextEl, activeStyle);\n        }\n      });\n    }\n  }\n  // \u79FB\u9664\u8FDE\u63A5\n  private removeLink(element) {\n    const scale = this.getColorScale(this.context.view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (this.cache[value]) {\n      this.cache[value].remove();\n      this.cache[value] = null;\n    }\n  }\n\n  /**\n   * \u8FDE\u63A5 elements\n   *\n   * @usage\n   * registerInteraction('xxx', {\n   *   start: [\n   *    {\n   *      trigger: 'interval:mouseenter',\n   *      action: 'element-link-by-color:link',\n   *      arg: {\n   *        // style: { fill: 'red' }\n   *        style: (style, element) => ({ fill: 'red' })\n   *     },\n   *   },\n   *  ],\n   * });\n   */\n  public link(args?: { style: LinkActiveStyle }) {\n    const context = this.context;\n    if (!this.linkGroup) {\n      // \u4E0D\u5141\u8BB8\u88AB\u62FE\u53D6\n      this.linkGroup = context.view.foregroundGroup.addGroup({\n        id: 'link-by-color-group',\n        capture: false,\n      });\n    }\n    const element = getCurrentElement(context);\n    if (element) {\n      this.linkByElement(element, args?.style);\n    }\n  }\n\n  /**\n   * \u53D6\u6D88\u8FDE\u63A5 elements\n   */\n  public unlink() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      this.removeLink(element);\n    }\n  }\n\n  /**\n   * \u6E05\u9664\u6240\u6709\u8FDE\u63A5\n   */\n  public clear() {\n    if (this.linkGroup) {\n      this.linkGroup.clear();\n    }\n    this.cache = {};\n  }\n\n  /**\n   * \u9500\u6BC1\n   */\n  destroy() {\n    super.destroy();\n    if (this.linkGroup) {\n      this.linkGroup.remove();\n    }\n  }\n}\nexport default LinkByColor;\n", "import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport {\n  getElements,\n  getIntersectElements,\n  getMaskedElements,\n  getSiblingMaskElements,\n  getSilbings,\n  isInRecords,\n  isMask,\n} from '../util';\nimport StateBase from './state-base';\n\n/**\n * @ignore\n * \u533A\u57DF\u8BBE\u7F6E\u72B6\u6001\u7684\u57FA\u7840 Action\n */\nclass ElementRangeState extends StateBase {\n  private startPoint = null;\n  private endPoint = null;\n  private isStarted: boolean = false;\n  /**\n   * \u662F\u5426\u4F5C\u7528\u4E8E\u5F53\u524D view \u7684 siblings\uFF0C\u9ED8\u8BA4\u662F false \u4EC5\u4F5C\u7528\u4E8E\u81EA\u5DF1\n   */\n  protected effectSiblings = false;\n  /**\n   * \u662F\u5426\u53D7 element \u7684\u6570\u636E\u5F71\u54CD\uFF0C\u8FD8\u662F\u53D7\u5305\u56F4\u76D2\u7684\u5F71\u54CD\n   */\n  protected effectByRecord = false;\n  // \u83B7\u53D6\u5F53\u524D\u7684\u4F4D\u7F6E\n  private getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n\n  /**\n   * \u5F00\u59CB\uFF0C\u8BB0\u5F55\u5F00\u59CB\u9009\u4E2D\u7684\u4F4D\u7F6E\n   */\n  public start() {\n    this.clear(); // \u5F00\u59CB\u7684\u65F6\u5019\u6E05\u7406\u4E4B\u524D\u7684\u72B6\u6001\n    this.startPoint = this.getCurrentPoint();\n    this.isStarted = true;\n  }\n\n  protected getIntersectElements() {\n    let elements = null;\n    if (isMask(this.context)) {\n      elements = getMaskedElements(this.context, 10);\n    } else {\n      const startPoint = this.startPoint;\n      const endPoint = this.isStarted ? this.getCurrentPoint() : this.endPoint;\n      // \u5982\u679C\u6CA1\u6709\u5F00\u59CB\uFF0C\u5219\u4E0D\u5141\u8BB8\u8303\u56F4\u8BBE\u7F6E\u72B6\u6001\uFF0C\u4FDD\u62A4\u6027\u8D28\n      if (!startPoint || !endPoint) {\n        return;\n      }\n      // \u8BA1\u7B97\u6846\u9009\u533A\u57DF\n      const box = {\n        minX: Math.min(startPoint.x, endPoint.x),\n        minY: Math.min(startPoint.y, endPoint.y),\n        maxX: Math.max(startPoint.x, endPoint.x),\n        maxY: Math.max(startPoint.y, endPoint.y),\n      };\n      // this.clear(); // \u4E0D\u5168\u90E8\u6E05\u7406\uFF0C\u4F1A\u5BFC\u81F4\u95EA\u70C1\n      const view = this.context.view;\n      elements = getIntersectElements(view, box);\n    }\n    return elements;\n  }\n  /**\n   * \u9009\u4E2D\n   */\n  public setStateEnable(enable: boolean) {\n    if (this.effectSiblings && !this.effectByRecord) {\n      this.setSiblingsState(enable);\n    } else {\n      const allElements = getElements(this.context.view);\n      const elements = this.getIntersectElements();\n      if (elements && elements.length) {\n        if (this.effectByRecord) {\n          this.setSiblingsStateByRecord(elements, enable);\n        } else {\n          this.setElementsState(elements, enable, allElements);\n        }\n      } else {\n        this.clear();\n      }\n    }\n  }\n  // \u6839\u636E\u9009\u4E2D\u7684 element \u7684\u6570\u636E\u8FDB\u884C\u8BBE\u7F6E\u72B6\u6001\n  private setSiblingsStateByRecord(elements, enable) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    const records = elements.map((el) => {\n      return el.getModel().data;\n    });\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    each(siblings, (sibling) => {\n      const allElements = getElements(sibling);\n      const effectElements = allElements.filter((el) => {\n        const record = el.getModel().data;\n        return isInRecords(records, record, xFiled, yField);\n      });\n      this.setElementsState(effectElements, enable, allElements);\n    });\n  }\n\n  // \u8BBE\u7F6E\u5144\u5F1F view \u7684\u72B6\u6001\n  private setSiblingsState(enable: boolean) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    if (isMask(this.context)) {\n      // \u53D7 mask \u5F71\u54CD\n      each(siblings, (sibling) => {\n        const allElements = getElements(sibling);\n        const effectElements = getSiblingMaskElements(this.context, sibling, 10);\n        if (effectElements && effectElements.length) {\n          this.setElementsState(effectElements, enable, allElements);\n        } else {\n          this.clearViewState(sibling);\n        }\n      });\n    }\n  }\n\n  protected setElementsState(elements: Element[], enable, allElements: Element[]) {\n    each(allElements, (el) => {\n      if (!elements.includes(el)) {\n        this.setElementState(el, false);\n      } else {\n        this.setElementState(el, enable);\n      }\n    });\n  }\n\n  /**\n   * \u7ED3\u675F\n   */\n  public end() {\n    this.isStarted = false;\n    this.endPoint = this.getCurrentPoint();\n  }\n\n  // \u590D\u5199 clear\n  public clear() {\n    const view = this.context.view;\n    // \u5224\u65AD\u662F\u5426\u5F71\u54CD siblings\n    if (this.effectSiblings) {\n      const siblings = getSilbings(view);\n      each(siblings, (sibling) => {\n        this.clearViewState(sibling);\n      });\n    } else {\n      this.clearViewState(view);\n    }\n  }\n}\n\nexport default ElementRangeState;\n", "import ElementRangeState from './range-state';\n\n/**\n * @ignore\n * \u56FE\u8868\u5143\u7D20\u533A\u57DF Active \u7684 Action\n */\nclass ElementRangeActive extends ElementRangeState {\n  protected stateName: string = 'active';\n  /**\n   * \u56FE\u8868\u5143\u7D20 Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeActive;\n", "import { getCurrentElement, isElementChange } from '../util';\nimport StateBase from './state-base';\n\n/**\n * \u5355\u72B6\u6001\u91CF\u7684 Action \u57FA\u7C7B\n * @class\n * @ignore\n */\nclass ElementSingleState extends StateBase {\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      // \u5728\u540C\u4E00\u4E2A element \u5185\u90E8\u79FB\u52A8\uFF0C\u5FFD\u89C6 label \u548C shape \u4E4B\u95F4\n      if (!isElementChange(this.context)) {\n        return;\n      }\n      // \u4EC5\u652F\u6301\u5355\u4E2A\u72B6\u6001\u91CF\u7684\u5143\u7D20\uFF0C\u53EA\u80FD\u7531 element \u89E6\u53D1\n      if (enable) {\n        this.clear();\n        this.setElementState(element, true);\n      } else if (this.hasState(element)) {\n        this.setElementState(element, false);\n      }\n    }\n  }\n\n  /**\n   * \u5207\u6362\u9009\u4E2D\uFF0C\u53EA\u5141\u8BB8\u9009\u4E2D\u4E00\u4E2A\n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = this.hasState(element); // \u63D0\u524D\u83B7\u53D6\u72B6\u6001\n      if (!hasState) {\n        this.clear();\n      }\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \u53D6\u6D88\u5F53\u524D\u65F6\u95F4\u5F71\u54CD\u7684\u72B6\u6001\n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementSingleState;\n", "import ElementSingleState from './single-state';\n\n/**\n * @ignore\n * \u4EC5\u5141\u8BB8\u5355\u4E2A Element Active \u7684 Action\n */\nclass ElementSingleActive extends ElementSingleState {\n  protected stateName: string = 'active';\n  /**\n   * \u5F53\u524D\u4E8B\u4EF6\u76F8\u5173\u7684 Element Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleActive;\n", "import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport Element from '../../../geometry/element/';\nimport { getElements } from '../util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n * @ignore\n * \u6E05\u7406 highlight \u6548\u679C\n * @param view View \u6216\u8005 Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getElements(view);\n  each(elements, (el) => {\n    if (el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_ACTIVE, false);\n    }\n    if (el.hasState(STATUS_UNACTIVE)) {\n      el.setState(STATUS_UNACTIVE, false);\n    }\n  });\n}\n\ntype MatchCallback = (el: Element) => boolean;\n\n/**\n * @ignore\n * \u8BBE\u7F6E\u591A\u4E2A\u5143\u7D20\u7684 highlight\n * @param elements \u5143\u7D20\u96C6\u5408\n * @param callback \u8BBE\u7F6E\u56DE\u8C03\u51FD\u6570\n * @param enable \u8BBE\u7F6E\u6216\u8005\u53D6\u6D88\n */\nexport function setHighlightBy(elements: Element[], callback: MatchCallback, enable: boolean) {\n  each(elements, (el) => {\n    // \u9700\u8981\u5904\u7406 active \u548C unactive \u7684\u4E92\u65A5\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, enable);\n    } else {\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n      el.setState(STATUS_UNACTIVE, enable);\n    }\n  });\n}\n", "import { each } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport { getElements, getElementsByState } from '../util';\nimport { clearHighlight } from './highlight-util';\nimport StateAction from './state';\n\nimport { ELEMENT_STATE } from '../../../constant';\n\nexport const STATUS_UNACTIVE = ELEMENT_STATE.INACTIVE;\nexport const STATUS_ACTIVE = ELEMENT_STATE.ACTIVE;\nexport type Callback = (el) => boolean;\n\n/**\n * @ignore\n * highlight\uFF0C\u6307\u5B9A\u56FE\u5F62\u9AD8\u4EAE\uFF0C\u5176\u4ED6\u56FE\u5F62\u53D8\u6697\n */\nclass ElementHighlight extends StateAction {\n  protected stateName: string = STATUS_ACTIVE;\n\n  // \u591A\u4E2A\u5143\u7D20\u8BBE\u7F6E\u3001\u53D6\u6D88 highlight\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    const callback = (el) => this.isMathItem(el, field, item);\n    this.setHighlightBy(elements, callback, enable);\n  }\n\n  // \u8BBE\u7F6E\u5143\u7D20\u7684 highlight\n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else if (!el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_UNACTIVE, true);\n    }\n  }\n\n  protected setHighlightBy(elements: Element[], callback: Callback, enable: boolean) {\n    if (enable) {\n      // \u5982\u679C\u662F\u8BBE\u7F6E highlight \uFF0C\u5219\u5C06\u5339\u914D\u7684 element \u8BBE\u7F6E\u6210 active\uFF0C\n      // \u5176\u4ED6\u5982\u679C\u4E0D\u662F active\uFF0C\u5219\u8BBE\u7F6E\u6210 unactive\n      each(elements, (el) => {\n        this.setElementHighlight(el, callback);\n      });\n    } else {\n      // \u5982\u679C\u53D6\u6D88 highlight\uFF0C\u5219\u8981\u68C0\u6D4B\u662F\u5426\u5168\u90E8\u53D6\u6D88 highlight\n      const activeElements = getElementsByState(this.context.view, STATUS_ACTIVE);\n      let allCancel = true;\n      // \u68C0\u6D4B\u6240\u6709 activeElements \u90FD\u8981\u53D6\u6D88 highlight\n      each(activeElements, (el) => {\n        if (!callback(el)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        // \u90FD\u8981\u53D6\u6D88\uFF0C\u5219\u53D6\u6D88\u6240\u6709\u7684 active\uFF0Cunactive \u72B6\u6001\n        this.clear();\n      } else {\n        // \u5982\u679C\u4E0D\u662F\u90FD\u8981\u53D6\u6D88 highlight, \u5219\u8BBE\u7F6E\u5339\u914D\u7684 element \u7684\u72B6\u6001\u4E3A unactive\n        // \u5176\u4ED6 element \u72B6\u6001\u4E0D\u53D8\n        each(elements, (el) => {\n          if (callback(el)) {\n            if (el.hasState(STATUS_ACTIVE)) {\n              el.setState(STATUS_ACTIVE, false);\n            }\n            el.setState(STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  // \u5355\u4E2A\u5143\u7D20\u8BBE\u7F6E\u548C\u53D6\u6D88 highlight\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    this.setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  public highlight() {\n    this.setState();\n  }\n\n  // \u6E05\u7406\u6389\u6240\u6709\u7684 active\uFF0C unactive \u72B6\u6001\n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementHighlight;\n", "import Element from '../../../geometry/element/';\nimport { getElements, getElementValue } from '../util';\nimport Highlight from './highlight';\n\n/**\n * Highlight color\n * @ignore\n */\nclass HighlightColor extends Highlight {\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n}\n\nexport default HighlightColor;\n", "import Element from '../../../geometry/element/';\nimport { getElements, getElementValue, getCurrentElement } from '../util';\nimport Highlight, { STATUS_ACTIVE, STATUS_UNACTIVE, Callback } from './highlight';\n\n/**\n * Highlight x\n * @ignore\n */\nclass HighlightX extends Highlight {\n  // \u4E0D\u5141\u8BB8\u591A\u9009\n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else {\n      el.setState(STATUS_UNACTIVE, true);\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n    }\n  }\n\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const scale = view.getXScale();\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n\n  /**\n   * \u5207\u6362\u72B6\u6001\n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setStateByElement(element, !hasState);\n    }\n  }\n}\n\nexport default HighlightX;\n", "import Element from '../../../geometry/element';\nimport { Event } from '../../../chart';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementRangeState from './range-state';\n\nenum EVENTS {\n  BEFORE_HIGHLIGHT = 'element-range-highlight:beforehighlight',\n  AFTER_HIGHLIGHT = 'element-range-highlight:afterhighlight',\n  BEFORE_CLEAR = 'element-range-highlight:beforeclear',\n  AFTER_CLEAR = 'element-range-highlight:afterclear',\n}\n\nexport { EVENTS as ELEMENT_RANGE_HIGHLIGHT_EVENTS };\n\n/**\n * @ignore\n * \u533A\u57DF highlight \u7684 Action\n */\nclass ElementRangeHighlight extends ElementRangeState {\n  protected stateName: string = 'active';\n\n  // \u6E05\u7406\u6389\u6240\u6709\u7684 active\uFF0C unactive \u72B6\u6001\n  protected clearViewState(view) {\n    clearHighlight(view);\n  }\n\n  /**\n   * \u8BBE\u7F6E highlight\n   */\n  public highlight() {\n    const { view, event } = this.context;\n    const elements = this.getIntersectElements();\n    const payload = { view, event, highlightElements: elements };\n    view.emit(EVENTS.BEFORE_HIGHLIGHT, Event.fromData(view, EVENTS.BEFORE_HIGHLIGHT, payload));\n    this.setState();\n    view.emit(EVENTS.AFTER_HIGHLIGHT, Event.fromData(view, EVENTS.AFTER_HIGHLIGHT, payload));\n  }\n\n  /**\n   * @overrider \u6DFB\u52A0\u4E8B\u4EF6\n   */\n  public clear() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_CLEAR, Event.fromData(view, EVENTS.BEFORE_CLEAR, {}));\n    super.clear();\n    view.emit(EVENTS.AFTER_CLEAR, Event.fromData(view, EVENTS.AFTER_CLEAR, {}));\n  }\n\n  protected setElementsState(elements: Element[], enable: boolean, allElements: Element[]) {\n    setHighlightBy(allElements, (el) => elements.indexOf(el) >= 0, enable);\n  }\n}\n\nexport default ElementRangeHighlight;\n", "import Element from '../../../geometry/element/';\nimport { getElements } from '../util';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementSingleState from './single-state';\n\n/**\n * @ignore\n * \u5355\u4E2A Element Highlight \u7684 Action\n */\nclass ElementSingleHighlight extends ElementSingleState {\n  protected stateName: string = 'active';\n\n  /**\n   * Element Highlight\n   */\n  public highlight() {\n    this.setState();\n  }\n\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  // \u6E05\u7406\u6389\u6240\u6709\u7684 active\uFF0C unactive \u72B6\u6001\n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementSingleHighlight;\n", "import ElementRangeState from './range-state';\n\n/**\n * @ignore\n * \u533A\u57DF\u9009\u4E2D\u7684 Action\n */\nclass ElementRangeSelected extends ElementRangeState {\n  protected stateName: string = 'selected';\n  /**\n   * \u9009\u4E2D\n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeSelected;\n", "import StateAction from './state';\n\n/**\n * @ignore\n * \u5141\u8BB8\u591A\u9009\u7684 Action\n * @class\n */\nclass ElementMultipleSelected extends StateAction {\n  protected stateName: string = 'selected';\n  /**\n   * \u9009\u4E2D\u8282\u70B9\uFF0C\u5141\u8BB8\u591A\u9009\n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementMultipleSelected;\n", "import ElementSingleState from './single-state';\n\n/**\n * @ignore\n * \u5355\u9009\u7684 Action\n */\nclass ElementSingleSelected extends ElementSingleState {\n  protected stateName: string = 'selected';\n  /**\n   * \u9009\u4E2D\n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleSelected;\n", "import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element';\nimport { LooseObject } from '../../../interface';\nimport Action from '../base';\nimport { getComponents } from '../util';\nimport { getCurrentElement, getDelegationObject, getElementValue, isList, getScaleByField } from '../util';\n\n/** @ignore */\ninterface ListStateCfg {\n  componentNames: string[];\n}\n\n/**\n * \u5217\u8868\u9879\u72B6\u6001 Action \u7684\u57FA\u7840\u7C7B\n * @class\n * @ignore\n */\nclass ListState extends Action<ListStateCfg> {\n  protected stateName: string = '';\n  protected ignoreItemStates = [];\n\n  /** \u83B7\u53D6\u89E6\u53D1\u7684\u5217\u8868\u7EC4\u4EF6 */\n  protected getTriggerListInfo() {\n    const delegateObject = getDelegationObject(this.context);\n    let info: LooseObject = null;\n    if (isList(delegateObject)) {\n      info = {\n        item: delegateObject.item,\n        list: delegateObject.component,\n      };\n    }\n    return info;\n  }\n  // \u83B7\u53D6\u6240\u6709\u5141\u8BB8\u6267\u884C Action \u7684\u7EC4\u4EF6\n  protected getAllowComponents() {\n    const view = this.context.view;\n    const components = getComponents(view);\n    const rst = [];\n    each(components, (component) => {\n      if (component.isList() && this.allowSetStateByElement(component)) {\n        rst.push(component);\n      }\n    });\n    return rst;\n  }\n\n  /** \u662F\u5426\u5B58\u5728\u6307\u5B9A\u7684\u72B6\u6001 */\n  protected hasState(list: IList, item: ListItem) {\n    return list.hasState(item, this.stateName);\n  }\n\n  /** \u6E05\u7406\u7EC4\u4EF6\u7684\u72B6\u6001 */\n  protected clearAllComponentsState() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(this.stateName);\n    });\n  }\n\n  // \u4E0D\u662F\u6240\u6709\u7684 component \u90FD\u80FD\u8FDB\u884C active\uFF0C\u76EE\u524D\u4EC5\u652F\u6301\u5206\u7C7B scale \u5BF9\u5E94\u7684\u7EC4\u4EF6\n  protected allowSetStateByElement(component): boolean {\n    const field = component.get('field');\n    if (!field) {\n      return false;\n    }\n    if (this.cfg && this.cfg.componentNames) {\n      const name = component.get('name');\n      // \u5982\u679C\u914D\u7F6E\u4E86\u9650\u5236\u7684 component name\uFF0C\u5219\u8981\u8FDB\u884C\u68C0\u6D4B\n      if (this.cfg.componentNames.indexOf(name) === -1) {\n        return false;\n      }\n    }\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    return scale && scale.isCategory;\n  }\n  // \u68C0\u6D4B\u662F\u5426\u5141\u8BB8\u89E6\u53D1\u5BF9\u5E94\u7684\u72B6\u6001\u6539\u53D8\u4E8B\u4EF6\n  private allowSetStateByItem(item: ListItem, list: IList) {\n    const ignoreStates = this.ignoreItemStates;\n    if (ignoreStates.length) {\n      const filterStates = ignoreStates.filter((state) => {\n        return list.hasState(item, state);\n      });\n      return filterStates.length === 0;\n    }\n    return true; // \u6CA1\u6709\u5B9A\u4E49\u5FFD\u7565\u7684\u72B6\u6001\u65F6\uFF0C\u5141\u8BB8\n  }\n\n  // \u8BBE\u7F6E\u7EC4\u4EF6\u7684 item active\n  private setStateByElement(component, element: Element, enable: boolean) {\n    const field = component.get('field');\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    const text = scale.getText(value);\n    this.setItemsState(component, text, enable);\n  }\n\n  // \u8BBE\u7F6E\u72B6\u6001\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      // trigger by element\n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        this.setStateByElement(component, element, enable);\n      });\n    } else {\n      // \u88AB\u7EC4\u4EF6\u89E6\u53D1\n      const delegateObject = getDelegationObject(this.context);\n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (this.allowSetStateByElement(component) && this.allowSetStateByItem(item, component)) {\n          this.setItemState(component, item, enable);\n        }\n      }\n    }\n  }\n\n  // \u591A\u4E2A item \u8BBE\u7F6E\u72B6\u6001\n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    const items = list.getItems();\n    each(items, (item) => {\n      if (item.name === name) {\n        this.setItemState(list, item, enable);\n      }\n    });\n  }\n\n  // \u5355\u4E2A item \u8BBE\u7F6E\u72B6\u6001\n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    list.setItemState(item, this.stateName, enable);\n  }\n\n  /**\n   * \u8BBE\u7F6E\u72B6\u6001\n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   * \u53D6\u6D88\u72B6\u6001\n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n\n  /**\n   * \u5207\u6362\u72B6\u6001\n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n      const enable = this.hasState(list, item);\n      this.setItemState(list, item, !enable);\n    }\n  }\n\n  /**\n   * \u53D6\u6D88\u72B6\u6001\n   */\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      triggerInfo.list.clearItemsState(this.stateName);\n    } else {\n      this.clearAllComponentsState();\n    }\n  }\n}\n\nexport default ListState;\n", "import ListState from './list-state';\n\n/**\n * \u5217\u8868\u9879\uFF08\u56FE\u4F8B\u9879\u3001\u5750\u6807\u8F74\u6587\u672C\uFF09\u6FC0\u6D3B\u7684 Action\n * @class\n * @ignore\n */\nclass ListActive extends ListState {\n  protected stateName: string = 'active';\n  /**\n   * \u6FC0\u6D3B\u9009\u9879\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ListActive;\n", "import { IList } from '@antv/component';\nimport { each } from '@antv/util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n * \u6E05\u7406\u56FE\u4F8B\u7684 Highlight \u6548\u679C\n * @param list \u5217\u8868\u7EC4\u4EF6\uFF0C\u56FE\u4F8B\u6216\u8005\u5750\u6807\u8F74\n * @ignore\n */\nexport function clearList(list: IList) {\n  const items = list.getItems();\n  each(items, (item) => {\n    if (list.hasState(item, STATUS_ACTIVE)) {\n      list.setItemState(item, STATUS_ACTIVE, false);\n    }\n    if (list.hasState(item, STATUS_UNACTIVE)) {\n      list.setItemState(item, STATUS_UNACTIVE, false);\n    }\n  });\n}\n", "import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport { clearList } from './list-highlight-util';\nimport ListState from './list-state';\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * highlight Action \u7684\u6548\u679C\u662F active \u548C inactive \u4E24\u4E2A\u72B6\u6001\u7684\u7EC4\u5408\n * @class\n * @ignore\n */\nclass ListHighlight extends ListState {\n  protected stateName: string = STATUS_ACTIVE;\n  protected ignoreItemStates = ['unchecked']; // \u5F53\u5B58\u5728 unchecked \u72B6\u6001\u65F6\u4E0D\u89E6\u53D1\n  // \u5982\u679C item.name \u5339\u914D\uFF0C\u5219\u8BBE\u7F6E highlight \u4EE5\u53CA\u53D6\u6D88\n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    this.setHighlightBy(list, (item) => item.name === name, enable);\n  }\n\n  // \u5355\u4E2A item \u8BBE\u7F6E\u72B6\u6001\n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    const items = list.getItems();\n    this.setHighlightBy(list, (el) => el === item, enable);\n  }\n\n  // \u6839\u636E\u6761\u4EF6\u8BBE\u7F6E highlight\n  private setHighlightBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      // \u8BBE\u7F6E highlight \u65F6\uFF0C\u4FDD\u7559\u4E4B\u524D\u5DF2\u7ECF Highlight \u7684\u9879\n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNACTIVE)) {\n            list.setItemState(item, STATUS_UNACTIVE, false);\n          }\n          list.setItemState(item, STATUS_ACTIVE, true);\n        } else if (!list.hasState(item, STATUS_ACTIVE)) {\n          list.setItemState(item, STATUS_UNACTIVE, true);\n        }\n      });\n    } else {\n      const activeItems = list.getItemsByState(STATUS_ACTIVE);\n      let allCancel = true;\n      // \u68C0\u6D4B activeItems \u662F\u5426\u8981\u5168\u90E8\u53D6\u6D88\n      each(activeItems, (item) => {\n        if (!callback(item)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        this.clear();\n      } else {\n        // \u5982\u679C\u4E0D\u662F\u90FD\u8981\u53D6\u6D88 highlight, \u5219\u8BBE\u7F6E\u5339\u914D\u7684 element \u7684\u72B6\u6001\u4E3A unactive\n        // \u5176\u4ED6 element \u72B6\u6001\u4E0D\u53D8\n        each(items, (item) => {\n          if (callback(item)) {\n            if (list.hasState(item, STATUS_ACTIVE)) {\n              list.setItemState(item, STATUS_ACTIVE, false);\n            }\n            list.setItemState(item, STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  /**\n   * highlight \u56FE\u4F8B\u9879\uFF08\u5750\u6807\u8F74\u6587\u672C\uFF09\n   */\n  public highlight() {\n    this.setState();\n  }\n\n  // \u9700\u8981\u5168\u90E8\u6E05\u7406 active \u548C unactive\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      clearList(triggerInfo.list);\n    } else {\n      // \u5982\u679C\u4E0D\u662F component \u7684\u4E8B\u4EF6\u89E6\u53D1\uFF0C\u5219\u6240\u6709\u6EE1\u8DB3\u89E6\u53D1\u6761\u4EF6\u7684\u7EC4\u4EF6\u90FD\u6E05\u9664\u8BE5\u72B6\u6001\n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        component.clearItemsState(STATUS_ACTIVE);\n        component.clearItemsState(STATUS_UNACTIVE);\n      });\n    }\n  }\n}\n\nexport default ListHighlight;\n", "import ListState from './list-state';\n\n/**\n * \u56FE\u4F8B\u9879\u548C\u5750\u6807\u8F74\u6587\u672C\u9009\u4E2D\u7684 Action\n * @ignore\n */\nclass ListSelected extends ListState {\n  protected stateName: string = 'selected';\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ListSelected;\n", "import ListState from './list-state';\n\n/**\n * \u56FE\u4F8B\u9879\u53D6\u6D88\u52FE\u9009\u7684 Action\n * @ignore\n */\nclass ListUnchecked extends ListState {\n  protected stateName: string = 'unchecked';\n  /**\n   * \u53D6\u6D88\u52FE\u9009\n   */\n  public unchecked() {\n    this.setState();\n  }\n}\n\nexport default ListUnchecked;\n", "import { each, some } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\nconst STATUS_CHECKED = 'checked';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * checked Action\n * \u63D0\u4F9B\u4E09\u4E2A\u5BF9\u5916\u65B9\u6CD5\n * 1. toggle \u5207\u6362\u72B6\u6001\n * 2. checked \u9009\u4E2D\n * 3. reset \u6E05\u9664\u91CD\u7F6E\n */\nclass ListChecked extends ListState {\n  protected stateName: string = STATUS_CHECKED;\n\n  // \u5355\u4E2A item \u8BBE\u7F6E\u72B6\u6001\n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    this.setCheckedBy(list, (el) => el === item, enable);\n  }\n\n  // \u6839\u636E\u6761\u4EF6\u8BBE\u7F6E checked\n  private setCheckedBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      // \u8BBE\u7F6E checked \u65F6\uFF0C\u4FDD\u7559\u4E4B\u524D\u5DF2\u7ECF checked \u7684\u9879\n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNCHECKED)) {\n            list.setItemState(item, STATUS_UNCHECKED, false);\n          }\n          list.setItemState(item, STATUS_CHECKED, true);\n        } else if (!list.hasState(item, STATUS_CHECKED)) {\n          list.setItemState(item, STATUS_UNCHECKED, true);\n        }\n      });\n    }\n  }\n\n  /**\n   * \u5207\u6362\u72B6\u6001.\n   * 1. \u5F53\u5168\u90E8\u9009\u4E2D\u7684\u65F6\u5019 \u6216\u8005 \u5F53\u524D item \u672A\u9009\u4E2D\u65F6\uFF0C\u8FDB\u884C\u6FC0\u6D3B\u64CD\u4F5C\n   * 2. \u5426\u5219\uFF0C\u91CD\u7F6E\n   * @override\n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n\n      // \u4E0D\u77E5\u9053 \uD83E\uDD37\u200D\u2640\uFE0F \u53EA\u8BA4 unchecked status\n      const allChecked = !some(list.getItems(), (t) => list.hasState(t, STATUS_UNCHECKED));\n\n      //\n      if (allChecked || list.hasState(item, STATUS_UNCHECKED)) {\n        this.setItemState(list, item, true);\n      } else {\n        this.reset();\n      }\n    }\n  }\n\n  /**\n   * checked \u56FE\u4F8B\u9879\n   */\n  public checked() {\n    this.setState();\n  }\n\n  /**\n   * \u91CD\u7F6E\uFF0C\u9700\u8981\u5168\u90E8\u6E05\u7406 checked \u548C unchecked\n   */\n  public reset() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(STATUS_CHECKED);\n      component.clearItemsState(STATUS_UNCHECKED);\n    });\n  }\n}\n\nexport default ListChecked;\n", "import ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\n\nclass ListFocus extends ListState {\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item: clickedItem } = triggerInfo;\n      const items = list.getItems();\n      const checkedItems = items.filter((t) => !list.hasState(t, STATUS_UNCHECKED));\n      const uncheckedItems = items.filter((t) => list.hasState(t, STATUS_UNCHECKED));\n      const checkedItem = checkedItems[0]\n      /**\n       * 1. \u521D\u59CB\u5316\uFF0C\u5168\u90E8 checked\u3002\u6B64\u65F6\uFF0C\u70B9\u51FB radio, clickItem \u8FDB\u5165\u805A\u7126\n       * 2. \u5F53\u524D\u53EA\u9009\u4E2D\u4E00\u4E2A\n       *    2.1 \u4E14\u9009\u4E2D item \u7B49\u4E8E clickItem\uFF0C\u9000\u51FA\u805A\u7126\uFF0C\u5168\u90E8\u91CD\u65B0\u9009\u4E2D\n       *    2.2 \u66FF\u6362\u805A\u7126\u7684 item\n       * 3. \u5176\u5B83\uFF0C\u540C 2.2\n       */\n      if (items.length === checkedItems.length) {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      } else if (items.length - uncheckedItems.length === 1) {\n        if (checkedItem.id === clickedItem.id) {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, false);\n        } else {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n        }\n      } else {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      }\n    }\n  }\n}\n\nexport default ListFocus;\n", "import ListState from './list-state';\nimport { isEqual } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { HtmlTooltip } from '../../../dependents';\nimport { Point } from '../../../interface';\n\nconst STATUS_SHOW = 'showRadio';\nconst TIP_ID = 'legend-radio-tip';\n\nclass ListRadio extends ListState {\n  public show() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, true);\n    }\n  }\n\n  public hide() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, false);\n    }\n  }\n\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   * \u663E\u793A Tooltip (\u5C55\u793A\u5728\u4E0A\u65B9)\n   * @returns\n   */\n  public showTip() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    const target = this.context.event.target;\n    if (timeStamp - lastTimeStamp > 16 && target.get('name') === 'legend-item-radio') {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      this.timeStamp = timeStamp;\n      this.location = curLoc;      \n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n    }\n  }\n\n  /**\n   * \u9690\u85CF Tooltip\u3002\n   * @returns\n   */\n  public hideTip() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // \u5EF6\u8FDF\u751F\u6210\n      }\n      // \u5C55\u793A tooltip\n      const { x: offsetX, y: offsetY } = context.view.getCanvas().get('el').getBoundingClientRect();\n      this.tooltip.update({\n        title: target.get('tip'),\n        ...curLoc,\n        x: curLoc.x + offsetX,\n        y: curLoc.y + offsetY,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const tooltipStyles = {\n      [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: {\n        padding: '6px 8px',\n        transform: 'translate(-50%, -80%)',\n        background: 'rgba(0,0,0,0.75)',\n        color: '#fff',\n        'border-radius': '2px',\n        // \u907F\u514D\u906E\u6321\uFF0C\u5982\u679C\u8FD8\u4E0D\u591F\u7684\u8BDD\uFF0C\u518D\u8003\u8651\u5F00\u653E\u7528\u6237\u914D\u7F6E\n        'z-index': 100,\n      },\n      [TOOLTIP_CSS_CONST.TITLE_CLASS]: {\n        'font-size': '12px',\n        'line-height': '14px',\n        'margin-bottom': 0,\n        'word-break': 'break-all',\n      }\n    };\n    if (document.getElementById(TIP_ID)) {\n      document.body.removeChild(document.getElementById(TIP_ID));\n    }\n    const tooltip = new HtmlTooltip({\n      parent: document.body,\n      // tooltip \u9650\u5236\u7684\u533A\u57DF\n      region: null,\n      visible: false,\n      crosshairs: null,\n      domStyles: tooltipStyles,\n      containerId: TIP_ID,\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // \u4E0D\u5141\u8BB8\u6355\u83B7\u4E8B\u4EF6\n    this.tooltip = tooltip;\n  }\n}\n\nexport default ListRadio;\n", "import { deepMix, each } from '@antv/util';\nimport Action from '../base';\nimport { LooseObject } from '../../../interface';\n\n/**\n * @ignore\n * \u8F85\u52A9\u6846 Action \u7684\u57FA\u7C7B\n */\nabstract class MaskBase extends Action {\n  // mask \u56FE\u5F62\n  protected maskShape = null;\n  // \u7EC4\u6210 mask \u7684\u5404\u4E2A\u70B9\n  protected points = [];\n  // \u5F00\u59CB mask \u7684\u6807\u8BB0\n  protected starting = false;\n  // \u5F00\u59CB\u79FB\u52A8\u7684\u6807\u8BB0\n  protected moving = false;\n  protected preMovePoint = null;\n\n  protected shapeType = 'path';\n  // \u83B7\u53D6\u5F53\u524D\u7684\u4F4D\u7F6E\n  protected getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n  // \u89E6\u53D1 mask \u7684\u4E8B\u4EF6\n  protected emitEvent(type) {\n    const eventName = `mask:${type}`;\n    const view = this.context.view;\n    const event = this.context.event;\n    view.emit(eventName, {\n      target: this.maskShape,\n      shape: this.maskShape,\n      points: this.points,\n      x: event.x,\n      y: event.y,\n    });\n  }\n\n  // \u521B\u5EFA mask\n  private createMask() {\n    const view = this.context.view;\n    const maskAttrs = this.getMaskAttrs();\n    const maskShape = view.foregroundGroup.addShape({\n      type: this.shapeType,\n      name: 'mask',\n      draggable: true,\n      attrs: {\n        fill: '#C5D4EB',\n        opacity: 0.3,\n        ...maskAttrs,\n      },\n    });\n    return maskShape;\n  }\n\n  protected abstract getMaskAttrs(): LooseObject;\n\n  // \u751F\u6210 mask \u7684\u8DEF\u5F84\n  protected getMaskPath() {\n    return [];\n  }\n\n  /**\n   * \u663E\u793A\n   */\n  public show() {\n    if (this.maskShape) {\n      this.maskShape.show();\n      this.emitEvent('show');\n    }\n  }\n\n  /**\n   * \u5F00\u59CB\n   */\n  public start(arg?: { maskStyle: LooseObject }) {\n    this.starting = true;\n    // \u5F00\u59CB\u65F6\uFF0C\u4FDD\u8BC1\u79FB\u52A8\u7ED3\u675F\n    this.moving = false;\n    this.points = [this.getCurrentPoint()];\n    if (!this.maskShape) {\n      this.maskShape = this.createMask();\n      // \u5F00\u59CB\u65F6\u8BBE\u7F6E capture: false\uFF0C\u53EF\u4EE5\u907F\u514D\u521B\u5EFA\u3001resize \u65F6\u89E6\u53D1\u4E8B\u4EF6\n      this.maskShape.set('capture', false);\n    }\n    this.updateMask(arg?.maskStyle);\n    this.emitEvent('start');\n  }\n\n  /**\n   * \u5F00\u59CB\u79FB\u52A8\n   */\n  public moveStart() {\n    this.moving = true;\n    this.preMovePoint = this.getCurrentPoint();\n  }\n  /**\n   * \u79FB\u52A8 mask\n   */\n  public move() {\n    if (!this.moving || !this.maskShape) {\n      return;\n    }\n    const currentPoint = this.getCurrentPoint();\n    const preMovePoint = this.preMovePoint;\n    const dx = currentPoint.x - preMovePoint.x;\n    const dy = currentPoint.y - preMovePoint.y;\n    const points = this.points;\n    each(points, (point) => {\n      point.x += dx;\n      point.y += dy;\n    });\n    this.updateMask();\n    this.emitEvent('change');\n    this.preMovePoint = currentPoint;\n  }\n\n  protected updateMask(maskStyle?: LooseObject) {\n    const attrs = deepMix({}, this.getMaskAttrs(), maskStyle);\n    this.maskShape.attr(attrs);\n  }\n\n  /**\n   * \u7ED3\u675F\u79FB\u52A8\n   */\n  public moveEnd() {\n    this.moving = false;\n    this.preMovePoint = null;\n  }\n\n  /**\n   * \u7ED3\u675F\n   */\n  public end() {\n    this.starting = false;\n    this.emitEvent('end');\n    if (this.maskShape) {\n      this.maskShape.set('capture', true);\n    }\n  }\n\n  /**\n   * \u9690\u85CF\n   */\n  public hide() {\n    if (this.maskShape) {\n      this.maskShape.hide();\n      this.emitEvent('hide');\n    }\n  }\n\n  /**\n   * \u5927\u5C0F\u53D8\u5316\n   */\n  public resize() {\n    // \u53EA\u6709\u8FDB\u884C\u4E2D\uFF0C\u624D\u4F1A\u5141\u8BB8\u5927\u5C0F\u53D8\u5316\n    if (this.starting && this.maskShape) {\n      this.points.push(this.getCurrentPoint());\n      this.updateMask();\n      this.emitEvent('change');\n    }\n  }\n\n  /**\n   * \u9500\u6BC1\n   */\n  public destroy() {\n    this.points = [];\n    if (this.maskShape) {\n      this.maskShape.remove();\n    }\n    this.maskShape = null;\n    this.preMovePoint = null;\n    super.destroy();\n  }\n}\n\nexport default MaskBase;\n", "import { last } from '@antv/util';\nimport { distance } from '../util';\nimport MaskBase from './base';\n\n/**\n * @ignore\n * \u5706\u5F62\u8F85\u52A9\u6846 Action\n */\nclass CircleMask extends MaskBase {\n  protected shapeType = 'circle';\n  protected getMaskAttrs() {\n    const points = this.points;\n    const currentPoint = last(this.points);\n    let r = 0;\n    let x = 0;\n    let y = 0;\n    if (points.length) {\n      const first = points[0];\n      r = distance(first, currentPoint) / 2;\n      x = (currentPoint.x + first.x) / 2;\n      y = (currentPoint.y + first.y) / 2;\n    }\n    return {\n      x,\n      y,\n      r,\n    };\n  }\n}\n\nexport default CircleMask;\n", "import { head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport MaskBase from './base';\n\n/**\n * @ignore\n * \u77E9\u5F62\u7684\u8F85\u52A9\u6846 Action\n */\nclass RectMask extends MaskBase {\n  protected shapeType = 'rect';\n  protected getRegion(): Region {\n    const points = this.points;\n    return {\n      start: head(points),\n      end: last(points),\n    };\n  }\n  // \u6DFB\u52A0\u56FE\u5F62\n  protected getMaskAttrs() {\n    const { start, end } = this.getRegion();\n    const x = Math.min(start.x, end.x);\n    const y = Math.min(start.y, end.y);\n    const width = Math.abs(end.x - start.x);\n    const height = Math.abs(end.y - start.y);\n    return {\n      x,\n      y,\n      width,\n      height,\n    };\n  }\n}\n\nexport default RectMask;\n", "import { clamp, head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport RectMask from './rect';\n\nfunction clampPoint(point) {\n  point.x = clamp(point.x, 0, 1);\n  point.y = clamp(point.y, 0, 1);\n}\n\n/**\n * @ignore\n */\nclass DimRect extends RectMask {\n  protected dim = 'x';\n  protected inPlot = true;\n  protected getRegion(): Region {\n    let start = null;\n    let end = null;\n    const points = this.points;\n    const dim = this.dim;\n    const coord = this.context.view.getCoordinate();\n    const normalStart = coord.invert(head(points));\n    const normalEnd = coord.invert(last(points));\n    if (this.inPlot) {\n      // \u7EA6\u675F\u5230 0 - 1 \u8303\u56F4\u5185\n      clampPoint(normalStart);\n      clampPoint(normalEnd);\n    }\n    if (dim === 'x') {\n      // x \u8F74\u65B9\u5411\u6269\u5C55, y \u8F74\u65B9\u5411\u5360\u6EE1\u5168\u90E8\n      start = coord.convert({\n        x: normalStart.x,\n        y: 0,\n      });\n      end = coord.convert({\n        x: normalEnd.x,\n        y: 1,\n      });\n    } else {\n      // y \u8F74\u65B9\u5411\u6269\u5C55, x \u8F74\u65B9\u5411\u5360\u6EE1\u5168\u90E8\n      start = coord.convert({\n        x: 0,\n        y: normalStart.y,\n      });\n      end = coord.convert({\n        x: 1,\n        y: normalEnd.y,\n      });\n    }\n    return {\n      start,\n      end,\n    };\n  }\n}\n\nexport default DimRect;\n", "import { each } from '@antv/util';\nimport MaskBase from './base';\n\n/**\n * @ignore\n * \u591A\u4E2A\u70B9\u6784\u6210\u7684 Path \u8F85\u52A9\u6846 Action\n */\nclass PathMask extends MaskBase {\n  // \u751F\u6210 mask \u7684\u8DEF\u5F84\n  protected getMaskPath() {\n    const points = this.points;\n    const path = [];\n    if (points.length) {\n      each(points, (point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n      path.push(['L', points[0].x, points[0].y]);\n    }\n    return path;\n  }\n\n  protected getMaskAttrs() {\n    return {\n      path: this.getMaskPath(),\n    };\n  }\n\n  /**\n   * \u6DFB\u52A0\u4E00\u4E2A\u70B9\n   */\n  public addPoint() {\n    this.resize();\n  }\n}\n\nexport default PathMask;\n", "import { getSpline } from '../util';\nimport PathMask from './path';\n\n/**\n * Smooth path mask\n * @ignore\n */\nclass SmoothPathMask extends PathMask {\n  // \u751F\u6210 mask \u7684\u8DEF\u5F84\n  protected getMaskPath() {\n    const points = this.points;\n    return getSpline(points, true);\n  }\n}\n\nexport default SmoothPathMask;\n", "/**\n * @fileoverview \u8BBE\u7F6E\u753B\u5E03\u7684\u7BAD\u5934\uFF0C\u53C2\u770B\uFF1Ahttps://www.w3school.com.cn/jsref/prop_style_cursor.asp\n * @author dxq613\n */\nimport Action from './base';\n\n/**\n * \u9F20\u6807\u5F62\u72B6\u7684 Action\n * @ignore\n */\nclass CursorAction extends Action {\n  private setCursor(cursor) {\n    const view = this.context.view;\n    view.getCanvas().setCursor(cursor);\n  }\n\n  /**\n   * \u9ED8\u8BA4\u5149\u6807\uFF08\u901A\u5E38\u662F\u4E00\u4E2A\u7BAD\u5934\uFF09\n   */\n  public default() {\n    this.setCursor('default');\n  }\n\n  /** \u5149\u6807\u5448\u73B0\u4E3A\u6307\u793A\u94FE\u63A5\u7684\u6307\u9488\uFF08\u4E00\u53EA\u624B\uFF09 */\n  public pointer() {\n    this.setCursor('pointer');\n  }\n  /** \u6B64\u5149\u6807\u6307\u793A\u67D0\u5BF9\u8C61\u53EF\u88AB\u79FB\u52A8\u3002 */\n  public move() {\n    this.setCursor('move');\n  }\n  /** \u5149\u6807\u5448\u73B0\u4E3A\u5341\u5B57\u7EBF\u3002 */\n  public crosshair() {\n    this.setCursor('crosshair');\n  }\n  /** \u6B64\u5149\u6807\u6307\u793A\u7A0B\u5E8F\u6B63\u5FD9\uFF08\u901A\u5E38\u662F\u4E00\u53EA\u8868\u6216\u6C99\u6F0F\uFF09\u3002 */\n  public wait() {\n    this.setCursor('wait');\n  }\n\n  /** \u6B64\u5149\u6807\u6307\u793A\u53EF\u7528\u7684\u5E2E\u52A9\uFF08\u901A\u5E38\u662F\u4E00\u4E2A\u95EE\u53F7\u6216\u4E00\u4E2A\u6C14\u7403\uFF09\u3002 */\n  public help() {\n    this.setCursor('help');\n  }\n\n  /** \u6B64\u5149\u6807\u6307\u793A\u6587\u672C\u3002 */\n  public text() {\n    this.setCursor('text');\n  }\n\n  /**\n   * \u6B64\u5149\u6807\u6307\u793A\u77E9\u5F62\u6846\u7684\u8FB9\u7F18\u53EF\u88AB\u5411\u53F3\uFF08\u4E1C\uFF09\u79FB\u52A8\u3002\n   */\n  public eResize() {\n    this.setCursor('e-resize');\n  }\n\n  /**\n   * \u6B64\u5149\u6807\u6307\u793A\u77E9\u5F62\u6846\u7684\u8FB9\u7F18\u53EF\u88AB\u5411\u5DE6\uFF08\u897F\uFF09\u79FB\u52A8\u3002\n   */\n  public wResize() {\n    this.setCursor('w-resize');\n  }\n\n  /**\n   * \u6B64\u5149\u6807\u6307\u793A\u77E9\u5F62\u6846\u7684\u8FB9\u7F18\u53EF\u88AB\u5411\u4E0A\uFF08\u5317\uFF09\u79FB\u52A8\u3002\n   */\n  public nResize() {\n    this.setCursor('n-resize');\n  }\n\n  /**\n   * \u6B64\u5149\u6807\u6307\u793A\u77E9\u5F62\u6846\u7684\u8FB9\u7F18\u53EF\u88AB\u5411\u4E0B\uFF08\u5357\uFF09\u79FB\u52A8\u3002\n   */\n  public sResize() {\n    this.setCursor('s-resize');\n  }\n  /**\n   * \u5149\u6807\u6307\u793A\u53EF\u79FB\u52A8\u7684\u65B9\u5411 \u53F3\u4E0A\u65B9\uFF08\u4E1C\u5317\uFF09\n   */\n  public neResize() {\n    this.setCursor('ne-resize');\n  }\n  /**\n   * \u5149\u6807\u6307\u793A\u53EF\u79FB\u52A8\u7684\u65B9\u5411 \u5DE6\u4E0A\u65B9\uFF08\u897F\u5317\uFF09\n   */\n  public nwResize() {\n    this.setCursor('nw-resize');\n  }\n  /**\n   * \u5149\u6807\u6307\u793A\u53EF\u79FB\u52A8\u7684\u65B9\u5411\u53F3\u4E0B\u65B9\uFF08\u4E1C\u5357\uFF09\n   */\n  public seResize() {\n    this.setCursor('se-resize');\n  }\n  /**\n   * \u5149\u6807\u6307\u793A\u53EF\u79FB\u52A8\u7684\u65B9\u5411\u5DE6\u4E0B\u65B9\uFF08\u897F\u5357\uFF09\n   */\n  public swResize() {\n    this.setCursor('sw-resize');\n  }\n\n  /**\n   * \u5149\u6807\u6307\u793A\u53EF\u4EE5\u5728\u4E0A\u4E0B\u65B9\u5411\u79FB\u52A8\n   */\n  public nsResize() {\n    this.setCursor('ns-resize');\n  }\n  /**\n   * \u5149\u6807\u6307\u793A\u53EF\u4EE5\u5728\u5DE6\u53F3\u65B9\u5411\u79FB\u52A8\n   */\n  public ewResize() {\n    this.setCursor('ew-resize');\n  }\n}\n\nexport default CursorAction;\n", "import { each } from '@antv/util';\nimport { View } from 'src/chart';\nimport Action from '../base';\nimport { getDelegationObject, getScaleByField, isList, isSlider } from '../util';\n\n/**\n * \u6570\u636E\u8FC7\u6EE4\u3002\n * @ignore\n */\nclass DataFilter extends Action {\n  private filterView(view: View, field, filter) {\n    // \u53EA\u6709\u5B58\u5728\u8FD9\u4E2A scale \u65F6\u624D\u751F\u6548\n    if (view.getScaleByField(field)) {\n      view.filter(field, filter);\n    }\n    if (view.views && view.views.length) {\n      each(view.views, (subView) => {\n        this.filterView(subView, field, filter);\n      });\n    }\n  }\n  /**\n   * \u8FC7\u6EE4\u6570\u636E\n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \u5217\u8868\u7C7B\u7684\u7EC4\u4EF6\u80FD\u591F\u89E6\u53D1\n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names: string[] = unCheckedItems.map((item) => item.name);\n          if (names.length) {\n            this.filterView(view, field, (value) => {\n              const text = scale.getText(value);\n              return !names.includes(text);\n            });\n          } else {\n            this.filterView(view, field, null);\n          }\n          view.render(true);\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        this.filterView(view, field, (value) => {\n          return value >= min && value <= max;\n        });\n        view.render(true);\n      }\n    }\n  }\n}\n\nexport default DataFilter;\n", "import { Point, Scale } from '../../../dependents';\nimport { FilterCondition, EventPayload } from '../../../interface';\nimport { View, Event } from '../../../chart';\nimport Action from '../base';\nimport { isMask } from '../util';\n\n// \u83B7\u53D6\u5BF9\u5E94\u7684 scale\nfunction getFilter(scale: Scale, dim: string, point1: Point, point2: Point): FilterCondition {\n  let min = Math.min(point1[dim], point2[dim]);\n  let max = Math.max(point1[dim], point2[dim]);\n  const [rangeMin, rangeMax] = scale.range;\n  // \u7EA6\u675F\u503C\u5728 scale \u7684 range \u4E4B\u95F4\n  if (min < rangeMin) {\n    min = rangeMin;\n  }\n  if (max > rangeMax) {\n    max = rangeMax;\n  }\n  // \u8303\u56F4\u5927\u4E8E\u6574\u4E2A view \u7684\u8303\u56F4\uFF0C\u5219\u8FD4\u56DE null\n  if (min === rangeMax && max === rangeMax) {\n    return null;\n  }\n  const minValue = scale.invert(min);\n  const maxValue = scale.invert(max);\n  if (scale.isCategory) {\n    const minIndex = scale.values.indexOf(minValue);\n    const maxIndex = scale.values.indexOf(maxValue);\n    const arr = scale.values.slice(minIndex, maxIndex + 1);\n    return (value) => {\n      return arr.includes(value);\n    };\n  } else {\n    return (value) => {\n      return value >= minValue && value <= maxValue;\n    };\n  }\n}\n\n/** range-filter \u53EA\u7528\u4E8E\uFF1Abrush-filter, brush-x-filter, brush-y-filter */\nenum EVENTS {\n  FILTER = 'brush-filter-processing',\n  RESET = 'brush-filter-reset',\n  BEFORE_FILTER = 'brush-filter:beforefilter',\n  AFTER_FILTER = 'brush-filter:afterfilter',\n  BEFORE_RESET = 'brush-filter:beforereset',\n  AFTER_RESET = 'brush-filter:afterreset',\n}\n\nexport { EVENTS as BRUSH_FILTER_EVENTS };\n\n/**\n * \u8303\u56F4\u8FC7\u6EE4\u7684 Action\n * @ignore\n */\nclass RangeFilter extends Action {\n  /** \u5141\u8BB8\u5916\u90E8\u4F20\u5165 dims */\n  protected cfgFields: ['dims'];\n  /**\n   * \u8303\u56F4\u8FC7\u6EE4\u751F\u6548\u7684\u5B57\u6BB5/\u7EF4\u5EA6\uFF0C\u53EF\u4EE5\u662F x, y\n   */\n  protected dims: string[] = ['x', 'y'];\n  /** \u8D77\u59CB\u70B9 */\n  protected startPoint: Point = null;\n\n  private isStarted: boolean = false;\n\n  // x,y \u662F\u5426\u751F\u6548\n  private hasDim(dim: string) {\n    return this.dims.includes(dim);\n  }\n\n  /**\n   * \u5F00\u59CB\u8303\u56F4\u8FC7\u6EE4\uFF0C\u8BB0\u5F55\u8303\u56F4\u8FC7\u6EE4\u7684\u8D77\u70B9\n   */\n  public start() {\n    const context = this.context;\n    this.isStarted = true;\n    this.startPoint = context.getCurrentPoint();\n  }\n\n  /**\n   * \u8FC7\u6EE4\uFF0C\u4EE5\u5F00\u59CB\u7684\u70B9\u548C\u5F53\u524D\u70B9\u5BF9\u6570\u636E\u8FDB\u884C\u8FC7\u6EE4\n   */\n  public filter() {\n    let startPoint;\n    let currentPoint;\n    if (isMask(this.context)) {\n      const maskShape = this.context.event.target;\n      const bbox = maskShape.getCanvasBBox();\n      startPoint = { x: bbox.x, y: bbox.y };\n      currentPoint = { x: bbox.maxX, y: bbox.maxY };\n    } else {\n      if (!this.isStarted) {\n        // \u5982\u679C\u6CA1\u6709\u5F00\u59CB\uFF0C\u5219\u4E0D\u6267\u884C\u8FC7\u6EE4\n        return;\n      }\n      startPoint = this.startPoint;\n      currentPoint = this.context.getCurrentPoint();\n    }\n    if (Math.abs(startPoint.x - currentPoint.x) < 5 || Math.abs(startPoint.x - currentPoint.y) < 5) {\n      // \u8DDD\u79BB\u8FC7\u5C0F\u4E5F\u4E0D\u751F\u6548\n      return;\n    }\n    const { view, event } = this.context;\n    const payload = { view, event, dims: this.dims };\n    view.emit(EVENTS.BEFORE_FILTER, Event.fromData(view, EVENTS.BEFORE_FILTER, payload));\n\n    const coord = view.getCoordinate();\n    const normalCurrent = coord.invert(currentPoint);\n    const normalStart = coord.invert(startPoint);\n    // \u8BBE\u7F6E x \u65B9\u5411\u7684 filter\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      const filter = getFilter(xScale, 'x', normalCurrent, normalStart);\n      this.filterView(view, xScale.field, filter);\n    }\n    // \u8BBE\u7F6E y \u65B9\u5411\u7684 filter\n    if (this.hasDim('y')) {\n      const yScale = view.getYScales()[0];\n      const filter = getFilter(yScale, 'y', normalCurrent, normalStart);\n      this.filterView(view, yScale.field, filter);\n    }\n    this.reRender(view, { source: EVENTS.FILTER });\n\n    view.emit(EVENTS.AFTER_FILTER, Event.fromData(view, EVENTS.AFTER_FILTER, payload));\n  }\n\n  /**\n   * \u7ED3\u675F\n   */\n  public end() {\n    this.isStarted = false;\n  }\n\n  /**\n   * \u53D6\u6D88\u540C\u5F53\u524D Action \u76F8\u5173\u7684\u8FC7\u6EE4\uFF0C\u6307\u5B9A\u7684 x,y\n   */\n  public reset() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_RESET, Event.fromData(view, EVENTS.BEFORE_RESET, {}));\n\n    this.isStarted = false;\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      this.filterView(view, xScale.field, null); // \u53D6\u6D88\u8FC7\u6EE4\n    }\n    if (this.hasDim('y')) {\n      // y \u8F74\u8FC7\u6EE4\u4EC5\u53D6\u7B2C\u4E00\u4E2A yScale\n      const yScale = view.getYScales()[0];\n      this.filterView(view, yScale.field, null); // \u53D6\u6D88\u8FC7\u6EE4\n    }\n    this.reRender(view, { source: EVENTS.RESET });\n\n    view.emit(EVENTS.AFTER_RESET, Event.fromData(view, EVENTS.AFTER_RESET, {}));\n  }\n\n  /**\n   * \u5BF9 view \u8FDB\u884C\u8FC7\u6EE4\n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    view.filter(field, filter);\n  }\n\n  /**\n   * \u91CD\u65B0\u6E32\u67D3\n   * @param view\n   */\n  protected reRender(view: View, payload?: EventPayload) {\n    view.render(true, payload);\n  }\n}\n\nexport default RangeFilter;\n", "import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport { FilterCondition } from '../../../interface';\nimport RangeFilter from './range-filter';\n\nimport { getSilbings } from '../util';\n\n/**\n * \u6570\u636E\u8303\u56F4\u8FC7\u6EE4\uFF0C\u4F46\u4E0D\u5728\u5F53\u524D\u7684 view \u4E0A\u751F\u6548\uFF0C\u800C\u5728\u5F53\u524D\u7684 view \u540C\u4E00\u5C42\u7EA7\u7684\u5176\u4ED6 views \u4E0A\u751F\u6548\uFF0C\u7528\u4E8E\u5B9E\u73B0\u8054\u52A8\u8FC7\u6EE4\u3002\n * @ignore\n */\nclass SiblingFilter extends RangeFilter {\n  /**\n   * \u5BF9 view \u8FDB\u884C\u8FC7\u6EE4\n   * @param view\n   * @param field\n   * @param filter\n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.filter(field, filter);\n    });\n  }\n\n  /**\n   * \u91CD\u65B0\u6E32\u67D3\n   * @param view\n   */\n  protected reRender(view: View) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.render(true);\n    });\n  }\n}\n\nexport default SiblingFilter;\n", "import { each } from '@antv/util';\nimport Action from '../base';\nimport {\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isList,\n  isSlider,\n  isMask,\n  getMaskedElements,\n} from '../util';\n/**\n * \u5143\u7D20\u8FC7\u6EE4\u7684 Action\uFF0C\u63A7\u5236\u5143\u7D20\u7684\u663E\u793A\u9690\u85CF\n * @ignore\n */\nclass ElementFilter extends Action {\n  /**\n   * \u8FC7\u6EE4\n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    const view = this.context.view;\n    const elements = getElements(view);\n    if (isMask(this.context)) {\n      const maskElements = getMaskedElements(this.context, 10);\n      if (maskElements) {\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    } else if (delegateObject) {\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \u5217\u8868\u7C7B\u7684\u7EC4\u4EF6\u80FD\u591F\u89E6\u53D1\n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names = unCheckedItems.map((item) => item.name);\n          // \u76F4\u63A5\u63A7\u5236\u663E\u793A\u3001\u9690\u85CF\n          each(elements, (el) => {\n            const value = getElementValue(el, field);\n            const text = scale.getText(value);\n            if (names.indexOf(text) >= 0) {\n              el.hide();\n            } else {\n              el.show();\n            }\n          });\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        each(elements, (el) => {\n          const value = getElementValue(el, field);\n          if (value >= min && value <= max) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    }\n  }\n  /**\n   * \u6E05\u9664\u8FC7\u6EE4\n   */\n  public clear() {\n    const elements = getElements(this.context.view);\n    each(elements, (el) => {\n      el.show();\n    });\n  }\n\n  /**\n   * \u6062\u590D\u53D1\u751F\u7684\u8FC7\u6EE4\uFF0C\u4FDD\u6301\u540C data-filter \u547D\u540D\u7684\u4E00\u81F4\n   */\n  public reset() {\n    this.clear();\n  }\n}\n\nexport default ElementFilter;\n", "import { each } from '@antv/util';\nimport Action from '../base';\nimport { getElements, getMaskedElements, getSiblingMaskElements, getSilbings, isInRecords, isMask } from '../util';\n\n/**\n * Sibling filter\n * @ignore\n */\nclass SiblingFilter extends Action {\n  protected byRecord = false;\n  /**\n   * \u8FC7\u6EE4\u9690\u85CF\u56FE\u5F62\n   */\n  public filter() {\n    // \u4EC5\u8003\u8651 mask \u5BFC\u81F4\u7684\u8FC7\u6EE4\n    if (isMask(this.context)) {\n      if (this.byRecord) {\n        this.filterByRecord();\n      } else {\n        this.filterByBBox();\n      }\n    }\n  }\n  // \u6839\u636E\u6846\u9009\u7684\u8BB0\u5F55\u6765\u505A\u8FC7\u6EE4\n  private filterByRecord() {\n    const view = this.context.view;\n    const maskElements = getMaskedElements(this.context, 10);\n    if (!maskElements) {\n      return;\n    }\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    const records = maskElements.map((el) => {\n      return el.getModel().data;\n    });\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        const record = el.getModel().data;\n        // records.includes(record) \u4E0D\u751F\u6548\uFF0C\u5E94\u8BE5\u662F\u6570\u636E\u7684\u5F15\u7528\u88AB\u6539\u4E86\n        if (isInRecords(records, record, xFiled, yField)) {\n          el.show();\n        } else {\n          el.hide();\n        }\n      });\n    });\n  }\n\n  // \u6839\u636E\u88AB\u6846\u9009\u7684\u5305\u56F4\u76D2\u505A\u8FC7\u6EE4\n  private filterByBBox() {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const maskElements = getSiblingMaskElements(this.context, sibling, 10);\n      const elements = getElements(sibling);\n      if (maskElements) {\n        // mask \u8FC7\u5C0F\u65F6\u8FD4\u56DE\u4E3A null\uFF0C\u4E0D\u80FD\u662F\u7A7A\u6570\u7EC4\uFF0C\u5426\u5219\u540C\u672A\u6846\u9009\u5230\u6DF7\u6DC6\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * \u6E05\u7406\u6240\u6709\u9690\u85CF\u7684\u56FE\u5F62\n   */\n  public reset() {\n    const siblings = getSilbings(this.context.view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        el.show();\n      });\n    });\n  }\n}\n\nexport default SiblingFilter;\n", "import { LooseObject } from '../../../interface';\nimport { IGroup } from '@antv/g-base';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport { parsePadding } from '../../../util/padding';\nimport Action from '../base';\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Button action\n * @ignore\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    text: 'button',\n    textStyle: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n    padding: [8, 10],\n    style: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    activeStyle: {\n      fill: '#e6e6e6',\n    },\n  };\n  // mix \u9ED8\u8BA4\u7684\u914D\u7F6E\u548C\u7528\u6237\u914D\u7F6E\n  private getButtonCfg(): LooseObject {\n    return deepMix(this.buttonCfg, this.cfg);\n  }\n  // \u7ED8\u5236 Button \u548C \u6587\u672C\n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    // \u6DFB\u52A0\u6587\u672C\n    const textShape = group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle,\n      },\n    });\n    const textBBox = textShape.getBBox();\n    const padding = parsePadding(config.padding);\n    // \u6DFB\u52A0\u80CC\u666F\u6309\u94AE\n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: textBBox.x - padding[3],\n        y: textBBox.y - padding[0],\n        width: textBBox.width + padding[1] + padding[3],\n        height: textBBox.height + padding[0] + padding[2],\n        ...config.style,\n      },\n    });\n    buttonShape.toBack(); // \u5728\u540E\u9762\n    // active \u6548\u679C\u5185\u7F6E\n    group.on('mouseenter', () => {\n      buttonShape.attr(config.activeStyle);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.style);\n    });\n    this.buttonGroup = group;\n  }\n\n  // \u91CD\u7F6E\u4F4D\u7F6E\n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \u540E\u9762\u76F4\u63A5\u6539\u6210\u5DE6\u4E0A\u89D2\n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = ext.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \u663E\u793A\n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \u9690\u85CF\n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \u9500\u6BC1\n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport default ButtonAction;\n", "import { Point } from '../../../dependents';\nimport Action from '../base';\nimport { distance } from '../util';\n\nconst DISTANCE = 4; // \u79FB\u52A8\u7684\u6700\u5C0F\u8DDD\u79BB\n\n/**\n * @ignore\n * View \u652F\u6301 Drag \u7684 Action\n */\nclass Drag extends Action {\n  // Action \u5F00\u59CB\uFF0C\u4E0D\u7B49\u540C\u4E8E \u62D6\u62FD\u5F00\u59CB\uFF0C\u9700\u8981\u5224\u5B9A\u79FB\u52A8\u7684\u8303\u56F4\n  protected starting = false;\n  // \u62D6\u62FD\u5F00\u59CB\n  protected dragStart = false;\n  // \u5F00\u59CB\u7684\u8282\u70B9\n  protected startPoint: Point;\n\n  /**\n   * \u5F00\u59CB\n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n  }\n\n  /**\n   * \u62D6\u62FD\n   */\n  public drag() {\n    if (!this.startPoint) {\n      return;\n    }\n    const current = this.context.getCurrentPoint();\n    const view = this.context.view;\n    const event = this.context.event;\n    if (!this.dragStart) {\n      if (distance(current, this.startPoint) > DISTANCE) {\n        view.emit('dragstart', {\n          target: event.target,\n          x: event.x,\n          y: event.y,\n        });\n        this.dragStart = true;\n      }\n    } else {\n      view.emit('drag', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n  }\n\n  /**\n   * \u7ED3\u675F\n   */\n  public end() {\n    if (this.dragStart) {\n      const view = this.context.view;\n      const event = this.context.event;\n      view.emit('dragend', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n    this.starting = false;\n    this.dragStart = false;\n  }\n}\n\nexport default Drag;\n", "import { ext } from '@antv/matrix-util';\nimport { Action } from '..';\nimport { distance } from '../util';\n\nconst MIN_DISTANCE = 5;\n\n/**\n * @ignore\n * View \u79FB\u52A8\u7684 Action\n */\nclass Move extends Action {\n  private starting = false;\n  private isMoving = false;\n  // private cacheRange = null;\n  private startPoint = null;\n  private startMatrix = null;\n  /**\n   * \u5F00\u59CB\u79FB\u52A8\n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n    // \u7F13\u5B58\u5F00\u59CB\u65F6\u7684\u77E9\u9635\uFF0C\u9632\u6B62\u53CD\u590D\u62D6\u62FD\n    this.startMatrix = this.context.view.middleGroup.getMatrix();\n  }\n\n  /**\n   * \u79FB\u52A8\n   */\n  public move() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const currentPoint = this.context.getCurrentPoint();\n    const d = distance(startPoint, currentPoint);\n    if (d > MIN_DISTANCE && !this.isMoving) {\n      this.isMoving = true;\n    }\n    if (this.isMoving) {\n      const view = this.context.view;\n      const matrix = ext.transform(this.startMatrix, [\n        ['t', currentPoint.x - startPoint.x, currentPoint.y - startPoint.y],\n      ]);\n      view.backgroundGroup.setMatrix(matrix);\n      view.foregroundGroup.setMatrix(matrix);\n      view.middleGroup.setMatrix(matrix);\n    }\n  }\n\n  /**\n   * \u7ED3\u675F\u79FB\u52A8\n   */\n  public end() {\n    if (this.isMoving) {\n      this.isMoving = false;\n    }\n    this.startMatrix = null;\n    this.starting = false;\n    this.startPoint = null;\n  }\n\n  /**\n   * \u56DE\u6EDA\n   */\n  public reset() {\n    this.starting = false;\n    this.startPoint = null;\n    this.isMoving = false;\n\n    const view = this.context.view;\n    view.backgroundGroup.resetMatrix();\n    view.foregroundGroup.resetMatrix();\n    view.middleGroup.resetMatrix();\n    this.isMoving = false;\n  }\n}\n\nexport default Move;\n", "import { Action } from '..';\n\nconst DIM_X = 'x';\nconst DIM_Y = 'y';\n\n/**\n * Scale translate\n * @ignore\n */\nclass ScaleTranslate extends Action {\n  protected dims = [DIM_X, DIM_Y];\n  protected cfgFields = ['dims'];\n  protected cacheScaleDefs = {};\n\n  // \u662F\u5426\u652F\u6301\u5BF9\u5E94\u5B57\u6BB5\u7684\u5E73\u79FB\n  protected hasDim(dim) {\n    return this.dims.includes(dim);\n  }\n\n  protected getScale(dim) {\n    const view = this.context.view;\n    if (dim === 'x') {\n      return view.getXScale();\n    } else {\n      return view.getYScales()[0];\n    }\n  }\n\n  private resetDim(dim) {\n    const view = this.context.view;\n    if (this.hasDim(dim) && this.cacheScaleDefs[dim]) {\n      const scale = this.getScale(dim);\n      view.scale(scale.field, this.cacheScaleDefs[dim]);\n      this.cacheScaleDefs[dim] = null;\n    }\n  }\n\n  /**\n   * \u56DE\u6EDA\n   */\n  public reset() {\n    this.resetDim(DIM_X);\n    this.resetDim(DIM_Y);\n    const view = this.context.view;\n    view.render(true);\n  }\n}\n\nexport default ScaleTranslate;\n", "import { each } from '@antv/util';\nimport { Point } from '../../../dependents';\nimport TransformAction from './scale-transform';\n\n/**\n * \u62D6\u62FD Scale \u7684 Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  protected startPoint: Point = null;\n  protected starting = false;\n  private startCache = {};\n  /**\n   * \u5F00\u59CB\n   */\n  public start() {\n    this.startPoint = this.context.getCurrentPoint();\n    this.starting = true;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      const scale = this.getScale(dim);\n      const { min, max, values } = scale;\n      this.startCache[dim] = { min, max, values };\n    });\n  }\n\n  // \u5E73\u79FB\u5206\u7C7B\u7684\u5EA6\u91CF\n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \u7ED3\u675F\n   */\n  public end() {\n    this.startPoint = null;\n    this.starting = false;\n    this.startCache = {};\n  }\n\n  /**\n   * \u5E73\u79FB\n   */\n  public translate() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const coord = this.context.view.getCoordinate();\n    const currentPoint = this.context.getCurrentPoint();\n    const normalStart = coord.invert(startPoint);\n    const noramlCurrent = coord.invert(currentPoint);\n    const dx = noramlCurrent.x - normalStart.x;\n    const dy = noramlCurrent.y - normalStart.y;\n    const view = this.context.view;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.translateDim(dim, { x: dx * -1, y: dy * -1 });\n    });\n    view.render(true);\n  }\n\n  // \u5E73\u79FB\u5EA6\u91CF\n  private translateDim(dim, normalPoint) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.translateLinear(dim, scale, normalPoint);\n      }\n      //  else { // \u6682\u65F6\u4EC5\u5904\u7406\u8FDE\u7EED\u5B57\u6BB5\n      // this.translateCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \u5EA6\u91CF\u5E73\u79FB\n  private translateLinear(dim, scale, normalPoint) {\n    const view = this.context.view;\n    const { min, max } = this.startCache[dim];\n    const range = max - min;\n    const d = normalPoint[dim] * range;\n    // \u53EA\u6709\u7B2C\u4E00\u6B21\u7F13\u5B58\uFF0C\u5426\u5219\u65E0\u6CD5\u56DE\u6EDA\n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min,\n        max,\n      };\n    }\n    view.scale(scale.field, {\n      // @ts-ignore\n      nice: false,\n      min: min + d,\n      max: max + d,\n    });\n  }\n\n  // \u5E73\u79FB\u5206\u7C7B\u7684\u5EA6\u91CF\n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \u56DE\u6EDA\n   */\n  public reset() {\n    super.reset();\n    this.startPoint = null;\n    this.starting = false;\n  }\n}\n\nexport default ScaleTranslate;\n", "import { each, throttle } from '@antv/util';\nimport TransformAction from './scale-transform';\n\n/**\n * \u7F29\u653E Scale \u7684 Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  private zoomRatio = 0.05;\n  /**\n   * \u7F29\u5C0F\n   */\n  public zoomIn() {\n    this.zoom(this.zoomRatio);\n  }\n\n  private zoom(scale) {\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.zoomDim(dim, scale);\n    });\n    this.context.view.render(true);\n  }\n\n  /**\n   * \u653E\u5927\n   */\n  public zoomOut() {\n    this.zoom(-1 * this.zoomRatio);\n  }\n\n  // \u7F29\u653E\u5EA6\u91CF\n  private zoomDim(dim, dRatio) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.zoomLinear(dim, scale, dRatio);\n      }\n      //  else { // \u6682\u65F6\u4EC5\u5904\u7406\u8FDE\u7EED\u5B57\u6BB5\n      // this.zoomCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \u5EA6\u91CF\u5E73\u79FB\n  private zoomLinear(dim, scale, dRatio) {\n    const view = this.context.view;\n    // \u53EA\u6709\u7B2C\u4E00\u6B21\u7F13\u5B58\uFF0C\u5426\u5219\u65E0\u6CD5\u56DE\u6EDA\n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min: scale.min,\n        max: scale.max,\n      };\n    }\n    // \u4F7F\u7528\u4F7F\u7528\u539F\u59CB\u5EA6\u91CF\u4F5C\u4E3A\u7F29\u653E\u6807\u51C6\n    const scaleDef = this.cacheScaleDefs[dim];\n    const range = scaleDef.max - scaleDef.min;\n    const { min, max } = scale;\n    const d = dRatio * range;\n    const toMin = min - d;\n    const toMax = max + d;\n    const curRange = toMax - toMin;\n    const scaled = curRange / range;\n    if (toMax > toMin && scaled < 100 && scaled > 0.01) {\n      view.scale(scale.field, {\n        // @ts-ignore\n        nice: false,\n        min: min - d,\n        max: max + d,\n      });\n    }\n  }\n\n  // \u5E73\u79FB\u5206\u7C7B\u7684\u5EA6\u91CF\n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n}\n\nexport default ScaleTranslate;\n", "import { clamp, size, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../../constant';\nimport { Action } from '..';\nimport { LooseObject } from '../../../interface';\n\nfunction isWheelDown(event: LooseObject) {\n  const wheelEvent = event.gEvent.originalEvent as WheelEvent;\n  return wheelEvent.deltaY > 0;\n}\n\nconst DEFAULT_WHEELDELTA = 1;\nclass MousewheelScroll extends Action {\n  public scroll(arg?) {\n    const { view, event } = this.context;\n\n    if (!view.getOptions().scrollbar) {\n      return;\n    }\n\n    const wheelDelta = arg?.wheelDelta || DEFAULT_WHEELDELTA;\n    const scrollbarController = view.getController('scrollbar');\n\n    const xScale = view.getXScale();\n    const data = view.getOptions().data;\n    const dataSize = size(valuesOfKey(data, xScale.field));\n    const step = size(xScale.values);\n\n    const currentRatio = scrollbarController.getValue();\n    const currentStart = Math.floor((dataSize - step) * currentRatio);\n\n    const nextStart = currentStart + (isWheelDown(event) ? wheelDelta : -wheelDelta);\n    const correction = wheelDelta / (dataSize - step) / 10000;\n    const nextRatio = clamp(nextStart / (dataSize - step) + correction, 0, 1);\n    scrollbarController.setValue(nextRatio);\n  }\n}\n\nexport default MousewheelScroll;\n", "import { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { deepMix } from '@antv/util';\nimport { HtmlTooltip } from '../../../../dependents';\nimport Action from '../../base';\nimport { getDelegationObject } from '../../util';\nimport cx from 'classnames';\n\nconst AXIS_DESCRIPTION_TOOLTIP = 'aixs-description-tooltip';\n\nclass AxisDescription extends Action {\n  private tooltip;\n\n  public show() {\n    const context = this.context;\n    const { axis } = getDelegationObject(context);\n    const { description, text, descriptionTooltipStyle } = axis.cfg.title;\n    const { x, y } = context.event;\n    if (!this.tooltip) {\n      this.renderTooltip();\n    }\n    this.tooltip.update({\n      title: text || '',\n      customContent: () => {\n        return `\n          <div class=\"${TOOLTIP_CSS_CONST.CONTAINER_CLASS}\" style={${descriptionTooltipStyle}}>\n            <div class=\"${TOOLTIP_CSS_CONST.TITLE_CLASS}\">\n              \u5B57\u6BB5\u8BF4\u660E\uFF1A${description}\n            </div>\n          </div>\n        `;\n      },\n      x,\n      y,\n    });\n    this.tooltip.show();\n  }\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  public hide() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  public renderTooltip() {\n    const view = this.context.view;\n    const canvas = view.canvas;\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      visible: false,\n      containerId: AXIS_DESCRIPTION_TOOLTIP,\n      domStyles: {\n        ...deepMix(\n          {},\n          {\n            // \u8D85\u957F\u7684\u65F6\u5019\uFF0Ctooltip tip \u6700\u5927\u5BBD\u5EA6\u4E3A 50%\uFF0C\u7136\u540E\u53EF\u4EE5\u6362\u884C\n            [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: {\n              'max-width': '50%',\n              padding: '10px',\n              'line-height': '15px',\n              'font-size': '12px',\n              color: 'rgba(0, 0, 0, .65)',\n            },\n            [TOOLTIP_CSS_CONST.TITLE_CLASS]: {\n              'word-break': 'break-all',\n              'margin-bottom': '3px',\n            },\n          }\n        ),\n      },\n    });\n    tooltip.init();\n    tooltip.setCapture(false);\n    this.tooltip = tooltip;\n  }\n}\nexport default AxisDescription;\n", "type FlowFunction<P> = (param: P) => P;\n\n/**\n * \u7C7B\u4F3C lodash.flow \u7684\u65B9\u6CD5\n * @param flows\n */\nexport function flow<P>(...flows: FlowFunction<P>[]): FlowFunction<P> {\n  return (param: P) => {\n    return flows.reduce((result: P, f: FlowFunction<P>) => {\n      return f(result);\n    }, param);\n  };\n}\n", "/**\n * \u7C7B\u4F3C lodash.pick \u7684\u65B9\u6CD5\n * @param obj\n * @param keys\n */\nexport function pick(obj: any, keys: string[]): object {\n  const r = {};\n\n  if (obj !== null && typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      const v = obj[key];\n      if (v !== undefined) {\n        r[key] = v;\n      }\n    });\n  }\n  return r;\n}\n", "import { reduce } from '@antv/util';\n/**\n * \u7B80\u5355\u7684\u6A21\u677F\u5F15\u64CE\uFF0C\u4F7F\u7528\u65B9\u5F0F\u5982\u4E0B\uFF08\u7A7A\u683C\u81EA\u52A8\u5FFD\u7565\uFF09\uFF1A\n * template('hello, {name}', { name: 'AntV' }); // hello, AntV\n * @param string\n * @param options\n */\nexport function template(source: string, data?: object): string {\n  if (!data) {\n    return source;\n  }\n  return reduce(\n    // @ts-ignore\n    data,\n    (r: string, v: string, k: string) => r.replace(new RegExp(`{\\\\s*${k}\\\\s*}`, 'g'), v),\n    source\n  );\n}\n", "/**\n * Simplified from https://github.com/zertosh/invariant.\n */\n\nexport enum LEVEL {\n  ERROR = 'error',\n  WARN = 'warn',\n  INFO = 'log',\n}\n\nconst BRAND = 'AntV/G2Plot';\n\n/**\n * \u83B7\u53D6\u9519\u8BEF\u6D88\u606F\n * @param format\n * @param args\n */\nfunction getMessage(format: string, ...args: any[]): string {\n  let argIndex = 0;\n  return `${BRAND}: ${format.replace(/%s/g, (): string => `${args[argIndex++]}`)}`;\n}\n\n/**\n * invariant error\n * @param condition\n * @param format\n * @param args\n */\nexport function invariant(condition: boolean, format: string, ...args: any[]): void {\n  if (!condition) {\n    const error = new Error(getMessage(format, ...args));\n    error.name = BRAND;\n    // error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\n/**\n * \u6253\u5370\u8BED\u53E5\n * @param level\n * @param condition\n * @param format\n * @param args\n */\nexport function log(level: LEVEL, condition: boolean, format, ...args: any[]): void {\n  if (!condition) {\n    console[level](getMessage(format, ...args));\n  }\n}\n", "import { Size } from '../types';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nexport function getContainerSize(ele: HTMLElement): Size {\n  if (!ele) {\n    return { width: 0, height: 0 };\n  }\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n", "import { Geometry, View, Element } from '@antv/g2';\nimport { reduce, get } from '@antv/util';\n\n/**\n * \u5728 View \u4E2D\u67E5\u627E\u7B2C\u4E00\u4E2A\u6307\u5B9A type \u7C7B\u578B\u7684 geometry\n * @param view\n * @param type\n */\nexport function findGeometry(view: View, type: string): Geometry {\n  return view.geometries.find((g: Geometry) => g.type === type);\n}\n\n/**\n * \u83B7\u53D6 View \u7684 \u6240\u6709 elements\n */\nexport function getAllElements(view: View): Element[] {\n  return reduce(\n    view.geometries,\n    (r: Element[], geometry: Geometry) => {\n      return r.concat(geometry.elements);\n    },\n    []\n  );\n}\n\n/**\n * \u9012\u5F52\u83B7\u53D6 View \u7684 \u6240\u6709 elements, \u5305\u62EC View \u7684\u5B50 View\n */\nexport function getAllElementsRecursively(view: View): Element[] {\n  if (get(view, ['views', 'length'], 0) <= 0) {\n    return getAllElements(view);\n  }\n\n  return reduce(\n    view.views,\n    (ele: Element[], subView: View) => {\n      return ele.concat(getAllElementsRecursively(subView));\n    },\n    getAllElements(view)\n  );\n}\n\n/**\n * \u9012\u5F52\u83B7\u53D6 View \u7684 \u6240\u6709 geometries, \u5305\u62EC View \u7684\u5B50 View\n */\nexport function getAllGeometriesRecursively(view: View): Geometry[] {\n  if (get(view, ['views', 'length'], 0) <= 0) {\n    return view.geometries;\n  }\n\n  return reduce(\n    view.views,\n    (ele: Geometry[], subView: View) => {\n      return ele.concat(subView.geometries);\n    },\n    view.geometries\n  );\n}\n", "import { View } from '@antv/g2';\n\n/**\n * \u5728 Chart \u4E2D\u67E5\u627E\u7279\u5B9A id \u7684\u5B50 View\n * @param chart\n * @param id\n */\nexport function findViewById(chart: View, id: string): View {\n  return chart.views.find((view: View) => view.id === id);\n}\n\n/**\n * \u83B7\u53D6\u540C view \u540C\u4E00\u7EA7\u7684\u6240\u6709 views\n * @param view \u5F53\u524D view\n * @returns \u540C\u4E00\u7EA7\u7684 views\n * @ignore\n */\nexport function getViews(view: View): View[] {\n  const parent = view.parent;\n  return parent ? parent.views : [];\n}\n\n/**\n * \u83B7\u53D6\u540C view \u540C\u4E00\u7EA7\u7684 views\uFF0C\u4E0D\u5305\u62EC\u81EA\u8EAB\n * @param view \u5F53\u524D view\n * @returns \u540C\u4E00\u7EA7\u7684 views\n * @ignore\n */\nexport function getSiblingViews(view: View): View[] {\n  return getViews(view).filter((sub) => sub !== view);\n}\n", "import { isType } from '@antv/util';\n/**\n * \u517C\u5BB9 v1 label formatter\n * @param labelOptions\n */\nexport function transformLabel(labelOptions: any) {\n  if (!isType(labelOptions, 'Object')) {\n    return labelOptions;\n  }\n  const label = { ...labelOptions };\n  if (label.formatter && !label.content) {\n    label.content = label.formatter;\n  }\n  return label;\n}\n", "import { vec2 } from '@antv/matrix-util';\nimport { Position, Point } from '../types/common';\n\nexport function points2Path(points: Point[], isInCircle: boolean) {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n * \u8BA1\u7B97\u5149\u6ED1\u7684\u8D1D\u585E\u5C14\u66F2\u7EBF\n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  let prevPoint: Position;\n  let nextPoint: Position;\n  const hasConstraint = !!constraint;\n  let min: Position;\n  let max: Position;\n  if (hasConstraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n    min = vec2.min([0, 0], min, constraint[0]) as [number, number];\n    max = vec2.max([0, 0], max, constraint[1]) as [number, number];\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(point);\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n    let v: [number, number] = [0, 0];\n    v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n    v = vec2.scale(v, v, smooth) as [number, number];\n\n    let d0 = vec2.distance(point, prevPoint);\n    let d1 = vec2.distance(point, nextPoint);\n\n    const sum = d0 + d1;\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    const v1 = vec2.scale([0, 0], v, -d0);\n    const v2 = vec2.scale([0, 0], v, d1);\n\n    let cp0 = vec2.add([0, 0], point, v1);\n    let cp1 = vec2.add([0, 0], point, v2);\n\n    if (hasConstraint) {\n      cp0 = vec2.max([0, 0], cp0, min);\n      cp0 = vec2.min([0, 0], cp0, max);\n      cp1 = vec2.max([0, 0], cp1, min);\n      cp1 = vec2.min([0, 0], cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n  return cps;\n};\n\n/**\n * @ignore\n * \u8D1D\u585E\u5C14\u66F2\u7EBF\n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]) {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n * \u6839\u636E\u5173\u952E\u70B9\u83B7\u53D6\u9650\u5B9A\u4E86\u8303\u56F4\u7684\u5E73\u6ED1\u7EBF\n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]) {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \u4E24\u70B9\u4EE5\u5185\u76F4\u63A5\u7ED8\u5236\u6210\u8DEF\u5F84\n    return points2Path(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \u8303\u56F4\n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n", "const MAX_MIX_LEVEL = 5; // \u6700\u5927\u6BD4\u5BF9\u5C42\u7EA7\n\nconst toString = {}.toString;\n\n// \u7C7B\u578B\u68C0\u6D4B\nconst isType = (value: any, type: string): boolean => toString.call(value) === '[object ' + type + ']';\n\nconst isArray = (value: any): value is Array<any> => {\n  return isType(value, 'Array');\n};\n\nconst isObjectLike = (value: any): value is object => {\n  /**\n   * isObjectLike({}) => true\n   * isObjectLike([1, 2, 3]) => true\n   * isObjectLike(Function) => false\n   */\n  return typeof value === 'object' && value !== null;\n};\n\nconst isPlainObject = (value: any): value is object => {\n  /**\n   * isObjectLike(new Foo) => false\n   * isObjectLike([1, 2, 3]) => false\n   * isObjectLike({ x: 0, y: 0 }) => true\n   */\n  if (!isObjectLike(value) || !isType(value, 'Object')) {\n    return false;\n  }\n  let proto = value;\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Object.getPrototypeOf(value) === proto;\n};\n\n/***\n * @param {any} dist\n * @param {any} src\n * @param {number} level \u5F53\u524D\u5C42\u7EA7\n * @param {number} maxLevel \u6700\u5927\u5C42\u7EA7\n */\nconst deep = (dist, src, level?, maxLevel?) => {\n  level = level || 0;\n  maxLevel = maxLevel || MAX_MIX_LEVEL;\n  for (const key in src) {\n    if (Object.prototype.hasOwnProperty.call(src, key)) {\n      const value = src[key];\n      if (!value) {\n        // null \u3001 undefined \u7B49\u60C5\u51B5\u76F4\u63A5\u8D4B\u503C\n        dist[key] = value;\n      } else {\n        if (isPlainObject(value)) {\n          if (!isPlainObject(dist[key])) {\n            dist[key] = {};\n          }\n          if (level < maxLevel) {\n            deep(dist[key], value, level + 1, maxLevel);\n          } else {\n            // \u5C42\u7EA7\u8FC7\u6DF1\u76F4\u63A5\u8D4B\u503C\uFF0C\u6027\u80FD\u95EE\u9898\n            dist[key] = src[key];\n          }\n        } else if (isArray(value)) {\n          dist[key] = [];\n          dist[key] = dist[key].concat(value);\n        } else {\n          dist[key] = value;\n        }\n      }\n    }\n  }\n};\n\n/**\n * deepAssign \u529F\u80FD\u7C7B\u4F3C deepMix\n * \u4E0D\u540C\u70B9\u5728\u4E8E deepAssign \u4F1A\u5C06 null undefined \u7B49\u7C7B\u578B\u76F4\u63A5\u8986\u76D6\u7ED9 source\n * \u8BE6\u7EC6\u53C2\u8003\uFF1A __tests__/unit/utils/deep-assign-spec.ts\n */\nexport const deepAssign = (rst: any, ...args: any[]) => {\n  for (let i = 0; i < args.length; i += 1) {\n    deep(rst, args[i]);\n  }\n  return rst;\n};\n", "/**\n * @desc simple kebabCase like lodash\n *\n * kebabCase('fooBar'); => 'foo-bar'\n */\nexport function kebabCase(word: string) {\n  if (!word) {\n    return word;\n  }\n  const result = word.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);\n  return result.map((s: string) => s.toLowerCase()).join('-');\n}\n", "import { View, IGroup } from '@antv/g2';\nimport { each, get, isNumber, isFunction, isString } from '@antv/util';\nimport { Datum, ShapeStyle, Statistic, StatisticText } from '../types';\nimport { pick, kebabCase } from '.';\n\n/**\n * @desc \u751F\u6210 html-statistic \u7684 style \u5B57\u7B26\u4E32 (\u517C\u5BB9 canvas \u7684 shapeStyle \u5230 css\u6837\u5F0F\u4E0A)\n *\n * @param width\n * @param style\n */\nexport function adapteStyle(style?: StatisticText['style']): object {\n  const styleObject = {\n    overflow: 'hidden',\n    'white-space': 'nowrap',\n    'text-overflow': 'ellipsis',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  };\n\n  const shapeStyleKeys = [\n    'stroke',\n    'lineWidth',\n    'shadowColor',\n    'strokeOpacity',\n    'shadowBlur',\n    'shadowOffsetX',\n    'shadowOffsetY',\n    'fill',\n  ];\n\n  // \u517C\u5BB9 shapeStyle \u8BBE\u7F6E \u00B7 start\n  if (get(style, 'fill')) {\n    styleObject['color'] = style['fill'];\n  }\n  const {\n    shadowColor,\n    shadowBlur = 0,\n    shadowOffsetX = 0,\n    shadowOffsetY = 0,\n  } = pick(style, shapeStyleKeys) as ShapeStyle;\n  styleObject['text-shadow'] = `${[shadowColor, `${shadowOffsetX}px`, `${shadowOffsetY}px`, `${shadowBlur}px`].join(\n    ' '\n  )}`;\n\n  const { stroke, lineWidth = 0 } = pick(style, shapeStyleKeys) as ShapeStyle;\n  styleObject['-webkit-text-stroke'] = `${[`${lineWidth}px`, stroke].join(' ')}`;\n  // \u517C\u5BB9 shapeStyle \u8BBE\u7F6E \u00B7 end\n\n  each(style, (v, k) => {\n    //  \u517C\u5BB9 shapeStyle \u7684 fontSize \u6CA1\u6709\u5355\u4F4D\n    if (['fontSize'].includes(k) && isNumber(v)) {\n      styleObject[kebabCase(k)] = `${v}px`;\n    } else if (k && !shapeStyleKeys.includes(k)) {\n      styleObject[kebabCase(k)] = `${v}`;\n    }\n  });\n\n  return styleObject;\n}\n\n/**\n * @desc \u8BBE\u7F6E html-statistic \u5BB9\u5668\u7684\u9ED8\u8BA4\u6837\u5F0F\n *\n * - \u9ED8\u8BA4\u4E8B\u4EF6\u7A7F\u900F\n */\nexport function setStatisticContainerStyle(container: HTMLElement, style: Partial<CSSStyleDeclaration>) {\n  container.style['pointer-events'] = 'none';\n  each(style, (v, k) => {\n    if (k && v) {\n      container.style[k] = v;\n    }\n  });\n}\n\n/**\n * \u6E32\u67D3\u73AF\u56FE html-annotation\uFF08\u9ED8\u8BA4 position \u5C45\u4E2D [50%, 50%]\uFF09\n * @param chart\n * @param options\n * @param meta \u5B57\u6BB5\u5143\u4FE1\u606F\n * @param {optional} datum \u5F53\u524D\u7684\u5143\u6570\u636E\n */\nexport const renderStatistic = (chart: View, options: { statistic: Statistic; plotType: string }, datum?: Datum) => {\n  const { statistic, plotType } = options;\n  const { title: titleOpt, content: contentOpt } = statistic;\n\n  [titleOpt, contentOpt].forEach((option, idx) => {\n    if (!option) {\n      return;\n    }\n    let transform = '';\n    if (idx === 0) {\n      transform = contentOpt ? 'translate(-50%, -100%)' : 'translate(-50%, -50%)';\n    } else {\n      transform = titleOpt ? 'translate(-50%, 0)' : 'translate(-50%, -50%)';\n    }\n    const style = isFunction(option.style) ? option.style(datum) : option.style;\n\n    chart.annotation().html({\n      position: ['50%', '50%'],\n      html: (container, view) => {\n        const coordinate = view.getCoordinate();\n        let containerW = 0;\n        if (plotType === 'pie' || plotType === 'ring-progress') {\n          containerW = coordinate.getRadius() * coordinate.innerRadius * 2;\n        } else if (plotType === 'liquid') {\n          const liquidShape = get(view.geometries, [0, 'elements', 0, 'shape']);\n          if (liquidShape) {\n            // \u83B7\u53D6\u5230\u6C34\u6CE2\u56FE\u8FB9\u6846\u5927\u5C0F\n            const path = (liquidShape as IGroup).find((t) => t.get('name') === 'wrap');\n            const { width } = path.getCanvasBBox();\n            containerW = width;\n          }\n        } else if (!containerW) {\n          // \u4FDD\u5E95\u65B9\u6848\n          containerW = coordinate.getWidth();\n        }\n        setStatisticContainerStyle(container, {\n          width: `${containerW}px`,\n          transform,\n          // user's style setting has high priority\n          ...adapteStyle(style),\n        });\n\n        const filteredData = view.getData();\n        if (option.customHtml) {\n          return option.customHtml(container, view, datum, filteredData);\n        }\n\n        let text = option.content;\n        if (option.formatter) {\n          text = option.formatter(datum, filteredData);\n        }\n        // todo G2 \u5C42\u4FEE\u590D\u53EF\u4EE5\u8FD4\u56DE\u7A7A\u5B57\u7B26\u4E32 & G2 \u5C42\u4FEE\u590D\u5141\u8BB8\u8FD4\u56DE\u975E\u5B57\u7B26\u4E32\u7684\u5185\u5BB9\uFF0C\u6BD4\u5982\u6570\u503C number\n        return text ? (isString(text) ? text : `${text}`) : '<div></div>';\n      },\n      // @ts-ignore\n      key: `${idx === 0 ? 'top' : 'bottom'}-statistic`,\n      ...pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /** \u900F\u4F20\u914D\u7F6E */,\n    });\n  });\n};\n\n/**\n * \u6E32\u67D3 html-annotation for gauge (\u7B49\u4E0D\u89C4\u5219 plot), \u9ED8\u8BA4 position \u5C45\u4E2D\u5C45\u5E95 [50%, 100%]\uFF09\n * @param chart\n * @param options\n * @param meta \u5B57\u6BB5\u5143\u4FE1\u606F\n * @param {optional} datum \u5F53\u524D\u7684\u5143\u6570\u636E\n */\nexport const renderGaugeStatistic = (chart: View, options: { statistic: Statistic }, datum?: Datum) => {\n  const { statistic } = options;\n  const { title: titleOpt, content: contentOpt } = statistic;\n\n  [titleOpt, contentOpt].forEach((option) => {\n    if (!option) {\n      return;\n    }\n    const style = isFunction(option.style) ? option.style(datum) : option.style;\n    chart.annotation().html({\n      position: ['50%', '100%'],\n      html: (container, view) => {\n        const coordinate = view.getCoordinate();\n        // \u5F27\u5F62\u7684\u5750\u6807\n        const polarCoord = view.views[0].getCoordinate();\n        const polarCenter = polarCoord.getCenter();\n        const polarRadius = polarCoord.getRadius();\n        const polarMaxY = Math.max(Math.sin(polarCoord.startAngle), Math.sin(polarCoord.endAngle)) * polarRadius;\n        const offsetY = polarCenter.y + polarMaxY - coordinate.y.start - parseFloat(get(style, 'fontSize', 0));\n\n        const containerWidth = coordinate.getRadius() * coordinate.innerRadius * 2;\n        setStatisticContainerStyle(container, {\n          width: `${containerWidth}px`,\n          transform: `translate(-50%, ${offsetY}px)`,\n          // user's style setting has high priority\n          ...adapteStyle(style),\n        });\n\n        const filteredData = view.getData();\n        if (option.customHtml) {\n          return option.customHtml(container, view, datum, filteredData);\n        }\n\n        let text = option.content;\n        if (option.formatter) {\n          text = option.formatter(datum, filteredData);\n        }\n\n        // todo G2 \u5C42\u4FEE\u590D\u53EF\u4EE5\u8FD4\u56DE\u7A7A\u5B57\u7B26\u4E32 & G2 \u5C42\u4FEE\u590D\u5141\u8BB8\u8FD4\u56DE\u975E\u5B57\u7B26\u4E32\u7684\u5185\u5BB9\uFF0C\u6BD4\u5982\u6570\u503C number\n        return text ? (isString(text) ? text : `${text}`) : '<div></div>';\n      },\n      ...pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /** \u900F\u4F20\u914D\u7F6E */,\n    });\n  });\n};\n", "let ctx: CanvasRenderingContext2D;\n\n/**\n * \u83B7\u53D6 canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n", "import { isString, memoize, values } from '@antv/util';\nimport { getCanvasContext } from './context';\n\n/**\n * \u8BA1\u7B97\u6587\u672C\u5728\u753B\u5E03\u4E2D\u7684\u5BBD\u5EA6\n * @param text \u6587\u672C\n * @param font \u5B57\u4F53\n */\nexport const measureTextWidth = memoize(\n  (text: string, font: any = {}): number => {\n    const { fontSize, fontFamily = 'sans-serif', fontWeight, fontStyle, fontVariant } = font;\n    const ctx = getCanvasContext();\n    // @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/font\n    ctx.font = [fontStyle, fontWeight, fontVariant, `${fontSize}px`, fontFamily].join(' ');\n    const metrics = ctx.measureText(isString(text) ? text : '');\n    return metrics.width;\n  },\n  (text: string, font = {}) => [text, ...values(font)].join('')\n);\n", "/**\n * \u662F\u5426\u771F\u5B9E\u7684\u662F\u6570\u5B57\n * @param v\n */\nexport function isRealNumber(v: any) {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n", "import { get, isNumber, filter } from '@antv/util';\nimport { Data, Datum, Meta, Options } from '../types';\nimport { Node, NodeLinkData } from '../types/relation-data';\nimport { LEVEL, log } from './invariant';\nimport { pick } from './pick';\n\n/**\n * \u67E5\u770B\u6570\u636E\u662F\u5426\u662F\u5168\u8D1F\u6570\u3001\u6216\u8005\u5168\u6B63\u6570\n * @param data\n * @param field\n */\nexport function adjustYMetaByZero(data: Data, field: string): Meta {\n  if (!data) return {};\n  // \u8FC7\u6EE4\u51FA\u6570\u5B57\u6570\u636E\n  const numberData = data.filter((datum: Datum) => {\n    const v = get(datum, [field]);\n    return isNumber(v) && !isNaN(v);\n  });\n\n  const gtZero = numberData.every((datum: Datum) => get(datum, [field]) >= 0);\n  const ltZero = numberData.every((datum: Datum) => get(datum, [field]) <= 0);\n\n  // \u76EE\u524D\u662F\u589E\u91CF\u66F4\u65B0\uFF0C\u5BF9 { min: 0, max: undefined } \u8FDB\u884C update({ max: 0 }) \u4F1A\u5F97\u5230 { min: 0, max: 0 }\n  if (gtZero) {\n    return { min: 0 };\n  }\n  if (ltZero) {\n    return { max: 0 };\n  }\n  return {};\n}\n\n/**\n * \u8F6C\u6362\u6570\u636E\u683C\u5F0F\u4E3A\u5E26\u6709\u8282\u70B9\u4E0E\u8FB9\u7684\u6570\u636E\u683C\u5F0F\n * @param data\n * @param sourceField\n * @param targetField\n * @param weightField\n * @param rawFields \u5B58\u653E\u4E00\u4E9B\u539F\u6570\u636E\n */\nexport function transformDataToNodeLinkData(\n  data: Data,\n  sourceField: string,\n  targetField: string,\n  weightField: string,\n  rawFields: string[] = []\n): NodeLinkData {\n  if (!Array.isArray(data)) {\n    return {\n      nodes: [],\n      links: [],\n    };\n  }\n\n  //   const nodes = [];\n  const links = [];\n  // \u5148\u4F7F\u7528\u5BF9\u8C61\u65B9\u5F0F\u5B58\u50A8\n  const nodesMap: Record<string, Node> = {};\n  let nodesIndex = -1;\n  // \u6570\u7EC4\u53D8\u6362\u6210 chord layout \u7684\u6570\u636E\u7ED3\u6784\n  data.forEach((datum: Datum) => {\n    const source = datum[sourceField];\n    const target = datum[targetField];\n    const weight = datum[weightField];\n\n    const rawData = pick(datum, rawFields);\n\n    // source node\n    if (!nodesMap[source]) {\n      nodesMap[source] = {\n        id: ++nodesIndex,\n        name: source,\n        ...rawData,\n      };\n    }\n    if (!nodesMap[target]) {\n      nodesMap[target] = {\n        id: ++nodesIndex,\n        name: target,\n        ...rawData,\n      };\n    }\n    // links\n    links.push({\n      source: nodesMap[source].id,\n      target: nodesMap[target].id,\n      // sourceName: source,\n      // targetName: target,\n      value: weight,\n      ...rawData,\n    });\n  });\n  return {\n    // \u9700\u8981\u6309\u7167 id \u7684\u987A\u5E8F\n    nodes: Object.values(nodesMap).sort((a, b) => a.id - b.id),\n    links,\n  };\n}\n\n/**\n * \u5904\u7406\u4E0D\u5408\u6CD5\u7684\u6570\u636E(\u8FC7\u6EE4 \u975E\u6570\u503C\u578B \u548C NaN\uFF0C\u4FDD\u7559 null)\n * @param data\n * @param angleField\n */\nexport function processIllegalData(data: Options['data'], field: string) {\n  const processData = filter(data, (d) => {\n    const v = d[field];\n    return v === null || (typeof v === 'number' && !isNaN(v));\n  });\n\n  // \u6253\u5370\u5F02\u5E38\u6570\u636E\u60C5\u51B5\n  log(LEVEL.WARN, processData.length === data.length, 'illegal data existed in chart data.');\n\n  return processData;\n}\n", "import { Types } from '@antv/g2';\nimport { isNumber, isArray } from '@antv/util';\n\n/**\n * \u628A padding \u8F6C\u6362\u6210\u7EDF\u4E00\u7684\u6570\u7EC4\u5199\u6CD5\n * @param padding\n */\nexport function normalPadding(padding: number | number[] | 'auto'): [number, number, number, number] {\n  if (isNumber(padding)) {\n    return [padding, padding, padding, padding];\n  }\n  if (isArray(padding)) {\n    const length = padding.length;\n\n    if (length === 1) {\n      return [padding[0], padding[0], padding[0], padding[0]];\n    }\n    if (length === 2) {\n      return [padding[0], padding[1], padding[0], padding[1]];\n    }\n    if (length === 3) {\n      return [padding[0], padding[1], padding[2], padding[1]];\n    }\n    if (length === 4) {\n      return padding as [number, number, number, number];\n    }\n  }\n\n  return [0, 0, 0, 0];\n}\n\n/**\n * \u83B7\u53D6\u8C03\u6574\u7684 appendPadding\n */\nexport function getAdjustAppendPadding(padding: Types.ViewAppendPadding, position = 'bottom', append = 25) {\n  const currentAppendPadding = normalPadding(padding);\n\n  const PADDING = [\n    position.startsWith('top') ? append : 0,\n    position.startsWith('right') ? append : 0,\n    position.startsWith('bottom') ? append : 0,\n    position.startsWith('left') ? append : 0,\n  ];\n  return [\n    currentAppendPadding[0] + PADDING[0],\n    currentAppendPadding[1] + PADDING[1],\n    currentAppendPadding[2] + PADDING[2],\n    currentAppendPadding[3] + PADDING[3],\n  ];\n}\n\n/**\n * \u6839\u636E\u56FE\u8868\u7684 padding \u548C appendPadding \u8BA1\u7B97\u51FA\u56FE\u8868\u7684\u6700\u7EC8 padding\n * @param array\n */\nexport function resolveAllPadding(paddings: Types.ViewPadding[]) {\n  // \u5148\u628A\u6570\u7EC4\u91CC\u7684 padding \u5168\u90E8\u8F6C\u6362\u6210 normal\n  const normalPaddings = paddings.map((item) => normalPadding(item));\n  let finalPadding = [0, 0, 0, 0];\n  if (normalPaddings.length > 0) {\n    finalPadding = finalPadding.map((item, index) => {\n      // \u6709\u51E0\u4E2A padding \u6570\u7EC4\u5C31\u904D\u5386\u51E0\u6B21\uFF0C\u7D2F\u52A0\n      normalPaddings.forEach((d, i) => {\n        item += normalPaddings[i][index];\n      });\n      return item;\n    });\n  }\n  return finalPadding;\n}\n", "import { each } from '@antv/util';\n/**\n * @file \u5168\u5C40\u7684\u4E00\u4E9B\u53D8\u91CF\u5B9A\u4E49\uFF1A\u542B\u56FD\u9645\u5316\u3001\u4E3B\u9898...\n */\nexport const GLOBAL = {\n  /** \u5168\u5C40\u8BED\u8A00 */\n  locale: 'en-US',\n};\n\n/**\n * \u5168\u5C40\u53D8\u91CF\u8BBE\u7F6E\n * @param key\n * @param value\n */\nexport function setGlobal(datum: Record<string, any>): void {\n  each(datum, (v, k) => (GLOBAL[k] = v));\n}\n", "import { get } from '@antv/util';\nimport { Locale } from '../types/locale';\nimport { template } from '../utils';\nimport { GLOBAL } from './global';\n\nconst LocaleMap = {};\n\n/**\n * register a locale\n * @param locale\n * @param localeObj\n */\nexport function registerLocale(locale: string, localeObj: Locale) {\n  LocaleMap[locale] = localeObj;\n}\n\n/**\n * get locale of specific language\n * @param lang\n * @returns\n */\nexport function getLocale(locale: string) {\n  return {\n    get: (key: string | string[], obj?: Record<string, any>) => {\n      return template(\n        get(LocaleMap[locale], key) || get(LocaleMap[GLOBAL.locale], key) || get(LocaleMap['en-US'], key) || key,\n        obj\n      );\n    },\n  };\n}\n", "import { Locale } from '../types/locale';\n\nexport const EN_US_LOCALE: Locale = {\n  locale: 'en-US',\n\n  // General\n  general: {\n    increase: 'Increase',\n    decrease: 'Decrease',\n    root: 'Root',\n  },\n\n  // Plot Components\n  /** statistic text component */\n  statistic: {\n    total: 'Total',\n  },\n  /** conversionTag component */\n  conversionTag: {\n    label: 'Rate',\n  },\n  legend: {},\n  tooltip: {},\n  slider: {},\n  scrollbar: {},\n\n  // Plots\n  waterfall: {\n    total: 'Total',\n  },\n};\n", "import { Locale } from '../types/locale';\n\nexport const ZH_CN_LOCALE: Locale = {\n  locale: 'zh-CN',\n\n  // \u901A\u7528\n  general: {\n    increase: '\u589E\u52A0',\n    decrease: '\u51CF\u5C11',\n    root: '\u521D\u59CB',\n  },\n\n  // \u6309\u7167\u56FE\u8868\u7EC4\u4EF6\n  /** \u4E2D\u5FC3\u6587\u672C */\n  statistic: {\n    total: '\u603B\u8BA1',\n  },\n  /** \u8F6C\u5316\u7387\u7EC4\u4EF6 */\n  conversionTag: {\n    label: '\u8F6C\u5316\u7387',\n  },\n  legend: {},\n  tooltip: {},\n  slider: {},\n  scrollbar: {},\n\n  // \u6309\u7167\u56FE\u8868\u7C7B\u578B\n  waterfall: {\n    total: '\u603B\u8BA1',\n  },\n};\n", "import { Chart, Event, Element, View } from '@antv/g2';\nimport { each } from '@antv/util';\nimport EE from '@antv/event-emitter';\nimport { bind } from 'size-sensor';\nimport { Options, StateName, StateCondition, Size, StateObject, Annotation } from '../types';\nimport { getContainerSize, getAllElementsRecursively, deepAssign, pick } from '../utils';\nimport { Adaptor } from './adaptor';\n\n/** \u5355\u72EC pick \u51FA\u6765\u7684\u7528\u4E8E\u57FA\u7C7B\u7684\u7C7B\u578B\u5B9A\u4E49 */\nexport type PickOptions = Pick<\n  Options,\n  | 'width'\n  | 'height'\n  | 'padding'\n  | 'appendPadding'\n  | 'renderer'\n  | 'pixelRatio'\n  | 'autoFit'\n  | 'syncViewPadding'\n  | 'supportCSSTransform'\n  | 'limitInPlot'\n  | 'locale'\n  | 'defaultInteractions'\n>;\n\nconst SOURCE_ATTRIBUTE_NAME = 'data-chart-source-type';\n\n/** plot \u56FE\u8868\u5BB9\u5668\u7684\u914D\u7F6E */\nexport const PLOT_CONTAINER_OPTIONS = [\n  'padding',\n  'appendPadding',\n  'renderer',\n  'pixelRatio',\n  'syncViewPadding',\n  'supportCSSTransform',\n  'limitInPlot',\n];\n\n/**\n * \u6240\u6709 plot \u7684\u57FA\u7C7B\n */\nexport abstract class Plot<O extends PickOptions> extends EE {\n  /**\n   * \u83B7\u53D6\u9ED8\u8BA4\u7684 options \u914D\u7F6E\u9879\n   * \u6BCF\u4E2A\u7EC4\u4EF6\u90FD\u53EF\u4EE5\u590D\u5199\n   */\n  static getDefaultOptions(): any {\n    return {\n      renderer: 'canvas',\n      xAxis: {\n        nice: true,\n        label: {\n          autoRotate: false,\n          autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n        },\n      },\n      yAxis: {\n        nice: true,\n        label: {\n          autoHide: true,\n          autoRotate: false,\n        },\n      },\n      animation: true,\n    };\n  }\n\n  /** plot \u7C7B\u578B\u540D\u79F0 */\n  public abstract readonly type: string;\n  /** plot \u7684 schema \u914D\u7F6E */\n  public options: O;\n  /** plot \u7ED8\u5236\u7684 dom */\n  public readonly container: HTMLElement;\n  /** G2 chart \u5B9E\u4F8B */\n  public chart: Chart;\n  /** resizer unbind  */\n  private unbind: () => void;\n\n  constructor(container: string | HTMLElement, options: O) {\n    super();\n    this.container = typeof container === 'string' ? document.getElementById(container) : container;\n\n    this.options = deepAssign({}, this.getDefaultOptions(), options);\n\n    this.createG2();\n\n    this.bindEvents();\n  }\n\n  /**\n   * \u521B\u5EFA G2 \u5B9E\u4F8B\n   */\n  private createG2() {\n    const { width, height, defaultInteractions } = this.options;\n\n    this.chart = new Chart({\n      container: this.container,\n      autoFit: false, // G2Plot \u4F7F\u7528 size-sensor \u8FDB\u884C autoFit\n      ...this.getChartSize(width, height),\n      localRefresh: false, // \u9ED8\u8BA4\u5173\u95ED\uFF0C\u76EE\u524D G \u8FD8\u6709\u4E00\u4E9B\u4F4D\u7F6E\u95EE\u9898\uFF0C\u96BE\u4EE5\u6392\u67E5\uFF01\n      ...pick(this.options, PLOT_CONTAINER_OPTIONS),\n      defaultInteractions,\n    });\n\n    // \u7ED9\u5BB9\u5668\u589E\u52A0\u6807\u8BC6\uFF0C\u77E5\u9053\u56FE\u8868\u7684\u6765\u6E90\u533A\u522B\u4E8E G2\n    this.container.setAttribute(SOURCE_ATTRIBUTE_NAME, 'G2Plot');\n  }\n\n  /**\n   * \u8BA1\u7B97\u9ED8\u8BA4\u7684 chart \u5927\u5C0F\u3002\u903B\u8F91\u7B80\u5316\uFF1A\u5982\u679C\u5B58\u5728 width \u6216 height\uFF0C\u5219\u76F4\u63A5\u4F7F\u7528\uFF0C\u5426\u5219\u4F7F\u7528\u5BB9\u5668\u5927\u5C0F\n   * @param width\n   * @param height\n   */\n  private getChartSize(width: number, height: number): Size {\n    const chartSize = getContainerSize(this.container);\n    return { width: width || chartSize.width || 400, height: height || chartSize.height || 400 };\n  }\n\n  /**\n   * \u7ED1\u5B9A\u4EE3\u7406\u6240\u6709 G2 \u7684\u4E8B\u4EF6\n   */\n  private bindEvents() {\n    if (this.chart) {\n      this.chart.on('*', (e: Event) => {\n        if (e?.type) {\n          this.emit(e.type, e);\n        }\n      });\n    }\n  }\n\n  /**\n   * \u83B7\u53D6\u9ED8\u8BA4\u7684 options \u914D\u7F6E\u9879\n   * \u6BCF\u4E2A\u7EC4\u4EF6\u90FD\u53EF\u4EE5\u590D\u5199\n   */\n  protected getDefaultOptions(): any {\n    return Plot.getDefaultOptions();\n  }\n\n  /**\n   * \u6BCF\u4E2A\u7EC4\u4EF6\u6709\u81EA\u5DF1\u7684 schema adaptor\n   */\n  protected abstract getSchemaAdaptor(): Adaptor<O>;\n\n  /**\n   * \u7ED8\u5236\n   */\n  public render() {\n    // \u66B4\u529B\u5904\u7406\uFF0C\u5148\u6E05\u7A7A\u518D\u6E32\u67D3\uFF0C\u9700\u8981 G2 \u5C42\u81EA\u884C\u505A\u597D\u66F4\u65B0\u6E32\u67D3\n    this.chart.clear();\n    // \u56E0\u4E3A\u5B50 view \u4F1A\u7EE7\u627F\u7236 view \u7684 options \u914D\u7F6E\uFF08\u5305\u62EC legend\uFF0C\u6240\u4EE5\u4F1A\u5BFC\u81F4 legend \u91CD\u590D\u521B\u5EFA\uFF09\n    // \u6240\u4EE5\u8FD9\u91CC\u7ED9 chart \u5B9E\u4F8B\u7684 options \u914D\u7F6E\u6E05\u7A7A\n    // \u6700\u597D\u7684\u89E3\u6CD5\u662F\u5728 G2 view.clear \u65B9\u6CD5\u7684\u65F6\u5019\uFF0C\u91CD\u7F6E options \u914D\u7F6E\u3002\u6216\u8005\u63D0\u4F9B\u65B9\u6CD5\u53BB resetOptions\n    // #1684 \u7406\u8BBA\u4E0A\u5728\u591A view \u56FE\u5F62\u4E0A\uFF0C\u53EA\u8981\u5B58\u5728 custom legend\uFF0C\u90FD\u5B58\u5728\u7C7B\u4F3C\u95EE\u9898\uFF08\u5B50\u5F39\u56FE\u3001\u53CC\u8F74\u56FE\uFF09\n    // @ts-ignore\n    this.chart.options = {\n      data: [],\n      animate: true,\n    };\n    this.chart.views = []; // \u5220\u9664\u5DF2\u6709\u7684 views\n    // \u6267\u884C adaptor\n    this.execAdaptor();\n    // \u6E32\u67D3\n    this.chart.render();\n    // \u7ED1\u5B9A\n    this.bindSizeSensor();\n  }\n\n  /**\n   * \u66F4\u65B0: \u66F4\u65B0\u914D\u7F6E\u4E14\u91CD\u65B0\u6E32\u67D3\n   * @param options\n   */\n  public update(options: Partial<O>) {\n    this.updateOption(options);\n    this.render();\n  }\n\n  /**\n   * \u66F4\u65B0\u914D\u7F6E\n   * @param options\n   */\n  protected updateOption(options: Partial<O>) {\n    this.options = deepAssign({}, this.options, options);\n  }\n\n  /**\n   * \u8BBE\u7F6E\u72B6\u6001\n   * @param type \u72B6\u6001\u7C7B\u578B\uFF0C\u652F\u6301 'active' | 'inactive' | 'selected' \u4E09\u79CD\n   * @param conditions \u6761\u4EF6\uFF0C\u652F\u6301\u6570\u7EC4\n   * @param status \u662F\u5426\u6FC0\u6D3B\uFF0C\u9ED8\u8BA4 true\n   */\n  public setState(type: StateName, condition: StateCondition, status: boolean = true) {\n    const elements = getAllElementsRecursively(this.chart);\n\n    each(elements, (ele: Element) => {\n      if (condition(ele.getData())) {\n        ele.setState(type, status);\n      }\n    });\n  }\n\n  /**\n   * \u83B7\u53D6\u72B6\u6001\n   */\n  public getStates(): StateObject[] {\n    const elements = getAllElementsRecursively(this.chart);\n\n    const stateObjects: StateObject[] = [];\n    each(elements, (element: Element) => {\n      const data = element.getData();\n      const states = element.getStates();\n      each(states, (state) => {\n        stateObjects.push({ data, state, geometry: element.geometry, element });\n      });\n    });\n\n    return stateObjects;\n  }\n\n  /**\n   * \u66F4\u65B0\u6570\u636E\n   * @override\n   * @param options\n   */\n  public changeData(data: any) {\n    // @ts-ignore\n    this.update({ data });\n    // TODO: \u4E34\u65F6\u65B9\u6848\uFF0C\u6700\u597D\u4F7F\u7528\u4E0B\u9762\u7684\u65B9\u5F0F\u53BB\u66F4\u65B0\u6570\u636E\n    // this.chart.changeData(data);\n  }\n\n  /**\n   * \u4FEE\u6539\u753B\u5E03\u5927\u5C0F\n   * @param width\n   * @param height\n   */\n  public changeSize(width: number, height: number) {\n    this.chart.changeSize(width, height);\n  }\n\n  /**\n   * \u589E\u52A0\u56FE\u8868\u6807\u6CE8\u3002\u901A\u8FC7 id \u6807\u8BC6\uFF0C\u5982\u679C\u5339\u914D\u5230\uFF0C\u5C31\u505A\u66F4\u65B0\n   */\n  public addAnnotations(annotations: Annotation[], view?: View): void {\n    view = view ? view : this.chart;\n    const incoming = [...annotations];\n    const controller = view.getController('annotation');\n    const current = controller.getComponents().map((co) => co.extra);\n\n    controller.clear(true);\n    for (let i = 0; i < current.length; i++) {\n      let annotation = current[i];\n\n      const findIndex = incoming.findIndex((item) => item.id && item.id === annotation.id);\n      if (findIndex !== -1) {\n        annotation = deepAssign({}, annotation, incoming[findIndex]);\n        incoming.splice(findIndex, 1);\n      }\n      controller.annotation(annotation);\n    }\n\n    incoming.forEach((annotation) => controller.annotation(annotation));\n    view.render(true);\n  }\n\n  /**\n   * \u5220\u9664\u56FE\u8868\u6807\u6CE8\u3002\u901A\u8FC7 id \u6807\u8BC6\uFF0C\u5982\u679C\u5339\u914D\u5230\uFF0C\u5C31\u505A\u5220\u9664\n   */\n  public removeAnnotations(annotations: Array<{ id: string } & Partial<Annotation>>): void {\n    const controller = this.chart.getController('annotation');\n    const current = controller.getComponents().map((co) => co.extra);\n\n    controller.clear(true);\n    for (let i = 0; i < current.length; i++) {\n      const annotation = current[i];\n\n      if (!annotations.find((item) => item.id && item.id === annotation.id)) {\n        controller.annotation(annotation);\n      }\n    }\n\n    this.chart.render(true);\n  }\n  /**\n   * \u9500\u6BC1\n   */\n  public destroy() {\n    // \u53D6\u6D88 size-sensor \u7684\u7ED1\u5B9A\n    this.unbindSizeSensor();\n    // G2 \u7684\u9500\u6BC1\n    this.chart.destroy();\n    // \u6E05\u7A7A\u5DF2\u7ECF\u7ED1\u5B9A\u7684\u4E8B\u4EF6\n    this.off();\n\n    this.container.removeAttribute(SOURCE_ATTRIBUTE_NAME);\n  }\n\n  /**\n   * \u6267\u884C adaptor \u64CD\u4F5C\n   */\n  protected execAdaptor() {\n    const adaptor = this.getSchemaAdaptor();\n\n    const { padding, appendPadding } = this.options;\n    // \u66F4\u65B0 padding\n    this.chart.padding = padding;\n    // \u66F4\u65B0 appendPadding\n    this.chart.appendPadding = appendPadding;\n\n    // \u8F6C\u5316\u6210 G2 API\n    adaptor({\n      chart: this.chart,\n      options: this.options,\n    });\n  }\n\n  /**\n   * \u5F53\u56FE\u8868\u5BB9\u5668\u5927\u5C0F\u53D8\u5316\u7684\u65F6\u5019\uFF0C\u6267\u884C\u7684\u51FD\u6570\n   */\n  protected triggerResize() {\n    this.chart.forceFit();\n  }\n\n  /**\n   * \u7ED1\u5B9A dom \u5BB9\u5668\u5927\u5C0F\u53D8\u5316\u7684\u4E8B\u4EF6\n   */\n  private bindSizeSensor() {\n    if (this.unbind) {\n      return;\n    }\n\n    const { autoFit = true } = this.options;\n    if (autoFit) {\n      this.unbind = bind(this.container, () => {\n        // \u83B7\u53D6\u6700\u65B0\u7684\u5BBD\u9AD8\u4FE1\u606F\n        const { width, height } = getContainerSize(this.container);\n\n        // \u4E3B\u8981\u662F\u9632\u6B62\u7ED1\u5B9A\u7684\u65F6\u5019\u89E6\u53D1 resize \u56DE\u8C03\n        if (width !== this.chart.width || height !== this.chart.height) {\n          this.triggerResize();\n        }\n      });\n    }\n  }\n\n  /**\n   * \u53D6\u6D88\u7ED1\u5B9A\n   */\n  private unbindSizeSensor() {\n    if (this.unbind) {\n      this.unbind();\n      this.unbind = undefined;\n    }\n  }\n}\n", "/**\n * \u9700\u8981\u4ECE\u8F74\u914D\u7F6E\u4E2D\u63D0\u53D6\u51FA\u6765\u4F5C\u4E3A meta \u7684\u5C5E\u6027 key \u5217\u8868\n */\nexport const AXIS_META_CONFIG_KEYS = [\n  'type',\n  'alias',\n  'tickCount',\n  'tickInterval',\n  'min',\n  'max',\n  'nice',\n  'minLimit',\n  'maxLimit',\n  // \u5750\u6807\u8F74\u7684\u8303\u56F4\n  'range',\n  'tickMethod',\n  // type: 'log' \u7684\u5E95\n  'base',\n  // type: 'exp' \u7684\u6307\u6570\n  'exponent',\n  // time \u7C7B\u578B\u7684\u683C\u5F0F\u5316\n  'mask',\n  // \u662F\u5426\u540C\u6B65\n  'sync',\n];\n", "import { PatternCfg } from '../../types/pattern';\n\n/**\n * \u83B7\u53D6\u8BBE\u5907\u50CF\u7D20\u6BD4\n */\nexport function getPixelRatio(): number {\n  return typeof window === 'object' ? window?.devicePixelRatio : 2;\n}\n\n/**\n * \u521D\u59CB\u5316 cavnas\uFF0C\u8BBE\u7F6E\u5BBD\u9AD8\u7B49\n */\nexport function initCanvas(width: number, height: number = width): HTMLCanvasElement {\n  const canvas = document.createElement('canvas');\n\n  const pixelRatio = getPixelRatio();\n  // \u753B\u5E03\u5C3A\u5BF8\n  canvas.width = width * pixelRatio;\n  canvas.height = height * pixelRatio;\n  // \u663E\u793A\u5C3A\u5BF8\n  canvas.style.width = `${width}px`;\n  canvas.style.height = `${height}px`;\n\n  const ctx = canvas.getContext('2d');\n  ctx.scale(pixelRatio, pixelRatio);\n\n  return canvas;\n}\n\n/**\n * \u7ED8\u5236\u80CC\u666F\n *\n * @param context\n * @param cfg\n * @param width\n * @param height\n */\nexport function drawBackground(\n  context: CanvasRenderingContext2D,\n  cfg: PatternCfg,\n  width: number,\n  height: number = width\n) {\n  const { backgroundColor, opacity } = cfg;\n\n  context.globalAlpha = opacity;\n  context.fillStyle = backgroundColor;\n\n  context.beginPath();\n  context.fillRect(0, 0, width, height);\n  context.closePath();\n}\n\n/**\n * \u8BA1\u7B97\u8D34\u56FE\u5355\u5143\u5927\u5C0F\n *\n * @param size \u5143\u7D20\u5927\u5C0F\n * @param padding \u5706\u70B9\u95F4\u9694\n * @param isStagger \u662F\u5426\u4EA4\u9519\n * @reutrn \u8FD4\u56DE\u8D34\u56FE\u5355\u5143\u5927\u5C0F\n */\nexport function getUnitPatternSize(size: number, padding: number, isStagger: boolean): number {\n  // \u5982\u679C\u4EA4\u9519, unitSize \u653E\u5927\u4E24\u500D\n  const unitSize = size + padding;\n  return isStagger ? unitSize * 2 : unitSize;\n}\n\n/**\n * \u8BA1\u7B97\u6709\u4EA4\u9519\u60C5\u51B5\u7684\u5143\u7D20\u5750\u6807\n *\n * @param unitSize \u8D34\u56FE\u5355\u5143\u5927\u5C0F\n * @param isStagger \u662F\u5426\u4EA4\u9519\n * @reutrn \u5143\u7D20\u4E2D\u5FC3\u5750\u6807 x,y \u6570\u7EC4\u96C6\u5408\n */\nexport function getSymbolsPosition(unitSize: number, isStagger: boolean): number[][] {\n  // \u5982\u679C\u4EA4\u9519, \u4EA4\u9519\u7ED8\u5236 dot\n  const symbolsPos = isStagger\n    ? [\n        [unitSize * (1 / 4), unitSize * (1 / 4)],\n        [unitSize * (3 / 4), unitSize * (3 / 4)],\n      ]\n    : [[unitSize * (1 / 2), unitSize * (1 / 2)]];\n  return symbolsPos;\n}\n\n/**\n * \u7ED9\u6574\u4E2A pattern\u8D34\u56FE \u505A\u53D8\u6362, \u76EE\u524D\u652F\u6301\u65CB\u8F6C\n *\n * @param pattern \u6574\u4E2A\u8D34\u56FE\n * @param dpr  \u8BBE\u5907\u50CF\u7D20\u6BD4\n * @param rotation \u65CB\u8F6C\u89D2\u5EA6\n */\nexport function transformMatrix(dpr: number, rotation: number) {\n  const radian = (rotation * Math.PI) / 180;\n  const matrix = {\n    a: Math.cos(radian) * (1 / dpr),\n    b: Math.sin(radian) * (1 / dpr),\n    c: -Math.sin(radian) * (1 / dpr),\n    d: Math.cos(radian) * (1 / dpr),\n    e: 0,\n    f: 0,\n  };\n  return matrix;\n}\n", "import { DotPatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport {\n  getUnitPatternSize,\n  initCanvas,\n  drawBackground,\n  getSymbolsPosition,\n  transformMatrix,\n  getPixelRatio,\n} from './util';\n\n/**\n * dotPattern\u7684\u9ED8\u8BA4\u914D\u7F6E\n */\nexport const defaultDotPatternCfg = {\n  size: 6,\n  padding: 2,\n  backgroundColor: 'transparent',\n  opacity: 1,\n  rotation: 0,\n  fill: '#fff',\n  fillOpacity: 0.5,\n  stroke: 'transparent',\n  lineWidth: 0,\n  isStagger: true,\n};\n\n/**\n * \u7ED8\u5236\u5706\u70B9\n *\n * @param context\n * @param cfg\n * @param x \u5706\u70B9\u4E2D\u5FC3\u5750\u6807x\n * @param y \u5706\u70B9\u4E2D\u5FC3\u5750\u6807y\n */\nexport function drawDot(context: CanvasRenderingContext2D, cfg: DotPatternCfg, x: number, y: number) {\n  const { size, fill, lineWidth, stroke, fillOpacity } = cfg;\n\n  context.beginPath();\n  context.globalAlpha = fillOpacity;\n  context.fillStyle = fill;\n  context.strokeStyle = stroke;\n  context.lineWidth = lineWidth;\n  context.arc(x, y, size / 2, 0, 2 * Math.PI, false);\n  context.fill();\n  if (lineWidth) {\n    context.stroke();\n  }\n  context.closePath();\n}\n\n/**\n * \u521B\u5EFA dot pattern\uFF0C\u8FD4\u56DE HTMLCanvasElement\n *\n * @param cfg\n * @returns HTMLCanvasElement\n */\nexport function createDotPattern(cfg?: DotPatternCfg): CanvasPattern {\n  const dotCfg = deepAssign({}, defaultDotPatternCfg, cfg);\n\n  const { size, padding, isStagger, rotation } = dotCfg;\n\n  // \u8BA1\u7B97 \u753B\u5E03\u5927\u5C0F\uFF0Cdots\u7684\u4F4D\u7F6E\n  const unitSize = getUnitPatternSize(size, padding, isStagger);\n  const dots = getSymbolsPosition(unitSize, isStagger);\n\n  // \u521D\u59CB\u5316 patternCanvas\n  const canvas = initCanvas(unitSize, unitSize);\n  const ctx = canvas.getContext('2d');\n\n  // \u7ED8\u5236 background\uFF0Cdots\n  drawBackground(ctx, dotCfg, unitSize);\n  for (const [x, y] of dots) {\n    drawDot(ctx, dotCfg, x, y);\n  }\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  return pattern;\n}\n", "import { LinePatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport { initCanvas, drawBackground, transformMatrix, getPixelRatio } from './util';\n\n/**\n * linePattern \u7684 \u9ED8\u8BA4\u914D\u7F6E\n */\nexport const defaultLinePatternCfg = {\n  rotation: 45,\n  spacing: 5,\n  opacity: 1,\n  backgroundColor: 'transparent',\n  strokeOpacity: 0.5,\n  stroke: '#fff',\n  lineWidth: 2,\n};\n\n/**\n * \u7ED8\u5236line\n *\n * @param context canvasContext\n * @param cfg linePattern \u7684\u914D\u7F6E\n * @param d \u7ED8\u5236 path \u6240\u9700\u7684 d\n */\nexport function drawLine(context: CanvasRenderingContext2D, cfg: LinePatternCfg, d: string) {\n  const { stroke, lineWidth, strokeOpacity } = cfg;\n  const path = new Path2D(d);\n\n  context.globalAlpha = strokeOpacity;\n  context.lineCap = 'square';\n  context.strokeStyle = lineWidth ? stroke : 'transparent';\n  context.lineWidth = lineWidth;\n  context.stroke(path);\n}\n\n/**\n * \u521B\u5EFA linePattern\n */\nexport function createLinePattern(cfg?: LinePatternCfg): CanvasPattern {\n  const lineCfg = deepAssign({}, defaultLinePatternCfg, cfg);\n\n  const { spacing, rotation, lineWidth } = lineCfg;\n\n  // \u8BA1\u7B97 pattern \u753B\u5E03\u7684\u5927\u5C0F\uFF0C path \u6240\u9700\u7684 d\n  const width = spacing + lineWidth || 1;\n  const height = spacing + lineWidth || 1;\n  const d = `\n            M 0 0 L ${width} 0\n            M 0 ${height} L ${width} ${height}\n            `;\n\n  // \u521D\u59CB\u5316 patternCanvas\n  const canvas = initCanvas(width, height);\n  const ctx = canvas.getContext('2d');\n\n  // \u7ED8\u5236 background\uFF0Cline\n  drawBackground(ctx, lineCfg, width, height);\n  drawLine(ctx, lineCfg, d);\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  // \u8FD4\u56DE Pattern \u5BF9\u8C61\n  return pattern;\n}\n", "import { SquarePatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport {\n  getUnitPatternSize,\n  initCanvas,\n  drawBackground,\n  getSymbolsPosition,\n  transformMatrix,\n  getPixelRatio,\n} from './util';\n\n/**\n * squarePattern \u7684 \u9ED8\u8BA4\u914D\u7F6E\n */\nexport const defaultSquarePatternCfg = {\n  size: 6,\n  padding: 1,\n  isStagger: true,\n  backgroundColor: 'transparent',\n  opacity: 1,\n  rotation: 0,\n  fill: '#fff',\n  fillOpacity: 0.5,\n  stroke: 'transparent',\n  lineWidth: 0,\n};\n\n/**\n * \u7ED8\u5236square\n *\n * @param context canvasContext\n * @param cfg squarePattern \u7684\u914D\u7F6E\n * @param x\u548Cy square\u7684\u4E2D\u5FC3\u4F4D\u7F6E\n */\nexport function drawSquare(context: CanvasRenderingContext2D, cfg: SquarePatternCfg, x: number, y: number) {\n  const { stroke, size, fill, lineWidth, fillOpacity } = cfg;\n\n  context.globalAlpha = fillOpacity;\n  context.strokeStyle = stroke;\n  context.lineWidth = lineWidth;\n  context.fillStyle = fill;\n  // \u56E0\u4E3A\u6B63\u65B9\u5F62\u7ED8\u5236\u4ECE\u5DE6\u4E0A\u89D2\u5F00\u59CB\uFF0C\u6240\u4EE5x\uFF0Cy\u505A\u4E2A\u504F\u79FB\n  context.strokeRect(x - size / 2, y - size / 2, size, size);\n  context.fillRect(x - size / 2, y - size / 2, size, size);\n}\n\n/**\n * \u521B\u5EFA squarePattern\n */\nexport function createSquarePattern(cfg?: SquarePatternCfg): CanvasPattern {\n  const squareCfg = deepAssign({}, defaultSquarePatternCfg, cfg);\n\n  const { size, padding, isStagger, rotation } = squareCfg;\n\n  // \u8BA1\u7B97 \u753B\u5E03\u5927\u5C0F\uFF0Csquares\u7684\u4F4D\u7F6E\n  const unitSize = getUnitPatternSize(size, padding, isStagger);\n  const squares = getSymbolsPosition(unitSize, isStagger); // \u8BA1\u7B97\u65B9\u6CD5\u4E0E dots \u4E00\u6837\n\n  // \u521D\u59CB\u5316 patternCanvas\n  const canvas = initCanvas(unitSize, unitSize);\n  const ctx = canvas.getContext('2d');\n\n  // \u7ED8\u5236 background\uFF0Csquares\n  drawBackground(ctx, squareCfg, unitSize);\n  for (const [x, y] of squares) {\n    drawSquare(ctx, squareCfg, x, y);\n  }\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  return pattern;\n}\n", "import { DotPatternCfg, LinePatternCfg, SquarePatternCfg } from '../../types/pattern';\nimport { createDotPattern } from './dot';\nimport { createLinePattern } from './line';\nimport { createSquarePattern } from './square';\n\nexport type PatternOption =\n  | {\n      type: 'dot';\n      cfg?: DotPatternCfg;\n    }\n  | {\n      type: 'line';\n      cfg?: LinePatternCfg;\n    }\n  | {\n      type: 'square';\n      cfg?: SquarePatternCfg;\n    };\n\n/**\n * \u83B7\u53D6\u5185\u7F6E\u7684 CanvasPattern \u65B9\u6CD5\n * @param options\n * @returns\n */\nexport function getCanvasPattern(options: PatternOption): CanvasPattern | undefined {\n  const { type, cfg } = options;\n\n  let pattern;\n\n  switch (type) {\n    case 'dot':\n      pattern = createDotPattern(cfg);\n      break;\n    case 'line':\n      pattern = createLinePattern(cfg);\n      break;\n    case 'square':\n      pattern = createSquarePattern(cfg);\n      break;\n    default:\n      break;\n  }\n\n  return pattern;\n}\n", "import { Util } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { getCanvasPattern } from '../utils/pattern';\nimport { Params } from '../core/adaptor';\nimport { Datum, Options, StyleAttr } from '../types';\nimport { deepAssign } from '../utils';\n\n/**\n * \u4F7F\u7528 Pattern \u901A\u9053\u7684 options\uFF0C\u8981\u6C42\u6709 colorField/seriesField/stackField \u4F5C\u4E3A\u5206\u7C7B\u5B57\u6BB5\uFF08\u8FDB\u884C\u989C\u8272\u6620\u5C04\uFF09\n */\ntype OptionsRequiredInPattern = Omit<Options, 'data'>;\n\n/**\n * Pattern \u901A\u9053\uFF0C\u5904\u7406\u56FE\u6848\u586B\u5145\n * \uD83D\uDE80 \u76EE\u524D\u652F\u6301\u56FE\u8868\u7C7B\u578B\uFF1A\u997C\u56FE\u3001\u67F1\u72B6\u56FE\u3001\u6761\u5F62\u56FE\u3001\u7389\u73CF\u56FE\u7B49\uFF08\u4E0D\u652F\u6301\u5728\u591A view \u56FE\u8868\u4E2D\uFF0C\u540E\u7EED\u6309\u9700\u6269\u5C55\uFF09\n *\n * @param key key of style property\n * @returns\n */\nexport function pattern(key: string) {\n  return <O extends OptionsRequiredInPattern = OptionsRequiredInPattern>(params: Params<O>): Params<O> => {\n    const { options, chart } = params;\n    const { pattern: patternOption } = options;\n\n    // \u6CA1\u6709 pattern \u914D\u7F6E\uFF0C\u5219\u76F4\u63A5\u8FD4\u56DE\n    if (!patternOption) {\n      return params;\n    }\n\n    /** ~~~~~~~ \u8FDB\u884C\u8D34\u56FE\u56FE\u6848\u5904\u7406 ~~~~~~~ */\n\n    const style: StyleAttr = (datum?: Datum, ...args: any[]) => {\n      const { defaultColor } = chart.getTheme();\n      let color = defaultColor;\n\n      const colorAttribute = chart.geometries?.[0]?.getAttribute('color');\n      if (colorAttribute) {\n        const colorField = colorAttribute.getFields()[0];\n        const seriesValue = get(datum, colorField);\n        color = Util.getMappingValue(colorAttribute, seriesValue, colorAttribute.values?.[0] || defaultColor);\n      }\n\n      let pattern: CanvasPattern = patternOption as CanvasPattern;\n\n      // 1. \u5982\u679C patternOption \u662F\u4E00\u4E2A\u56DE\u8C03\uFF0C\u5219\u83B7\u53D6\u56DE\u8C03\u7ED3\u679C\u3002`(datum: Datum, color: string) => CanvasPattern`\n      if (typeof patternOption === 'function') {\n        pattern = patternOption.call(this, datum, color);\n      }\n\n      // 2. \u5982\u679C pattern \u4E0D\u662F CanvasPattern\uFF0C\u5219\u8FDB\u4E00\u6B65\u5904\u7406\uFF0C\u5426\u5219\u76F4\u63A5\u8D4B\u4E88\u7ED9 fill\n      if (pattern instanceof CanvasPattern === false) {\n        // \u901A\u8FC7 createPattern(PatternStyle) \u8F6C\u6362\u4E3A CanvasPattern\n        pattern = getCanvasPattern(deepAssign({}, { cfg: { backgroundColor: color } }, pattern));\n      }\n\n      const styleOption = options[key] as StyleAttr;\n\n      return {\n        ...(typeof styleOption === 'function' ? styleOption.call(this, datum, ...args) : styleOption || {}),\n        fill: pattern || color,\n      };\n    };\n\n    return deepAssign({}, params, { options: { [key]: style } });\n  };\n}\n", "import { Geometry, Types } from '@antv/g2';\nimport { each, isNil, isObject } from '@antv/util';\nimport { Params } from '../core/adaptor';\nimport { Options } from '../types';\nimport { Interaction } from '../types/interaction';\nimport { Transformations } from '../types/coordinate';\nimport { Axis } from '../types/axis';\nimport { AXIS_META_CONFIG_KEYS } from '../constant';\nimport { pick, deepAssign } from '../utils';\n\n/**\n * \u901A\u7528 legend \u914D\u7F6E, \u9002\u7528\u4E8E\u5E26 colorField \u6216 seriesField \u7684\u56FE\u8868\n * @param params\n */\nexport function legend<O extends Pick<Options, 'legend'> & { colorField?: string; seriesField?: string }>(\n  params: Params<O>\n): Params<O> {\n  const { chart, options } = params;\n  const { legend, colorField, seriesField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (colorField || seriesField) {\n    chart.legend(colorField || seriesField, legend);\n  }\n\n  return params;\n}\n\n/**\n * \u901A\u7528 tooltip \u914D\u7F6E\n * @param params\n */\nexport function tooltip<O extends Pick<Options, 'tooltip'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip !== undefined) {\n    chart.tooltip(tooltip);\n  }\n\n  return params;\n}\n\n/**\n * Interaction \u914D\u7F6E\n * @param params\n */\nexport function interaction<O extends Pick<Options, 'interactions'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { interactions } = options;\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \u52A8\u753B\n * @param params\n */\nexport function animation<O extends Pick<Options, 'animation'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  // \u540C\u65F6\u8BBE\u7F6E\u6574\u4E2A view \u52A8\u753B\u9009\u9879\n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  // \u6240\u6709\u7684 Geometry \u90FD\u4F7F\u7528\u540C\u4E00\u52A8\u753B\uFF08\u5404\u4E2A\u56FE\u5F62\u5982\u6709\u533A\u522B\uFF0C\u81EA\u884C\u8986\u76D6\uFF09\n  each(chart.geometries, (g: Geometry) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \u8BBE\u7F6E\u5168\u5C40\u4E3B\u9898\u914D\u7F6E\n * @param params\n */\nexport function theme<O extends Pick<Options, 'theme'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { theme } = options;\n\n  // \u5B58\u5728\u4E3B\u9898\u624D\u8BBE\u7F6E\u4E3B\u9898\n  if (theme) {\n    chart.theme(theme);\n  }\n  return params;\n}\n\n/**\n * \u72B6\u6001 state \u914D\u7F6E\n * @param params\n */\nexport function state<O extends Options>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { state } = options;\n\n  if (state) {\n    each(chart.geometries, (geometry: Geometry) => {\n      geometry.state(state);\n    });\n  }\n\n  return params;\n}\n\n/**\n * \u5904\u7406\u7F29\u7565\u8F74\u7684 adaptor\n * @param params\n */\nexport function slider(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { slider } = options;\n\n  chart.option('slider', slider);\n\n  return params;\n}\n\n/**\n * \u5904\u7406\u7F29\u7565\u8F74\u7684 adaptor\n * @param params\n */\nexport function scrollbar(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { scrollbar } = options;\n\n  chart.option('scrollbar', scrollbar);\n\n  return params;\n}\n\n/**\n * scale \u7684 adaptor\n * @param axes\n */\nexport function scale(axes: Record<string, Axis>, meta?: Options['meta']) {\n  return function <O extends Pick<Options, 'meta'>>(params: Params<O>): Params<O> {\n    const { chart, options } = params;\n\n    // 1. \u8F74\u914D\u7F6E\u4E2D\u7684 scale \u4FE1\u606F\n    let scales: Record<string, any> = {};\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n\n    // 2. meta \u76F4\u63A5\u662F scale \u7684\u4FE1\u606F\n    scales = deepAssign({}, meta, options.meta, scales);\n\n    chart.scale(scales);\n\n    return params;\n  };\n}\n\n/**\n * annotation \u914D\u7F6E\n * @param params\n */\nexport function annotation(annotationOptions?: Options['annotations']) {\n  return function <O extends Pick<Options, 'annotations'>>(params: Params<O>): Params<O> {\n    const { chart, options } = params;\n\n    const annotationController = chart.getController('annotation');\n\n    /** \u81EA\u5B9A\u4E49 annotation */\n    each([...(options.annotations || []), ...(annotationOptions || [])], (annotationOption) => {\n      // @ts-ignore\n      annotationController.annotation(annotationOption);\n    });\n\n    return params;\n  };\n}\n\n/**\n * \u81EA\u52A8\u8BBE\u7F6E limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { yAxis, limitInPlot } = options;\n\n  let value = limitInPlot;\n\n  // \u7528\u6237\u6CA1\u6709\u8BBE\u7F6E limitInPlot\uFF0C\u5219\u81EA\u52A8\u6839\u636E yAxis \u662F\u5426\u6709 min/max \u6765\u8BBE\u7F6E limitInPlot\n  if (isObject(yAxis) && isNil(limitInPlot)) {\n    if (Object.values(pick(yAxis, ['min', 'max', 'minLimit', 'maxLimit'])).some((value) => !isNil(value))) {\n      value = true;\n    } else {\n      value = false;\n    }\n  }\n  chart.limitInPlot = value;\n\n  return params;\n}\n\n/**\n * \u5750\u6807\u7CFB\u8F6C\u6362\n */\nexport function transformations(coordinateType: Types.CoordinateOption['type'] = 'rect') {\n  return (params: Params<Options & { coordinate: Transformations }>) => {\n    const { chart, options } = params;\n    const { coordinate } = options;\n\n    const actions: Types.CoordinateActions[] = Array.from(coordinate || [])\n      .map((cfg) => {\n        if (cfg.type === 'reflectX') return ['reflect', 'x'] as Types.CoordinateActions;\n        if (cfg.type === 'reflectY') return ['reflect', 'y'] as Types.CoordinateActions;\n        if (cfg.type === 'transpose') return ['transpose'] as Types.CoordinateActions;\n\n        return null;\n      })\n      .filter((d) => !!d);\n\n    if (actions.length !== 0) {\n      chart.coordinate({ type: coordinateType, actions });\n    }\n\n    return params;\n  };\n}\n\nexport { pattern } from './pattern';\n", "import { get } from '@antv/util';\nimport { Tooltip, TooltipMapping } from '../types/tooltip';\n\n/**\n * \u83B7\u5F97 tooltip \u7684\u6620\u5C04\u4FE1\u606F\n * @param tooltip\n * @param defaultFields\n */\nexport function getTooltipMapping(tooltip: Tooltip, defaultFields: string[]): TooltipMapping {\n  if (tooltip === false) {\n    return {\n      fields: false, // \u5173\u95ED tooltip\n    };\n  }\n\n  let fields = get(tooltip, 'fields');\n  const formatter = get(tooltip, 'formatter');\n\n  if (formatter && !fields) {\n    fields = defaultFields;\n  }\n\n  return {\n    fields,\n    formatter,\n  };\n}\n", "import { uniq, isFunction, isObject, isString, isNumber, isEmpty } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { ColorAttr, ShapeAttr, SizeAttr, StyleAttr, TooltipAttr, Options, Datum } from '../../types';\nimport { Label } from '../../types/label';\nimport { State } from '../../types/state';\nimport { transformLabel } from '../../utils';\n\n/**\n * \u56FE\u5F62\u6620\u5C04\u5C5E\u6027\uFF0C\u6309\u7167\u4F18\u5148\u7EA7\u6765\u7684\n */\nexport type MappingOptions = {\n  /** color \u6620\u5C04 */\n  readonly color?: ColorAttr;\n  /** shape \u6620\u5C04 */\n  readonly shape?: ShapeAttr;\n  /** \u5927\u5C0F\u6620\u5C04, \u63D0\u4F9B\u56DE\u8C03\u7684\u65B9\u5F0F */\n  readonly size?: SizeAttr;\n  /** \u6837\u5F0F\u6620\u5C04 */\n  readonly style?: StyleAttr;\n  /** tooltip \u6620\u5C04 */\n  readonly tooltip?: TooltipAttr;\n};\n\n/**\n * \u4E00\u4E2A\u56FE\u5F62\u6620\u5C04\u7684\u903B\u8F91\uFF0C\u7EAF\u7CB9\u7684\u56FE\u5F62\u8BED\u6CD5\n * // TODO \u540E\u7EED\u9700\u8981\u5904\u7406 adjust \u7684\u914D\u7F6E\uFF0C\u7136\u540E\u901A\u8FC7 field \u4FE1\u606F\u3002\u6BD4\u5982 styleField\uFF0ClabelField \u7B49\u4E00\u5B9A\u662F\u4E00\u4E2A\u6570\u7EC4\u5F62\u5F0F\n */\nexport type Geometry = {\n  /** geometry \u7C7B\u578B, 'line' | 'interval' | 'point' | 'area' | 'polygon' */\n  readonly type?: string;\n  /** x \u8F74\u5B57\u6BB5 */\n  readonly xField?: string;\n  /** y \u8F74\u5B57\u6BB5 */\n  readonly yField?: string;\n  /** \u5206\u7EC4\u5B57\u6BB5 */\n  readonly colorField?: string;\n  /** shape \u7684\u6620\u5C04\u5B57\u6BB5 */\n  readonly shapeField?: string;\n  /** size \u6620\u5C04\u5B57\u6BB5 */\n  readonly sizeField?: string;\n  /** style \u7684\u6620\u5C04\u5B57\u6BB5 */\n  readonly styleField?: string;\n  /** tooltip \u7684\u6620\u5C04\u5B57\u6BB5 */\n  readonly tooltipFields?: string[] | false;\n  /** \u5176\u4ED6\u539F\u59CB\u5B57\u6BB5, \u7528\u4E8E mapping \u56DE\u8C03\u53C2\u6570 */\n  readonly rawFields?: string[];\n  /** \u56FE\u5F62\u6620\u5C04\u89C4\u5219 */\n  readonly mapping?: MappingOptions;\n  /** label \u6620\u5C04\u901A\u9053\uFF0C\u56E0\u4E3A\u5386\u53F2\u539F\u56E0\u5BFC\u81F4\u5B9E\u73B0\u7565\u6709\u533A\u522B */\n  readonly label?: Label;\n  /** \u4E0D\u540C\u72B6\u6001\u7684\u6837\u5F0F */\n  readonly state?: State;\n  /** \u81EA\u5B9A\u4E49\u4FE1\u606F\uFF0C\u4E00\u822C\u5728 registerShape \u4E2D\u4F7F\u7528 */\n  readonly customInfo?: any;\n  /** geometry params */\n  readonly args?: any;\n};\n\n/**\n * geometry options\n */\nexport type GeometryOptions = Geometry & Partial<Options>;\n\n/**\n * \u83B7\u5F97\u6620\u5C04\u7684\u5B57\u6BB5\u5217\u8868\n * @param options\n * @param field\n */\nexport function getMappingField(\n  o: GeometryOptions,\n  field: 'color' | 'shape' | 'size' | 'style'\n): {\n  mappingFields: string[];\n  tileMappingField: string;\n} {\n  const { type, xField, yField, colorField, shapeField, sizeField, styleField, rawFields = [] } = o;\n\n  let fields = [];\n\n  // \u56E0\u4E3A color \u4F1A\u5F71\u54CD\u5230\u6570\u636E\u5206\u7EC4\uFF0C\u4EE5\u53CA\u6700\u540E\u7684\u56FE\u5F62\u6620\u5C04\u3002\u6240\u4EE5\u5BFC\u81F4 bar \u56FE\u4E2D\u7684 widthRatio \u8BBE\u7F6E\u4E0D\u751F\u6548\n  // \u6240\u4EE5\u5BF9\u4E8E color \u5B57\u6BB5\uFF0C\u4EC5\u4EC5\u4FDD\u7559 colorField \u597D\u4E86\uFF01 + rawFields\n  // shape, size \u540C\u7406\n  if (field === 'color') {\n    fields = [colorField || xField, ...rawFields];\n  } else if (field === 'shape') {\n    fields = [shapeField || xField, ...rawFields];\n  } else if (field === 'size') {\n    fields = [sizeField || xField, ...rawFields];\n  } else {\n    fields = [xField, yField, colorField, shapeField, sizeField, styleField, ...rawFields];\n\n    // \u4E00\u5B9A\u80FD\u627E\u5230\u7684\uFF01\n    const idx = ['x', 'y', 'color', 'shape', 'size', 'style'].indexOf(field);\n\n    const f = fields[idx];\n    // \u5220\u9664\u5F53\u524D\u5B57\u6BB5\n    fields.splice(idx, 1);\n    // \u63D2\u5165\u5230\u7B2C\u4E00\u4E2A\n    fields.unshift(f);\n  }\n\n  const mappingFields = uniq(fields.filter((f) => !!f));\n  /**\n   * \u4FEE\u590D line geometry \u65E0\u62C6\u5206\u65F6 color \u56DE\u8C03\u9519\u8BEF\n   * eg:\n   *   geometry.color(xField, ()=> '#f24')\n   */\n  const tileMappingField =\n    type === 'line' && [xField, yField].includes(mappingFields.join('*')) ? '' : mappingFields.join('*');\n  return {\n    mappingFields,\n    tileMappingField,\n  };\n}\n\n/**\n * \u83B7\u5F97\u6620\u5C04\u51FD\u6570\n * @param mappingFields\n * @param func\n */\nexport function getMappingFunction(mappingFields: string[], func: (datum: Datum) => any) {\n  if (!func) return undefined;\n  // \u8FD4\u56DE\u51FD\u6570\n  return (...args: any[]) => {\n    const params: Datum = {};\n\n    mappingFields.forEach((f: string, idx: number) => {\n      params[f] = args[idx];\n    });\n\n    // \u5220\u9664 undefined\n    delete params['undefined'];\n\n    return func(params);\n  };\n}\n\n/**\n * \u901A\u7528 geometry \u7684\u914D\u7F6E\u5904\u7406\u7684 adaptor\n * @param params\n */\nexport function geometry<O extends GeometryOptions>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const {\n    type,\n    args,\n    mapping,\n    xField,\n    yField,\n    colorField,\n    shapeField,\n    sizeField,\n    tooltipFields,\n    label,\n    state,\n    customInfo,\n  } = options;\n\n  // \u5982\u679C\u6CA1\u6709 mapping \u4FE1\u606F\uFF0C\u90A3\u4E48\u76F4\u63A5\u8FD4\u56DE\n  if (!mapping) {\n    return params;\n  }\n\n  const { color, shape, size, style, tooltip } = mapping;\n\n  // \u521B\u5EFA geometry\n  const geometry = chart[type](args).position(`${xField}*${yField}`);\n\n  /**\n   * color \u7684\u51E0\u79CD\u60C5\u51B5\n   * g.color('red');\n   * g.color('color', ['red', 'blue']);\n   * g.color('x', (x, y) => 'red');\n   * g.color('color', (color, x, y) => 'red');\n   */\n  if (isString(color)) {\n    colorField ? geometry.color(colorField, color) : geometry.color(color);\n  } else if (isFunction(color)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'color');\n    geometry.color(tileMappingField, getMappingFunction(mappingFields, color));\n  } else {\n    colorField && geometry.color(colorField, color);\n  }\n\n  /**\n   * shape \u7684\u51E0\u79CD\u60C5\u51B5\n   * g.shape('rect');\n   * g.shape('shape', ['rect', 'circle']);\n   * g.shape('x*y', (x, y) => 'rect');\n   * g.shape('shape*x*y', (shape, x, y) => 'rect');\n   */\n  if (isString(shape)) {\n    shapeField ? geometry.shape(shapeField, [shape]) : geometry.shape(shape); // [shape] \u9700\u8981\u5728 G2 \u505A\u6389\n  } else if (isFunction(shape)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'shape');\n    geometry.shape(tileMappingField, getMappingFunction(mappingFields, shape));\n  } else {\n    shapeField && geometry.shape(shapeField, shape);\n  }\n\n  /**\n   * size \u7684\u51E0\u79CD\u60C5\u51B5\n   * g.size(10);\n   * g.size('size', [10, 20]);\n   * g.size('x*y', (x, y) => 10);\n   * g.color('size*x*y', (size, x, y) => 1-);\n   */\n  if (isNumber(size)) {\n    sizeField ? geometry.size(sizeField, size) : geometry.size(size);\n  } else if (isFunction(size)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'size');\n    geometry.size(tileMappingField, getMappingFunction(mappingFields, size));\n  } else {\n    sizeField && geometry.size(sizeField, size);\n  }\n\n  /**\n   * style \u7684\u51E0\u79CD\u60C5\u51B5\n   * g.style({ fill: 'red' });\n   * g.style('x*y*color', (x, y, color) => ({ fill: 'red' }));\n   */\n  if (isFunction(style)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'style');\n    geometry.style(tileMappingField, getMappingFunction(mappingFields, style));\n  } else if (isObject(style)) {\n    geometry.style(style);\n  }\n\n  /**\n   * tooltip \u7684 API\n   * g.tooltip('x*y*color', (x, y, color) => ({ name, value }));\n   * g.tooltip(false);\n   */\n  if (tooltipFields === false) {\n    geometry.tooltip(false);\n  } else if (!isEmpty(tooltipFields)) {\n    geometry.tooltip(tooltipFields.join('*'), getMappingFunction(tooltipFields, tooltip));\n  }\n\n  /**\n   * label \u7684\u6620\u5C04\n   */\n  if (label === false) {\n    geometry.label(false);\n  } else if (label) {\n    const { callback, fields, ...cfg } = label;\n    geometry.label({\n      fields: fields || [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  /**\n   * state \u72B6\u6001\u6837\u5F0F\n   */\n  if (state) {\n    geometry.state(state);\n  }\n\n  /**\n   * \u81EA\u5B9A\u4E49\u4FE1\u606F\n   */\n  if (customInfo) {\n    geometry.customInfo(customInfo);\n  }\n\n  // \u9632\u6B62\u56E0\u4E3A x y \u5B57\u6BB5\u505A\u4E86\u901A\u9053\u6620\u5C04\uFF0C\u5BFC\u81F4\u751F\u6210\u56FE\u4F8B\n  [xField, yField]\n    .filter((f: string) => f !== colorField)\n    .forEach((f: string) => {\n      chart.legend(f, false);\n    });\n  return {\n    ...params,\n    // geometry adaptor \u989D\u5916\u9700\u8981\u505A\u7684\u4E8B\u60C5\uFF0C\u5C31\u662F\u5C06\u521B\u5EFA\u597D\u7684 geometry \u8FD4\u56DE\u5230\u4E0B\u4E00\u5C42 adaptor\uFF0C\u9632\u6B62\u901A\u8FC7 type \u67E5\u8BE2\u7684\u65F6\u5019\u5BB9\u6613\u8BEF\u5224\n    ext: { geometry },\n  };\n}\n", "import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { GeometryOptions, geometry, MappingOptions } from './base';\n\nexport interface AreaGeometryOptions extends GeometryOptions {\n  /** x \u8F74\u5B57\u6BB5 */\n  readonly xField?: string;\n  /** y \u8F74\u5B57\u6BB5 */\n  readonly yField?: string;\n  /** \u5206\u7EC4\u5B57\u6BB5 */\n  readonly seriesField?: string;\n  /** \u662F\u5426\u5E73\u6ED1 */\n  readonly smooth?: boolean;\n  /** area \u56FE\u5F62\u7684\u6837\u5F0F\u8BBE\u7F6E */\n  readonly area?: MappingOptions;\n}\n\n/**\n * area geometry \u7684\u914D\u7F6E\u5904\u7406\n * @param params\n */\nexport function area<O extends AreaGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { area, xField, yField, seriesField, smooth, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \u5982\u679C\u5B58\u5728\u624D\u5904\u7406\n  return area\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'area',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              shape: smooth ? 'smooth' : 'area',\n              tooltip: formatter,\n              ...area,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n", "import { deepMix } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { GeometryOptions, geometry, MappingOptions } from './base';\n\nexport interface LineGeometryOptions extends GeometryOptions {\n  /** x \u8F74\u5B57\u6BB5 */\n  readonly xField?: string;\n  /** y \u8F74\u5B57\u6BB5 */\n  readonly yField?: string;\n  /** \u5206\u7EC4\u5B57\u6BB5 */\n  readonly seriesField?: string;\n  /** \u662F\u5426\u5E73\u6ED1 */\n  readonly smooth?: boolean;\n  /** \u662F\u5426\u8FDE\u63A5\u7A7A\u6570\u636E */\n  readonly connectNulls?: boolean;\n  /** line \u6620\u5C04\u914D\u7F6E */\n  readonly line?: MappingOptions;\n  /** \u9636\u68AF\u6298\u7EBF\u56FE\u7C7B\u578B */\n  readonly stepType?: string;\n}\n\n/**\n * line \u8F85\u52A9\u70B9\u7684\u914D\u7F6E\u5904\u7406\n * @param params\n */\nexport function line<O extends LineGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { line, stepType, xField, yField, seriesField, smooth, connectNulls, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \u5982\u679C\u5B58\u5728\u624D\u5904\u7406\n  return line\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'line',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: deepMix(\n              {\n                shape: stepType || (smooth ? 'smooth' : 'line'),\n                tooltip: formatter,\n              },\n              line\n            ),\n            args: { connectNulls, useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n", "import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface PointGeometryOptions extends GeometryOptions {\n  /** x \u8F74\u5B57\u6BB5 */\n  readonly xField?: string;\n  /** y \u8F74\u5B57\u6BB5 */\n  readonly yField?: string;\n  /** \u5206\u7EC4\u5B57\u6BB5 */\n  readonly seriesField?: string;\n  /** size \u6620\u5C04\u5B57\u6BB5 */\n  readonly sizeField?: string;\n  /** shape \u7684\u6620\u5C04\u5B57\u6BB5 */\n  readonly shapeField?: string;\n  /** point \u56FE\u5F62\u6620\u5C04\u89C4\u5219 */\n  readonly point?: MappingOptions;\n}\n\n/**\n * point \u8F85\u52A9\u70B9\u7684\u914D\u7F6E\u5904\u7406\n * @param params\n */\nexport function point<O extends PointGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { point, xField, yField, seriesField, sizeField, shapeField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField, shapeField]);\n\n  return point\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'point',\n            colorField: seriesField,\n            shapeField: shapeField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...point,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n", "import { Geometry, getTheme, ShapeAttrs } from '@antv/g2';\nimport { isNil, isObject } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { GeometryOptions, MappingOptions, geometry } from './base';\n\nexport interface IntervalGeometryOptions extends GeometryOptions {\n  /** x \u8F74\u5B57\u6BB5 */\n  readonly xField: string;\n  /** y \u8F74\u5B57\u6BB5 */\n  readonly yField: string;\n  /** \u62C6\u5206\u5B57\u6BB5\uFF0C\u5728\u5206\u7EC4\u67F1\u72B6\u56FE\u4E0B\u540C groupField\u3001colorField\uFF0C\u5728\u5806\u79EF\u67F1\u72B6\u56FE\u4E0B\u540C stackField\u3001colorField  */\n  readonly seriesField?: string;\n  /** \u662F\u5426\u5206\u7EC4\u67F1\u5F62\u56FE */\n  readonly isGroup?: boolean;\n  /** \u662F\u5426\u5806\u79EF\u67F1\u72B6\u56FE */\n  readonly isStack?: boolean;\n  /** \u67F1\u72B6\u56FE\u5BBD\u5EA6\u5360\u6BD4 [0-1] */\n  readonly widthRatio?: number;\n  /** \u5206\u7EC4\u95F4\u67F1\u5B50\u4E4B\u95F4\u7684\u7EC4\u95F4\u95F4\u8DDD(\u50CF\u7D20\u7EA7)\uFF0C\u4EC5\u5BF9\u5206\u7EC4\u67F1\u72B6\u56FE\u9002\u7528 */\n  readonly intervalPadding?: number;\n  /** \u5206\u7EC4\u4E2D\u67F1\u5B50\u4E4B\u95F4\u7684\u95F4\u8DDD [0-1]\uFF0C\u4EC5\u5BF9\u5206\u7EC4\u67F1\u72B6\u56FE\u9002\u7528 */\n  readonly marginRatio?: number;\n  /** \u5206\u7EC4\u4E2D\u67F1\u5B50\u4E4B\u95F4\u7684\u7EC4\u5185\u95F4\u8DDD(\u50CF\u7D20\u7EA7)\uFF0C\u4EC5\u5BF9\u5206\u7EC4\u67F1\u72B6\u56FE\u9002\u7528 */\n  readonly dodgePadding?: number;\n  /** \u67F1\u72B6\u56FE\u6700\u5C0F\u5BBD\u5EA6\uFF08\u50CF\u7D20\uFF09 */\n  readonly minColumnWidth?: number;\n  /** \u67F1\u72B6\u56FE\u6700\u5927\u5BBD\u5EA6\uFF08\u50CF\u7D20\uFF09 */\n  readonly maxColumnWidth?: number;\n  /** \u67F1\u5B50\u7684\u80CC\u666F\u6837\u5F0F\u8BBE\u7F6E */\n  readonly columnBackground?: { style: ShapeAttrs };\n  /** \u67F1\u5B50\u89C6\u89C9\u901A\u9053\u914D\u7F6E\uFF08\u542B color\u3001shape\u3001size\u3001style\u3001tooltip\uFF09 */\n  readonly interval?: MappingOptions;\n  /** \u5206\u7EC4\u5B57\u6BB5\uFF0C\u4F18\u5148\u7EA7\u9AD8\u4E8E seriesField , isGroup: true \u65F6\u4F1A\u6839\u636E groupField \u8FDB\u884C\u5206\u7EC4\u3002*/\n  readonly groupField?: string;\n}\n\n/**\n * \u67F1\u5F62\u56FE\u5176\u4ED6\u7684 adaptor\n * @param params\n */\nfunction otherAdaptor<O extends IntervalGeometryOptions>(params: Params<O>): Params<O> {\n  const { chart, options, ext } = params;\n  const { seriesField, isGroup, isStack, marginRatio, widthRatio, groupField, theme } = options;\n\n  /**\n   * adjust\n   */\n  const adjust = [];\n  if (seriesField) {\n    // group\n    if (isGroup) {\n      adjust.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        marginRatio,\n      });\n    }\n    // stack\n    if (isStack) {\n      adjust.push({\n        type: 'stack',\n        marginRatio,\n      });\n    }\n  }\n\n  if (adjust.length && ext?.geometry) {\n    const g = ext?.geometry as Geometry;\n    g.adjust(adjust);\n  }\n\n  // widthRatio\n  if (!isNil(widthRatio)) {\n    chart.theme(\n      deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n        // columWidthRatio \u914D\u7F6E\u8986\u76D6 theme \u4E2D\u7684\u914D\u7F6E\n        columnWidthRatio: widthRatio,\n      })\n    );\n  }\n\n  return params;\n}\n\nexport function interval<O extends IntervalGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const {\n    xField,\n    yField,\n    interval,\n    seriesField,\n    tooltip,\n    minColumnWidth,\n    maxColumnWidth,\n    columnBackground,\n    dodgePadding,\n    intervalPadding,\n    useDeferredLabel,\n  } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \u4FDD\u969C\u4E00\u5B9A\u8981\u5B58\u5728 interval \u6620\u5C04\n  const { ext } = interval\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'interval',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...interval,\n            },\n            args: {\n              dodgePadding,\n              intervalPadding,\n              minColumnWidth,\n              maxColumnWidth,\n              background: columnBackground,\n              useDeferredLabel,\n            },\n          },\n        })\n      )\n    : params;\n\n  return otherAdaptor({\n    ...params,\n    ext,\n  });\n}\n", "import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface PolygonGeometryOptions extends GeometryOptions {\n  /** x \u8F74\u5B57\u6BB5 */\n  readonly xField?: string;\n  /** y \u8F74\u5B57\u6BB5 */\n  readonly yField?: string;\n  /** \u5206\u7EC4\u5B57\u6BB5 */\n  readonly seriesField?: string;\n  /** point \u56FE\u5F62\u6620\u5C04\u89C4\u5219 */\n  readonly polygon?: MappingOptions;\n}\n\n/**\n * polygon \u7684\u914D\u7F6E\u5904\u7406\n * @param params\n */\nexport function polygon<O extends PolygonGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { polygon, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return polygon\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'polygon',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...polygon,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n", "import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface EdgeGeometryOptions extends GeometryOptions {\n  /** x \u8F74\u5B57\u6BB5 */\n  readonly xField?: string;\n  /** y \u8F74\u5B57\u6BB5 */\n  readonly yField?: string;\n  /** \u5206\u7EC4\u989C\u8272\u5B57\u6BB5 */\n  readonly seriesField?: string;\n  /** edge \u56FE\u5F62\u6620\u5C04\u89C4\u5219 */\n  readonly edge?: MappingOptions;\n}\n\n/**\n * edge \u7684\u914D\u7F6E\u5904\u7406\n * @param params\n */\nexport function edge<O extends EdgeGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { edge, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return edge\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'edge',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...edge,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n", "import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface SchemaGeometryOptions extends GeometryOptions {\n  /** x \u8F74\u5B57\u6BB5 */\n  readonly xField?: string;\n  /** y \u8F74\u5B57\u6BB5 */\n  readonly yField?: string;\n  /** \u5206\u7EC4\u5B57\u6BB5 */\n  readonly seriesField?: string;\n  /** point \u56FE\u5F62\u6620\u5C04\u89C4\u5219 */\n  readonly schema?: MappingOptions;\n}\n\n/**\n * schema \u7684\u914D\u7F6E\u5904\u7406\n * @param params\n */\nexport function schema<O extends SchemaGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { schema, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return schema\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'schema',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...schema,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n", "import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface ViolinGeometryOptions extends GeometryOptions {\n  /** x \u8F74\u5B57\u6BB5 */\n  readonly xField?: string;\n  /** y \u8F74\u5B57\u6BB5\uFF08\u6307\u5C0F\u63D0\u7434\u7684Y\u8F74\uFF0C\u5373\u6982\u7387\u5BC6\u5EA6\uFF09 */\n  readonly yField?: string;\n  /** \u5206\u7EC4\u5B57\u6BB5 */\n  readonly seriesField?: string;\n  /** size \u6620\u5C04\u5B57\u6BB5 */\n  readonly sizeField?: string;\n  /** violin \u56FE\u5F62\u6620\u5C04\u89C4\u5219 */\n  readonly violin?: MappingOptions;\n}\n\n/**\n * violin \u8F85\u52A9\u70B9\u7684\u914D\u7F6E\u5904\u7406\n * @param params\n */\nexport function violin<O extends ViolinGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { violin, xField, yField, seriesField, sizeField, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField]);\n\n  return violin\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'violin',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...violin,\n            },\n          },\n        })\n      )\n    : params;\n}\n", "import { Geometry } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  tooltip,\n  slider,\n  interaction,\n  animation,\n  theme,\n  scale,\n  annotation,\n  limitInPlot,\n  scrollbar,\n} from '../../adaptor/common';\nimport { findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { point, line, area } from '../../adaptor/geometries';\nimport { flow } from '../../utils';\nimport { adjustYMetaByZero } from '../../utils/data';\nimport { LineOptions } from './types';\n\n/**\n * geometry \u914D\u7F6E\u5904\u7406\n * @param params\n */\nfunction geometry(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, lineShape, point: pointMapping, area: areaMapping, seriesField } = options;\n  const pointState = pointMapping?.state;\n  const areaState = areaMapping?.state;\n\n  chart.data(data);\n\n  // line geometry \u5904\u7406\n  const primary = deepAssign({}, params, {\n    options: {\n      shapeField: seriesField,\n      line: {\n        color,\n        style: lineStyle,\n        shape: lineShape,\n      },\n      // \u989C\u8272\u4FDD\u6301\u4E00\u81F4\uFF0C\u56E0\u4E3A\u5982\u679C\u989C\u8272\u4E0D\u4E00\u81F4\uFF0C\u4F1A\u5BFC\u81F4 tooltip \u4E2D\u5143\u7D20\u91CD\u590D\u3002\n      // \u5982\u679C\u5B58\u5728\uFF0C\u624D\u8BBE\u7F6E\uFF0C\u5426\u5219\u4E3A\u7A7A\n      point: pointMapping && {\n        color,\n        shape: 'circle',\n        ...pointMapping,\n      },\n      // \u9762\u79EF\u914D\u7F6E\n      area: areaMapping && {\n        color,\n        ...areaMapping,\n      },\n      // label \u4E0D\u4F20\u9012\u7ED9\u5404\u4E2A geometry adaptor\uFF0C\u7531 label adaptor \u5904\u7406\n      label: undefined,\n    },\n  });\n  const second = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n  const areaParams = deepAssign({}, primary, { options: { tooltip: false, state: areaState } });\n\n  line(primary);\n  point(second);\n  area(areaParams);\n\n  return params;\n}\n\n/**\n * meta \u914D\u7F6E\n * @param params\n */\nexport function meta(params: Params<LineOptions>): Params<LineOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, data } = options;\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n      },\n      {\n        [xField]: {\n          type: 'cat',\n        },\n        [yField]: adjustYMetaByZero(data, yField),\n      }\n    )\n  )(params);\n}\n\n/**\n * \u5750\u6807\u7CFB\u914D\u7F6E. \u652F\u6301 reflect \u955C\u50CF\u5904\u7406\n * @param params\n */\nfunction coordinate(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { reflect } = options;\n  if (reflect) {\n    let p = reflect as any;\n    if (!isArray(p)) {\n      p = [p];\n    }\n    const actions = p.map((d) => ['reflect', d]);\n\n    chart.coordinate({ type: 'rect', actions });\n  }\n\n  return params;\n}\n\n/**\n * axis \u914D\u7F6E\n * @param params\n */\nexport function axis(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  // \u4E3A false \u5219\u662F\u4E0D\u663E\u793A\u8F74\n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \u914D\u7F6E\n * @param params\n */\nexport function legend(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend && seriesField) {\n    chart.legend(seriesField, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \u6570\u636E\u6807\u7B7E\n * @param params\n */\nfunction label(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const lineGeometry = findGeometry(chart, 'line');\n\n  // label \u4E3A false, \u7A7A \u5219\u4E0D\u663E\u793A label\n  if (!label) {\n    lineGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    lineGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        layout: [\n          { type: 'limit-in-plot' },\n          { type: 'path-adjust-position' },\n          { type: 'point-adjust-position' },\n          { type: 'limit-in-plot', cfg: { action: 'hide' } },\n        ],\n        ...transformLabel(cfg),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * \u7EDF\u4E00\u5904\u7406 adjust\n * @param params\n */\nexport function adjust(params: Params<Pick<LineOptions, 'isStack'>>): Params<any> {\n  const { chart, options } = params;\n  const { isStack } = options;\n\n  if (isStack) {\n    each(chart.geometries, (g: Geometry) => {\n      g.adjust('stack');\n    });\n  }\n\n  return params;\n}\n\n/**\n * \u6298\u7EBF\u56FE\u9002\u914D\u5668\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<LineOptions>) {\n  // flow \u7684\u65B9\u5F0F\u5904\u7406\u6240\u6709\u7684\u914D\u7F6E\u5230 G2 API\n  return flow(\n    geometry,\n    meta,\n    adjust,\n    theme,\n    coordinate,\n    axis,\n    legend,\n    tooltip,\n    label,\n    slider,\n    scrollbar,\n    interaction,\n    animation,\n    annotation(),\n    limitInPlot\n  )(params);\n}\n", "import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \u6298\u7EBF\u56FE\u9ED8\u8BA4\u914D\u7F6E\u9879\n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  tooltip: {\n    shared: true,\n    showMarkers: true,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'x',\n    },\n  },\n  legend: {\n    position: 'top-left',\n    radio: {},\n  },\n  isStack: false,\n});\n", "import { each, findIndex } from '@antv/util';\nimport { InteractionAction, View, Geometry } from '@antv/g2';\n\nexport class MarkerActiveAction extends InteractionAction {\n  public active() {\n    const view = this.getView();\n    const evt = this.context.event;\n    if (evt.data) {\n      // items: \u6570\u7EC4\u5BF9\u8C61\uFF0C\u5F53\u524D tooltip \u663E\u793A\u7684\u6BCF\u6761\u5185\u5BB9\n      const { items } = evt.data;\n      const points = view.geometries.filter((geom) => geom.type === 'point');\n      each(points, (point: Geometry) => {\n        each(point.elements, (element) => {\n          const active = findIndex(items, (item) => (item as any).data === element.data) !== -1;\n          element.setState('active', active);\n        });\n      });\n    }\n  }\n\n  public reset() {\n    const view = this.getView();\n    const points = view.geometries.filter((geom) => geom.type === 'point');\n    each(points, (point: Geometry) => {\n      each(point.elements, (element) => {\n        element.setState('active', false);\n      });\n    });\n  }\n\n  private getView(): View {\n    return this.context.view;\n  }\n}\n", "import { registerAction, registerInteraction } from '@antv/g2';\nimport { MarkerActiveAction } from './marker-active';\n\nregisterAction('marker-active', MarkerActiveAction);\nregisterInteraction('marker-active', {\n  start: [\n    {\n      trigger: 'tooltip:show',\n      action: 'marker-active:active',\n    },\n  ],\n  end: [\n    {\n      trigger: 'tooltip:hide',\n      action: 'marker-active:reset',\n    },\n  ],\n});\n", "import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { LineOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport './interactions';\n\nexport type { LineOptions };\n\nexport class Line extends Plot<LineOptions> {\n  /**\n   * \u83B7\u53D6 \u6298\u7EBF\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n   * \u4F9B\u5916\u90E8\u4F7F\u7528\n   */\n  static getDefaultOptions(): Partial<LineOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'line';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: LineOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   * \u83B7\u53D6 \u6298\u7EBF\u56FE \u9ED8\u8BA4\u914D\u7F6E\n   */\n  protected getDefaultOptions() {\n    return Line.getDefaultOptions();\n  }\n\n  /**\n   * \u83B7\u53D6 \u6298\u7EBF\u56FE \u7684\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<LineOptions> {\n    return adaptor;\n  }\n}\n", "import { map, reduce } from '@antv/util';\nimport { Data, Datum } from '../../types';\nimport { isRealNumber } from '../number';\n\n/**\n * \u5BF9\u6570\u636E\u8FDB\u884C\u767E\u5206\u6BD4\u5316\n * @param data\n * @param measure\n * @param groupField\n * @param as\n */\nexport function percent(data: Data, measure: string, groupField: string, as: string) {\n  // 1. \u5148\u8BA1\u7B97\u6BCF\u4E00\u4E2A\u5206\u7EC4\u7684 max \u503C\n  const sumMap = reduce(\n    data,\n    (map, datum: Datum) => {\n      const groupValue = datum[groupField];\n      let sum = map.has(groupValue) ? map.get(groupValue) : 0;\n\n      const v = datum[measure];\n\n      sum = isRealNumber(v) ? sum + v : sum;\n      map.set(groupValue, sum);\n\n      return map;\n    },\n    new Map<string, number>()\n  );\n\n  // 2. \u5FAA\u73AF\u6570\u7EC4\uFF0C\u8BA1\u7B97\u5360\u6BD4\n  return map(data, (datum: Datum) => {\n    const v = datum[measure];\n    const groupValue = datum[groupField];\n    const percentage = isRealNumber(v) && sumMap.get(groupValue) !== 0 ? v / sumMap.get(groupValue) : 0;\n\n    return {\n      ...datum,\n      [as]: percentage,\n    };\n  });\n}\n\n/**\n * \u5BF9\u6570\u636E\u8FDB\u884C\u6DF1\u5C42\u767E\u5206\u6BD4\u5316\n * @param data\n * @param measure  // \u6570\u503C\n * @param fields // \u9700\u8981\u5206\u7EC4\u7684 field\u503C\n * @param as // \u5B58\u50A8percent \u767E\u5206\u6BD4\u7684\u503C\n */\nexport function getDeepPercent(data: Record<string, any>[], measure: string, fields: string[], percent: string) {\n  const sumMap = reduce(\n    data,\n    (map, datum: Datum) => {\n      // \u83B7\u53D6\u5206\u7EC4\u5F97\u5230\u7684\u679A\u4E3Ekey\u503C\n      const groupValue = reduce(fields, (value, field) => `${value}${datum[field]}`, '');\n\n      let sum = map.has(groupValue) ? map.get(groupValue) : 0;\n\n      const v = datum[measure];\n\n      sum = isRealNumber(v) ? sum + v : sum;\n      map.set(groupValue, sum);\n\n      return map;\n    },\n    new Map<string, number>()\n  );\n\n  // 2. \u5FAA\u73AF\u6570\u7EC4\uFF0C\u8BA1\u7B97\u5360\u6BD4\n  return map(data, (datum: Datum) => {\n    const v = datum[measure];\n    // \u83B7\u53D6\u5206\u7EC4\u5F97\u5230\u7684\u679A\u4E3Ekey\u503C\n    const groupValue = reduce(fields, (value, field) => `${value}${datum[field]}`, '');\n\n    const percentage = isRealNumber(v) && sumMap.get(groupValue) !== 0 ? v / sumMap.get(groupValue) : 0;\n\n    return {\n      ...datum,\n      [percent]: percentage,\n    };\n  });\n}\n\n/**\n * \u83B7\u53D6\u6570\u636E\uFF0C\u5982\u679C\u662F\u767E\u5206\u6BD4\uFF0C\u8FDB\u884C\u6570\u636E\u8F6C\u6362 (\u9002\u7528\u4E8E\u9762\u79EF\u56FE\u3001\u67F1\u72B6\u56FE\u3001\u6761\u5F62\u56FE)\n * @param isPercent \u662F\u5426\u767E\u5206\u6BD4\n */\nexport function getDataWhetherPercentage(\n  data: Record<string, any>[],\n  yField: string,\n  groupField: string,\n  asField: string,\n  isPercent?: boolean\n) {\n  return !isPercent ? data : percent(data, yField, groupField, asField);\n}\n", "import { Geometry } from '@antv/g2';\nimport { each, omit } from '@antv/util';\nimport {\n  tooltip,\n  slider,\n  interaction,\n  animation,\n  theme,\n  annotation,\n  limitInPlot,\n  pattern,\n  transformations,\n} from '../../adaptor/common';\nimport { findGeometry } from '../../utils';\nimport { Params } from '../../core/adaptor';\nimport { area, point, line } from '../../adaptor/geometries';\nimport { flow, transformLabel, deepAssign } from '../../utils';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { Datum } from '../../types';\nimport { meta, legend, axis } from '../line/adaptor';\nimport { AreaOptions } from './types';\n\nexport { meta };\n\n/**\n * geometry \u5904\u7406\n * @param params\n */\nfunction geometry(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    areaStyle,\n    color,\n    point: pointMapping,\n    line: lineMapping,\n    isPercent,\n    xField,\n    yField,\n    tooltip,\n    seriesField,\n    startOnZero,\n  } = options;\n  const pointState = pointMapping?.state;\n\n  const chartData = getDataWhetherPercentage(data, yField, xField, yField, isPercent);\n  chart.data(chartData);\n  // \u767E\u5206\u6BD4\u5806\u79EF\u56FE\uFF0C\u9ED8\u8BA4\u4F1A\u7ED9\u4E00\u4E2A % \u683C\u5F0F\u5316\u903B\u8F91, \u7528\u6237\u53EF\u81EA\u5B9A\u4E49\n  const tooltipOptions = isPercent\n    ? {\n        formatter: (datum: Datum) => ({\n          name: datum[seriesField] || datum[xField],\n          value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n        }),\n        ...tooltip,\n      }\n    : tooltip;\n  const primary = deepAssign({}, params, {\n    options: {\n      area: { color, style: areaStyle },\n      point: pointMapping && {\n        color,\n        ...pointMapping,\n      },\n      tooltip: tooltipOptions,\n      // label \u4E0D\u4F20\u9012\u7ED9\u5404\u4E2A geometry adaptor\uFF0C\u7531 label adaptor \u5904\u7406\n      label: undefined,\n      args: {\n        startOnZero,\n      },\n    },\n  });\n  // \u7EBF\u9ED8\u8BA4 2px (\u6298\u7EBF\u4E0D\u80FD\u590D\u7528\u9762\u79EF\u56FE\u7684 state\uFF0C\u56E0\u4E3A fill \u548C stroke \u4E0D\u5339\u914D)\n  const lineParams = {\n    chart,\n    options: deepAssign({ line: { size: 2 } }, omit(options as any, ['state']), {\n      // \u989C\u8272\u4FDD\u6301\u4E00\u81F4\uFF0C\u56E0\u4E3A\u5982\u679C\u989C\u8272\u4E0D\u4E00\u81F4\uFF0C\u4F1A\u5BFC\u81F4 tooltip \u4E2D\u5143\u7D20\u91CD\u590D\u3002\n      // \u5982\u679C\u5B58\u5728\uFF0C\u624D\u8BBE\u7F6E\uFF0C\u5426\u5219\u4E3A\u7A7A\n      line: lineMapping && {\n        color,\n        ...lineMapping,\n      },\n      sizeField: seriesField,\n      state: lineMapping?.state,\n      tooltip: false,\n      // label \u4E0D\u4F20\u9012\u7ED9\u5404\u4E2A geometry adaptor\uFF0C\u7531 label adaptor \u5904\u7406\n      label: undefined,\n      args: {\n        startOnZero,\n      },\n    }),\n  };\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  // area geometry \u5904\u7406\n  area(primary);\n  line(lineParams);\n  point(pointParams);\n\n  return params;\n}\n\n/**\n * \u6570\u636E\u6807\u7B7E\n * @param params\n */\nfunction label(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const areaGeometry = findGeometry(chart, 'area');\n\n  // label \u4E3A false, \u7A7A \u5219\u4E0D\u663E\u793A label\n  if (!label) {\n    areaGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    areaGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        layout: [\n          { type: 'limit-in-plot' },\n          { type: 'path-adjust-position' },\n          { type: 'point-adjust-position' },\n          { type: 'limit-in-plot', cfg: { action: 'hide' } },\n        ],\n        ...transformLabel(cfg),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * \u5904\u7406 adjust\n * @param params\n */\nfunction adjust(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const { isStack, isPercent, seriesField } = options;\n  if ((isPercent || isStack) && seriesField) {\n    each(chart.geometries, (g: Geometry) => {\n      g.adjust('stack');\n    });\n  }\n\n  return params;\n}\n\n/**\n * \u6298\u7EBF\u56FE\u9002\u914D\u5668\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<AreaOptions>) {\n  // flow \u7684\u65B9\u5F0F\u5904\u7406\u6240\u6709\u7684\u914D\u7F6E\u5230 G2 API\n  return flow(\n    theme,\n    pattern('areaStyle'),\n    transformations('rect'),\n    geometry,\n    meta,\n    adjust,\n    axis,\n    legend,\n    tooltip,\n    label,\n    slider,\n    annotation(),\n    interaction,\n    animation,\n    limitInPlot\n  )(params);\n}\n", "import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \u9762\u79EF\u56FE\u9ED8\u8BA4\u914D\u7F6E\u9879\n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  tooltip: {\n    shared: true,\n    showMarkers: true,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'x',\n    },\n  },\n  isStack: true,\n  // \u9ED8\u8BA4\u5F00\u542F\n  line: {},\n  legend: {\n    position: 'top-left',\n    radio: {},\n  },\n});\n", "import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { AreaOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { AreaOptions };\n\nexport class Area extends Plot<AreaOptions> {\n  /**\n   * \u83B7\u53D6 \u9762\u79EF\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n   * \u4F9B\u5916\u90E8\u4F7F\u7528\n   */\n  static getDefaultOptions(): Partial<AreaOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'area';\n\n  /**\n   * \u83B7\u53D6 \u9762\u79EF\u56FE \u9ED8\u8BA4\u914D\u7F6E\n   */\n  protected getDefaultOptions() {\n    return Area.getDefaultOptions();\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: AreaOptions['data']) {\n    this.updateOption({ data });\n    const { isPercent, xField, yField } = this.options;\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(getDataWhetherPercentage(data, yField, xField, yField, isPercent));\n  }\n\n  /**\n   * \u83B7\u53D6 \u9762\u79EF\u56FE \u7684\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<AreaOptions> {\n    return adaptor;\n  }\n}\n", "import { isNumber } from '@antv/util';\n/**\n * \u8F6C\u5316\u7387\u7684\u8BA1\u7B97\u65B9\u5F0F\n * @param prev\n * @param next\n */\nexport function conversionTagFormatter(prev: number, next: number): string {\n  if (!isNumber(prev) || !isNumber(next)) {\n    return '-';\n  }\n\n  if (prev === next) {\n    return '100%';\n  }\n  if (prev === 0) {\n    return '\u221E';\n  }\n  if (next === 0) {\n    return '-\u221E';\n  }\n\n  return `${((100 * next) / prev).toFixed(2)}%`;\n}\n", "import { map, find, each, isObject } from '@antv/util';\nimport { Coordinate, IGroup, ShapeAttrs, Element, Geometry, View, getTheme } from '@antv/g2';\nimport { Params } from '../core/adaptor';\nimport { deepAssign } from '../utils';\nimport { conversionTagFormatter } from '../utils/conversion';\nimport { Options } from '../types';\n\n/** \u8F6C\u5316\u7387\u7EC4\u4EF6\u914D\u7F6E\u9009\u9879 */\nexport interface ConversionTagOptions {\n  /** tag \u9AD8\u5EA6 */\n  size?: number;\n  /** tag \u5BF9\u67F1\u5B50\u95F4\u8DDD */\n  spacing?: number;\n  /** tag \u8DDD\u79BB\u8F74\u7EBF\u8DDD\u79BB */\n  offset?: number;\n  /** \u7BAD\u5934\u5F62\u72B6\u914D\u7F6E */\n  arrow?:\n    | {\n        /** \u7BAD\u5934\u5BBD\u5EA6 */\n        headSize?: number;\n        /** \u7BAD\u5934\u6837\u5F0F */\n        style?: ShapeAttrs;\n      }\n    | false;\n  /** \u6587\u672C\u914D\u7F6E */\n  text?:\n    | {\n        /** \u6587\u5B57\u5927\u5C0F */\n        size?: number;\n        /** \u6587\u5B57\u6837\u5F0F */\n        style?: ShapeAttrs;\n        /** \u6587\u672C\u683C\u5F0F\u5316 */\n        formatter?: (prev: number, next: number) => string;\n      }\n    | false;\n}\n\nexport interface OptionWithConversionTag {\n  conversionTag?: ConversionTagOptions | false;\n}\n\n/** \u63A7\u5236\u8F6C\u5316\u7387\u7EC4\u4EF6\u7ED8\u5236\u7684\u9009\u9879 */\ntype TagRenderConfig = {\n  /** \u6240\u5728\u7684 View */\n  view: View;\n  /** \u6240\u5C5E\u7684 geometry */\n  geometry: Geometry;\n  /** \u8F6C\u5316\u7387\u7EC4\u4EF6\u7684 group */\n  group: IGroup;\n  /** \u8F6C\u5316\u7387\u914D\u7F6E */\n  options: ConversionTagOptions;\n  /** \u7528\u4E8E\u8F6C\u5316\u7387\u8BA1\u7B97\u7684\u5B57\u6BB5 */\n  field: string;\n  /** \u6C34\u5E73/\u5782\u76F4 */\n  horizontal: boolean;\n};\n\nfunction getConversionTagOptionsWithDefaults(options: ConversionTagOptions, horizontal: boolean): ConversionTagOptions {\n  return deepAssign(\n    {\n      size: horizontal ? 32 : 80,\n      spacing: horizontal ? 8 : 12,\n      offset: horizontal ? 32 : 0,\n      arrow: options.arrow !== false && {\n        headSize: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.05)',\n        },\n      },\n      text: options.text !== false && {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.85)',\n          textAlign: 'center',\n          textBaseline: 'middle',\n        },\n        formatter: conversionTagFormatter,\n      },\n    },\n    options\n  );\n}\n\nfunction parsePoints(coordinate: Coordinate, element: Element): { x: number; y: number }[] {\n  // @ts-ignore\n  return map(element.getModel().points, (point) => coordinate.convertPoint(point));\n}\n\nfunction renderArrowTag(config: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  const { view, geometry, group, options, horizontal } = config;\n  const { offset, size, arrow } = options;\n  const coordinate = view.getCoordinate();\n  const pointPrev = parsePoints(coordinate, elemPrev)[3];\n  const pointNext = parsePoints(coordinate, elemNext)[0];\n  const totalHeight = pointNext.y - pointPrev.y;\n  const totalWidth = pointNext.x - pointPrev.x;\n\n  if (typeof arrow === 'boolean') {\n    return;\n  }\n  const { headSize } = arrow;\n  let spacing = options.spacing;\n  let points;\n\n  if (horizontal) {\n    if ((totalWidth - headSize) / 2 < spacing) {\n      // \u5F53\u67F1\u95F4\u8DDD\u4E0D\u8DB3\u5BB9\u7EB3\u7BAD\u5934\u5C16\u4E0E\u95F4\u9694\u65F6\uFF0C\u753B\u4E09\u89D2\u5E76\u6324\u5360\u95F4\u9694\n      spacing = Math.max(1, (totalWidth - headSize) / 2);\n      points = [\n        [pointPrev.x + spacing, pointPrev.y - offset],\n        [pointPrev.x + spacing, pointPrev.y - offset - size],\n        [pointNext.x - spacing, pointNext.y - offset - size / 2],\n      ];\n    } else {\n      // \u5F53\u67F1\u95F4\u8DDD\u8DB3\u591F\u65F6\uFF0C\u753B\u5B8C\u6574\u56FE\u5F62\u5E76\u7559\u51FA\u95F4\u9694\u3002\n      points = [\n        [pointPrev.x + spacing, pointPrev.y - offset],\n        [pointPrev.x + spacing, pointPrev.y - offset - size],\n        [pointNext.x - spacing - headSize, pointNext.y - offset - size],\n        [pointNext.x - spacing, pointNext.y - offset - size / 2],\n        [pointNext.x - spacing - headSize, pointNext.y - offset],\n      ];\n    }\n  } else {\n    if ((totalHeight - headSize) / 2 < spacing) {\n      // \u5F53\u67F1\u95F4\u8DDD\u4E0D\u8DB3\u5BB9\u7EB3\u7BAD\u5934\u5C16\u4E0E\u95F4\u9694\u65F6\uFF0C\u753B\u4E09\u89D2\u5E76\u6324\u5360\u95F4\u9694\n      spacing = Math.max(1, (totalHeight - headSize) / 2);\n      points = [\n        [pointPrev.x + offset, pointPrev.y + spacing],\n        [pointPrev.x + offset + size, pointPrev.y + spacing],\n        [pointNext.x + offset + size / 2, pointNext.y - spacing],\n      ];\n    } else {\n      // \u5F53\u67F1\u95F4\u8DDD\u8DB3\u591F\u65F6\uFF0C\u753B\u5B8C\u6574\u56FE\u5F62\u5E76\u7559\u51FA\u95F4\u9694\u3002\n      points = [\n        [pointPrev.x + offset, pointPrev.y + spacing],\n        [pointPrev.x + offset + size, pointPrev.y + spacing],\n        [pointNext.x + offset + size, pointNext.y - spacing - headSize],\n        [pointNext.x + offset + size / 2, pointNext.y - spacing],\n        [pointNext.x + offset, pointNext.y - spacing - headSize],\n      ];\n    }\n  }\n\n  group.addShape('polygon', {\n    id: `${view.id}-conversion-tag-arrow-${geometry.getElementId(elemPrev.getModel().mappingData)}`,\n    name: 'conversion-tag-arrow',\n    origin: {\n      element: elemPrev,\n      nextElement: elemNext,\n    },\n    attrs: {\n      ...(arrow.style || {}),\n      points,\n    },\n  });\n}\n\nfunction renderTextTag(config: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  const { view, geometry, group, options, field, horizontal } = config;\n  const { offset, size } = options;\n  if (typeof options.text === 'boolean') {\n    return;\n  }\n  const coordinate = view.getCoordinate();\n  const text = options.text?.formatter && options.text?.formatter(elemPrev.getData()[field], elemNext.getData()[field]);\n\n  const pointPrev = parsePoints(coordinate, elemPrev)[horizontal ? 3 : 0];\n  const pointNext = parsePoints(coordinate, elemNext)[horizontal ? 0 : 3];\n\n  const textShape = group.addShape('text', {\n    id: `${view.id}-conversion-tag-text-${geometry.getElementId(elemPrev.getModel().mappingData)}`,\n    name: 'conversion-tag-text',\n    origin: {\n      element: elemPrev,\n      nextElement: elemNext,\n    },\n    attrs: {\n      ...(options.text?.style || {}),\n      text,\n      x: horizontal ? (pointPrev.x + pointNext.x) / 2 : pointPrev.x + offset + size / 2,\n      y: horizontal ? pointPrev.y - offset - size / 2 : (pointPrev.y + pointNext.y) / 2,\n    },\n  });\n\n  if (horizontal) {\n    const totalWidth = pointNext.x - pointPrev.x;\n    const { width: textWidth } = textShape.getBBox();\n    if (textWidth > totalWidth) {\n      const cWidth = textWidth / text.length;\n      const cEnd = Math.max(1, Math.ceil(totalWidth / cWidth) - 1);\n      const textAdjusted = `${text.slice(0, cEnd)}...`;\n      textShape.attr('text', textAdjusted);\n    }\n  }\n}\n\nfunction renderTag(options: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  renderArrowTag(options, elemPrev, elemNext);\n  renderTextTag(options, elemPrev, elemNext);\n}\n\n/**\n * \u8FD4\u56DE\u652F\u6301\u8F6C\u5316\u7387\u7EC4\u4EF6\u7684 adaptor\uFF0C\u9002\u7528\u4E8E\u67F1\u5F62\u56FE/\u6761\u5F62\u56FE\n * @param field \u7528\u6237\u8F6C\u5316\u7387\u8BA1\u7B97\u7684\u5B57\u6BB5\n * @param horizontal \u662F\u5426\u6C34\u5E73\u65B9\u5411\u7684\u8F6C\u5316\u7387\n * @param disabled \u662F\u5426\u7981\u7528\n */\nexport function conversionTag<O extends OptionWithConversionTag & Options>(\n  field: string,\n  horizontal = true,\n  disabled = false\n) {\n  return function (params: Params<O>): Params<O> {\n    const { options, chart } = params;\n    const { conversionTag, theme } = options;\n\n    if (conversionTag && !disabled) {\n      // \u6709\u8F6C\u5316\u7387\u7EC4\u4EF6\u65F6\uFF0C\u67F1\u5B50\u5BBD\u5EA6\u5360\u6BD4\u81EA\u52A8\u4E3A 1/3\n      chart.theme(\n        deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n          columnWidthRatio: 1 / 3,\n        })\n      );\n      // \u4F7F\u7528  shape annotation \u7ED8\u5236\u8F6C\u5316\u7387\u7EC4\u4EF6\n      chart.annotation().shape({\n        render: (container, view) => {\n          const group = container.addGroup({\n            id: `${chart.id}-conversion-tag-group`,\n            name: 'conversion-tag-group',\n          });\n          const interval = find(chart.geometries, (geom: Geometry) => geom.type === 'interval');\n          const config: TagRenderConfig = {\n            view,\n            geometry: interval,\n            group,\n            field,\n            horizontal,\n            options: getConversionTagOptionsWithDefaults(conversionTag, horizontal),\n          };\n          const elements = interval.elements;\n          each(elements, (elem: Element, idx: number) => {\n            if (idx > 0) {\n              renderTag(config, elements[idx - 1], elem);\n            }\n          });\n        },\n      });\n    }\n\n    return params;\n  };\n}\n", "import { registerInteraction, ShapeAttrs, Element } from '@antv/g2';\nimport { Params } from '../core/adaptor';\n\nexport interface ConnectedAreaOptions {\n  /** \u89E6\u53D1\u65B9\u5F0F, \u9ED8\u8BA4 hover */\n  trigger?: 'hover' | 'click';\n  /** \u81EA\u5B9A\u4E49\u6837\u5F0F */\n  style?: ShapeAttrs | ((style: ShapeAttrs, element: Element) => ShapeAttrs);\n}\n\n/** \u8054\u901A\u533A\u57DF\u7EC4\u4EF6\uFF1A\u4F7F\u7528\u4E8E\u5806\u53E0\u67F1\u5F62\u56FE\u3001\u5806\u53E0\u6761\u5F62\u56FE */\nexport interface OptionWithConnectedArea {\n  connectedArea?: ConnectedAreaOptions | false;\n}\n\nconst INTERACTION_MAP = {\n  hover: '__interval-connected-area-hover__',\n  click: '__interval-connected-area-click__',\n};\n\nconst getStartStages = (trigger: string, style?: ConnectedAreaOptions['style']) => {\n  if (trigger === 'hover') {\n    return [\n      {\n        trigger: `interval:mouseenter`,\n        action: ['element-highlight-by-color:highlight', 'element-link-by-color:link'],\n        arg: [null, { style }],\n      },\n    ];\n  }\n  return [\n    {\n      trigger: `interval:click`,\n      action: [\n        'element-highlight-by-color:clear',\n        'element-highlight-by-color:highlight',\n        'element-link-by-color:clear',\n        'element-link-by-color:unlink',\n        'element-link-by-color:link',\n      ],\n      arg: [null, null, null, null, { style }],\n    },\n  ];\n};\n\n/** hover \u89E6\u53D1\u7684\u8FDE\u901A\u533A\u57DF\u4EA4\u4E92 */\nregisterInteraction(INTERACTION_MAP.hover, {\n  start: getStartStages(INTERACTION_MAP.hover),\n  end: [\n    {\n      trigger: 'interval:mouseleave',\n      action: ['element-highlight-by-color:reset', 'element-link-by-color:unlink'],\n    },\n  ],\n});\n\n/** click \u89E6\u53D1\u7684\u8054\u901A\u533A\u57DF\u4EA4\u4E92 */\nregisterInteraction(INTERACTION_MAP.click, {\n  start: getStartStages(INTERACTION_MAP.click),\n  end: [\n    {\n      trigger: 'document:mousedown',\n      action: ['element-highlight-by-color:clear', 'element-link-by-color:clear'],\n    },\n  ],\n});\n\n/**\n * \u8FD4\u56DE\u652F\u6301\u8054\u901A\u533A\u57DF\u7EC4\u4EF6\u4EA4\u4E92\u7684 adaptor\uFF0C\u9002\u7528\u4E8E\u5806\u53E0\u67F1\u5F62\u56FE/\u5806\u53E0\u6761\u5F62\u56FE\n * @param disable\n */\nexport function connectedArea<O extends OptionWithConnectedArea>(disable = false) {\n  return function (params: Params<O>): Params<O> {\n    const { chart, options } = params;\n    const { connectedArea } = options;\n\n    const clear = () => {\n      chart.removeInteraction(INTERACTION_MAP.hover);\n      chart.removeInteraction(INTERACTION_MAP.click);\n    };\n\n    if (!disable && connectedArea) {\n      const trigger = connectedArea.trigger || 'hover';\n      clear();\n      chart.interaction(INTERACTION_MAP[trigger], {\n        start: getStartStages(trigger, connectedArea.style),\n      });\n    } else {\n      clear();\n    }\n\n    return params;\n  };\n}\n", "import { Action, IGroup, Util } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { BBox, ButtonCfg } from '../../types';\nimport { deepAssign, normalPadding } from '../../utils';\n\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Action \u4E2D\u7684 Button \u6309\u94AE\u914D\u7F6E\n *\n * \u53EF\u80FD\u7684\u4F7F\u7528\u573A\u666F\uFF1Abrush filter\n */\nexport const BUTTON_ACTION_CONFIG: ButtonCfg = {\n  padding: [8, 10],\n  text: 'reset',\n  textStyle: {\n    default: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n  },\n  buttonStyle: {\n    default: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    active: {\n      fill: '#e6e6e6',\n    },\n  },\n};\n\n/**\n * @override \u590D\u5199 G2 Button Action, \u540E\u7EED\u76F4\u63A5\u4F7F\u7528 GUI\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    ...BUTTON_ACTION_CONFIG,\n  };\n\n  /**\n   * \u83B7\u53D6 mix \u9ED8\u8BA4\u7684\u914D\u7F6E\u548C\u7528\u6237\u914D\u7F6E\n   */\n  private getButtonCfg(): ButtonCfg & { name: string } {\n    const { view } = this.context;\n    const buttonCfg: ButtonCfg = get(view, ['interactions', 'filter-action', 'cfg', 'buttonConfig']);\n\n    return deepAssign(this.buttonCfg, buttonCfg, this.cfg);\n  }\n\n  /**\n   * \u7ED8\u5236 Button \u548C \u6587\u672C\n   */\n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    const textShape = this.drawText(group);\n    this.drawBackground(group, textShape.getBBox());\n\n    this.buttonGroup = group;\n  }\n\n  /**\n   * \u7ED8\u5236\u6587\u672C\n   */\n  private drawText(group: IGroup) {\n    const config = this.getButtonCfg();\n    // \u6DFB\u52A0\u6587\u672C\n    return group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle?.default,\n      },\n    });\n  }\n\n  private drawBackground(group: IGroup, bbox: BBox) {\n    const config = this.getButtonCfg();\n    const padding = normalPadding(config.padding);\n    // \u6DFB\u52A0\u80CC\u666F\u6309\u94AE\n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: bbox.x - padding[3],\n        y: bbox.y - padding[0],\n        width: bbox.width + padding[1] + padding[3],\n        height: bbox.height + padding[0] + padding[2],\n        ...config.buttonStyle?.default,\n      },\n    });\n    buttonShape.toBack(); // \u5728\u540E\u9762\n\n    // active \u6548\u679C\u5185\u7F6E\n    group.on('mouseenter', () => {\n      buttonShape.attr(config.buttonStyle?.active);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.buttonStyle?.default);\n    });\n\n    return buttonShape;\n  }\n\n  // \u91CD\u7F6E\u4F4D\u7F6E\n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \u540E\u9762\u76F4\u63A5\u6539\u6210\u5DE6\u4E0A\u89D2\n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = Util.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \u663E\u793A\n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \u9690\u85CF\n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \u9500\u6BC1\n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport { ButtonAction };\n", "import { registerAction, registerInteraction } from '@antv/g2';\nimport { BrushCfg } from '../types';\nimport { ButtonAction } from './actions/reset-button';\n\nregisterAction('brush-reset-button', ButtonAction, {\n  name: 'brush-reset-button',\n});\n\nregisterInteraction('filter-action', {});\n\n/**\n * G2 \u5DF2\u7ECF\u5185\u7F6E\u4E86 brush\u3001brush-x\u3001brush-y \u7B49\u4EA4\u4E92\uFF0C\u5176\u5B83\uFF1A\n *\n * 1. element-range-highlight \u662F\u5426\u53EF\u7528\u91CD\u547D\u540D\u4E3A brush-highlight\uFF1F(mask \u53EF\u4EE5\u79FB\u52A8)\n * 2. brush-visible \u4E0E brush \u7684\u533A\u522B\u662F\uFF1F\n */\n\nfunction isPointInView(context) {\n  return context.isInPlot();\n}\n\n/**\n * \u83B7\u53D6 \u4EA4\u4E92 start \u9636\u6BB5\u7684\u76F8\u5173\u914D\u7F6E\n */\nexport function getInteractionCfg(interactionType: string, brushType?: string, mask?: BrushCfg['mask']) {\n  const maskType = brushType || 'rect';\n\n  switch (interactionType) {\n    case 'brush':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isPointInView,\n            action: ['brush:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // \u5BF9\u5E94\u7B2C\u4E8C\u4E2Aaction\u7684\u53C2\u6570\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: [\n              'brush:filter',\n              'brush:end',\n              `${maskType}-mask:end`,\n              `${maskType}-mask:hide`,\n              'brush-reset-button:show',\n            ],\n          },\n        ],\n        rollback: [\n          {\n            trigger: 'brush-reset-button:click',\n            action: ['brush:reset', 'brush-reset-button:hide', 'cursor:crosshair'],\n          },\n        ],\n      };\n    case 'brush-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'mask:mouseenter', action: 'cursor:move' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable(context) {\n              // \u4E0D\u8981\u70B9\u51FB\u5728 mask \u4E0A\u91CD\u65B0\u5F00\u59CB\n              return !context.isInShape('mask');\n            },\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            // \u5BF9\u5E94\u7B2C 1 \u4E2Aaction\u7684\u53C2\u6570\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n    case 'brush-x':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isPointInView,\n            action: ['brush-x:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // \u5BF9\u5E94\u7B2C\u4E8C\u4E2Aaction\u7684\u53C2\u6570\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-x:filter', 'brush-x:end', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['brush-x:reset'] }],\n      };\n    case 'brush-x-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'mask:mouseenter', action: 'cursor:move' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable(context) {\n              // \u4E0D\u8981\u70B9\u51FB\u5728 mask \u4E0A\u91CD\u65B0\u5F00\u59CB\n              return !context.isInShape('mask');\n            },\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            // \u5BF9\u5E94\u7B2C 1 \u4E2Aaction\u7684\u53C2\u6570\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n    case 'brush-y':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isPointInView,\n            action: ['brush-y:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // \u5BF9\u5E94\u7B2C\u4E8C\u4E2Aaction\u7684\u53C2\u6570\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-y:filter', 'brush-y:end', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['brush-y:reset'] }],\n      };\n    case 'brush-y-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'mask:mouseenter', action: 'cursor:move' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable(context) {\n              // \u4E0D\u8981\u70B9\u51FB\u5728 mask \u4E0A\u91CD\u65B0\u5F00\u59CB\n              return !context.isInShape('mask');\n            },\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            // \u5BF9\u5E94\u7B2C 1 \u4E2Aaction\u7684\u53C2\u6570\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n\n    default:\n      return {};\n  }\n}\n\n// \u76F4\u63A5\u62F7\u8D1D\u8FC7\u6765\u7684\nregisterInteraction('brush', getInteractionCfg('brush'));\n// \u590D\u5199 element-range-highlight interaction\nregisterInteraction('brush-highlight', getInteractionCfg('brush-highlight'));\n// \u590D\u5199\nregisterInteraction('brush-x', getInteractionCfg('brush-x', 'x-rect'));\n// \u590D\u5199\nregisterInteraction('brush-y', getInteractionCfg('brush-y', 'y-rect'));\n// \u65B0\u589E, x \u6846\u9009\u9AD8\u4EAE\nregisterInteraction('brush-x-highlight', getInteractionCfg('brush-x-highlight', 'x-rect'));\n// \u65B0\u589E, y \u6846\u9009\u9AD8\u4EAE\nregisterInteraction('brush-y-highlight', getInteractionCfg('brush-y-highlight', 'y-rect'));\n", "import { filter } from '@antv/util';\nimport { Params } from '../core/adaptor';\nimport { getInteractionCfg } from '../interactions/brush';\nimport { deepAssign } from '../utils';\nimport { Options as BaseOptions, BrushCfg, Interaction, Writable } from '../types';\n\n/** \u5148\u5F15\u5165brush \u4EA4\u4E92 */\nimport '../interactions/brush';\n\ntype Options = Pick<BaseOptions, 'interactions'> & { brush?: BrushCfg };\n\nconst BRUSH_TYPES = ['brush', 'brush-x', 'brush-y', 'brush-highlight', 'brush-x-highlight', 'brush-y-highlight'];\n\n/**\n * brush \u4EA4\u4E92\n */\nexport function brushInteraction<O extends Options = Options>(params: Params<O>): Params<O> {\n  const { options } = params;\n\n  const { brush } = options;\n\n  // \u5148\u8FC7\u6EE4\u6389 brush \u7B49\u4EA4\u4E92\n  const interactions = filter(options.interactions || [], (i) => BRUSH_TYPES.indexOf(i.type) === -1);\n\n  // \u8BBE\u7F6E brush \u4EA4\u4E92\n  if (brush?.enabled) {\n    BRUSH_TYPES.forEach((type) => {\n      let enable = false;\n      switch (brush.type) {\n        case 'x-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-x-highlight' : 'brush-x');\n          break;\n        case 'y-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-y-highlight' : 'brush-y');\n          break;\n        default:\n          enable = type === (brush.action === 'highlight' ? 'brush-highlight' : 'brush');\n          break;\n      }\n      const obj: Writable<Interaction> = { type, enable };\n\n      if (brush.mask?.style || brush.type) {\n        obj.cfg = getInteractionCfg(type, brush.type, brush.mask);\n      }\n      interactions.push(obj);\n    });\n\n    // \u585E\u5165 button \u914D\u7F6E (G2Plot \u7684\u5C01\u88C5)\n    if (brush?.action !== 'highlight') {\n      interactions.push({\n        type: 'filter-action',\n        cfg: {\n          buttonConfig: brush.button,\n        },\n      });\n    }\n  }\n  return deepAssign({}, params, { options: { interactions } });\n}\n", "import { Types } from '@antv/g2';\nimport { each, filter, isMatch } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  slider,\n  interaction,\n  animation,\n  theme,\n  scale,\n  annotation,\n  scrollbar,\n  limitInPlot,\n  state,\n  transformations,\n} from '../../adaptor/common';\nimport { conversionTag } from '../../adaptor/conversion-tag';\nimport { connectedArea } from '../../adaptor/connected-area';\nimport { interval } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { brushInteraction } from '../../adaptor/brush';\nimport { flow, transformLabel, deepAssign, findGeometry, adjustYMetaByZero, pick } from '../../utils';\nimport { getDataWhetherPercentage, getDeepPercent } from '../../utils/transform/percent';\nimport { Datum } from '../../types';\nimport { ColumnOptions } from './types';\n\n/**\n * defaultOptions\n * @param params\n */\nfunction defaultOptions(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { options } = params;\n  // \u9ED8\u8BA4 legend \u4F4D\u7F6E\n  let { legend } = options;\n  const { seriesField, isStack } = options;\n\n  if (seriesField) {\n    if (legend !== false) {\n      legend = {\n        position: isStack ? 'right-top' : 'top-left',\n        ...legend,\n      };\n    }\n  } else {\n    legend = false;\n  }\n\n  // @ts-ignore \u76F4\u63A5\u6539\u503C\n  params.options.legend = legend;\n  return params;\n}\n\n/**\n * \u5B57\u6BB5\n * @param params\n */\nfunction geometry(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    columnStyle,\n    color,\n    columnWidthRatio,\n    isPercent,\n    isGroup,\n    isStack,\n    xField,\n    yField,\n    seriesField,\n    groupField,\n    tooltip,\n    shape,\n  } = options;\n\n  const percentData =\n    isPercent && isGroup && isStack\n      ? getDeepPercent(data, yField, [xField, groupField], yField)\n      : getDataWhetherPercentage(data, yField, xField, yField, isPercent);\n\n  let chartData = [];\n\n  // \u5B58\u5728\u5806\u53E0,\u5E76\u4E14\u5B58\u5728\u5806\u53E0seriesField\u5206\u7C7B\uFF0C\u5E76\u4E14\u4E0D\u5B58\u5728\u5206\u7EC4\u7684\u65F6\u5019 \u8FDB\u884C\u5806\u53E0\n  if (isStack && seriesField && !isGroup) {\n    percentData.forEach((item) => {\n      const stackedItem = chartData.find((v) => v[xField] === item[xField] && v[seriesField] === item[seriesField]);\n      if (stackedItem) {\n        stackedItem[yField] += item[yField] || 0;\n      } else {\n        chartData.push({ ...item });\n      }\n    });\n  } else {\n    chartData = percentData;\n  }\n\n  chart.data(chartData);\n\n  // \u767E\u5206\u6BD4\u5806\u79EF\u56FE\uFF0C\u9ED8\u8BA4\u4F1A\u7ED9\u4E00\u4E2A % \u683C\u5F0F\u5316\u903B\u8F91, \u7528\u6237\u53EF\u81EA\u5B9A\u4E49\n  const tooltipOptions = isPercent\n    ? {\n        formatter: (datum: Datum) => ({\n          name:\n            isGroup && isStack ? `${datum[seriesField]} - ${datum[groupField]}` : datum[seriesField] || datum[xField],\n          value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n        }),\n        ...tooltip,\n      }\n    : tooltip;\n\n  const p = deepAssign({}, params, {\n    options: {\n      data: chartData,\n      widthRatio: columnWidthRatio,\n      tooltip: tooltipOptions,\n      interval: {\n        shape,\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  return p;\n}\n\n/**\n * meta \u914D\u7F6E\n * @param params\n */\nexport function meta(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, data, isPercent } = options;\n\n  const percentYMeta = isPercent ? { max: 1, min: 0, minLimit: 0, maxLimit: 1 } : {};\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n      },\n      {\n        [xField]: {\n          type: 'cat',\n        },\n        [yField]: {\n          ...adjustYMetaByZero(data, yField),\n          ...percentYMeta,\n        },\n      }\n    )\n  )(params);\n}\n\n/**\n * axis \u914D\u7F6E\n * @param params\n */\nfunction axis(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  // \u4E3A false \u5219\u662F\u4E0D\u663E\u793A\u8F74\n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \u914D\u7F6E\n * @param params\n */\nexport function legend(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend && seriesField) {\n    chart.legend(seriesField, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \u6570\u636E\u6807\u7B7E\n * @param params\n */\nfunction label(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { label, yField, isRange } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        // \u914D\u7F6E\u9ED8\u8BA4\u7684 label layout\uFF1A \u5982\u679C\u7528\u6237\u6CA1\u6709\u6307\u5B9A layout \u548C position\uFF0C \u5219\u81EA\u52A8\u914D\u7F6E layout\n        layout: cfg?.position\n          ? undefined\n          : [\n              { type: 'interval-adjust-position' },\n              { type: 'interval-hide-overlap' },\n              { type: 'adjust-color' },\n              { type: 'limit-in-plot', cfg: { action: 'hide' } },\n            ],\n        ...transformLabel(\n          isRange\n            ? {\n                content: (item: object) => {\n                  return item[yField]?.join('-');\n                },\n                ...cfg,\n              }\n            : cfg\n        ),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * \u67F1\u5F62\u56FE tooltip \u914D\u7F6E (\u5BF9\u5806\u53E0\u3001\u5206\u7EC4\u505A\u7279\u6B8A\u5904\u7406)\n * @param params\n */\nfunction columnTooltip(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { tooltip, isGroup, isStack, groupField, data, xField, yField, seriesField } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    // fix: https://github.com/antvis/G2Plot/issues/2572\n    if (isGroup && isStack) {\n      const tooltipFormatter =\n        tooltipOptions?.formatter ||\n        ((datum: Datum) => ({ name: `${datum[seriesField]} - ${datum[groupField]}`, value: datum[yField] }));\n      tooltipOptions = {\n        ...tooltipOptions,\n        customItems: (originalItems: Types.TooltipItem[]) => {\n          const items: Types.TooltipItem[] = [];\n          each(originalItems, (item: Types.TooltipItem) => {\n            // Find datas in same cluster\n            const datas = filter(data, (d) => isMatch(d, pick(item.data, [xField, seriesField])));\n            datas.forEach((datum) => {\n              items.push({\n                ...item,\n                value: datum[yField],\n                data: datum,\n                mappingData: { _origin: datum },\n                ...tooltipFormatter(datum),\n              });\n            });\n          });\n          return items;\n        },\n      };\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\n/**\n * \u67F1\u5F62\u56FE\u9002\u914D\u5668\n * @param params\n */\nexport function adaptor(params: Params<ColumnOptions>, isBar = false) {\n  const { options } = params;\n  const { seriesField } = options;\n  return flow(\n    defaultOptions, // \u5904\u7406\u9ED8\u8BA4\u914D\u7F6E\n    theme, // theme \u9700\u8981\u5728 geometry \u4E4B\u524D\n    pattern('columnStyle'),\n    state,\n    transformations('rect'),\n    geometry,\n    meta,\n    axis,\n    legend,\n    columnTooltip,\n    slider,\n    scrollbar,\n    label,\n    brushInteraction,\n    interaction,\n    animation,\n    annotation(),\n    conversionTag<ColumnOptions>(options.yField, !isBar, !!seriesField), // \u6709\u62C6\u5206\u7684\u65F6\u5019\u7981\u7528\u8F6C\u5316\u7387\n    connectedArea<ColumnOptions>(!options.isStack),\n    limitInPlot\n  )(params);\n}\n", "import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \u67F1\u5F62\u56FE\u9ED8\u8BA4\u914D\u7F6E\u9879\n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  columnWidthRatio: 0.6,\n  marginRatio: 1 / 32,\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n  },\n  legend: {\n    radio: {},\n  },\n  interactions: [{ type: 'active-region' }],\n});\n", "import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { ColumnOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { ColumnOptions };\n\n/**\n * \u67F1\u5F62\u56FE\n */\nexport class Column extends Plot<ColumnOptions> {\n  /**\n   * \u83B7\u53D6 \u67F1\u5F62\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n   * \u4F9B\u5916\u90E8\u4F7F\u7528\n   */\n  static getDefaultOptions(): Partial<ColumnOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /** \u56FE\u8868\u7C7B\u578B */\n  public readonly type: string = 'column';\n\n  /**\n   * @override\n   */\n  public changeData(data: ColumnOptions['data']) {\n    this.updateOption({ data });\n    const { yField, xField, isPercent } = this.options;\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(getDataWhetherPercentage(data, yField, xField, yField, isPercent));\n  }\n\n  /**\n   * \u83B7\u53D6 \u67F1\u5F62\u56FE \u9ED8\u8BA4\u914D\u7F6E\n   */\n  protected getDefaultOptions() {\n    return Column.getDefaultOptions();\n  }\n\n  /**\n   * \u83B7\u53D6 \u67F1\u5F62\u56FE \u7684\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<ColumnOptions> {\n    return adaptor;\n  }\n}\n", "import { Params } from '../../core/adaptor';\nimport { tooltip } from '../../adaptor/common';\nimport { deepAssign, flow } from '../../utils';\nimport { Axis } from '../../types';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nexport { meta } from '../column/adaptor';\nimport { BarOptions } from './types';\n\n/**\n * \u5904\u7406\u9ED8\u8BA4\u914D\u7F6E\u9879\n * 1. switch xField\u3001 yField\n * 2. switch xAxis\u3001 yAxis and adjust axis.position configuration\n */\nfunction defaultOptions(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n  const { xField, yField, xAxis, yAxis } = options;\n\n  const position = {\n    left: 'bottom',\n    right: 'top',\n    top: 'left',\n    bottom: 'right',\n  };\n\n  const verticalAxis =\n    yAxis !== false\n      ? {\n          position: position[yAxis?.position || 'left'],\n          ...yAxis,\n        }\n      : false;\n  const horizontalAxis =\n    xAxis !== false\n      ? {\n          position: position[xAxis?.position || 'bottom'],\n          ...xAxis,\n        }\n      : false;\n\n  return {\n    ...params,\n    options: {\n      ...options,\n      xField: yField,\n      yField: xField,\n      // \u6761\u5F62\u56FE xAxis\uFF0CyAxis \u4E0D\u53EF\u4EE5\u505A deepAssign\n      xAxis: verticalAxis as Axis,\n      yAxis: horizontalAxis as Axis,\n    },\n  };\n}\n\n/**\n * label \u9002\u914D\u5668\n * @param params\n */\nfunction label(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n  const { label } = options;\n  // label of bar charts default position is left, if plot has label\n  if (label && !label.position) {\n    label.position = 'left';\n    // \u914D\u7F6E\u9ED8\u8BA4\u7684 label layout\uFF1A \u5982\u679C\u7528\u6237\u6CA1\u6709\u6307\u5B9A layout \u548C position\uFF0C \u5219\u81EA\u52A8\u914D\u7F6E layout\n    if (!label.layout) {\n      label.layout = [\n        { type: 'interval-adjust-position' },\n        { type: 'interval-hide-overlap' },\n        { type: 'adjust-color' },\n        { type: 'limit-in-plot', cfg: { action: 'hide' } },\n      ];\n    }\n  }\n\n  return deepAssign({}, params, { options: { label } });\n}\n\n/**\n * legend \u9002\u914D\u5668\n * @param params\n */\nfunction legend(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n\n  // \u9ED8\u8BA4 legend \u4F4D\u7F6E\n  const { seriesField, isStack } = options;\n  let { legend } = options;\n  if (seriesField) {\n    if (legend !== false) {\n      legend = {\n        position: isStack ? 'top-left' : 'right-top',\n        ...(legend || {}),\n      };\n    }\n  } else {\n    legend = false;\n  }\n\n  return deepAssign({}, params, { options: { legend } });\n}\n\n/**\n * coordinate \u9002\u914D\u5668\n * @param params\n */\nfunction coordinate(params: Params<BarOptions>): Params<BarOptions> {\n  // transpose column to bar \u5BF9\u89D2\u53D8\u6362 & y \u65B9\u5411\u955C\u50CF\u53D8\u6362\n  const { options } = params;\n  const coordinateOptions = [{ type: 'transpose' }, { type: 'reflectY' }].concat(options.coordinate || []);\n  return deepAssign({}, params, { options: { coordinate: coordinateOptions } });\n}\n\n/**\n * \u67F1\u5F62\u56FE\u9002\u914D\u5668\n * @param params\n */\nexport function geometry(params: Params<BarOptions>) {\n  const { chart, options } = params;\n\n  const { barStyle, barWidthRatio, minBarWidth, maxBarWidth, barBackground } = options;\n\n  return columnAdaptor(\n    {\n      chart,\n      options: {\n        ...options,\n        // rename attrs as column\n        columnStyle: barStyle,\n        columnWidthRatio: barWidthRatio,\n        minColumnWidth: minBarWidth,\n        maxColumnWidth: maxBarWidth,\n        columnBackground: barBackground,\n      },\n    },\n    true\n  ) as Params<BarOptions>;\n}\n\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BarOptions>): Params<BarOptions> {\n  // flow \u7684\u65B9\u5F0F\u5904\u7406\u6240\u6709\u7684\u914D\u7F6E\u5230 G2 API\n  return flow<Params<BarOptions>>(defaultOptions, label, legend, tooltip, coordinate, geometry)(params);\n}\n", "import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \u6761\u5F62\u56FE\u9ED8\u8BA4\u914D\u7F6E\u9879\n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  barWidthRatio: 0.6,\n  marginRatio: 1 / 32,\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n  },\n  legend: {\n    radio: {},\n  },\n  interactions: [{ type: 'active-region' }],\n});\n", "import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { BarOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { BarOptions };\n\n/**\n * \u6761\u5F62\u56FE\n */\nexport class Bar extends Plot<BarOptions> {\n  /**\n   * \u83B7\u53D6 \u6761\u5F62\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n   * \u4F9B\u5916\u90E8\u4F7F\u7528\n   */\n  static getDefaultOptions(): Partial<BarOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /** \u56FE\u8868\u7C7B\u578B */\n  public readonly type: string = 'bar';\n\n  /**\n   * @override\n   */\n  public changeData(data: BarOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    const { isPercent } = options;\n    let { xField, yField, xAxis, yAxis } = options;\n    [xField, yField] = [yField, xField];\n    [xAxis, yAxis] = [yAxis, xAxis];\n    const switchedFieldOptions = { ...options, xField, yField, yAxis, xAxis };\n    meta({ chart, options: switchedFieldOptions });\n    chart.changeData(getDataWhetherPercentage(data, xField, yField, xField, isPercent));\n  }\n\n  /**\n   * \u83B7\u53D6 \u6761\u5F62\u56FE \u9ED8\u8BA4\u914D\u7F6E\n   */\n  protected getDefaultOptions() {\n    return Bar.getDefaultOptions();\n  }\n\n  /**\n   * \u83B7\u53D6 \u6761\u5F62\u56FE \u7684\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<BarOptions> {\n    return adaptor;\n  }\n}\n", "import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \u997C\u56FE\u9ED8\u8BA4\u914D\u7F6E\u9879\n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  legend: {\n    position: 'right',\n    radio: {},\n  },\n  tooltip: {\n    shared: false,\n    showTitle: false,\n    showMarkers: false,\n  },\n  label: {\n    layout: { type: 'limit-in-plot', cfg: { action: 'ellipsis' } },\n  },\n  /** \u997C\u56FE\u6837\u5F0F, \u4E0D\u5F71\u54CD\u6697\u9ED1\u4E3B\u9898 */\n  pieStyle: {\n    stroke: 'white',\n    lineWidth: 1,\n  },\n  /** \u997C\u56FE\u4E2D\u5FC3\u6587\u672C\u9ED8\u8BA4\u6837\u5F0F */\n  statistic: {\n    title: {\n      style: { fontWeight: 300, color: '#4B535E', textAlign: 'center', fontSize: '20px', lineHeight: 1 },\n    },\n    content: {\n      style: {\n        fontWeight: 'bold',\n        color: 'rgba(44,53,66,0.85)',\n        textAlign: 'center',\n        fontSize: '32px',\n        lineHeight: 1,\n      },\n    },\n  },\n  /** \u9ED8\u8BA4\u5173\u95ED text-annotation \u52A8\u753B */\n  theme: {\n    components: {\n      annotation: {\n        text: {\n          animate: false,\n        },\n      },\n    },\n  },\n});\n", "import { each, every, isString } from '@antv/util';\nimport { Data } from '../../types';\nimport { processIllegalData } from '../../utils';\nimport { PieOptions } from './types';\n\n/**\n * \u83B7\u53D6\u603B\u8BA1\u503C\n * @param data\n * @param field\n */\nexport function getTotalValue(data: Data, field: string) {\n  let total = null;\n  each(data, (item) => {\n    if (typeof item[field] === 'number') {\n      total += item[field];\n    }\n  });\n  return total;\n}\n\n/**\n * pie label offset adaptor\n */\nexport function adaptOffset(type: string, offset?: string | number): string | number {\n  let defaultOffset;\n  switch (type) {\n    case 'inner':\n      defaultOffset = '-30%';\n      if (isString(offset) && offset.endsWith('%')) {\n        return parseFloat(offset) * 0.01 > 0 ? defaultOffset : offset;\n      }\n      return offset < 0 ? offset : defaultOffset;\n    case 'outer':\n      defaultOffset = 12;\n      if (isString(offset) && offset.endsWith('%')) {\n        return parseFloat(offset) * 0.01 < 0 ? defaultOffset : offset;\n      }\n      return offset > 0 ? offset : defaultOffset;\n    default:\n      return offset;\n  }\n}\n\n/**\n * \u5224\u65AD\u6570\u636E\u662F\u5426\u5168\u90E8\u4E3A 0\n * @param data\n * @param angleField\n */\nexport function isAllZero(data: PieOptions['data'], angleField: string): boolean {\n  return every(processIllegalData(data, angleField), (d) => d[angleField] === 0);\n}\n", "import { Util } from '@antv/g2';\n\nconst ORIGIN_MATRIX = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n/**\n * \u77E9\u9635\u53D8\u6362\n * @param actions\n * @param matrix\n */\nexport function transform(actions: any[][], matrix?: number[]) {\n  const ulMatrix = matrix ? [...matrix] : [...ORIGIN_MATRIX];\n  return Util.transform(ulMatrix, actions);\n}\n", "import { IElement, IGroup } from '@antv/g-base';\nimport { Util, Element, Action } from '@antv/g2';\nimport { isEqual } from '@antv/util';\nimport { transform } from '../../../../utils/matrix';\n\n/**\n * \u997C\u56FE \u56FE\u4F8B\u6FC0\u6D3B action\n */\nexport class PieLegendAction extends Action {\n  /**\n   * \u83B7\u53D6\u6FC0\u6D3B\u7684\u56FE\u5F62\u5143\u7D20\n   */\n  private getActiveElements(): Element[] {\n    const delegateObject = Util.getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component, item } = delegateObject;\n      const field = component.get('field');\n      if (field) {\n        const elements = view.geometries[0].elements;\n        return elements.filter((ele) => ele.getModel().data[field] === item.value);\n      }\n    }\n    return [];\n  }\n\n  /**\n   * \u83B7\u53D6\u6FC0\u6D3B\u7684\u6807\u7B7E\n   */\n  private getActiveElementLabels(): (IElement | IGroup)[] {\n    const view = this.context.view;\n    const elements = this.getActiveElements();\n    const labels = view.geometries[0].labelsContainer.getChildren();\n    return labels.filter((label) => elements.find((ele) => isEqual(ele.getData(), label.get('data'))));\n  }\n\n  protected transfrom(offset: number = 7.5) {\n    const elements = this.getActiveElements();\n    const elementLabels = this.getActiveElementLabels();\n    elements.forEach((element, idx) => {\n      const labelShape = elementLabels[idx];\n      const coordinate = element.geometry.coordinate;\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        const { startAngle, endAngle } = Util.getAngle(element.getModel(), coordinate);\n        const middleAngle = (startAngle + endAngle) / 2;\n        const r = offset;\n        const x = r * Math.cos(middleAngle);\n        const y = r * Math.sin(middleAngle);\n        element.shape.setMatrix(transform([['t', x, y]]));\n        labelShape.setMatrix(transform([['t', x, y]]));\n      }\n    });\n  }\n\n  public active() {\n    this.transfrom();\n  }\n\n  /**\n   * \u6FC0\u6D3B\u6001\u8FD8\u539F\n   */\n  public reset() {\n    this.transfrom(0);\n  }\n}\n", "import { Element } from '@antv/g2';\n\n/**\n * \u83B7\u53D6\u5F53\u524D\u4E8B\u4EF6\u76F8\u5173\u7684\u56FE\u8868\u5143\u7D20\n * @param context \u4EA4\u4E92\u7684\u4E0A\u4E0B\u6587\n * @ignore\n */\nexport function getCurrentElement(context): Element | undefined {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n", "import { View, Action, Util, Types } from '@antv/g2';\nimport { each, get } from '@antv/util';\nimport { Annotation } from '../../../../types/annotation';\nimport { renderStatistic } from '../../../../utils/statistic';\nimport { PieOptions } from '../../types';\nimport { getCurrentElement } from '../util';\n\n/**\n * Pie \u4E2D\u5FC3\u6587\u672C\u4E8B\u4EF6\u7684 Action\n */\nexport class StatisticAction extends Action {\n  private initialAnnotation;\n\n  private getAnnotations(_view?: View): object[] {\n    const view = _view || this.context.view;\n    // @ts-ignore\n    return view.getController('annotation').option;\n  }\n\n  private getInitialAnnotation(): Types.ComponentOption[] | null {\n    return this.initialAnnotation;\n  }\n\n  init() {\n    const { view } = this.context;\n    view.removeInteraction('tooltip');\n\n    view.on('afterchangesize', () => {\n      const annotations = this.getAnnotations(view);\n      this.initialAnnotation = annotations;\n    });\n  }\n\n  public change(arg?: Pick<PieOptions, 'annotations' | 'statistic'>) {\n    const { view, event } = this.context;\n    if (!this.initialAnnotation) {\n      this.initialAnnotation = this.getAnnotations();\n    }\n\n    let data = get(event, ['data', 'data']);\n    if (event.type.match('legend-item')) {\n      const delegateObject = Util.getDelegationObject(this.context);\n      // @ts-ignore\n      const colorField = view.getGroupedFields()[0];\n      if (delegateObject && colorField) {\n        const { item } = delegateObject;\n        data = view.getData().find((d) => d[colorField] === item.value);\n      }\n    }\n\n    if (data) {\n      const annotations = get(arg, 'annotations', []);\n      const statistic = get(arg, 'statistic', {});\n      // \u5148\u6E05\u7A7A\u6807\u6CE8\uFF0C\u518D\u91CD\u65B0\u6E32\u67D3\n      view.getController('annotation').clear(true);\n      // \u5148\u8FDB\u884C\u5176\u4ED6 annotations\uFF0C\u518D\u53BB\u6E32\u67D3\u7EDF\u8BA1\u6587\u672C\n      each(annotations, (annotation: Annotation) => {\n        if (typeof annotation === 'object') {\n          view.annotation()[annotation.type](annotation);\n        }\n      });\n      renderStatistic(view, { statistic, plotType: 'pie' }, data);\n      view.render(true);\n    }\n\n    // \u4EA4\u4E92\u7684\u65F6\u5019\uFF0C\u628A shape \u63D0\u524D\n    const ele = getCurrentElement(this.context);\n    if (ele) {\n      ele.shape.toFront();\n    }\n  }\n\n  public reset() {\n    const { view } = this.context;\n    const annotationController = view.getController('annotation');\n    annotationController.clear(true);\n    const initialStatistic = this.getInitialAnnotation();\n    each(initialStatistic, (a) => {\n      view.annotation()[a.type](a);\n    });\n    view.render(true);\n  }\n}\n", "import { registerAction, registerInteraction } from '@antv/g2';\nimport { PieLegendAction } from './actions/legend-active';\nimport { StatisticAction } from './actions/statistic-active';\n\nexport const PIE_STATISTIC = 'pie-statistic';\n\nregisterAction(PIE_STATISTIC, StatisticAction);\nregisterInteraction('pie-statistic-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'pie-statistic:change' }],\n  end: [{ trigger: 'element:mouseleave', action: 'pie-statistic:reset' }],\n});\n\nregisterAction('pie-legend', PieLegendAction);\nregisterInteraction('pie-legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: 'pie-legend:active' }],\n  end: [{ trigger: 'legend-item:mouseleave', action: 'pie-legend:reset' }],\n});\n", "import { isFunction, isString, isNil, get, isArray, isNumber, each, toString, isEmpty } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { legend, animation, theme, state, annotation } from '../../adaptor/common';\nimport { getMappingFunction } from '../../adaptor/geometries/base';\nimport { interval } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { getLocale } from '../../core/locale';\nimport { Interaction } from '../../types/interaction';\nimport { flow, template, transformLabel, deepAssign, renderStatistic, processIllegalData } from '../../utils';\nimport { Data, Datum } from '../../types';\nimport { DEFAULT_OPTIONS } from './contants';\nimport { adaptOffset, getTotalValue, isAllZero } from './utils';\nimport { PIE_STATISTIC } from './interactions';\nimport { PieOptions } from './types';\n\n/**\n * \u5B57\u6BB5\n * @param params\n */\nfunction geometry(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { data, angleField, colorField, color, pieStyle } = options;\n\n  // \u5904\u7406\u4E0D\u5408\u6CD5\u7684\u6570\u636E\n  let processData = processIllegalData(data, angleField);\n\n  if (isAllZero(processData, angleField)) {\n    // \u6570\u636E\u5168 0 \u5904\u7406\uFF0C\u8C03\u6574 position \u6620\u5C04\n    const percentageField = '$$percentage$$';\n    processData = processData.map((d) => ({ ...d, [percentageField]: 1 / processData.length }));\n    chart.data(processData);\n\n    const p = deepAssign({}, params, {\n      options: {\n        xField: '1',\n        yField: percentageField,\n        seriesField: colorField,\n        isStack: true,\n        interval: {\n          color,\n          style: pieStyle,\n        },\n        args: {\n          zIndexReversed: true,\n          sortZIndex: true,\n        },\n      },\n    });\n\n    interval(p);\n  } else {\n    chart.data(processData);\n\n    const p = deepAssign({}, params, {\n      options: {\n        xField: '1',\n        yField: angleField,\n        seriesField: colorField,\n        isStack: true,\n        interval: {\n          color,\n          style: pieStyle,\n        },\n        args: {\n          zIndexReversed: true,\n          sortZIndex: true,\n        },\n      },\n    });\n\n    interval(p);\n  }\n\n  return params;\n}\n\n/**\n * meta \u914D\u7F6E\n * @param params\n */\nfunction meta(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { meta, colorField } = options;\n\n  // meta \u76F4\u63A5\u662F scale \u7684\u4FE1\u606F\n  const scales = deepAssign({}, meta);\n  chart.scale(scales, {\n    [colorField]: { type: 'cat' },\n  });\n\n  return params;\n}\n\n/**\n * coord \u914D\u7F6E\n * @param params\n */\nfunction coordinate(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart.coordinate({\n    type: 'theta',\n    cfg: {\n      radius,\n      innerRadius,\n      startAngle,\n      endAngle,\n    },\n  });\n\n  return params;\n}\n\n/**\n * label \u914D\u7F6E\n * @param params\n */\nfunction label(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { label, colorField, angleField } = options;\n\n  const geometry = chart.geometries[0];\n  // label \u4E3A false, \u7A7A \u5219\u4E0D\u663E\u793A label\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    const labelCfg = transformLabel(cfg);\n\n    // \u2460 \u63D0\u4F9B\u6A21\u677F\u5B57\u7B26\u4E32\u7684 label content \u914D\u7F6E\n    if (labelCfg.content) {\n      const { content } = labelCfg;\n      labelCfg.content = (data: object, dataum: any, index: number) => {\n        const name = data[colorField];\n        const value = data[angleField];\n        // dymatic get scale, scale is ready this time\n        const angleScale = chart.getScaleByField(angleField);\n        const percent = angleScale?.scale(value);\n        return isFunction(content)\n          ? // append percent (number) to data, users can get origin data from `dataum._origin`\n            content({ ...data, percent }, dataum, index)\n          : isString(content)\n          ? template(content as string, {\n              value,\n              name,\n              // percentage (string), default keep 2\n              percentage: isNumber(percent) && !isNil(value) ? `${(percent * 100).toFixed(2)}%` : null,\n            })\n          : content;\n      };\n    }\n\n    const LABEL_LAYOUT_TYPE_MAP = {\n      inner: '',\n      outer: 'pie-outer',\n      spider: 'pie-spider',\n    };\n    const labelLayoutType = labelCfg.type ? LABEL_LAYOUT_TYPE_MAP[labelCfg.type] : 'pie-outer';\n    const labelLayoutCfg = labelCfg.layout ? (!isArray(labelCfg.layout) ? [labelCfg.layout] : labelCfg.layout) : [];\n    labelCfg.layout = (labelLayoutType ? [{ type: labelLayoutType }] : []).concat(labelLayoutCfg);\n\n    geometry.label({\n      // fix: could not create scale, when field is undefined\uFF08attributes \u4E2D\u7684 fields \u5B9A\u4E49\u90FD\u4F1A\u88AB\u7528\u6765\u521B\u5EFA scale\uFF09\n      fields: colorField ? [angleField, colorField] : [angleField],\n      callback,\n      cfg: {\n        ...labelCfg,\n        offset: adaptOffset(labelCfg.type, labelCfg.offset),\n        type: 'pie',\n      },\n    });\n  }\n  return params;\n}\n\n/**\n * statistic options \u5904\u7406\n * 1. \u9ED8\u8BA4\u7EE7\u627F default options \u7684\u6837\u5F0F\n * 2. \u9ED8\u8BA4\u4F7F\u7528 meta \u7684 formatter\n */\nexport function transformStatisticOptions(options: PieOptions): PieOptions {\n  const { innerRadius, statistic, angleField, colorField, meta, locale } = options;\n\n  const i18n = getLocale(locale);\n\n  if (innerRadius && statistic) {\n    let { title: titleOpt, content: contentOpt } = deepAssign({}, DEFAULT_OPTIONS.statistic, statistic);\n    if (titleOpt !== false) {\n      titleOpt = deepAssign(\n        {},\n        {\n          formatter: (datum: Datum) => {\n            // \u4EA4\u4E92\u4E2D, datum existed.\n            const text = datum\n              ? datum[colorField]\n              : !isNil(titleOpt.content)\n              ? titleOpt.content\n              : i18n.get(['statistic', 'total']);\n            const metaFormatter = get(meta, [colorField, 'formatter']) || ((v) => v);\n            return metaFormatter(text);\n          },\n        },\n        titleOpt\n      );\n    }\n    if (contentOpt !== false) {\n      contentOpt = deepAssign(\n        {},\n        {\n          formatter: (datum: Datum, data: Data) => {\n            const dataValue = datum ? datum[angleField] : getTotalValue(data, angleField);\n            const metaFormatter = get(meta, [angleField, 'formatter']) || ((v) => v);\n            // \u4EA4\u4E92\u4E2D\n            if (datum) {\n              return metaFormatter(dataValue);\n            }\n            return !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(dataValue);\n          },\n        },\n        contentOpt\n      );\n    }\n\n    return deepAssign({}, { statistic: { title: titleOpt, content: contentOpt } }, options);\n  }\n  return options;\n}\n\n/**\n * statistic \u4E2D\u5FC3\u6587\u672C\u914D\u7F6E\n * @param params\n */\nexport function pieAnnotation(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { innerRadius, statistic } = transformStatisticOptions(options);\n  // \u5148\u6E05\u7A7A\u6807\u6CE8\uFF0C\u518D\u91CD\u65B0\u6E32\u67D3\n  chart.getController('annotation').clear(true);\n\n  // \u5148\u8FDB\u884C\u5176\u4ED6 annotations\uFF0C\u518D\u53BB\u6E32\u67D3\u7EDF\u8BA1\u6587\u672C\n  flow(annotation())(params);\n\n  /** \u4E2D\u5FC3\u6587\u672C \u6307\u6807\u5361 */\n  if (innerRadius && statistic) {\n    renderStatistic(chart, { statistic, plotType: 'pie' });\n  }\n\n  return params;\n}\n\n/**\n * \u997C\u56FE tooltip \u914D\u7F6E\n * 1. \u5F3A\u5236 tooltip.shared \u4E3A false\n * @param params\n */\nfunction tooltip(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { tooltip, colorField, angleField, data } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(tooltip);\n  } else {\n    chart.tooltip(deepAssign({}, tooltip, { shared: false }));\n\n    // \u4E3B\u8981\u89E3\u51B3 all zero\uFF0C \u5BF9\u4E8E\u975E all zero \u4E0D\u518D\u9002\u7528\n    if (isAllZero(data, angleField)) {\n      let fields = get(tooltip, 'fields');\n      let formatter = get(tooltip, 'formatter');\n\n      if (isEmpty(get(tooltip, 'fields'))) {\n        fields = [colorField, angleField];\n        formatter = formatter || ((datum) => ({ name: datum[colorField], value: toString(datum[angleField]) }));\n      }\n      chart.geometries[0].tooltip(fields.join('*'), getMappingFunction(fields, formatter));\n    }\n  }\n\n  return params;\n}\n\n/**\n * Interaction \u914D\u7F6E (\u997C\u56FE\u7279\u6B8A\u7684 interaction, \u4E2D\u5FC3\u6587\u672C\u53D8\u66F4\u7684\u65F6\u5019\uFF0C\u9700\u8981\u5C06\u4E00\u4E9B\u914D\u7F6E\u53C2\u6570\u4F20\u8FDB\u53BB\uFF09\n * @param params\n */\nexport function interaction(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { interactions, statistic, annotations } = transformStatisticOptions(options);\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else if (i.type === 'pie-statistic-active') {\n      // \u53EA\u9488\u5BF9 start \u9636\u6BB5\u7684\u914D\u7F6E\uFF0C\u8FDB\u884C\u6DFB\u52A0\u53C2\u6570\u4FE1\u606F\n      let startStages = [];\n      if (!i.cfg?.start) {\n        startStages = [\n          {\n            trigger: 'element:mouseenter',\n            action: `${PIE_STATISTIC}:change`,\n            arg: { statistic, annotations },\n          },\n        ];\n      }\n      each(i.cfg?.start, (stage) => {\n        startStages.push({ ...stage, arg: { statistic, annotations } });\n      });\n      chart.interaction(i.type, deepAssign({}, i.cfg, { start: startStages }));\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \u997C\u56FE\u9002\u914D\u5668\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<PieOptions>) {\n  // flow \u7684\u65B9\u5F0F\u5904\u7406\u6240\u6709\u7684\u914D\u7F6E\u5230 G2 API\n  return flow<Params<PieOptions>>(\n    pattern('pieStyle'),\n    geometry,\n    meta,\n    theme,\n    coordinate,\n    legend,\n    tooltip,\n    label,\n    state,\n    /** \u6307\u6807\u5361\u4E2D\u5FC3\u6587\u672C \u653E\u5728\u4E0B\u5C42 */\n    pieAnnotation,\n    interaction,\n    animation\n  )(params);\n}\n", "import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { processIllegalData } from '../../utils';\nimport { adaptor, pieAnnotation } from './adaptor';\nimport { DEFAULT_OPTIONS } from './contants';\nimport { PieOptions } from './types';\nimport { isAllZero } from './utils';\nimport './interactions';\n\nexport type { PieOptions };\n\nexport class Pie extends Plot<PieOptions> {\n  /**\n   * \u83B7\u53D6 \u997C\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n   * \u4F9B\u5916\u90E8\u4F7F\u7528\n   */\n  static getDefaultOptions(): Partial<PieOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'pie';\n\n  /**\n   * \u66F4\u65B0\u6570\u636E\n   * @param data\n   */\n  public changeData(data: PieOptions['data']) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    const prevOptions = this.options;\n    const { angleField } = this.options;\n    const prevData = processIllegalData(prevOptions.data, angleField);\n    const curData = processIllegalData(data, angleField);\n    // \u5982\u679C\u4E0A\u4E00\u6B21\u6216\u5F53\u524D\u6570\u636E\u5168\u4E3A 0\uFF0C\u5219\u91CD\u65B0\u6E32\u67D3\n    if (isAllZero(prevData, angleField) || isAllZero(curData, angleField)) {\n      this.update({ data });\n    } else {\n      this.updateOption({ data });\n      this.chart.data(curData);\n      // todo \u540E\u7EED\u8BA9 G2 \u5C42\u5728 afterrender \u4E4B\u540E\uFF0C\u6765\u91CD\u7ED8 annotations\n      pieAnnotation({ chart: this.chart, options: this.options });\n      this.chart.render(true);\n    }\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \u83B7\u53D6 \u997C\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879, \u4F9B base \u83B7\u53D6\n   */\n  protected getDefaultOptions(): Partial<PieOptions> {\n    return Pie.getDefaultOptions();\n  }\n\n  /**\n   * \u83B7\u53D6 \u997C\u56FE \u7684\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<PieOptions> {\n    return adaptor;\n  }\n}\n", "import { filter, isObject, isArray } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, findGeometry, log, LEVEL, transformLabel, deepAssign } from '../../utils';\nimport { tooltip, interaction, animation, theme, scale, annotation, state, pattern } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { RoseOptions } from './types';\n\n/**\n * geometry \u914D\u7F6E\u5904\u7406\n * @param params\n */\nfunction geometry(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { data, sectorStyle, color } = options;\n\n  // \u88C5\u8F7D\u6570\u636E\n  chart.data(data);\n\n  flow(interval)(\n    deepAssign({}, params, {\n      options: {\n        marginRatio: 1,\n        interval: {\n          style: sectorStyle,\n          color,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * label \u914D\u7F6E\n * @param params\n */\nfunction label(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { label, xField } = options;\n  const geometry = findGeometry(chart, 'interval');\n\n  // label \u4E3A false \u4E0D\u663E\u793A label\n  if (label === false) {\n    geometry.label(false);\n  } else if (isObject(label)) {\n    const { callback, fields, ...cfg } = label;\n    const { offset } = cfg;\n    let layout = cfg.layout;\n\n    // \u5F53 label \u5728 shape \u5916\u90E8\u663E\u793A\u65F6\uFF0C\u8BBE\u7F6E 'limit-in-shape' \u4F1A\n    // \u9020\u6210 label \u4E0D\u663E\u793A\u3002\n    if (offset === undefined || offset >= 0) {\n      layout = layout ? (isArray(layout) ? layout : [layout]) : [];\n      cfg.layout = filter(layout, (v) => v.type !== 'limit-in-shape');\n      cfg.layout.length || delete cfg.layout;\n    }\n\n    geometry.label({\n      fields: fields || [xField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  } else {\n    log(LEVEL.WARN, label === null, 'the label option must be an Object.');\n    geometry.label({ fields: [xField] });\n  }\n\n  return params;\n}\n\n/**\n * legend \u914D\u7F6E\n * @param params\n */\nexport function legend(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (seriesField) {\n    chart.legend(seriesField, legend);\n  }\n\n  return params;\n}\n\n/**\n * coord \u914D\u7F6E\n * @param params\n */\nfunction coordinate(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart.coordinate({\n    type: 'polar',\n    cfg: {\n      radius,\n      innerRadius,\n      startAngle,\n      endAngle,\n    },\n  });\n\n  return params;\n}\n\n/**\n * meta \u914D\u7F6E\n * @param params\n */\nfunction meta(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \u914D\u7F6E\n * @param params\n */\nfunction axis(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  // \u4E3A falsy \u5219\u662F\u4E0D\u663E\u793A\u8F74\n  if (!xAxis) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (!yAxis) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * \u73AB\u7470\u56FE\u9002\u914D\u5668\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RoseOptions>) {\n  // flow \u7684\u65B9\u5F0F\u5904\u7406\u6240\u6709\u7684\u914D\u7F6E\u5230 G2 API\n  flow(\n    pattern('sectorStyle'),\n    geometry,\n    meta,\n    label,\n    coordinate,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    theme,\n    annotation(),\n    state\n  )(params);\n}\n", "import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \u73AB\u7470\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  xAxis: false,\n  yAxis: false,\n  legend: {\n    position: 'right',\n    radio: {},\n  },\n  sectorStyle: {\n    stroke: '#fff',\n    lineWidth: 1,\n  },\n  label: {\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  interactions: [{ type: 'active-region' }],\n});\n", "import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { RoseOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { RoseOptions };\n\nexport class Rose extends Plot<RoseOptions> {\n  /**\n   * \u83B7\u53D6 \u73AB\u7470\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n   * \u4F9B\u5916\u90E8\u4F7F\u7528\n   */\n  static getDefaultOptions(): Partial<RoseOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /** \u73AB\u7470\u56FE */\n  public type: string = 'rose';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    this.chart.changeData(data);\n  }\n\n  /**\n   * \u83B7\u53D6\u9ED8\u8BA4\u7684 options \u914D\u7F6E\u9879\n   */\n  protected getDefaultOptions(): Partial<RoseOptions> {\n    return Rose.getDefaultOptions();\n  }\n\n  /**\n   * \u83B7\u53D6 \u73AB\u7470\u56FE \u7684\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<RoseOptions> {\n    return adaptor;\n  }\n}\n", "import { isNil, isFunction, assign } from '@antv/util';\r\nimport { Tag, Word } from '../../plots/word-cloud/types';\r\n\r\ntype FontWeight = number | 'normal' | 'bold' | 'bolder' | 'lighter';\r\n\r\nexport interface Options {\r\n  size: [number, number];\r\n  font?: string | ((row: Word, index?: number, words?: Word[]) => string);\r\n  fontSize?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  fontWeight?: FontWeight | ((row: Word, index?: number, words?: Word[]) => FontWeight);\r\n  rotate?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  padding?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  spiral?: 'archimedean' | 'rectangular' | ((size: [number, number]) => (t: number) => number[]);\r\n  random?: number | (() => number);\r\n  timeInterval?: number;\r\n  imageMask?: HTMLImageElement;\r\n}\r\n\r\nconst DEFAULT_OPTIONS: Options = {\r\n  font: () => 'serif',\r\n  padding: 1,\r\n  size: [500, 500],\r\n  spiral: 'archimedean', // 'archimedean' || 'rectangular' || {function}\r\n  // timeInterval: Infinity // max execute time\r\n  timeInterval: 3000, // max execute time\r\n  // imageMask: '', // instance of Image, must be loaded\r\n};\r\n\r\n/**\r\n * \u6839\u636E\u5BF9\u5E94\u7684\u6570\u636E\u5BF9\u8C61\uFF0C\u8BA1\u7B97\u6BCF\u4E2A\r\n * \u8BCD\u8BED\u5728\u753B\u5E03\u4E2D\u7684\u6E32\u67D3\u4F4D\u7F6E\uFF0C\u5E76\u8FD4\u56DE\r\n * \u8BA1\u7B97\u540E\u7684\u6570\u636E\u5BF9\u8C61\r\n * @param words\r\n * @param options\r\n */\r\nexport function wordCloud(words: Word[], options?: Partial<Options>): Tag[] {\r\n  // \u6DF7\u5165\u9ED8\u8BA4\u914D\u7F6E\r\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\r\n  return transform(words, options as Options);\r\n}\r\n\r\n/**\r\n * \u629B\u51FA\u6CA1\u6709\u6DF7\u5165\u9ED8\u8BA4\u914D\u7F6E\u7684\u65B9\u6CD5\uFF0C\u7528\u4E8E\u6D4B\u8BD5\u3002\r\n * @param words\r\n * @param options\r\n */\r\nexport function transform(words: Word[], options: Options) {\r\n  // \u5E03\u5C40\u5BF9\u8C61\r\n  const layout = tagCloud();\r\n  ['font', 'fontSize', 'fontWeight', 'padding', 'rotate', 'size', 'spiral', 'timeInterval', 'random'].forEach(\r\n    (key: string) => {\r\n      if (!isNil(options[key])) {\r\n        layout[key](options[key]);\r\n      }\r\n    }\r\n  );\r\n\r\n  layout.words(words);\r\n  if (options.imageMask) {\r\n    layout.createMask(options.imageMask);\r\n  }\r\n\r\n  const result = layout.start();\r\n  const tags: any[] = result._tags;\r\n\r\n  tags.forEach((tag) => {\r\n    tag.x += options.size[0] / 2;\r\n    tag.y += options.size[1] / 2;\r\n  });\r\n\r\n  const [w, h] = options.size;\r\n  // \u6DFB\u52A0\u4E24\u4E2A\u53C2\u7167\u6570\u636E\uFF0C\u5206\u522B\u8868\u793A\u5DE6\u4E0A\u89D2\u548C\u53F3\u4E0B\u89D2\u3002\r\n  // \u4E0D\u6DFB\u52A0\u7684\u8BDD\u4E0D\u4F1A\u6309\u7167\u771F\u5B9E\u7684\u5750\u6807\u6E32\u67D3\uFF0C\u800C\u662F\u4EE5\r\n  // \u6570\u636E\u4E2D\u7684\u8FB9\u754C\u5750\u6807\u4E3A\u8FB9\u754C\u8FDB\u884C\u62C9\u4F38\uFF0C\u4EE5\u94FA\u6EE1\u753B\u5E03\u3002\r\n  // \u8FD9\u6837\u7684\u540E\u679C\u4F1A\u5BFC\u81F4\u8BCD\u8BED\u4E4B\u95F4\u7684\u91CD\u53E0\u3002\r\n  tags.push({\r\n    text: '',\r\n    value: 0,\r\n    x: 0,\r\n    y: 0,\r\n    opacity: 0,\r\n  });\r\n  tags.push({\r\n    text: '',\r\n    value: 0,\r\n    x: w,\r\n    y: h,\r\n    opacity: 0,\r\n  });\r\n\r\n  return tags;\r\n}\r\n\r\n/*\r\n * Synchronous version of d3-cloud\r\n */\r\n// Word cloud layout by Jason Davies, https://www.jasondavies.com/wordcloud/\r\n// Algorithm due to Jonathan Feinberg, http://static.mrfeinberg.com/bv_ch03.pdf\r\n/* eslint-disable no-return-assign, no-cond-assign */\r\n\r\ninterface Item {\r\n  value: number;\r\n  text: string;\r\n  sprite: boolean;\r\n}\r\n\r\nconst cloudRadians = Math.PI / 180,\r\n  cw = (1 << 11) >> 5,\r\n  ch = 1 << 11;\r\n\r\nfunction cloudText(d: Item) {\r\n  return d.text;\r\n}\r\n\r\nfunction cloudFont() {\r\n  return 'serif';\r\n}\r\n\r\nfunction cloudFontNormal() {\r\n  return 'normal';\r\n}\r\n\r\nfunction cloudFontSize(d: Item) {\r\n  return d.value;\r\n}\r\n\r\nfunction cloudRotate() {\r\n  return ~~(Math.random() * 2) * 90;\r\n}\r\n\r\nfunction cloudPadding() {\r\n  return 1;\r\n}\r\n\r\n// Fetches a monochrome sprite bitmap for the specified text.\r\n// Load in batches for speed.\r\nfunction cloudSprite(contextAndRatio, d, data, di) {\r\n  if (d.sprite) return;\r\n  const c = contextAndRatio.context,\r\n    ratio = contextAndRatio.ratio;\r\n\r\n  c.clearRect(0, 0, (cw << 5) / ratio, ch / ratio);\r\n  let x = 0,\r\n    y = 0,\r\n    maxh = 0;\r\n  const n = data.length;\r\n  --di;\r\n  while (++di < n) {\r\n    d = data[di];\r\n    c.save();\r\n    c.font = d.style + ' ' + d.weight + ' ' + ~~((d.size + 1) / ratio) + 'px ' + d.font;\r\n    let w = c.measureText(d.text + 'm').width * ratio,\r\n      h = d.size << 1;\r\n    if (d.rotate) {\r\n      const sr = Math.sin(d.rotate * cloudRadians),\r\n        cr = Math.cos(d.rotate * cloudRadians),\r\n        wcr = w * cr,\r\n        wsr = w * sr,\r\n        hcr = h * cr,\r\n        hsr = h * sr;\r\n      w = ((Math.max(Math.abs(wcr + hsr), Math.abs(wcr - hsr)) + 0x1f) >> 5) << 5;\r\n      h = ~~Math.max(Math.abs(wsr + hcr), Math.abs(wsr - hcr));\r\n    } else {\r\n      w = ((w + 0x1f) >> 5) << 5;\r\n    }\r\n    if (h > maxh) maxh = h;\r\n    if (x + w >= cw << 5) {\r\n      x = 0;\r\n      y += maxh;\r\n      maxh = 0;\r\n    }\r\n    if (y + h >= ch) break;\r\n    c.translate((x + (w >> 1)) / ratio, (y + (h >> 1)) / ratio);\r\n    if (d.rotate) c.rotate(d.rotate * cloudRadians);\r\n    c.fillText(d.text, 0, 0);\r\n    if (d.padding) {\r\n      c.lineWidth = 2 * d.padding;\r\n      c.strokeText(d.text, 0, 0);\r\n    }\r\n    c.restore();\r\n    d.width = w;\r\n    d.height = h;\r\n    d.xoff = x;\r\n    d.yoff = y;\r\n    d.x1 = w >> 1;\r\n    d.y1 = h >> 1;\r\n    d.x0 = -d.x1;\r\n    d.y0 = -d.y1;\r\n    d.hasText = true;\r\n    x += w;\r\n  }\r\n  const pixels = c.getImageData(0, 0, (cw << 5) / ratio, ch / ratio).data,\r\n    sprite = [];\r\n  while (--di >= 0) {\r\n    d = data[di];\r\n    if (!d.hasText) continue;\r\n    const w = d.width,\r\n      w32 = w >> 5;\r\n    let h = d.y1 - d.y0;\r\n    // Zero the buffer\r\n    for (let i = 0; i < h * w32; i++) sprite[i] = 0;\r\n    x = d.xoff;\r\n    if (x == null) return;\r\n    y = d.yoff;\r\n    let seen = 0,\r\n      seenRow = -1;\r\n    for (let j = 0; j < h; j++) {\r\n      for (let i = 0; i < w; i++) {\r\n        const k = w32 * j + (i >> 5),\r\n          m = pixels[((y + j) * (cw << 5) + (x + i)) << 2] ? 1 << (31 - (i % 32)) : 0;\r\n        sprite[k] |= m;\r\n        seen |= m;\r\n      }\r\n      if (seen) seenRow = j;\r\n      else {\r\n        d.y0++;\r\n        h--;\r\n        j--;\r\n        y++;\r\n      }\r\n    }\r\n    d.y1 = d.y0 + seenRow;\r\n    d.sprite = sprite.slice(0, (d.y1 - d.y0) * w32);\r\n  }\r\n}\r\n\r\n// Use mask-based collision detection.\r\nfunction cloudCollide(tag, board, sw) {\r\n  sw >>= 5;\r\n  const sprite = tag.sprite,\r\n    w = tag.width >> 5,\r\n    lx = tag.x - (w << 4),\r\n    sx = lx & 0x7f,\r\n    msx = 32 - sx,\r\n    h = tag.y1 - tag.y0;\r\n  let x = (tag.y + tag.y0) * sw + (lx >> 5),\r\n    last;\r\n  for (let j = 0; j < h; j++) {\r\n    last = 0;\r\n    for (let i = 0; i <= w; i++) {\r\n      if (((last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0)) & board[x + i]) return true;\r\n    }\r\n    x += sw;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction cloudBounds(bounds, d) {\r\n  const b0 = bounds[0],\r\n    b1 = bounds[1];\r\n  if (d.x + d.x0 < b0.x) b0.x = d.x + d.x0;\r\n  if (d.y + d.y0 < b0.y) b0.y = d.y + d.y0;\r\n  if (d.x + d.x1 > b1.x) b1.x = d.x + d.x1;\r\n  if (d.y + d.y1 > b1.y) b1.y = d.y + d.y1;\r\n}\r\n\r\nfunction collideRects(a, b) {\r\n  return a.x + a.x1 > b[0].x && a.x + a.x0 < b[1].x && a.y + a.y1 > b[0].y && a.y + a.y0 < b[1].y;\r\n}\r\n\r\nfunction archimedeanSpiral(size) {\r\n  const e = size[0] / size[1];\r\n  return function (t) {\r\n    return [e * (t *= 0.1) * Math.cos(t), t * Math.sin(t)];\r\n  };\r\n}\r\n\r\nfunction rectangularSpiral(size) {\r\n  const dy = 4,\r\n    dx = (dy * size[0]) / size[1];\r\n  let x = 0,\r\n    y = 0;\r\n  return function (t) {\r\n    const sign = t < 0 ? -1 : 1;\r\n    // See triangular numbers: T_n = n * (n + 1) / 2.\r\n    switch ((Math.sqrt(1 + 4 * sign * t) - sign) & 3) {\r\n      case 0:\r\n        x += dx;\r\n        break;\r\n      case 1:\r\n        y += dy;\r\n        break;\r\n      case 2:\r\n        x -= dx;\r\n        break;\r\n      default:\r\n        y -= dy;\r\n        break;\r\n    }\r\n    return [x, y];\r\n  };\r\n}\r\n\r\n// TODO reuse arrays?\r\nfunction zeroArray(n) {\r\n  const a = [];\r\n  let i = -1;\r\n  while (++i < n) a[i] = 0;\r\n  return a;\r\n}\r\n\r\nfunction cloudCanvas() {\r\n  return document.createElement('canvas');\r\n}\r\n\r\nexport function functor(d) {\r\n  return isFunction(d)\r\n    ? d\r\n    : function () {\r\n        return d;\r\n      };\r\n}\r\n\r\nconst spirals = {\r\n  archimedean: archimedeanSpiral,\r\n  rectangular: rectangularSpiral,\r\n};\r\n\r\nfunction tagCloud() {\r\n  let size = [256, 256],\r\n    font = cloudFont,\r\n    fontSize = cloudFontSize,\r\n    fontWeight = cloudFontNormal,\r\n    rotate = cloudRotate,\r\n    padding = cloudPadding,\r\n    spiral = archimedeanSpiral,\r\n    random = Math.random,\r\n    words = [],\r\n    timeInterval = Infinity;\r\n\r\n  const text = cloudText;\r\n  const fontStyle = cloudFontNormal;\r\n  const canvas = cloudCanvas;\r\n  const cloud: any = {};\r\n\r\n  cloud.start = function () {\r\n    const [width, height] = size;\r\n    const contextAndRatio = getContext(canvas()),\r\n      board = cloud.board ? cloud.board : zeroArray((size[0] >> 5) * size[1]),\r\n      n = words.length,\r\n      tags = [],\r\n      data = words\r\n        .map(function (d, i, data) {\r\n          d.text = text.call(this, d, i, data);\r\n          d.font = font.call(this, d, i, data);\r\n          d.style = fontStyle.call(this, d, i, data);\r\n          d.weight = fontWeight.call(this, d, i, data);\r\n          d.rotate = rotate.call(this, d, i, data);\r\n          d.size = ~~fontSize.call(this, d, i, data);\r\n          d.padding = padding.call(this, d, i, data);\r\n          return d;\r\n        })\r\n        .sort(function (a, b) {\r\n          return b.size - a.size;\r\n        });\r\n    let i = -1,\r\n      bounds = !cloud.board\r\n        ? null\r\n        : [\r\n            {\r\n              x: 0,\r\n              y: 0,\r\n            },\r\n            {\r\n              x: width,\r\n              y: height,\r\n            },\r\n          ];\r\n\r\n    step();\r\n\r\n    function step() {\r\n      const start = Date.now();\r\n      while (Date.now() - start < timeInterval && ++i < n) {\r\n        const d = data[i];\r\n        d.x = (width * (random() + 0.5)) >> 1;\r\n        d.y = (height * (random() + 0.5)) >> 1;\r\n        cloudSprite(contextAndRatio, d, data, i);\r\n        if (d.hasText && place(board, d, bounds)) {\r\n          tags.push(d);\r\n          if (bounds) {\r\n            if (!cloud.hasImage) {\r\n              // update bounds if image mask not set\r\n              cloudBounds(bounds, d);\r\n            }\r\n          } else {\r\n            bounds = [\r\n              { x: d.x + d.x0, y: d.y + d.y0 },\r\n              { x: d.x + d.x1, y: d.y + d.y1 },\r\n            ];\r\n          }\r\n          // Temporary hack\r\n          d.x -= size[0] >> 1;\r\n          d.y -= size[1] >> 1;\r\n        }\r\n      }\r\n      cloud._tags = tags;\r\n      cloud._bounds = bounds;\r\n    }\r\n\r\n    return cloud;\r\n  };\r\n\r\n  function getContext(canvas: HTMLCanvasElement) {\r\n    canvas.width = canvas.height = 1;\r\n    const ratio = Math.sqrt(canvas.getContext('2d')!.getImageData(0, 0, 1, 1).data.length >> 2);\r\n    canvas.width = (cw << 5) / ratio;\r\n    canvas.height = ch / ratio;\r\n\r\n    const context = canvas.getContext('2d') as CanvasRenderingContext2D;\r\n    context.fillStyle = context.strokeStyle = 'red';\r\n    context.textAlign = 'center';\r\n    return { context, ratio };\r\n  }\r\n\r\n  function place(board, tag, bounds) {\r\n    // const perimeter = [{ x: 0, y: 0 }, { x: size[0], y: size[1] }],\r\n    const startX = tag.x,\r\n      startY = tag.y,\r\n      maxDelta = Math.sqrt(size[0] * size[0] + size[1] * size[1]),\r\n      s = spiral(size),\r\n      dt = random() < 0.5 ? 1 : -1;\r\n    let dxdy,\r\n      t = -dt,\r\n      dx,\r\n      dy;\r\n\r\n    while ((dxdy = s((t += dt)))) {\r\n      dx = ~~dxdy[0];\r\n      dy = ~~dxdy[1];\r\n\r\n      if (Math.min(Math.abs(dx), Math.abs(dy)) >= maxDelta) break;\r\n\r\n      tag.x = startX + dx;\r\n      tag.y = startY + dy;\r\n\r\n      if (tag.x + tag.x0 < 0 || tag.y + tag.y0 < 0 || tag.x + tag.x1 > size[0] || tag.y + tag.y1 > size[1]) continue;\r\n      // TODO only check for collisions within current bounds.\r\n      if (!bounds || !cloudCollide(tag, board, size[0])) {\r\n        if (!bounds || collideRects(tag, bounds)) {\r\n          const sprite = tag.sprite,\r\n            w = tag.width >> 5,\r\n            sw = size[0] >> 5,\r\n            lx = tag.x - (w << 4),\r\n            sx = lx & 0x7f,\r\n            msx = 32 - sx,\r\n            h = tag.y1 - tag.y0;\r\n          let last,\r\n            x = (tag.y + tag.y0) * sw + (lx >> 5);\r\n          for (let j = 0; j < h; j++) {\r\n            last = 0;\r\n            for (let i = 0; i <= w; i++) {\r\n              board[x + i] |= (last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0);\r\n            }\r\n            x += sw;\r\n          }\r\n          delete tag.sprite;\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  cloud.createMask = (img: HTMLImageElement) => {\r\n    const can: HTMLCanvasElement = document.createElement('canvas');\r\n    const [width, height] = size;\r\n\r\n    // \u5F53 width \u6216 height \u4E3A 0 \u65F6\uFF0C\u8C03\u7528 cxt.getImageData \u4F1A\u62A5\u9519\r\n    if (!width || !height) {\r\n      return;\r\n    }\r\n    const w32 = width >> 5;\r\n    const board = zeroArray((width >> 5) * height);\r\n    can.width = width;\r\n    can.height = height;\r\n    const cxt = can.getContext('2d') as CanvasRenderingContext2D;\r\n    cxt.drawImage(img, 0, 0, img.width, img.height, 0, 0, width, height);\r\n    const imageData = cxt.getImageData(0, 0, width, height).data;\r\n    for (let j = 0; j < height; j++) {\r\n      for (let i = 0; i < width; i++) {\r\n        const k = w32 * j + (i >> 5);\r\n        const tmp = (j * width + i) << 2;\r\n        const flag = imageData[tmp] >= 250 && imageData[tmp + 1] >= 250 && imageData[tmp + 2] >= 250;\r\n        const m = flag ? 1 << (31 - (i % 32)) : 0;\r\n        board[k] |= m;\r\n      }\r\n    }\r\n    cloud.board = board;\r\n    cloud.hasImage = true;\r\n  };\r\n\r\n  cloud.timeInterval = function (_) {\r\n    timeInterval = _ == null ? Infinity : _;\r\n  };\r\n\r\n  cloud.words = function (_) {\r\n    words = _;\r\n  };\r\n\r\n  cloud.size = function (_) {\r\n    size = [+_[0], +_[1]];\r\n  };\r\n\r\n  cloud.font = function (_) {\r\n    font = functor(_);\r\n  };\r\n\r\n  cloud.fontWeight = function (_) {\r\n    fontWeight = functor(_);\r\n  };\r\n\r\n  cloud.rotate = function (_) {\r\n    rotate = functor(_);\r\n  };\r\n\r\n  cloud.spiral = function (_) {\r\n    spiral = spirals[_] || _;\r\n  };\r\n\r\n  cloud.fontSize = function (_) {\r\n    fontSize = functor(_);\r\n  };\r\n\r\n  cloud.padding = function (_) {\r\n    padding = functor(_);\r\n  };\r\n\r\n  cloud.random = function (_) {\r\n    random = functor(_);\r\n  };\r\n\r\n  return cloud;\r\n}\r\n", "import { Chart } from '@antv/g2';\r\nimport { Types } from '@antv/g2';\r\nimport { isArray, isFunction, isString } from '@antv/util';\r\nimport { normalPadding } from '../../utils/padding';\r\nimport { Params } from '../../core/adaptor';\r\nimport { Datum } from '../../types';\r\nimport { log, LEVEL, getContainerSize } from '../../utils';\r\nimport { functor, wordCloud } from '../../utils/transform/word-cloud';\r\nimport { Tag, Word, WordCloudOptions, WordStyle } from './types';\r\n\r\n/**\r\n * \u7528 DataSet \u8F6C\u6362\u8BCD\u4E91\u56FE\u6570\u636E\r\n * @param params\r\n */\r\nexport function transform(params: Params<WordCloudOptions>): Tag[] {\r\n  const { options: rawOptions, chart } = params;\r\n  const { width, height, padding: chartPadding, appendPadding, ele } = chart as Chart;\r\n  const {\r\n    data,\r\n    imageMask,\r\n    wordField,\r\n    weightField,\r\n    colorField,\r\n    wordStyle,\r\n    timeInterval,\r\n    random,\r\n    spiral,\r\n    autoFit = true,\r\n    placementStrategy,\r\n  } = rawOptions;\r\n  if (!data || !data.length) {\r\n    return [];\r\n  }\r\n  const { fontFamily, fontWeight, padding, fontSize } = wordStyle;\r\n  const arr = getSingleKeyValues(data, weightField);\r\n  const range = [min(arr), max(arr)] as [number, number];\r\n\r\n  // \u53D8\u6362\u51FA text \u548C value \u5B57\u6BB5\r\n  const words = data.map(\r\n    (datum: Datum): Word => ({\r\n      text: datum[wordField],\r\n      value: datum[weightField],\r\n      color: datum[colorField],\r\n      datum, // \u5B58\u4E00\u4E0B\u539F\u59CB\u6570\u636E\r\n    })\r\n  );\r\n\r\n  const options = {\r\n    imageMask: imageMask as HTMLImageElement,\r\n    font: fontFamily,\r\n    fontSize: getFontSizeMapping(fontSize, range),\r\n    fontWeight: fontWeight,\r\n    // \u56FE\u8868\u5BBD\u9AD8\u51CF\u53BB padding \u4E4B\u540E\u7684\u5BBD\u9AD8\r\n    size: getSize({\r\n      width,\r\n      height,\r\n      padding: chartPadding,\r\n      appendPadding,\r\n      autoFit,\r\n      container: ele,\r\n    }),\r\n    padding: padding,\r\n    timeInterval,\r\n    random,\r\n    spiral,\r\n    rotate: getRotate(rawOptions),\r\n  };\r\n\r\n  // \u81EA\u5B9A\u4E49\u5E03\u5C40\u51FD\u6570\r\n  if (isFunction(placementStrategy)) {\r\n    const result = words.map((word: Word, index: number, words: Word[]) => ({\r\n      ...word,\r\n      hasText: !!word.text,\r\n      font: functor(options.font)(word, index, words),\r\n      weight: functor(options.fontWeight)(word, index, words),\r\n      rotate: functor(options.rotate)(word, index, words),\r\n      size: functor(options.fontSize)(word, index, words),\r\n      style: 'normal',\r\n      ...placementStrategy.call(chart, word, index, words),\r\n    }));\r\n\r\n    // \u6DFB\u52A0\u4E24\u4E2A\u53C2\u7167\u6570\u636E\uFF0C\u5206\u522B\u8868\u793A\u5DE6\u4E0A\u89D2\u548C\u53F3\u4E0B\u89D2\r\n    result.push({\r\n      text: '',\r\n      value: 0,\r\n      x: 0,\r\n      y: 0,\r\n      opacity: 0,\r\n    });\r\n    result.push({\r\n      text: '',\r\n      value: 0,\r\n      x: options.size[0],\r\n      y: options.size[1],\r\n      opacity: 0,\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  // \u6570\u636E\u51C6\u5907\u5728\u5916\u90E8\u505A\uFF0CwordCloud \u5355\u7EAF\u5C31\u662F\u505A\u5E03\u5C40\r\n  return wordCloud(words, options);\r\n}\r\n\r\n/**\r\n * \u83B7\u53D6\u6700\u7EC8\u7684\u5B9E\u9645\u7ED8\u56FE\u5C3A\u5BF8\uFF1A[width, height]\r\n * @param chart\r\n */\r\nexport function getSize(options: {\r\n  width: number;\r\n  height: number;\r\n  padding: Types.ViewPadding;\r\n  appendPadding: Types.ViewAppendPadding;\r\n  autoFit: boolean;\r\n  container: HTMLElement;\r\n}): [number, number] {\r\n  let { width, height } = options;\r\n  const { container, autoFit, padding, appendPadding } = options;\r\n\r\n  // \u7531\u4E8E\u8BCD\u4E91\u56FE\u6BCF\u4E2A\u8BCD\u8BED\u7684\u5750\u6807\u90FD\u662F\u5148\u901A\u8FC7 DataSet \u6839\u636E\u56FE\u8868\u5BBD\u9AD8\u8BA1\u7B97\u51FA\u6765\u7684\uFF0C\r\n  // \u4E5F\u5C31\u662F\u8BF4\uFF0C\u5982\u679C\u4E00\u5F00\u59CB\u63D0\u4F9B\u7ED9 DataSet \u7684\u5BBD\u9AD8\u4FE1\u606F\u548C\u6700\u7EC8\u663E\u793A\u7684\u5BBD\u9AD8\u4E0D\u76F8\u540C\uFF0C\r\n  // \u90A3\u4E48\u5C31\u4F1A\u51FA\u73B0\u5E03\u5C40\u9519\u4E71\u7684\u60C5\u51B5\uFF0C\u6240\u4EE5\u8FD9\u91CC\u5904\u7406\u7684\u76EE\u7684\u5C31\u662F\u8BA9\u4E00\u5F00\u59CB\u63D0\u4F9B\u7ED9 DataSet \u7684\r\n  // \u5BBD\u9AD8\u4FE1\u606F\u4E0E\u6700\u7EC8\u663E\u793A\u7684\u5BBD\u9AD8\u4FE1\u606F\u76F8\u540C\uFF0C\u907F\u514D\u663E\u793A\u9519\u4E71\u3002\r\n  if (autoFit) {\r\n    const containerSize = getContainerSize(container);\r\n    width = containerSize.width;\r\n    height = containerSize.height;\r\n  }\r\n\r\n  // \u5BBD\u9AD8\u4E0D\u80FD\u4E3A 0\uFF0C\u5426\u5219\u4F1A\u9020\u6210\u6B7B\u5FAA\u73AF\r\n  width = width || 400;\r\n  height = height || 400;\r\n\r\n  const [top, right, bottom, left] = resolvePadding({ padding, appendPadding });\r\n  const result = [width - (left + right), height - (top + bottom)];\r\n\r\n  return result as [number, number];\r\n}\r\n\r\n/**\r\n * \u6839\u636E\u56FE\u8868\u7684 padding \u548C appendPadding \u8BA1\u7B97\u51FA\u56FE\u8868\u7684\u6700\u7EC8 padding\r\n * @param chart\r\n */\r\nfunction resolvePadding(options: { padding: Types.ViewPadding; appendPadding: Types.ViewAppendPadding }) {\r\n  const padding = normalPadding(options.padding);\r\n  const appendPadding = normalPadding(options.appendPadding);\r\n  const top = padding[0] + appendPadding[0];\r\n  const right = padding[1] + appendPadding[1];\r\n  const bottom = padding[2] + appendPadding[2];\r\n  const left = padding[3] + appendPadding[3];\r\n\r\n  return [top, right, bottom, left];\r\n}\r\n\r\n/**\r\n * \u5904\u7406 imageMask \u53EF\u80FD\u4E3A url \u5B57\u7B26\u4E32\u7684\u60C5\u51B5\r\n * @param  {HTMLImageElement | string} img\r\n * @return {Promise}\r\n */\r\nexport function processImageMask(img: HTMLImageElement | string): Promise<HTMLImageElement> {\r\n  return new Promise((res, rej) => {\r\n    if (img instanceof HTMLImageElement) {\r\n      res(img);\r\n      return;\r\n    }\r\n    if (isString(img)) {\r\n      const image = new Image();\r\n      image.crossOrigin = 'anonymous';\r\n      image.src = img;\r\n      image.onload = () => {\r\n        res(image);\r\n      };\r\n      image.onerror = () => {\r\n        log(LEVEL.ERROR, false, 'image %s load failed !!!', img);\r\n        rej();\r\n      };\r\n      return;\r\n    }\r\n    log(LEVEL.WARN, img === undefined, 'The type of imageMask option must be String or HTMLImageElement.');\r\n    rej();\r\n  });\r\n}\r\n\r\n/**\r\n * \u628A\u7528\u6237\u63D0\u4F9B\u7684 fontSize \u503C\u8F6C\u6362\u6210\u7B26\u5408 DataSet \u8981\u6C42\u7684\u503C\r\n * @param options\r\n * @param range\r\n */\r\nexport function getFontSizeMapping(fontSize: WordStyle['fontSize'], range?: [number, number]) {\r\n  if (isFunction(fontSize)) {\r\n    return fontSize;\r\n  }\r\n  if (isArray(fontSize)) {\r\n    const [fMin, fMax] = fontSize;\r\n    if (!range) {\r\n      return () => (fMax + fMin) / 2;\r\n    }\r\n    const [min, max] = range;\r\n    if (max === min) {\r\n      return () => (fMax + fMin) / 2;\r\n    }\r\n    return function fontSize({ value }) {\r\n      return ((fMax - fMin) / (max - min)) * (value - min) + fMin;\r\n    };\r\n  }\r\n  return () => fontSize;\r\n}\r\n\r\nexport function getSingleKeyValues(data: Datum[], key: string) {\r\n  return data\r\n    .map((v) => v[key])\r\n    .filter((v) => {\r\n      // \u8FC7\u6EE4\u975E number\r\n      if (typeof v === 'number' && !isNaN(v)) return true;\r\n      return false;\r\n    });\r\n}\r\n\r\n/**\r\n * \u628A\u7528\u6237\u63D0\u4F9B\u7684\u5173\u4E8E\u65CB\u8F6C\u89D2\u5EA6\u7684\u5B57\u6BB5\u503C\u8F6C\u6362\u6210\u7B26\u5408 DataSet \u8981\u6C42\u7684\u503C\r\n * @param options\r\n */\r\nfunction getRotate(options: WordCloudOptions) {\r\n  const { rotation, rotationSteps } = resolveRotate(options);\r\n  if (!isArray(rotation)) return rotation;\r\n  const min = rotation[0];\r\n  const max = rotation[1];\r\n  // \u7B49\u4E8E 1 \u65F6\u4E0D\u65CB\u8F6C\uFF0C\u6240\u4EE5\u628A\u6BCF\u4EFD\u5927\u5C0F\u8BBE\u4E3A 0\r\n  const perSize = rotationSteps === 1 ? 0 : (max - min) / (rotationSteps - 1);\r\n  return function rotate() {\r\n    if (max === min) return max;\r\n    return Math.floor(Math.random() * rotationSteps) * perSize;\r\n  };\r\n}\r\n\r\n/**\r\n * \u786E\u4FDD\u503C\u5728\u8981\u6C42\u8303\u56F4\u5185\r\n * @param options\r\n */\r\nfunction resolveRotate(options: WordCloudOptions) {\r\n  let { rotationSteps } = options.wordStyle;\r\n  if (rotationSteps < 1) {\r\n    log(LEVEL.WARN, false, 'The rotationSteps option must be greater than or equal to 1.');\r\n    rotationSteps = 1;\r\n  }\r\n  return {\r\n    rotation: options.wordStyle.rotation,\r\n    rotationSteps,\r\n  };\r\n}\r\n\r\n/**\r\n * \u4F20\u5165\u4E00\u4E2A\u5143\u7D20\u4E3A\u6570\u5B57\u7684\u6570\u7EC4\uFF0C\r\n * \u8FD4\u56DE\u8BE5\u6570\u7EC4\u4E2D\u503C\u6700\u5C0F\u7684\u6570\u5B57\u3002\r\n * @param numbers\r\n */\r\nfunction min(numbers: number[]) {\r\n  return Math.min(...numbers);\r\n}\r\n\r\n/**\r\n * \u4F20\u5165\u4E00\u4E2A\u5143\u7D20\u4E3A\u6570\u5B57\u7684\u6570\u7EC4\uFF0C\r\n * \u8FD4\u56DE\u8BE5\u6570\u7EC4\u4E2D\u503C\u6700\u5927\u7684\u6570\u5B57\u3002\r\n * @param numbers\r\n */\r\nfunction max(numbers: number[]) {\r\n  return Math.max(...numbers);\r\n}\r\n", "import { Plot } from '../../core/plot';\nimport { Datum } from '../../types';\nimport { deepAssign } from '../../utils';\n\n/** \u8BCD\u4E91\u56FE color \u901A\u9053\u6620\u5C04\u5B57\u6BB5 */\nexport const WORD_CLOUD_COLOR_FIELD = 'color';\n\n/**\n * \u8BCD\u4E91\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  timeInterval: 2000,\n  legend: false,\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: false,\n    fields: ['text', 'value', WORD_CLOUD_COLOR_FIELD],\n    formatter: (datum: Datum) => {\n      return { name: datum.text, value: datum.value };\n    },\n  },\n  wordStyle: {\n    fontFamily: 'Verdana',\n    fontWeight: 'normal',\n    padding: 1,\n    fontSize: [12, 60],\n    rotation: [0, 90],\n    rotationSteps: 2,\n    rotateRatio: 0.5,\n  },\n});\n", "import { isFunction, get } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, state } from '../../adaptor/common';\nimport { flow, deepAssign } from '../../utils';\nimport { point } from '../../adaptor/geometries';\nimport { WordCloudOptions } from './types';\nimport { transform } from './utils';\nimport { WORD_CLOUD_COLOR_FIELD } from './constant';\n\n/**\n * geometry \u914D\u7F6E\u5904\u7406\n * @param params\n */\nfunction geometry(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { colorField, color } = options;\n  const data = transform(params);\n\n  chart.data(data);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'x',\n      yField: 'y',\n      seriesField: colorField && WORD_CLOUD_COLOR_FIELD,\n      rawFields: isFunction(color) && [...get(options, 'rawFields', []), 'datum'],\n      point: {\n        color,\n        shape: 'word-cloud',\n      },\n    },\n  });\n\n  const { ext } = point(p);\n  ext.geometry.label(false);\n\n  chart.coordinate().reflect('y');\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n * meta \u914D\u7F6E\n * @param params\n */\nfunction meta(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  return flow(\n    scale({\n      x: { nice: false },\n      y: { nice: false },\n    })\n  )(params);\n}\n\n/**\n * \u8BCD\u4E91\u56FE legend \u914D\u7F6E\n * @param params\n */\nexport function legend(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { legend, colorField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (colorField) {\n    chart.legend(WORD_CLOUD_COLOR_FIELD, legend);\n  }\n\n  return params;\n}\n\n/**\n * \u8BCD\u4E91\u56FE\u9002\u914D\u5668\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<WordCloudOptions>) {\n  // flow \u7684\u65B9\u5F0F\u5904\u7406\u6240\u6709\u7684\u914D\u7F6E\u5230 G2 API\n  flow(geometry, meta, tooltip, legend, interaction, animation, theme, state)(params);\n}\n", "import { registerShape, Util, Types, IGroup, ShapeAttrs } from '@antv/g2';\nimport { Tag } from '../types';\n\ntype Config = Types.ShapeInfo & { data: Tag };\n\nregisterShape('point', 'word-cloud', {\n  draw(cfg: Config, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const shape = group.addShape('text', {\n      attrs: {\n        ...getTextAttrs(cfg),\n        x: cx,\n        y: cy,\n      },\n    });\n    const rotate = cfg.data.rotate;\n    if (typeof rotate === 'number') {\n      Util.rotate(shape, (rotate * Math.PI) / 180);\n    }\n\n    return shape;\n  },\n});\n\nfunction getTextAttrs(cfg: Config): ShapeAttrs {\n  return {\n    fontSize: cfg.data.size,\n    text: cfg.data.text,\n    textAlign: 'center',\n    fontFamily: cfg.data.font,\n    fontWeight: cfg.data.weight,\n    fill: cfg.color || cfg.defaultStyle.stroke,\n    textBaseline: 'alphabetic',\n  };\n}\n", "import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { WordCloudOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { processImageMask, transform } from './utils';\n// \u6CE8\u518C\u7684shape\nimport './shapes/word-cloud';\n\nexport type { WordCloudOptions };\n\nexport class WordCloud extends Plot<WordCloudOptions> {\n  /**\n   * \u83B7\u53D6 \u8BCD\u4E91\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n   * \u4F9B\u5916\u90E8\u4F7F\u7528\n   */\n  static getDefaultOptions(): Partial<WordCloudOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /** \u8BCD\u4E91\u56FE */\n  public type: string = 'word-cloud';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    if (this.options.imageMask) {\n      this.render();\n    } else {\n      this.chart.changeData(transform({ chart: this.chart, options: this.options }));\n    }\n  }\n\n  /**\n   * \u83B7\u53D6\u9ED8\u8BA4\u7684 options \u914D\u7F6E\u9879\n   */\n  protected getDefaultOptions(): Partial<WordCloudOptions> {\n    return WordCloud.getDefaultOptions();\n  }\n\n  /**\n   * \u8986\u5199\u7236\u7C7B\u65B9\u6CD5\uFF0C\u8BCD\u4E91\u56FE\u9700\u8981\u52A0\u8F7D\u56FE\u7247\u8D44\u6E90\uFF0C\u6240\u4EE5\u9700\u8981\u5F02\u6B65\u6E32\u67D3\n   */\n  public render() {\n    return new Promise<void>((res) => {\n      const { imageMask } = this.options;\n\n      if (!imageMask) {\n        // \u8C03\u7528\u7236\u7C7B\u6E32\u67D3\u51FD\u6570\n        super.render();\n        res();\n        return;\n      }\n\n      const handler = (img: HTMLImageElement) => {\n        this.options = {\n          ...this.options,\n          imageMask: img || null,\n        };\n\n        // \u8C03\u7528\u7236\u7C7B\u6E32\u67D3\u51FD\u6570\n        super.render();\n        res();\n      };\n\n      processImageMask(imageMask).then(handler).catch(handler);\n    });\n  }\n\n  /**\n   * \u83B7\u53D6 \u8BCD\u4E91\u56FE \u7684\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<WordCloudOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \u8986\u5199\u7236\u7C7B\u7684\u65B9\u6CD5\uFF0C\u56E0\u4E3A\u8BCD\u4E91\u56FE\u4F7F\u7528 \u5355\u72EC\u7684\u51FD\u6570 \u8FDB\u884C\u5E03\u5C40\uFF0C\u539F\u7406\u4E0A\u6709\u4E9B\u4E0D\u4E00\u6837\n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \u5F53\u6574\u4E2A\u8BCD\u4E91\u56FE\u56FE\u8868\u7684\u5BBD\u9AD8\u4FE1\u606F\u53D1\u751F\u53D8\u5316\u65F6\uFF0C\u6BCF\u4E2A\u8BCD\u8BED\u7684\u5750\u6807\n      // \u9700\u8981\u91CD\u65B0\u6267\u884C adaptor\uFF0C\u4E0D\u7136\u4F1A\u51FA\u73B0\u5E03\u5C40\u9519\u4E71\uFF0C\n      // \u5982\u76F8\u90BB\u8BCD\u8BED\u91CD\u53E0\u7684\u60C5\u51B5\u3002\n      this.execAdaptor();\n\n      // \u5EF6\u8FDF\u6267\u884C\uFF0C\u6709\u5229\u4E8E\u52A8\u753B\u66F4\u6D41\u7545\n      // TODO: \u5728\u591A\u6B21\u66F4\u6539\u753B\u5E03\u5C3A\u5BF8\u65F6\uFF0C\u52A8\u753B\u4F1A\u8D8A\u6765\u8D8A\u5361\u987F\uFF0C\u539F\u56E0\u672A\u77E5\n      window.setTimeout(() => {\n        // \u6267\u884C\u7236\u7C7B\u7684\u65B9\u6CD5\n        super.triggerResize();\n      });\n    }\n  }\n}\n", "// https://github.com/HarryStevens/d3-regression#readme Version 1.3.10. Copyright 2022 Harry Stevens.\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\n// Adapted from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/points.js\nfunction points(data, x, y, sort) {\n  data = data.filter(function (d, i) {\n    var u = x(d, i),\n        v = y(d, i);\n    return u != null && isFinite(u) && v != null && isFinite(v);\n  });\n\n  if (sort) {\n    data.sort(function (a, b) {\n      return x(a) - x(b);\n    });\n  }\n\n  var n = data.length,\n      X = new Float64Array(n),\n      Y = new Float64Array(n); // extract values, calculate means\n\n  var ux = 0,\n      uy = 0,\n      xv,\n      yv,\n      d;\n\n  for (var i = 0; i < n;) {\n    d = data[i];\n    X[i] = xv = +x(d, i, data);\n    Y[i] = yv = +y(d, i, data);\n    ++i;\n    ux += (xv - ux) / i;\n    uy += (yv - uy) / i;\n  } // mean center the data\n\n\n  for (var _i = 0; _i < n; ++_i) {\n    X[_i] -= ux;\n    Y[_i] -= uy;\n  }\n\n  return [X, Y, ux, uy];\n}\nfunction visitPoints(data, x, y, cb) {\n  var iterations = 0;\n\n  for (var i = 0, n = data.length; i < n; i++) {\n    var d = data[i],\n        dx = +x(d, i, data),\n        dy = +y(d, i, data);\n\n    if (dx != null && isFinite(dx) && dy != null && isFinite(dy)) {\n      cb(dx, dy, iterations++);\n    }\n  }\n}\n\n// return the coefficient of determination, or R squared.\n\nfunction determination(data, x, y, uY, predict) {\n  var SSE = 0,\n      SST = 0;\n  visitPoints(data, x, y, function (dx, dy) {\n    var sse = dy - predict(dx),\n        sst = dy - uY;\n    SSE += sse * sse;\n    SST += sst * sst;\n  });\n  return 1 - SSE / SST;\n}\n\n// Returns the angle of a line in degrees.\nfunction angle(line) {\n  return Math.atan2(line[1][1] - line[0][1], line[1][0] - line[0][0]) * 180 / Math.PI;\n} // Returns the midpoint of a line.\n\nfunction midpoint(line) {\n  return [(line[0][0] + line[1][0]) / 2, (line[0][1] + line[1][1]) / 2];\n}\n\n// returns a smooth line.\n\nfunction interpose(xmin, xmax, predict) {\n  var l = Math.log(xmax - xmin) * Math.LOG10E + 1 | 0;\n  var precision = 1 * Math.pow(10, -l / 2 - 1),\n      maxIter = 1e4;\n  var points = [px(xmin), px(xmax)],\n      iter = 0;\n\n  while (find(points) && iter < maxIter) {\n  }\n\n  return points;\n\n  function px(x) {\n    return [x, predict(x)];\n  }\n\n  function find(points) {\n    iter++;\n    var n = points.length;\n    var found = false;\n\n    for (var i = 0; i < n - 1; i++) {\n      var p0 = points[i],\n          p1 = points[i + 1],\n          m = midpoint([p0, p1]),\n          mp = px(m[0]),\n          a0 = angle([p0, m]),\n          a1 = angle([p0, mp]),\n          a = Math.abs(a0 - a1);\n\n      if (a > precision) {\n        points.splice(i + 1, 0, mp);\n        found = true;\n      }\n    }\n\n    return found;\n  }\n}\n\n// Ordinary Least Squares from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/ols.js\nfunction ols(uX, uY, uXY, uX2) {\n  var delta = uX2 - uX * uX,\n      slope = Math.abs(delta) < 1e-24 ? 0 : (uXY - uX * uY) / delta,\n      intercept = uY - slope * uX;\n  return [intercept, slope];\n}\n\nfunction exponential () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function exponential(data) {\n    var n = 0,\n        Y = 0,\n        YL = 0,\n        XY = 0,\n        XYL = 0,\n        X2Y = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      var ly = Math.log(dy),\n          xy = dx * dy;\n      ++n;\n      Y += (dy - Y) / n;\n      XY += (xy - XY) / n;\n      X2Y += (dx * xy - X2Y) / n;\n      YL += (dy * ly - YL) / n;\n      XYL += (xy * ly - XYL) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(XY / Y, YL / Y, XYL / Y, X2Y / Y),\n        _ols2 = _slicedToArray(_ols, 2),\n        a = _ols2[0],\n        b = _ols2[1];\n\n    a = Math.exp(a);\n\n    var fn = function fn(x) {\n      return a * Math.exp(b * x);\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = a;\n    out.b = b;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  exponential.domain = function (arr) {\n    return arguments.length ? (domain = arr, exponential) : domain;\n  };\n\n  exponential.x = function (fn) {\n    return arguments.length ? (x = fn, exponential) : x;\n  };\n\n  exponential.y = function (fn) {\n    return arguments.length ? (y = fn, exponential) : y;\n  };\n\n  return exponential;\n}\n\nfunction linear () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function linear(data) {\n    var n = 0,\n        X = 0,\n        // sum of x\n    Y = 0,\n        // sum of y\n    XY = 0,\n        // sum of x * y\n    X2 = 0,\n        // sum of x * x\n    xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      ++n;\n      X += (dx - X) / n;\n      Y += (dy - Y) / n;\n      XY += (dx * dy - XY) / n;\n      X2 += (dx * dx - X2) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        intercept = _ols2[0],\n        slope = _ols2[1],\n        fn = function fn(x) {\n      return slope * x + intercept;\n    },\n        out = [[xmin, fn(xmin)], [xmax, fn(xmax)]];\n\n    out.a = slope;\n    out.b = intercept;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  linear.domain = function (arr) {\n    return arguments.length ? (domain = arr, linear) : domain;\n  };\n\n  linear.x = function (fn) {\n    return arguments.length ? (x = fn, linear) : x;\n  };\n\n  linear.y = function (fn) {\n    return arguments.length ? (y = fn, linear) : y;\n  };\n\n  return linear;\n}\n\n// Returns the medium value of an array of numbers.\nfunction median(arr) {\n  arr.sort(function (a, b) {\n    return a - b;\n  });\n  var i = arr.length / 2;\n  return i % 1 === 0 ? (arr[i - 1] + arr[i]) / 2 : arr[Math.floor(i)];\n}\n\nvar maxiters = 2,\n    epsilon = 1e-12;\nfunction loess () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      bandwidth = .3;\n\n  function loess(data) {\n    var _points = points(data, x, y, true),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length,\n        bw = Math.max(2, ~~(bandwidth * n)),\n        yhat = new Float64Array(n),\n        residuals = new Float64Array(n),\n        robustWeights = new Float64Array(n).fill(1);\n\n    for (var iter = -1; ++iter <= maxiters;) {\n      var interval = [0, bw - 1];\n\n      for (var i = 0; i < n; ++i) {\n        var dx = xv[i],\n            i0 = interval[0],\n            i1 = interval[1],\n            edge = dx - xv[i0] > xv[i1] - dx ? i0 : i1;\n        var W = 0,\n            X = 0,\n            Y = 0,\n            XY = 0,\n            X2 = 0,\n            denom = 1 / Math.abs(xv[edge] - dx || 1); // Avoid singularity\n\n        for (var k = i0; k <= i1; ++k) {\n          var xk = xv[k],\n              yk = yv[k],\n              w = tricube(Math.abs(dx - xk) * denom) * robustWeights[k],\n              xkw = xk * w;\n          W += w;\n          X += xkw;\n          Y += yk * w;\n          XY += yk * xkw;\n          X2 += xk * xkw;\n        } // Linear regression fit\n\n\n        var _ols = ols(X / W, Y / W, XY / W, X2 / W),\n            _ols2 = _slicedToArray(_ols, 2),\n            a = _ols2[0],\n            b = _ols2[1];\n\n        yhat[i] = a + b * dx;\n        residuals[i] = Math.abs(yv[i] - yhat[i]);\n        updateInterval(xv, i + 1, interval);\n      }\n\n      if (iter === maxiters) {\n        break;\n      }\n\n      var medianResidual = median(residuals);\n      if (Math.abs(medianResidual) < epsilon) break;\n\n      for (var _i = 0, arg, _w; _i < n; ++_i) {\n        arg = residuals[_i] / (6 * medianResidual); // Default to epsilon (rather than zero) for large deviations\n        // Keeping weights tiny but non-zero prevents singularites\n\n        robustWeights[_i] = arg >= 1 ? epsilon : (_w = 1 - arg * arg) * _w;\n      }\n    }\n\n    return output(xv, yhat, ux, uy);\n  }\n\n  loess.bandwidth = function (bw) {\n    return arguments.length ? (bandwidth = bw, loess) : bandwidth;\n  };\n\n  loess.x = function (fn) {\n    return arguments.length ? (x = fn, loess) : x;\n  };\n\n  loess.y = function (fn) {\n    return arguments.length ? (y = fn, loess) : y;\n  };\n\n  return loess;\n} // Weighting kernel for local regression\n\nfunction tricube(x) {\n  return (x = 1 - x * x * x) * x * x;\n} // Advance sliding window interval of nearest neighbors\n\n\nfunction updateInterval(xv, i, interval) {\n  var val = xv[i],\n      left = interval[0],\n      right = interval[1] + 1;\n  if (right >= xv.length) return; // Step right if distance to new right edge is <= distance to old left edge\n  // Step when distance is equal to ensure movement over duplicate x values\n\n  while (i > left && xv[right] - val <= val - xv[left]) {\n    interval[0] = ++left;\n    interval[1] = right;\n    ++right;\n  }\n} // Generate smoothed output points\n// Average points with repeated x values\n\n\nfunction output(xv, yhat, ux, uy) {\n  var n = xv.length,\n      out = [];\n  var i = 0,\n      cnt = 0,\n      prev = [],\n      v;\n\n  for (; i < n; ++i) {\n    v = xv[i] + ux;\n\n    if (prev[0] === v) {\n      // Average output values via online update\n      prev[1] += (yhat[i] - prev[1]) / ++cnt;\n    } else {\n      // Add new output point\n      cnt = 0;\n      prev[1] += uy;\n      prev = [v, yhat[i]];\n      out.push(prev);\n    }\n  }\n\n  prev[1] += uy;\n  return out;\n}\n\nfunction logarithmic () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      base = Math.E,\n      domain;\n\n  function logarithmic(data) {\n    var n = 0,\n        X = 0,\n        Y = 0,\n        XY = 0,\n        X2 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity,\n        lb = Math.log(base);\n    visitPoints(data, x, y, function (dx, dy) {\n      var lx = Math.log(dx) / lb;\n      ++n;\n      X += (lx - X) / n;\n      Y += (dy - Y) / n;\n      XY += (lx * dy - XY) / n;\n      X2 += (lx * lx - X2) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        intercept = _ols2[0],\n        slope = _ols2[1],\n        fn = function fn(x) {\n      return slope * Math.log(x) / lb + intercept;\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = slope;\n    out.b = intercept;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  logarithmic.domain = function (arr) {\n    return arguments.length ? (domain = arr, logarithmic) : domain;\n  };\n\n  logarithmic.x = function (fn) {\n    return arguments.length ? (x = fn, logarithmic) : x;\n  };\n\n  logarithmic.y = function (fn) {\n    return arguments.length ? (y = fn, logarithmic) : y;\n  };\n\n  logarithmic.base = function (n) {\n    return arguments.length ? (base = n, logarithmic) : base;\n  };\n\n  return logarithmic;\n}\n\nfunction quad () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function quadratic(data) {\n    var _points = points(data, x, y),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length;\n\n    var X2 = 0,\n        X3 = 0,\n        X4 = 0,\n        XY = 0,\n        X2Y = 0,\n        i,\n        dx,\n        dy,\n        x2;\n\n    for (i = 0; i < n;) {\n      dx = xv[i];\n      dy = yv[i++];\n      x2 = dx * dx;\n      X2 += (x2 - X2) / i;\n      X3 += (x2 * dx - X3) / i;\n      X4 += (x2 * x2 - X4) / i;\n      XY += (dx * dy - XY) / i;\n      X2Y += (x2 * dy - X2Y) / i;\n    }\n\n    var Y = 0,\n        n0 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      n0++;\n      Y += (dy - Y) / n0;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var X2X2 = X4 - X2 * X2,\n        d = X2 * X2X2 - X3 * X3,\n        a = (X2Y * X2 - XY * X3) / d,\n        b = (XY * X2X2 - X2Y * X3) / d,\n        c = -a * X2,\n        fn = function fn(x) {\n      x = x - ux;\n      return a * x * x + b * x + c + uy;\n    };\n\n    var out = interpose(xmin, xmax, fn);\n    out.a = a;\n    out.b = b - 2 * a * ux;\n    out.c = c - b * ux + a * ux * ux + uy;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  quadratic.domain = function (arr) {\n    return arguments.length ? (domain = arr, quadratic) : domain;\n  };\n\n  quadratic.x = function (fn) {\n    return arguments.length ? (x = fn, quadratic) : x;\n  };\n\n  quadratic.y = function (fn) {\n    return arguments.length ? (y = fn, quadratic) : y;\n  };\n\n  return quadratic;\n}\n\n// Source: https://github.com/Tom-Alexander/regression-js/blob/master/src/regression.js#L246\n// License: https://github.com/Tom-Alexander/regression-js/blob/master/LICENSE\n// ...with ideas from vega-statistics by Jeffrey Heer\n// Source: https://github.com/vega/vega/blob/f21cb8792b4e0cbe2b1a3fd44b0f5db370dbaadb/packages/vega-statistics/src/regression/poly.js\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n\nfunction polynomial () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      order = 3,\n      domain;\n\n  function polynomial(data) {\n    // Use more efficient methods for lower orders\n    if (order === 1) {\n      var o = linear().x(x).y(y).domain(domain)(data);\n      o.coefficients = [o.b, o.a];\n      delete o.a;\n      delete o.b;\n      return o;\n    }\n\n    if (order === 2) {\n      var _o = quad().x(x).y(y).domain(domain)(data);\n\n      _o.coefficients = [_o.c, _o.b, _o.a];\n      delete _o.a;\n      delete _o.b;\n      delete _o.c;\n      return _o;\n    }\n\n    var _points = points(data, x, y),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length,\n        lhs = [],\n        rhs = [],\n        k = order + 1;\n\n    var Y = 0,\n        n0 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      ++n0;\n      Y += (dy - Y) / n0;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n    var i, j, l, v, c;\n\n    for (i = 0; i < k; ++i) {\n      for (l = 0, v = 0; l < n; ++l) {\n        v += Math.pow(xv[l], i) * yv[l];\n      }\n\n      lhs.push(v);\n      c = new Float64Array(k);\n\n      for (j = 0; j < k; ++j) {\n        for (l = 0, v = 0; l < n; ++l) {\n          v += Math.pow(xv[l], i + j);\n        }\n\n        c[j] = v;\n      }\n\n      rhs.push(c);\n    }\n\n    rhs.push(lhs);\n\n    var coef = gaussianElimination(rhs),\n        fn = function fn(x) {\n      x -= ux;\n      var y = uy + coef[0] + coef[1] * x + coef[2] * x * x;\n\n      for (i = 3; i < k; ++i) {\n        y += coef[i] * Math.pow(x, i);\n      }\n\n      return y;\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.coefficients = uncenter(k, coef, -ux, uy);\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  polynomial.domain = function (arr) {\n    return arguments.length ? (domain = arr, polynomial) : domain;\n  };\n\n  polynomial.x = function (fn) {\n    return arguments.length ? (x = fn, polynomial) : x;\n  };\n\n  polynomial.y = function (fn) {\n    return arguments.length ? (y = fn, polynomial) : y;\n  };\n\n  polynomial.order = function (n) {\n    return arguments.length ? (order = n, polynomial) : order;\n  };\n\n  return polynomial;\n}\n\nfunction uncenter(k, a, x, y) {\n  var z = Array(k);\n  var i, j, v, c; // initialize to zero\n\n  for (i = 0; i < k; ++i) {\n    z[i] = 0;\n  } // polynomial expansion\n\n\n  for (i = k - 1; i >= 0; --i) {\n    v = a[i];\n    c = 1;\n    z[i] += v;\n\n    for (j = 1; j <= i; ++j) {\n      c *= (i + 1 - j) / j; // binomial coefficent\n\n      z[i - j] += v * Math.pow(x, j) * c;\n    }\n  } // bias term\n\n\n  z[0] += y;\n  return z;\n} // Given an array for a two-dimensional matrix and the polynomial order,\n// solve A * x = b using Gaussian elimination.\n\n\nfunction gaussianElimination(matrix) {\n  var n = matrix.length - 1,\n      coef = [];\n  var i, j, k, r, t;\n\n  for (i = 0; i < n; ++i) {\n    r = i; // max row\n\n    for (j = i + 1; j < n; ++j) {\n      if (Math.abs(matrix[i][j]) > Math.abs(matrix[i][r])) {\n        r = j;\n      }\n    }\n\n    for (k = i; k < n + 1; ++k) {\n      t = matrix[k][i];\n      matrix[k][i] = matrix[k][r];\n      matrix[k][r] = t;\n    }\n\n    for (j = i + 1; j < n; ++j) {\n      for (k = n; k >= i; k--) {\n        matrix[k][j] -= matrix[k][i] * matrix[i][j] / matrix[i][i];\n      }\n    }\n  }\n\n  for (j = n - 1; j >= 0; --j) {\n    t = 0;\n\n    for (k = j + 1; k < n; ++k) {\n      t += matrix[k][j] * coef[k];\n    }\n\n    coef[j] = (matrix[n][j] - t) / matrix[j][j];\n  }\n\n  return coef;\n}\n\nfunction power () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function power(data) {\n    var n = 0,\n        X = 0,\n        Y = 0,\n        XY = 0,\n        X2 = 0,\n        YS = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      var lx = Math.log(dx),\n          ly = Math.log(dy);\n      ++n;\n      X += (lx - X) / n;\n      Y += (ly - Y) / n;\n      XY += (lx * ly - XY) / n;\n      X2 += (lx * lx - X2) / n;\n      YS += (dy - YS) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        a = _ols2[0],\n        b = _ols2[1];\n\n    a = Math.exp(a);\n\n    var fn = function fn(x) {\n      return a * Math.pow(x, b);\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = a;\n    out.b = b;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, YS, fn);\n    return out;\n  }\n\n  power.domain = function (arr) {\n    return arguments.length ? (domain = arr, power) : domain;\n  };\n\n  power.x = function (fn) {\n    return arguments.length ? (x = fn, power) : x;\n  };\n\n  power.y = function (fn) {\n    return arguments.length ? (y = fn, power) : y;\n  };\n\n  return power;\n}\n\nexport { exponential as regressionExp, linear as regressionLinear, loess as regressionLoess, logarithmic as regressionLog, polynomial as regressionPoly, power as regressionPow, quad as regressionQuad };\n", "import {\n  regressionLinear,\n  regressionExp,\n  regressionLoess,\n  regressionLog,\n  regressionPoly,\n  regressionPow,\n  regressionQuad,\n} from 'd3-regression';\nimport { isArray, get, isNumber } from '@antv/util';\nimport { View } from '@antv/g2';\nimport { getSplinePath } from '../../utils';\nimport { ScatterOptions } from './types';\n\nconst REGRESSION_MAP = {\n  exp: regressionExp,\n  linear: regressionLinear,\n  loess: regressionLoess,\n  log: regressionLog,\n  poly: regressionPoly,\n  pow: regressionPow,\n  quad: regressionQuad,\n};\n\ntype RenderOptions = {\n  view: View;\n  options: ScatterOptions;\n};\n\n/**\n * \u83B7\u53D6\u56DB\u8C61\u9650\u9ED8\u8BA4\u914D\u7F6E\n * @param {number} xBaseline\n * @param {number} yBaseline\n */\nexport function getQuadrantDefaultConfig(xBaseline: number, yBaseline: number) {\n  // \u6587\u672C\u4FBF\u5B9C\u8DDD\u79BB\n  const textOffset = 10;\n  // \u56DB\u8C61\u9650\u9ED8\u8BA4\u6837\u5F0F\n  const defaultConfig: { [key: string]: any } = {\n    regionStyle: [\n      {\n        position: {\n          start: [xBaseline, 'max'],\n          end: ['max', yBaseline],\n        },\n        style: {\n          fill: '#d8d0c0',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: ['min', 'max'],\n          end: [xBaseline, yBaseline],\n        },\n        style: {\n          fill: '#a3dda1',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: ['min', yBaseline],\n          end: [xBaseline, 'min'],\n        },\n        style: {\n          fill: '#d8d0c0',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: [xBaseline, yBaseline],\n          end: ['max', 'min'],\n        },\n        style: {\n          fill: '#a3dda1',\n          opacity: 0.4,\n        },\n      },\n    ],\n    lineStyle: {\n      stroke: '#9ba29a',\n      lineWidth: 1,\n    },\n    labelStyle: [\n      {\n        position: ['max', yBaseline],\n        offsetX: -textOffset,\n        offsetY: -textOffset,\n        style: {\n          textAlign: 'right',\n          textBaseline: 'bottom',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['min', yBaseline],\n        offsetX: textOffset,\n        offsetY: -textOffset,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'bottom',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['min', yBaseline],\n        offsetX: textOffset,\n        offsetY: textOffset,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'top',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['max', yBaseline],\n        offsetX: -textOffset,\n        offsetY: textOffset,\n        style: {\n          textAlign: 'right',\n          textBaseline: 'top',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n    ],\n  };\n  return defaultConfig;\n}\n\nconst splinePath = (data: number[][], config: RenderOptions) => {\n  const {\n    view,\n    options: { xField, yField },\n  } = config;\n  const xScaleView = view.getScaleByField(xField);\n  const yScaleView = view.getScaleByField(yField);\n  const pathData = data.map((d: [number, number]) =>\n    view.getCoordinate().convert({ x: xScaleView.scale(d[0]), y: yScaleView.scale(d[1]) })\n  );\n  return getSplinePath(pathData, false);\n};\n\nexport const getPath = (config: RenderOptions) => {\n  const { options } = config;\n  const { xField, yField, data, regressionLine } = options;\n  const { type = 'linear', algorithm } = regressionLine;\n  let pathData: Array<[number, number]>;\n  if (algorithm) {\n    pathData = isArray(algorithm) ? algorithm : algorithm(data);\n  } else {\n    const reg = REGRESSION_MAP[type]()\n      .x((d) => d[xField])\n      .y((d) => d[yField]);\n    pathData = reg(data);\n  }\n  return splinePath(pathData, config);\n};\n\n/**\n * \u8C03\u6574\u6563\u70B9\u56FE meta: { min, max } \u2460 data.length === 1 \u2461 \u6240\u6709\u6570\u636E y \u503C\u76F8\u7B49 \u2462 \u6240\u6709\u6570\u636E x \u503C\u76F8\u7B49\n * @param options\n * @returns\n */\nexport const getMeta = (\n  options: Pick<ScatterOptions, 'meta' | 'xField' | 'yField' | 'data'>\n): ScatterOptions['meta'] => {\n  const { meta = {}, xField, yField, data } = options;\n  const xFieldValue = data[0][xField];\n  const yFieldValue = data[0][yField];\n  const xIsPositiveNumber = xFieldValue > 0;\n  const yIsPositiveNumber = yFieldValue > 0;\n\n  /**\n   * \u83B7\u5F97\u5BF9\u5E94\u5B57\u6BB5\u7684 min max scale \u914D\u7F6E\n   */\n  function getMetaMinMax(field: string, axis: 'x' | 'y') {\n    const fieldMeta = get(meta, [field]);\n\n    function getCustomValue(type: 'min' | 'max') {\n      return get(fieldMeta, type);\n    }\n\n    const range = {};\n\n    if (axis === 'x') {\n      if (isNumber(xFieldValue)) {\n        if (!isNumber(getCustomValue('min'))) {\n          range['min'] = xIsPositiveNumber ? 0 : xFieldValue * 2;\n        }\n\n        if (!isNumber(getCustomValue('max'))) {\n          range['max'] = xIsPositiveNumber ? xFieldValue * 2 : 0;\n        }\n      }\n\n      return range;\n    }\n\n    if (isNumber(yFieldValue)) {\n      if (!isNumber(getCustomValue('min'))) {\n        range['min'] = yIsPositiveNumber ? 0 : yFieldValue * 2;\n      }\n\n      if (!isNumber(getCustomValue('max'))) {\n        range['max'] = yIsPositiveNumber ? yFieldValue * 2 : 0;\n      }\n    }\n\n    return range;\n  }\n\n  return {\n    ...meta,\n    [xField]: {\n      ...meta[xField],\n      ...getMetaMinMax(xField, 'x'),\n    },\n    [yField]: {\n      ...meta[yField],\n      ...getMetaMinMax(yField, 'y'),\n    },\n  };\n};\n", "import { isNumber } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, pick } from '../../utils';\nimport { point } from '../../adaptor/geometries';\nimport { brushInteraction } from '../../adaptor/brush';\nimport { interaction, animation, theme, scale, annotation, slider, scrollbar } from '../../adaptor/common';\nimport { findGeometry, transformLabel } from '../../utils';\nimport { getQuadrantDefaultConfig, getPath, getMeta } from './util';\nimport { ScatterOptions } from './types';\n\n/**\n * \u6563\u70B9\u56FE\u9ED8\u8BA4\u7F8E\u89C2\n * \u2460 data.length === 1 \u2461 \u6240\u6709\u6570\u636E y \u503C\u76F8\u7B49 \u2462 \u6240\u6709\u6570\u636E x \u503C\u76F8\u7B49\n * @param params\n * @returns params\n */\nexport function transformOptions(options: ScatterOptions): ScatterOptions {\n  const { data = [], xField, yField } = options;\n\n  if (data.length) {\n    // x y \u5B57\u6BB5\u77E5\u5426\u53EA\u6709\u4E00\u4E2A\u503C\uFF0C\u5982\u679C\u53EA\u6709\u4E00\u4E2A\u503C\uFF0C\u5219\u8FDB\u884C\u4F18\u5316\n    let isOneX = true;\n    let isOneY = true;\n\n    let prev = data[0];\n    let curr;\n\n    for (let i = 1; i < data.length; i++) {\n      curr = data[i];\n\n      if (prev[xField] !== curr[xField]) {\n        isOneX = false;\n      }\n\n      if (prev[yField] !== curr[yField]) {\n        isOneY = false;\n      }\n\n      // \u5982\u679C\u90FD\u4E0D\u662F oneValue\uFF0C\u90A3\u4E48\u53EF\u63D0\u524D\u8DF3\u51FA\u5FAA\u73AF\n      if (!isOneX && !isOneY) {\n        break;\n      }\n\n      prev = curr;\n    }\n\n    const keys = [];\n    isOneX && keys.push(xField);\n    isOneY && keys.push(yField);\n\n    const meta = pick(getMeta(options), keys);\n\n    return deepAssign({}, options, { meta });\n  }\n\n  return options;\n}\n\n/**\n * \u5B57\u6BB5\n * @param params\n */\nfunction geometry(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { data, type, color, shape, pointStyle, shapeField, colorField, xField, yField, sizeField } = options;\n  let { size } = options;\n\n  let { tooltip } = options;\n\n  if (sizeField) {\n    if (!size) {\n      size = [2, 8];\n    }\n    if (isNumber(size)) {\n      size = [size, size];\n    }\n  }\n\n  if (tooltip && !tooltip.fields) {\n    tooltip = {\n      ...tooltip,\n      fields: [xField, yField, colorField, sizeField, shapeField],\n    };\n  }\n  // \u6570\u636E\n  chart.data(data);\n\n  // geometry\n  point(\n    deepAssign({}, params, {\n      options: {\n        seriesField: colorField,\n        point: {\n          color,\n          shape,\n          size,\n          style: pointStyle,\n        },\n        tooltip,\n      },\n    })\n  );\n\n  const geometry = findGeometry(chart, 'point');\n\n  // \u6570\u636E\u8C03\u6574\n  if (type) {\n    geometry.adjust(type);\n  }\n\n  return params;\n}\n\n/**\n * meta \u914D\u7F6E\n * @param params\n */\nexport function meta(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  const newOptions = transformOptions(options);\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(deepAssign({}, params, { options: newOptions }));\n}\n\n/**\n * axis \u914D\u7F6E\n * @param params\n */\nfunction axis(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  chart.axis(xField, xAxis);\n  chart.axis(yField, yAxis);\n\n  return params;\n}\n\n/**\n * legend \u914D\u7F6E\n * @param params\n */\nfunction legend(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { legend, colorField, shapeField, sizeField, shapeLegend, sizeLegend } = options;\n\n  /** legend \u4E0D\u4E3A false, \u5219\u5C55\u793A\u56FE\u4F8B, \u4F18\u5148\u5C55\u793A color \u5206\u7C7B\u56FE\u4F8B */\n  const showLegend = legend !== false;\n\n  if (colorField) {\n    chart.legend(colorField, showLegend ? legend : false);\n  }\n\n  // \u4F18\u5148\u53D6 shapeLegend, \u5426\u5219\u53D6 legend\n  if (shapeField) {\n    if (shapeLegend) {\n      chart.legend(shapeField, shapeLegend);\n    } else {\n      chart.legend(shapeField, shapeLegend === false ? false : legend);\n    }\n  }\n\n  if (sizeField) {\n    chart.legend(sizeField, sizeLegend ? sizeLegend : false);\n  }\n\n  /** \u9ED8\u8BA4\u4E0D\u5C55\u793A shape \u56FE\u4F8B\uFF0C\u5F53 shapeLegend \u4E3A undefined \u4E5F\u4E0D\u5C55\u793A\u56FE\u4F8B */\n  /** \u9ED8\u8BA4\u6CA1\u6709 sizeField\uFF0C\u5219\u9690\u85CF\u8FDE\u7EED\u56FE\u4F8B */\n  if (!showLegend && !shapeLegend && !sizeLegend) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \u6570\u636E\u6807\u7B7E\n * @param params\n */\nfunction label(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const scatterGeometry = findGeometry(chart, 'point');\n\n  // label \u4E3A false, \u7A7A \u5219\u4E0D\u663E\u793A label\n  if (!label) {\n    scatterGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    scatterGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * annotation \u914D\u7F6E\n * - \u7279\u6B8A annotation: quadrant(\u56DB\u8C61\u9650)\n * @param params\n */\nfunction scatterAnnotation(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options } = params;\n  const { quadrant } = options;\n\n  const annotationOptions = [];\n\n  if (quadrant) {\n    const { xBaseline = 0, yBaseline = 0, labels, regionStyle, lineStyle } = quadrant;\n    const defaultConfig = getQuadrantDefaultConfig(xBaseline, yBaseline);\n    // \u4EC5\u652F\u6301\u56DB\u8C61\u9650\n    const quadrants = new Array(4).join(',').split(',');\n    quadrants.forEach((_: string, index: number) => {\n      annotationOptions.push(\n        {\n          type: 'region',\n          top: false,\n          ...defaultConfig.regionStyle[index].position,\n          style: deepAssign({}, defaultConfig.regionStyle[index].style, regionStyle?.[index]),\n        },\n        {\n          type: 'text',\n          top: true,\n          ...deepAssign({}, defaultConfig.labelStyle[index], labels?.[index]),\n        }\n      );\n    });\n    // \u751F\u6210\u5750\u6807\u8F74\n    annotationOptions.push(\n      {\n        type: 'line',\n        top: false,\n        start: ['min', yBaseline],\n        end: ['max', yBaseline],\n        style: deepAssign({}, defaultConfig.lineStyle, lineStyle),\n      },\n      {\n        type: 'line',\n        top: false,\n        start: [xBaseline, 'min'],\n        end: [xBaseline, 'max'],\n        style: deepAssign({}, defaultConfig.lineStyle, lineStyle),\n      }\n    );\n  }\n\n  return flow(annotation(annotationOptions))(params);\n}\n\n// \u8D8B\u52BF\u7EBF\nfunction regressionLine(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options, chart } = params;\n  const { regressionLine } = options;\n  if (regressionLine) {\n    const { style, top = false } = regressionLine;\n    const defaultStyle = {\n      stroke: '#9ba29a',\n      lineWidth: 2,\n      opacity: 0.5,\n    };\n    chart.annotation().shape({\n      top,\n      render: (container, view) => {\n        const group = container.addGroup({\n          id: `${chart.id}-regression-line`,\n          name: 'regression-line-group',\n        });\n        const path = getPath({\n          view,\n          options,\n        });\n        group.addShape('path', {\n          name: 'regression-line',\n          attrs: {\n            path,\n            ...defaultStyle,\n            ...style,\n          },\n        });\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * tooltip \u914D\u7F6E\n * @param params\n */\nexport function tooltip(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip) {\n    chart.tooltip(tooltip);\n  } else if (tooltip === false) {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * \u6563\u70B9\u56FE\u9002\u914D\u5668\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ScatterOptions>) {\n  // flow \u7684\u65B9\u5F0F\u5904\u7406\u6240\u6709\u7684\u914D\u7F6E\u5230 G2 API\n  return flow(\n    geometry,\n    meta,\n    axis,\n    legend,\n    tooltip,\n    label,\n    // \u9700\u8981\u5728 interaction \u524D\u9762\n    brushInteraction,\n    slider,\n    scrollbar,\n    interaction,\n    scatterAnnotation,\n    animation,\n    theme,\n    regressionLine\n  )(params);\n}\n", "import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \u6563\u70B9\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  size: 4,\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'xy',\n    },\n  },\n});\n", "import { registerInteraction } from '@antv/g2';\n\nregisterInteraction('drag-move', {\n  start: [{ trigger: 'plot:mousedown', action: 'scale-translate:start' }],\n  processing: [\n    {\n      trigger: 'plot:mousemove',\n      action: 'scale-translate:translate',\n      throttle: { wait: 100, leading: true, trailing: false },\n    },\n  ],\n  end: [{ trigger: 'plot:mouseup', action: 'scale-translate:end' }],\n});\n", "import { BRUSH_FILTER_EVENTS, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { ScatterOptions } from './types';\nimport { adaptor, transformOptions, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport './interactions';\n\nexport type { ScatterOptions };\n\nexport class Scatter extends Plot<ScatterOptions> {\n  /**\n   * \u83B7\u53D6 \u6563\u70B9\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n   * \u4F9B\u5916\u90E8\u4F7F\u7528\n   */\n  static getDefaultOptions(): Partial<ScatterOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'scatter';\n\n  constructor(container: string | HTMLElement, options: ScatterOptions) {\n    super(container, options);\n\n    // \u76D1\u542C brush \u4E8B\u4EF6\uFF0C\u5904\u7406 meta\n    this.on(VIEW_LIFE_CIRCLE.BEFORE_RENDER, (evt) => {\n      // \u8FD0\u884C\u65F6\uFF0C\u8BFB\u53D6 option\n      const { options, chart } = this;\n      if (evt.data?.source === BRUSH_FILTER_EVENTS.FILTER) {\n        const filteredData = this.chart.filterData(this.chart.getData());\n        meta({ chart, options: { ...options, data: filteredData } });\n      }\n\n      if (evt.data?.source === BRUSH_FILTER_EVENTS.RESET) {\n        meta({ chart, options });\n      }\n    });\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: ScatterOptions['data']) {\n    this.updateOption(transformOptions(deepAssign({}, this.options, { data })));\n    const { options, chart } = this;\n    meta({ chart, options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   * \u83B7\u53D6 \u6563\u70B9\u56FE \u7684\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<ScatterOptions> {\n    return adaptor;\n  }\n\n  protected getDefaultOptions() {\n    return Scatter.getDefaultOptions();\n  }\n}\n", "import { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, annotation, legend } from '../../adaptor/common';\nimport { area, point, line } from '../../adaptor/geometries';\nimport { findGeometry, flow, transformLabel, deepAssign } from '../../utils';\nimport { RadarOptions } from './types';\n\n/**\n * geometry \u914D\u7F6E\u5904\u7406\n * @param params\n */\nfunction geometry(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { data, lineStyle, color, point: pointOptions, area: areaOptions } = options;\n\n  chart.data(data);\n\n  // \u96F7\u8FBE\u56FE \u4E3B geometry\n  const primary = deepAssign({}, params, {\n    options: {\n      line: {\n        style: lineStyle,\n        color,\n      },\n      point: pointOptions\n        ? {\n            color,\n            ...pointOptions,\n          }\n        : pointOptions,\n      area: areaOptions\n        ? {\n            color,\n            ...areaOptions,\n          }\n        : areaOptions,\n      // label \u4E0D\u4F20\u9012\u7ED9\u5404\u4E2A geometry adaptor\uFF0C\u7531 label adaptor \u5904\u7406\n      label: undefined,\n    },\n  });\n  // \u526F Geometry\n  const second = deepAssign({}, primary, {\n    options: {\n      tooltip: false,\n    },\n  });\n  // \u4F18\u5148\u4F7F\u7528 point.state, \u5176\u6B21\u53D6\u4E3B\u5143\u7D20\u7684 state \u72B6\u6001\u6837\u5F0F\u914D\u7F6E\n  const pointState = pointOptions?.state || options.state;\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n  area(second);\n\n  return params;\n}\n\n/**\n * meta \u914D\u7F6E\n * @param params\n */\nfunction meta(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * coord \u914D\u7F6E\n * @param params\n */\nfunction coord(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { radius, startAngle, endAngle } = options;\n\n  chart.coordinate('polar', {\n    radius,\n    startAngle,\n    endAngle,\n  });\n  return params;\n}\n\n/**\n * axis \u914D\u7F6E\n * @param params\n */\nfunction axis(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { xField, xAxis, yField, yAxis } = options;\n\n  chart.axis(xField, xAxis);\n  chart.axis(yField, yAxis);\n\n  return params;\n}\n\n/**\n * label \u914D\u7F6E\n * @param params\n */\nfunction label(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const geometry = findGeometry(chart, 'line');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \u96F7\u8FBE\u56FE\u9002\u914D\u5668\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RadarOptions>) {\n  // flow \u7684\u65B9\u5F0F\u5904\u7406\u6240\u6709\u7684\u914D\u7F6E\u5230 G2 API\n  return flow(geometry, meta, theme, coord, axis, legend, tooltip, label, interaction, animation, annotation())(params);\n}\n", "import { registerComponentController, Util, TooltipController, Action } from '@antv/g2';\nimport { isNil } from '@antv/util';\nimport { Point } from '../../../types';\n\nexport class RadarTooltipController extends TooltipController {\n  public get name(): string {\n    return 'radar-tooltip';\n  }\n\n  public getTooltipItems(point: Point) {\n    const { shared, title: cfgTitle } = this.getTooltipCfg();\n    const hintItems = super.getTooltipItems(point);\n\n    if (hintItems.length > 0) {\n      const geometry = this.view.geometries[0];\n      const dataArray = geometry.dataArray;\n      const title = hintItems[0].name;\n      const result = [];\n      dataArray.forEach((mappingData) => {\n        mappingData.forEach((d) => {\n          const items = Util.getTooltipItems(d, geometry);\n          const item = items[0];\n          if (!shared && item && item.name === title) {\n            const displayTitle = isNil(cfgTitle) ? title : cfgTitle;\n            result.push({ ...item, name: item.title, title: displayTitle });\n          } else if (shared && item) {\n            const displayTitle = isNil(cfgTitle) ? item.name || title : cfgTitle;\n            result.push({ ...item, name: item.title, title: displayTitle });\n          }\n        });\n      });\n\n      return result;\n    }\n    return [];\n  }\n}\nregisterComponentController('radar-tooltip', RadarTooltipController);\n\n/**\n * \u96F7\u8FBE\u56FE tooltip \u6FC0\u6D3B action\n */\nexport class RadarTooltipAction extends Action {\n  init() {\n    const { view } = this.context;\n    view.removeInteraction('tooltip');\n  }\n\n  public show() {\n    const { event } = this.context;\n    const controller = this.getTooltipController();\n    controller.showTooltip({ x: event.x, y: event.y });\n  }\n\n  public hide() {\n    const controller = this.getTooltipController();\n    controller.hideTooltip();\n  }\n\n  private getTooltipController() {\n    const { view } = this.context;\n    return view.getController('radar-tooltip') as TooltipController;\n  }\n}\n", "import { registerAction, registerInteraction } from '@antv/g2';\nimport { RadarTooltipAction } from './radar-tooltip-action';\n\nregisterAction('radar-tooltip', RadarTooltipAction);\nregisterInteraction('radar-tooltip', {\n  start: [{ trigger: 'plot:mousemove', action: 'radar-tooltip:show' }],\n  end: [{ trigger: 'plot:mouseleave', action: 'radar-tooltip:hide' }],\n});\n", "import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { Adaptor } from '../../core/adaptor';\nimport { RadarOptions } from './types';\nimport { adaptor } from './adaptor';\nimport './interactions';\n\nexport type { RadarOptions };\n\nexport class Radar extends Plot<RadarOptions> {\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'radar';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    this.chart.changeData(data);\n  }\n\n  /**\n   * \u83B7\u53D6 \u96F7\u8FBE\u56FE \u9ED8\u8BA4\u914D\u7F6E\n   */\n  protected getDefaultOptions(): Partial<RadarOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      xAxis: {\n        label: {\n          offset: 15,\n        },\n        grid: {\n          line: {\n            type: 'line',\n          },\n        },\n      },\n      yAxis: {\n        grid: {\n          line: {\n            type: 'circle',\n          },\n        },\n      },\n      legend: {\n        position: 'top',\n      },\n      tooltip: {\n        shared: true,\n        showCrosshairs: true,\n        showMarkers: true,\n        crosshairs: {\n          type: 'xy',\n          line: {\n            style: {\n              stroke: '#565656',\n              lineDash: [4],\n            },\n          },\n          follow: true,\n        },\n      },\n    });\n  }\n\n  /**\n   * \u83B7\u53D6 \u96F7\u8FBE\u56FE \u7684\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<RadarOptions> {\n    return adaptor;\n  }\n}\n", "import { Options, ShapeAttr, SizeAttr, StyleAttr } from '../../types';\nimport { LineOptions } from '../line/types';\nimport { ColumnOptions } from '../column/types';\n\nexport enum AxisType {\n  Left = 'Left',\n  Right = 'Right',\n}\n\nexport enum DualAxesGeometry {\n  Line = 'line',\n  Column = 'column',\n}\n\nexport interface PointConfig {\n  readonly shape?: ShapeAttr;\n  readonly size?: SizeAttr;\n  readonly style?: StyleAttr;\n}\n\ntype CommonGeometryOption = {\n  /**\n   * @title \u56FE\u5F62\u7C7B\u578B\n   */\n  readonly geometry?: string;\n  /**\n   * @title \u6570\u636E\u6807\u7B7E\u7684\u914D\u7F6E\n   */\n  readonly label?: Options['label'];\n  /**\n   * @title \u56FE\u4F8Blegend\u7684\u914D\u7F6E\u9879\n   */\n  readonly legend?: Options['legend'];\n  /**\n   * @title \u989C\u8272\u8272\u677F\n   */\n  readonly color?: Options['color'];\n  /**\n   * @title \u662F\u5426\u5206\u7EC4\n   * @default false\n   */\n  readonly isGroup?: boolean;\n  /**\n   * @title \u5206\u7EC4\u5B57\u6BB5\n   * @description \u4F18\u5148\u7EA7\u9AD8\u4E8E seriesField\n   */\n  readonly groupField?: string;\n};\n\n// \u6298\u7EBF\u8BBE\u7F6E\u63A5\u53E3, \u76F4\u63A5\u7528 LineOption \u5427\nexport type GeometryLineOption = Pick<\n  LineOptions,\n  'seriesField' | 'smooth' | 'connectNulls' | 'lineStyle' | 'point' | 'isStack' | 'stepType'\n> &\n  CommonGeometryOption;\n\n// \u67F1\u8BBE\u7F6E\u63A5\u53E3\nexport type GeometryColumnOption = Pick<\n  ColumnOptions,\n  | 'seriesField'\n  | 'isGroup'\n  | 'isStack'\n  | 'isRange'\n  | 'isPercent'\n  | 'columnWidthRatio'\n  | 'marginRatio'\n  | 'columnStyle'\n  | 'pattern'\n> &\n  CommonGeometryOption;\n\nexport type GeometryOption = GeometryColumnOption | GeometryLineOption;\n\nexport type DualAxesOptions = Omit<Options, 'data' | 'yAxis' | 'color' | 'annotations'> & {\n  /**\n   * @title \u6570\u636E\n   * @description \u5177\u4F53\u7684\u6570\u636E\uFF0C\u5DE6\u53F3\u4E24\u8FB9\u7684\u6570\u636E\n   */\n  readonly data: Array<Record<string, any>[]>;\n  /**\n   * @title \u53CC\u8F74\u56FE\u7684 x \u5B57\u6BB5\n   * @description x \u5B57\u6BB5\u540D\u79F0\u9700\u8981\u4FDD\u6301\u4E00\u81F4\n   */\n  readonly xField: string;\n  /**\n   * @title \u53CC\u8F74\u56FE\u5DE6\u53F3 y \u5B57\u6BB5\n   * @description \u9700\u8981\u4E0D\u4E00\u81F4\n   */\n  readonly yField: string[];\n  /**\n   * @title \u5DE6\u53F3\u4E24\u8FB9\u7684 yAxis \u914D\u7F6E\n   * @description \u4F7F\u7528 object \u7684\u65B9\u5F0F\uFF0Ckey \u4E3A y \u5B57\u6BB5\u540D\uFF0C\u6216\u8005\u6570\u7EC4\u5206\u522B\u8868\u793A\u5DE6\u53F3\n   */\n  readonly yAxis?: Options['yAxis'][] | Record<string, Options['yAxis']>;\n  /**\n   * @title \u5DE6\u53F3\u4E24\u8FB9\u7684\u56FE\u5F62\u914D\u7F6E\n   */\n  readonly geometryOptions?: GeometryOption[];\n  /**\n   * @title \u5DE6\u53F3\u4E24\u8FB9\u7684 annotation \u914D\u7F6E\n   * @description \u540C\u65F6\u652F\u6301\u6570\u7EC4\u548Cobject \u4E24\u79CD\u5F62\u5F0F\uFF0C\u4EE5\u9632\u51FA\u73B0 field \u76F8\u540C\u65E0\u6CD5\u8BBE\u7F6E\u7684\u60C5\u51B5\n   */\n  readonly annotations?: Options['annotations'][] | Record<string, Options['annotations']>;\n};\n", "export const LEFT_AXES_VIEW = 'left-axes-view';\nexport const RIGHT_AXES_VIEW = 'right-axes-view';\n\nexport const DEFAULT_YAXIS_CONFIG = {\n  nice: true,\n  label: {\n    autoHide: true,\n    autoRotate: false,\n  },\n};\n\nexport const DEFAULT_LEFT_YAXIS_CONFIG = {\n  ...DEFAULT_YAXIS_CONFIG,\n  position: 'left',\n};\n\nexport const DEFAULT_RIGHT_YAXIS_CONFIG = {\n  ...DEFAULT_YAXIS_CONFIG,\n  position: 'right',\n  grid: null,\n};\n", "import { get, isArray } from '@antv/util';\nimport { Axis } from '../../../types/axis';\nimport { deepAssign } from '../../../utils';\nimport {\n  DualAxesOptions,\n  GeometryOption,\n  DualAxesGeometry,\n  GeometryLineOption,\n  GeometryColumnOption,\n  AxisType,\n} from '../types';\nimport { DEFAULT_LEFT_YAXIS_CONFIG, DEFAULT_RIGHT_YAXIS_CONFIG } from '../constant';\n\n/**\n * \u6839\u636E GeometryOption \u5224\u65AD geometry \u662F\u5426\u4E3A line\n */\nexport function isLine(geometryOption: GeometryOption): geometryOption is GeometryLineOption {\n  return get(geometryOption, 'geometry') === DualAxesGeometry.Line;\n}\n\n/**\n * \u6839\u636E GeometryOption \u5224\u65AD geometry \u662F\u5426\u4E3A Column\n */\nexport function isColumn(geometryOption: GeometryOption): geometryOption is GeometryColumnOption {\n  return get(geometryOption, 'geometry') === DualAxesGeometry.Column;\n}\n\n/**\n * \u83B7\u53D6 GeometryOption\n * @param geometryOption\n * @param axis\n */\nexport function getGeometryOption(xField: string, yField: string, geometryOption: GeometryOption): GeometryOption {\n  // \u7A7A\u9ED8\u8BA4\u4E3A\u7EBF\n  return isColumn(geometryOption)\n    ? deepAssign(\n        {},\n        {\n          geometry: DualAxesGeometry.Column,\n          label:\n            geometryOption.label && geometryOption.isRange\n              ? {\n                  content: (item: object) => {\n                    return item[yField]?.join('-');\n                  },\n                }\n              : undefined,\n        },\n        geometryOption\n      )\n    : {\n        geometry: DualAxesGeometry.Line,\n        ...geometryOption,\n      };\n}\n\n/**\n * \u517C\u5BB9\u4E00\u4E9B\u5C5E\u6027 \u4E3A arr \u548C obj \u7684\u4E24\u79CD\u60C5\u51B5\uFF0C \u5982 yAxis\uFF0Cannotations\n * \u4E3A\u4E86\u9632\u6B62\u5DE6\u53F3 yField \u76F8\u540C\uFF0C\u5BFC\u81F4\u53D8\u6210 object \u4E4B\u540E\u88AB\u8986\u76D6\uFF0C\u6240\u4EE5\u90FD\u8F6C\u53D8\u6210\u6570\u7EC4\u7684\u5F62\u5F0F\n * @param yField\n * @param transformAttribute\n */\nexport function transformObjectToArray(\n  yField: DualAxesOptions['yField'],\n  transformAttribute: Record<string, any> | any[]\n): any[] {\n  const [y1, y2] = yField;\n\n  if (isArray(transformAttribute)) {\n    // \u5C06\u6570\u7EC4\u8865\u9F50\u4E3A\u4E24\u4E2A\n    const [a1, a2] = transformAttribute;\n    return [a1, a2];\n  }\n  const a1 = get(transformAttribute, y1);\n  const a2 = get(transformAttribute, y2);\n  return [a1, a2];\n}\n\n/**\n * \u83B7\u53D6\u9ED8\u8BA4\u503C\n * @param yAxis\n * @param axisType\n */\nexport function getYAxisWithDefault(yAxis: Axis, axisType: AxisType): Axis {\n  if (axisType === AxisType.Left) {\n    return yAxis === false ? false : deepAssign({}, DEFAULT_LEFT_YAXIS_CONFIG, yAxis);\n  } else if (axisType === AxisType.Right) {\n    return yAxis === false ? false : deepAssign({}, DEFAULT_RIGHT_YAXIS_CONFIG, yAxis);\n  }\n  return yAxis;\n}\n", "import { reduce, get, isEmpty, isFunction } from '@antv/util';\nimport { View, Util } from '@antv/g2';\nimport { deepAssign, findGeometry } from '../../../utils';\nimport { GeometryOption } from '../types';\nimport { Legend } from '../../../types/legend';\nimport { isLine } from './option';\n\n/**\n * \u83B7\u53D6 view \u7684 legendItem\uFF0C\u4F9B\u5B58\u5728\u4E0D\u542B\u6709 seriesField \u7684\u56FE\u5F62\u4F7F\u7528\n * @param params\n */\nexport function getViewLegendItems(params: {\n  view: View;\n  yField: string;\n  geometryOption: GeometryOption;\n  legend: Legend;\n}) {\n  const { view, geometryOption, yField, legend } = params;\n  const userMarker = get(legend, 'marker');\n\n  const geometry = findGeometry(view, isLine(geometryOption) ? 'line' : 'interval');\n  if (!geometryOption.seriesField) {\n    const legendItemName = get(view, `options.scales.${yField}.alias`) || yField;\n    // \u8FD4\u56DE g2 \u8BBE\u7F6E\u7684\u56FE\u4F8B\n    const colorAttribute = geometry.getAttribute('color');\n    let color = view.getTheme().defaultColor;\n    if (colorAttribute) {\n      color = Util.getMappingValue(colorAttribute, legendItemName, get(colorAttribute, ['values', 0], color));\n    }\n\n    const marker =\n      (isFunction(userMarker)\n        ? userMarker\n        : !isEmpty(userMarker) &&\n          deepAssign(\n            {},\n            {\n              style: {\n                stroke: color,\n                fill: color,\n              },\n            },\n            userMarker\n          )) ||\n      (isLine(geometryOption)\n        ? {\n            symbol: (x: number, y: number, r: number) => {\n              return [\n                ['M', x - r, y],\n                ['L', x + r, y],\n              ];\n            },\n            style: {\n              lineWidth: 2,\n              r: 6,\n              stroke: color,\n            },\n          }\n        : {\n            symbol: 'square',\n            style: {\n              fill: color,\n            },\n          });\n    return [\n      {\n        value: yField,\n        name: legendItemName,\n        marker,\n        isGeometry: true,\n        viewId: view.id,\n      },\n    ];\n  }\n\n  const attributes = geometry.getGroupAttributes();\n  return reduce(\n    attributes,\n    (items, attr) => {\n      const attrItems = Util.getLegendItems(view, geometry, attr, view.getTheme(), userMarker);\n      return items.concat(attrItems);\n    },\n    []\n  );\n}\n", "import { each } from '@antv/util';\nimport { Geometry } from '@antv/g2';\nimport { Params } from '../../../core/adaptor';\nimport { point, line } from '../../../adaptor/geometries';\nimport { pick, deepAssign } from '../../../utils';\nimport { adaptor as columnAdaptor } from '../../column/adaptor';\nimport { GeometryOption } from '../types';\nimport { isLine, isColumn } from './option';\n\n/**\n * \u7ED8\u5236\u5355\u4E2A\u56FE\u5F62\n * @param params\n */\nexport function drawSingleGeometry<O extends { xField: string; yField: string; geometryOption: GeometryOption }>(\n  params: Params<O>\n): Params<O> {\n  const { options, chart } = params;\n  const { geometryOption } = options;\n  const { isStack, color, seriesField, groupField, isGroup } = geometryOption;\n\n  const FIELD_KEY = ['xField', 'yField'];\n  if (isLine(geometryOption)) {\n    // \u7ED8\u5236\u7EBF\n    line(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          line: {\n            color: geometryOption.color,\n            style: geometryOption.lineStyle,\n          },\n        },\n      })\n    );\n    // \u7ED8\u5236\u70B9\n    point(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          point: geometryOption.point && {\n            color,\n            shape: 'circle',\n            ...geometryOption.point,\n          },\n        },\n      })\n    );\n    // adjust\n    const adjust = [];\n    if (isGroup) {\n      adjust.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        customOffset: 0,\n      });\n    }\n    if (isStack) {\n      adjust.push({\n        type: 'stack',\n      });\n    }\n    if (adjust.length) {\n      each(chart.geometries, (g: Geometry) => {\n        g.adjust(adjust);\n      });\n    }\n  }\n\n  if (isColumn(geometryOption)) {\n    columnAdaptor(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          widthRatio: geometryOption.columnWidthRatio,\n          interval: {\n            ...pick(geometryOption, ['color']),\n            style: geometryOption.columnStyle,\n          },\n        },\n      })\n    );\n  }\n\n  return params;\n}\n", "import { View } from '@antv/g2';\nimport { size, valuesOfKey } from '@antv/util';\nimport { isBetween } from '../../../utils';\n\n/**\n * \u53F3\u4FA7 View \u8FDB\u884C slider \u8FC7\u6EE4\n * \u7531\u4E8E\u53CC\u8F74\u56FE\u662F\u591A View , \u9700\u8981\u76D1\u542C\u5DE6\u4FA7 Slider \u7684 change \u4E8B\u4EF6\u6765\u540C\u6B65\u53F3\u4FA7 View\n * @param { View } view \u53F3\u4FA7\u89C6\u56FE\n * @param { number[] } sliderValue \u6ED1\u5757\u5F53\u524D\u503C\n * @returns void\n */\nexport const doSliderFilter = (view: View, sliderValue: [number, number]) => {\n  const [min, max] = sliderValue;\n  const data = view.getOptions().data;\n  const xScale = view.getXScale();\n  const dataSize = size(data);\n  if (!xScale || !dataSize) {\n    return;\n  }\n  const isHorizontal = true;\n  const values = valuesOfKey(data, xScale.field);\n  const xValues = isHorizontal ? values : values.reverse();\n  const xTickCount = size(xValues);\n  const minIndex = Math.floor(min * (xTickCount - 1));\n  const maxIndex = Math.floor(max * (xTickCount - 1));\n\n  // \u589E\u52A0 x \u8F74\u7684\u8FC7\u6EE4\u5668\n  view.filter(xScale.field, (value: any) => {\n    const idx: number = xValues.indexOf(value);\n    return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n  });\n  view.getRootView().render(true);\n};\n", "import { each, findIndex, get, find, isObject, every, isEqual, isBoolean } from '@antv/util';\nimport { Scale, Types, Event } from '@antv/g2';\nimport {\n  theme as commonTheme,\n  animation as commonAnimation,\n  scale,\n  interaction as commonInteraction,\n  annotation as commonAnnotation,\n  limitInPlot as commonLimitInPlot,\n} from '../../adaptor/common';\nimport { percent } from '../../utils/transform/percent';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { flow, deepAssign } from '../../utils';\nimport { findViewById } from '../../utils/view';\nimport { isColumn, getYAxisWithDefault, getGeometryOption, transformObjectToArray } from './util/option';\nimport { getViewLegendItems } from './util/legend';\nimport { drawSingleGeometry } from './util/geometry';\nimport { doSliderFilter } from './util/render-sider';\nimport { DualAxesOptions, AxisType, DualAxesGeometry } from './types';\nimport { LEFT_AXES_VIEW, RIGHT_AXES_VIEW } from './constant';\n\n/**\n * transformOptions\uFF0C\u53CC\u8F74\u56FE\u6574\u4F53\u7684\u53D6\u53C2\u903B\u8F91\u5982\u4E0B\n * 1. get index getOptions: \u5BF9\u5E94\u7684\u662F\u9ED8\u8BA4\u7684\u56FE\u8868\u53C2\u6570\uFF0C\u5982 appendPadding\uFF0CsyncView \u7B49\n * 2. get adpator transformOption: \u5BF9\u5E94\u7684\u662F\u53CC\u8F74\u56FE\u7684\u9ED8\u8BA4\u53C2\u6570\uFF0CdeepAssign \u4F18\u5148\u7EA7\u4ECE\u4F4E\u5230\u9AD8\u5982\u4E0B\n *    2.1 defaultoption\uFF0C\u5982 tooltip\uFF0Clegend\n *    2.2 \u7528\u6237\u586B\u5199 options\n *    2.3 \u6839\u636E\u7528\u6237\u586B\u5199\u7684 options \u8865\u5145\u7684\u6570\u7EC4\u578B options\uFF0C\u5982 yaxis\uFF0CGeometryOption\uFF0C\u56E0\u4E3A deepAssign \u65E0\u6CD5 assign \u6570\u7EC4\n *\n * @param params\n */\nexport function transformOptions(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { options } = params;\n  const { geometryOptions = [], xField, yField } = options;\n  const allLine = every(\n    geometryOptions,\n    ({ geometry }) => geometry === DualAxesGeometry.Line || geometry === undefined\n  );\n  return deepAssign(\n    {},\n    {\n      options: {\n        geometryOptions: [],\n        meta: {\n          [xField]: {\n            // \u9ED8\u8BA4\u4E3A cat \u7C7B\u578B\n            type: 'cat',\n            // x \u8F74\u4E00\u5B9A\u662F\u540C\u6B65 scale \u7684\n            sync: true,\n            // \u5982\u679C\u6709\u6CA1\u6709\u67F1\u5B50\uFF0C\u5219\n            range: allLine ? [0, 1] : undefined,\n          },\n        },\n        tooltip: {\n          showMarkers: allLine,\n          // \u5B58\u5728\u67F1\u72B6\u56FE\uFF0C\u4E0D\u663E\u793A crosshairs\n          showCrosshairs: allLine,\n          shared: true,\n          crosshairs: {\n            type: 'x',\n          },\n        },\n        interactions: !allLine\n          ? [{ type: 'legend-visible-filter' }, { type: 'active-region' }]\n          : [{ type: 'legend-visible-filter' }],\n        legend: {\n          position: 'top-left',\n        },\n      },\n    },\n    params,\n    {\n      options: {\n        // yAxis\n        yAxis: transformObjectToArray(yField, options.yAxis),\n        // geometryOptions\n        geometryOptions: [\n          getGeometryOption(xField, yField[0], geometryOptions[0]),\n          getGeometryOption(xField, yField[1], geometryOptions[1]),\n        ],\n        // annotations\n        annotations: transformObjectToArray(yField, options.annotations),\n      },\n    }\n  );\n}\n\n/**\n * \u521B\u5EFA \u53CC\u8F74\u56FE \u4E2D\u7ED8\u5236\u56FE\u5F62\u7684 view\uFF0C\u63D0\u524D\u521B\u5EFA\u662F\u56E0\u4E3A theme \u9002\u914D\u5668\u7684\u9700\u8981\n * @param params\n */\nfunction createViews(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { geometryOptions } = options;\n\n  const SORT_MAP = { line: 0, column: 1 };\n\n  // \u5305\u542B\u914D\u7F6E\uFF0Cid\uFF0C\u6570\u636E\u7684\u7ED3\u6784\n  const geometries = [\n    { type: geometryOptions[0]?.geometry, id: LEFT_AXES_VIEW },\n    { type: geometryOptions[1]?.geometry, id: RIGHT_AXES_VIEW },\n  ];\n\n  // \u5C06\u7EBF\u7684 view \u653E\u7F6E\u5728\u66F4\u4E0A\u4E00\u5C42\uFF0C\u9632\u6B62\u7EBF\u67F1\u906E\u6321\u3002\u5148\u67F1\u540E\u5148\n  geometries.sort((a, b) => -SORT_MAP[a.type] + SORT_MAP[b.type]).forEach((g) => chart.createView({ id: g.id }));\n\n  return params;\n}\n\n/**\n * \u7ED8\u5236\u56FE\u5F62\n * @param params\n */\nfunction geometry(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { xField, yField, geometryOptions, data, tooltip } = options;\n\n  // \u5305\u542B\u914D\u7F6E\uFF0Cid\uFF0C\u6570\u636E\u7684\u7ED3\u6784\n  const geometries = [\n    { ...geometryOptions[0], id: LEFT_AXES_VIEW, data: data[0], yField: yField[0] },\n    { ...geometryOptions[1], id: RIGHT_AXES_VIEW, data: data[1], yField: yField[1] },\n  ];\n\n  geometries.forEach((geometry) => {\n    const { id, data, yField } = geometry;\n    // \u767E\u5206\u6BD4\u67F1\u72B6\u56FE\u9700\u8981\u989D\u5916\u5904\u7406\u4E00\u6B21\u6570\u636E\n    const isPercent = isColumn(geometry) && geometry.isPercent;\n    const formatData = isPercent ? percent(data, yField, xField, yField) : data;\n    const view = findViewById(chart, id).data(formatData);\n\n    const tooltipOptions = isPercent\n      ? {\n          formatter: (datum: Datum) => ({\n            name: datum[geometry.seriesField] || yField,\n            value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n          }),\n          ...tooltip,\n        }\n      : tooltip;\n\n    // \u7ED8\u5236\u56FE\u5F62\n    drawSingleGeometry({\n      chart: view,\n      options: {\n        xField,\n        yField,\n        tooltip: tooltipOptions,\n        geometryOption: geometry,\n      },\n    });\n  });\n  return params;\n}\n\nexport function color(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { geometryOptions } = options;\n  const themeColor = chart.getTheme()?.colors10 || [];\n\n  let start = 0;\n  /* \u4E3A geometry \u6DFB\u52A0\u9ED8\u8BA4 color\u3002\n   * 1. \u82E5 geometryOptions \u5B58\u5728 color\uFF0C\u5219\u5728 drawGeometry \u65F6\u5DF2\u5904\u7406\n   * 2. \u82E5 \u4E0D\u5B58\u5728 color\uFF0C\u83B7\u53D6 Geometry group scales\u4E2A\u6570\uFF0C\u5728 theme color 10 \u4E2D\u63D0\u53D6\n   * 3. \u4E3A\u9632\u6B62 group \u8FC7\u591A\u5BFC\u81F4\u53F3\u8272\u677F\u65E0\u503C\u6216\u503C\u5F88\u5C11\uFF0C\u53F3 view \u9762\u677F\u5728\u4F9D\u6B21\u63D0\u53D6\u5269\u4E0B\u7684 N \u4E2A \u540E\u518D concat \u4E00\u6B21 themeColor\n   * 4. \u4E3A\u7B80\u4FBF\u83B7\u53D6 Geometry group scales\u4E2A\u6570\uFF0C\u5728\u7ED8\u5236\u5B8C\u540E\u518D\u6267\u884C color\n   * 5. \u8003\u8651\u4E4B\u540E\u5C06\u4E0D\u540C view \u4F7F\u7528\u540C\u4E00\u4E2A\u8272\u677F\u7684\u9700\u6C42\u6C89\u6DC0\u5230 g2\n   */\n  chart.once('beforepaint', () => {\n    each(geometryOptions, (geometryOption, index) => {\n      const view = findViewById(chart, index === 0 ? LEFT_AXES_VIEW : RIGHT_AXES_VIEW);\n      if (geometryOption.color) return;\n      const groupScale = view.getGroupScales();\n      const count = get(groupScale, [0, 'values', 'length'], 1);\n      const color = themeColor.slice(start, start + count).concat(index === 0 ? [] : themeColor);\n      view.geometries.forEach((geometry) => {\n        if (geometryOption.seriesField) {\n          geometry.color(geometryOption.seriesField, color);\n        } else {\n          geometry.color(color[0]);\n        }\n      });\n      start += count;\n    });\n    chart.render(true);\n  });\n\n  return params;\n}\n\n/**\n * meta \u914D\u7F6E\n * @param params\n */\nexport function meta(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  scale({\n    [xField]: xAxis,\n    [yField[0]]: yAxis[0],\n  })(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n\n  scale({\n    [xField]: xAxis,\n    [yField[1]]: yAxis[1],\n  })(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * axis \u914D\u7F6E\n * @param params\n */\nexport function axis(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  const { xField, yField, xAxis, yAxis } = options;\n\n  chart.axis(xField, false);\n  chart.axis(yField[0], false);\n  chart.axis(yField[1], false);\n\n  // \u5DE6 View\n  leftView.axis(xField, xAxis);\n  leftView.axis(yField[0], getYAxisWithDefault(yAxis[0], AxisType.Left));\n\n  // \u53F3 Y \u8F74\n  rightView.axis(xField, false);\n  rightView.axis(yField[1], getYAxisWithDefault(yAxis[1], AxisType.Right));\n\n  return params;\n}\n\n/**\n * tooltip \u914D\u7F6E\n * @param params\n */\nexport function tooltip(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  // tooltip \u7ECF\u8FC7 getDefaultOption \u5904\u7406\u540E\uFF0C\u4E00\u5B9A\u4E0D\u4E3A undefined\n  chart.tooltip(tooltip);\n  // \u5728 view \u4E0A\u6DFB\u52A0 tooltip\uFF0C\u4F7F\u5F97 shared \u548C interaction active-region \u8D77\u4F5C\u7528\n  // view \u5E94\u8BE5\u7EE7\u627F chart \u91CC\u7684 shared\uFF0C\u4F46\u662F\u4ECE\u8868\u73B0\u770B\u6765\uFF0C\u7EE7\u627F\u6709\u70B9\u95EE\u9898\n  leftView.tooltip({\n    shared: true,\n  });\n  rightView.tooltip({\n    shared: true,\n  });\n  return params;\n}\n\n/**\n * interaction \u914D\u7F6E\n * @param params\n */\nexport function interaction(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * annotation \u914D\u7F6E\n * @param params\n */\nexport function annotation(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { annotations } = options;\n\n  const a1 = get(annotations, [0]);\n  const a2 = get(annotations, [1]);\n\n  commonAnnotation(a1)(\n    deepAssign({}, params, {\n      chart: findViewById(chart, LEFT_AXES_VIEW),\n      options: {\n        annotations: a1,\n      },\n    })\n  );\n  commonAnnotation(a2)(\n    deepAssign({}, params, {\n      chart: findViewById(chart, RIGHT_AXES_VIEW),\n      options: {\n        annotations: a2,\n      },\n    })\n  );\n  return params;\n}\n\nexport function theme(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  /*\n   * \u53CC\u8F74\u56FE\u4E2D\uFF0C\u90E8\u5206\u7EC4\u4EF6\u662F\u7ED8\u5236\u5728\u5B50 view \u5C42\uFF08\u4F8B\u5982 axis\uFF0Cline\uFF09\uFF0C\u90E8\u5206\u7EC4\u4EF6\u662F\u7ED8\u5236\u5728 chart \uFF08\u4F8B\u5982 legend)\n   * \u4E3A chart \u548C \u5B50 view \u5747\u6CE8\u518C theme\uFF0C\u4F7F\u5176\u81EA\u884C\u9075\u5FAA G2 theme geometry > view > chart \u8FDB\u884C\u6E32\u67D3\u3002\n   */\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n  commonTheme(params);\n\n  return params;\n}\n\nexport function animation(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * \u53CC\u8F74\u56FE limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { yAxis } = options;\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, LEFT_AXES_VIEW),\n      options: {\n        yAxis: yAxis[0],\n      },\n    })\n  );\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, RIGHT_AXES_VIEW),\n      options: {\n        yAxis: yAxis[1],\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * legend \u914D\u7F6E\n * \u4F7F\u7528 custom\uFF0C\u4FBF\u4E8E\u548C\u7C7B\u4F3C\u4E8E\u5206\u7EC4\u67F1\u72B6\u56FE-\u5355\u6298\u7EBF\u56FE\u7684\u903B\u8F91\u7EDF\u4E00\n * @param params\n */\nexport function legend(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { legend, geometryOptions, yField, data } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (isObject(legend) && legend.custom === true) {\n    chart.legend(legend);\n  } else {\n    const leftLegend = get(geometryOptions, [0, 'legend'], legend);\n    const rightLegend = get(geometryOptions, [1, 'legend'], legend);\n    // \u5747\u4F7F\u7528\u81EA\u5B9A\u4E49\u56FE\u4F8B\n    chart.once('beforepaint', () => {\n      const leftItems = data[0].length\n        ? getViewLegendItems({\n            view: leftView,\n            geometryOption: geometryOptions[0],\n            yField: yField[0],\n            legend: leftLegend,\n          })\n        : [];\n\n      const rightItems = data[1].length\n        ? getViewLegendItems({\n            view: rightView,\n            geometryOption: geometryOptions[1],\n            yField: yField[1],\n            legend: rightLegend,\n          })\n        : [];\n\n      chart.legend(\n        deepAssign({}, legend, {\n          custom: true,\n          // todo \u4FEE\u6539\u7C7B\u578B\u5B9A\u4E49\n          // @ts-ignore\n          items: leftItems.concat(rightItems),\n        })\n      );\n    });\n\n    if (geometryOptions[0].seriesField) {\n      leftView.legend(geometryOptions[0].seriesField, leftLegend);\n    }\n    if (geometryOptions[1].seriesField) {\n      rightView.legend(geometryOptions[1].seriesField, rightLegend);\n    }\n\n    // \u81EA\u5B9A\u4E49\u56FE\u4F8B\u4EA4\u4E92\n    chart.on('legend-item:click', (evt) => {\n      const delegateObject = get(evt, 'gEvent.delegateObject', {});\n      if (delegateObject && delegateObject.item) {\n        const { value: field, isGeometry, viewId } = delegateObject.item;\n        // geometry \u7684\u65F6\u5019\uFF0C\u76F4\u63A5\u4F7F\u7528 view.changeVisible\n        if (isGeometry) {\n          const idx = findIndex(yField, (yF: string) => yF === field);\n          if (idx > -1) {\n            const geometries = get(findViewById(chart, viewId), 'geometries');\n            each(geometries, (g) => {\n              g.changeVisible(!delegateObject.item.unchecked);\n            });\n          }\n        } else {\n          const legendItem = get(chart.getController('legend'), 'option.items', []);\n          // \u5206\u7EC4\u67F1\u7EBF\u56FE\n          each(chart.views, (view) => {\n            // \u5355\u6298\u67F1\u56FE\n            const groupScale = view.getGroupScales();\n            each(groupScale, (scale: Scale) => {\n              if (scale.values && scale.values.indexOf(field) > -1) {\n                view.filter(scale.field, (value) => {\n                  const curLegendItem: Types.LegendItem = find(\n                    legendItem,\n                    (item: Types.LegendItem) => item.value === value\n                  );\n                  // \u4F7F\u7528 legend \u4E2D\u7684 unchecked \u6765\u5224\u65AD\uFF0C\u4F7F\u5F97\u652F\u6301\u5173\u95ED\u591A\u4E2A\u56FE\u4F8B\n                  return !curLegendItem.unchecked;\n                });\n              }\n            });\n            chart.render(true);\n          });\n        }\n      }\n    });\n  }\n\n  return params;\n}\n\n/**\n * \u53CC\u8F74\u56FE slider \u9002\u914D\u5668\n * @param params\n */\nexport function slider(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { slider } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  if (slider) {\n    // \u5DE6 View\n    leftView.option('slider', slider);\n    // \u76D1\u542C\u5DE6\u4FA7 slider \u6539\u53D8\u4E8B\u4EF6\uFF0C \u540C\u6B65\u53F3\u4FA7 View \u89C6\u56FE\n    leftView.on('slider:valuechanged', (evt: Event) => {\n      const {\n        event: { value, originValue },\n      } = evt;\n      if (isEqual(value, originValue)) {\n        return;\n      }\n      doSliderFilter(rightView, value);\n    });\n    chart.once('afterpaint', () => {\n      // \u521D\u59CB\u5316\u6570\u636E\uFF0C\u914D\u7F6E\u9ED8\u8BA4\u503C\u65F6\u9700\u8981\u540C\u6B65\n      if (!isBoolean(slider)) {\n        const { start, end } = slider;\n        if (start || end) {\n          doSliderFilter(rightView, [start, end]);\n        }\n      }\n    });\n  }\n\n  return params;\n}\n\n/**\n * \u53CC\u6298\u7EBF\u56FE\u9002\u914D\u5668\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  // transformOptions \u4E00\u5B9A\u5728\u6700\u524D\u9762\u5904\u7406\uFF1Bcolor legend \u4F7F\u7528\u4E86 beforepaint\uFF0C\u4E3A\u4FBF\u4E8E\u7406\u89E3\u653E\u5728\u6700\u540E\u9762\n  return flow(\n    transformOptions,\n    createViews,\n    // \u4E3B\u9898\u9760\u524D\u8BBE\u7F6E\uFF0C\u4F5C\u4E3A\u6700\u4F4E\u4F18\u5148\u7EA7\n    theme,\n    geometry,\n    meta,\n    axis,\n    limitInPlot,\n    tooltip,\n    interaction,\n    annotation,\n    animation,\n    color,\n    legend,\n    slider\n  )(params);\n}\n", "import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { DualAxesOptions } from './types';\nimport { adaptor } from './adaptor';\n\nexport type { DualAxesOptions };\n\nexport class DualAxes extends Plot<DualAxesOptions> {\n  /** \u56FE\u8868\u7C7B\u578B: \u53CC\u8F74\u56FE */\n  public type: string = 'dual-axes';\n\n  /**\n   * \u83B7\u53D6 \u53CC\u8F74\u56FE \u9ED8\u8BA4\u914D\u7F6E\n   */\n  protected getDefaultOptions(): Partial<DualAxesOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      yAxis: [],\n      syncViewPadding: true,\n    });\n  }\n\n  /**\n   * \u83B7\u53D6\u53CC\u8F74\u56FE\u7684\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<DualAxesOptions> {\n    return adaptor;\n  }\n}\n", "import { get } from '@antv/util';\n\nexport const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\n\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showTitle: false,\n  shared: true,\n  showMarkers: false,\n  customContent: (x: string, data: any[]) => `${get(data, [0, 'data', 'y'], 0)}`, // \u9ED8\u8BA4\u663E\u793A\u539F\u59CB\u6570\u636E\n  containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n  itemTpl: '<span>{value}</span>',\n  domStyles: {\n    'g2-tooltip': {\n      padding: '2px 4px',\n      fontSize: '10px',\n    },\n  },\n  showCrosshairs: true,\n  crosshairs: {\n    type: 'x' as const,\n  },\n};\n\n/**\n * \u9ED8\u8BA4\u914D\u7F6E\u9879\n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  animation: {},\n};\n", "import { map } from '@antv/util';\n\nexport function getTinyData(data: number[]) {\n  return map(data || [], (y: number, x: number) => ({ x: `${x}`, y }));\n}\n", "import { theme, scale, animation, annotation, tooltip, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { area, line, point } from '../../adaptor/geometries';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adjustYMetaByZero } from '../../utils/data';\nimport { TinyAreaOptions } from './types';\n\n/**\n * \u5B57\u6BB5\n * @param params\n */\nfunction geometry(params: Params<TinyAreaOptions>): Params<TinyAreaOptions> {\n  const { chart, options } = params;\n  const { data, color, areaStyle, point: pointOptions, line: lineOptions } = options;\n  const pointState = pointOptions?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      area: { color, style: areaStyle },\n      line: lineOptions,\n      point: pointOptions,\n    },\n  });\n  const second = deepAssign({}, primary, { options: { tooltip: false } });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  // area geometry \u5904\u7406\n  area(primary);\n  line(second);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * meta \u914D\u7F6E\n * @param params\n */\nexport function meta(params: Params<TinyAreaOptions>): Params<TinyAreaOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, data } = options;\n  const seriesData = getTinyData(data);\n\n  return flow(\n    scale(\n      {\n        [X_FIELD]: xAxis,\n        [Y_FIELD]: yAxis,\n      },\n      {\n        [X_FIELD]: {\n          type: 'cat',\n        },\n        [Y_FIELD]: adjustYMetaByZero(seriesData, Y_FIELD),\n      }\n    )\n  )(params);\n}\n\n/**\n * \u8FF7\u4F60\u9762\u79EF\u56FE\u9002\u914D\u5668\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyAreaOptions>) {\n  return flow(pattern('areaStyle'), geometry, meta, tooltip, theme, animation, annotation())(params);\n}\n", "import { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { theme, animation, annotation, tooltip } from '../../adaptor/common';\nimport { line, point } from '../../adaptor/geometries';\nimport { meta } from '../tiny-area/adaptor';\nimport { getTinyData } from './utils';\nimport { TinyLineOptions } from './types';\nimport { X_FIELD, Y_FIELD } from './constants';\n\nexport { meta };\n\n/**\n * \u5B57\u6BB5\n * @param params\n */\nfunction geometry(params: Params<TinyLineOptions>): Params<TinyLineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, point: pointMapping } = options;\n\n  const pointState = pointMapping?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  // line geometry \u5904\u7406\n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      line: {\n        color,\n        style: lineStyle,\n      },\n      point: pointMapping,\n    },\n  });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * \u8FF7\u4F60\u6298\u7EBF\u56FE\u9002\u914D\u5668\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyLineOptions>) {\n  return flow(geometry, meta, theme, tooltip, animation, annotation())(params);\n}\n", "import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { TinyLineOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getTinyData } from './utils';\n\nexport type { TinyLineOptions };\n\nexport class TinyLine extends Plot<TinyLineOptions> {\n  /**\n   * \u83B7\u53D6\u9ED8\u8BA4\u914D\u7F6E\u9879\n   * \u4F9B\u5916\u90E8\u4F7F\u7528\n   */\n  static getDefaultOptions(): Partial<TinyLineOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'tiny-line';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyLineOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyLine.getDefaultOptions();\n  }\n\n  /**\n   * \u83B7\u53D6 \u8FF7\u4F60\u6298\u7EBF\u56FE \u7684\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<TinyLineOptions> {\n    return adaptor;\n  }\n}\n", "import { theme, animation, annotation, tooltip, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { meta } from '../tiny-area/adaptor';\nimport { TinyColumnOptions } from './types';\n\nexport { meta };\n\n/**\n * \u5B57\u6BB5\n * @param params\n */\nfunction geometry(params: Params<TinyColumnOptions>): Params<TinyColumnOptions> {\n  const { chart, options } = params;\n  const { data, color, columnStyle, columnWidthRatio } = options;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  chart.axis(false);\n  chart.legend(false);\n  chart.interaction('element-active');\n  return params;\n}\n\n/**\n * \u8FF7\u4F60\u67F1\u5F62\u56FE\u9002\u914D\u5668\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyColumnOptions>) {\n  return flow(theme, pattern('columnStyle'), geometry, meta, tooltip, animation, annotation())(params);\n}\n", "import { get } from '@antv/util';\n\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showTitle: false,\n  shared: true,\n  showMarkers: false,\n  customContent: (x: string, data: any[]) => `${get(data, [0, 'data', 'y'], 0)}`, // \u9ED8\u8BA4\u663E\u793A\u539F\u59CB\u6570\u636E\n  containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n  itemTpl: '<span>{value}</span>',\n  domStyles: {\n    'g2-tooltip': {\n      padding: '2px 4px',\n      fontSize: '10px',\n    },\n  },\n};\n\n/**\n * \u9ED8\u8BA4\u914D\u7F6E\u9879\n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  animation: {},\n};\n", "import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { TinyColumnOptions } from './types';\n\nexport type { TinyColumnOptions };\n\nexport class TinyColumn extends Plot<TinyColumnOptions> {\n  /**\n   * \u83B7\u53D6\u9ED8\u8BA4\u914D\u7F6E\u9879\n   * \u4F9B\u5916\u90E8\u4F7F\u7528\n   */\n  static getDefaultOptions(): Partial<TinyColumnOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'tiny-column';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyColumnOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyColumn.getDefaultOptions();\n  }\n\n  /**\n   * \u83B7\u53D6 \u8FF7\u4F60\u67F1\u5F62\u56FE \u7684\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<TinyColumnOptions> {\n    return adaptor;\n  }\n}\n", "import { DEFAULT_TOOLTIP_OPTIONS } from '../tiny-line/constants';\n\n/**\n * \u9ED8\u8BA4\u914D\u7F6E\u9879\n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  // \u9ED8\u8BA4\u6837\u5F0F\n  color: 'l(90) 0:#E5EDFE 1:#ffffff',\n  areaStyle: {\n    fillOpacity: 0.6,\n  },\n  line: {\n    size: 1,\n    color: '#5B8FF9',\n  },\n  animation: {},\n};\n", "import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getTinyData } from '../tiny-line/utils';\nimport { TinyAreaOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { TinyAreaOptions };\n\nexport class TinyArea extends Plot<TinyAreaOptions> {\n  /**\n   * \u83B7\u53D6\u9ED8\u8BA4\u914D\u7F6E\u9879\n   * \u4F9B\u5916\u90E8\u4F7F\u7528\n   */\n  static getDefaultOptions(): Partial<TinyAreaOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'tiny-area';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyAreaOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyArea.getDefaultOptions();\n  }\n\n  /**\n   * \u83B7\u53D6 \u8FF7\u4F60\u9762\u79EF\u56FE \u7684\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<TinyAreaOptions> {\n    return adaptor;\n  }\n}\n", "import { clone, sortBy, valuesOfKey, getRange, each, hasKey, groupBy, isEmpty } from '@antv/util';\nimport { Data } from '../../types';\n\ntype StatisticData = {\n  range: Array<number>;\n  count: number;\n};\ntype StatisticBin = {\n  [key: string]: StatisticData;\n};\n\n// \u8FDB\u884C\u8F6C\u6362\u5F97\u5230\u503C\u6240\u5728\u7684 range\nfunction getBinKey(value: number, binWidth: number, binNumber?: number): [number, number] {\n  // \u505A\u4E00\u70B9\u7279\u6B8A\u5904\u7406\n  if (binNumber === 1) {\n    return [0, binWidth];\n  }\n  const index = Math.floor(value / binWidth);\n  return [binWidth * index, binWidth * (index + 1)];\n}\n\n// \u9ED8\u8BA4 sturges \u8F6C\u6362\nfunction sturges(values: Array<number>): number {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n/**\n * \u5BF9\u6570\u636E\u8FDB\u884C\u767E\u5206\u6BD4\u5316\n * @param data\n * @param binField\n * @param binWidth\n * @param binNumber\n * @param stackField\n */\nexport function binHistogram(data: Data, binField: string, binWidth: number, binNumber?: number, stackField?: string) {\n  const originData_copy = clone(data);\n\n  // \u6839\u636E binField \u5BF9\u6E90\u6570\u636E\u8FDB\u884C\u6392\u5E8F\n  sortBy(originData_copy, binField);\n\n  // \u83B7\u53D6\u6E90\u6570\u636E binField \u7684 range\n  const values = valuesOfKey(originData_copy, binField);\n  const range = getRange(values);\n  const rangeWidth = range.max - range.min;\n\n  // \u8BA1\u7B97\u5206\u7BB1\uFF0C\u76F4\u65B9\u56FE\u5206\u7BB1\u7684\u8BA1\u7B97\u57FA\u4E8E binWidth\uFF0C\u5982\u914D\u7F6E\u4E86 binNumber \u5219\u5C06\u5176\u8F6C\u4E3A binWidth \u8FDB\u884C\u8BA1\u7B97\n  let _binWidth = binWidth;\n  if (!binWidth && binNumber) {\n    _binWidth = binNumber > 1 ? rangeWidth / (binNumber - 1) : range.max;\n  }\n  // \u5F53 binWidth \u548C binNumber \u90FD\u6CA1\u6709\u6307\u5B9A\u7684\u60C5\u51B5\uFF0C\u91C7\u7528 Sturges formula \u81EA\u52A8\u751F\u6210 binWidth\n  if (!binWidth && !binNumber) {\n    const _defaultBinNumber = sturges(values);\n    _binWidth = rangeWidth / _defaultBinNumber;\n  }\n  // \u6784\u5EFA key - StatisticData \u7ED3\u6784\n  const bins: StatisticBin = {};\n  const groups = groupBy(originData_copy, stackField);\n  // \u5224\u65AD\u5206\u7EC4\u662F\u5426\u4E3A\u7A7A\uFF0C\u5982\u679C\u4E3A\u7A7A\uFF0C\u8BF4\u660E\u6CA1\u6709 stackField \u5B57\u6BB5\n  if (isEmpty(groups)) {\n    each(originData_copy, (data: any) => {\n      const value = data[binField];\n      const bin = getBinKey(value, _binWidth, binNumber);\n      const binKey = `${bin[0]}-${bin[1]}`;\n      if (!hasKey(bins, binKey)) {\n        bins[binKey] = { range: bin, count: 0 };\n      }\n      bins[binKey].count += 1;\n    });\n  } else {\n    Object.keys(groups).forEach((groupKey: string) => {\n      each(groups[groupKey], (data: any) => {\n        const value = data[binField];\n        const bin = getBinKey(value, _binWidth, binNumber);\n        const binKey = `${bin[0]}-${bin[1]}`;\n        const groupKeyBinKey = `${binKey}-${groupKey}`;\n        if (!hasKey(bins, groupKeyBinKey)) {\n          bins[groupKeyBinKey] = { range: bin, count: 0 };\n          bins[groupKeyBinKey][stackField] = groupKey;\n        }\n        bins[groupKeyBinKey].count += 1;\n      });\n    });\n  }\n  // \u5C06\u5206\u7BB1\u6570\u636E\u8F6C\u6362\u4E3A plotData \u624D\u662F\u56FE\u8868\u6240\u9700\u8981\u7684\n  const plotData: Array<StatisticData> = [];\n  each(bins, (bin: StatisticData) => {\n    plotData.push(bin);\n  });\n  return plotData;\n}\n", "import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/** \u76F4\u65B9\u56FE xField */\nexport const HISTOGRAM_X_FIELD = 'range';\n/** \u76F4\u65B9\u56FE yField */\nexport const HISTOGRAM_Y_FIELD = 'count';\n\n/**\n * \u9ED8\u8BA4\u914D\u7F6E\u9879\n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  columnStyle: {\n    stroke: '#FFFFFF',\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  interactions: [{ type: 'active-region' }],\n});\n", "import { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, state } from '../../adaptor/common';\nimport { pattern } from '../../adaptor/pattern';\nimport { findGeometry, deepAssign } from '../../utils';\nimport { flow, transformLabel } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { HistogramOptions } from './types';\nimport { HISTOGRAM_X_FIELD, HISTOGRAM_Y_FIELD } from './constant';\n\n/**\n * geometry \u5904\u7406\n * @param params\n */\nfunction geometry(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { data, binField, binNumber, binWidth, color, stackField, legend, columnStyle } = options;\n\n  // \u5904\u7406\u6570\u636E\n  const plotData = binHistogram(data, binField, binWidth, binNumber, stackField);\n\n  chart.data(plotData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: HISTOGRAM_X_FIELD,\n      yField: HISTOGRAM_Y_FIELD,\n      seriesField: stackField,\n      isStack: true,\n      interval: {\n        color,\n        style: columnStyle,\n      },\n    },\n  });\n\n  interval(p);\n\n  // \u56FE\u4F8B\n  if (legend && stackField) {\n    chart.legend(stackField, legend);\n  }\n\n  return params;\n}\n\n/**\n * meta \u914D\u7F6E\n * @param params\n */\nfunction meta(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { options } = params;\n  const { xAxis, yAxis } = options;\n\n  return flow(\n    scale({\n      [HISTOGRAM_X_FIELD]: xAxis,\n      [HISTOGRAM_Y_FIELD]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \u914D\u7F6E\n * @param params\n */\nfunction axis(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis } = options;\n\n  // \u4E3A false \u5219\u662F\u4E0D\u663E\u793A\u8F74\n  if (xAxis === false) {\n    chart.axis(HISTOGRAM_X_FIELD, false);\n  } else {\n    chart.axis(HISTOGRAM_X_FIELD, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(HISTOGRAM_Y_FIELD, false);\n  } else {\n    chart.axis(HISTOGRAM_Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * label \u914D\u7F6E\n * @param params\n */\nfunction label(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [HISTOGRAM_Y_FIELD],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \u76F4\u65B9\u56FE\u9002\u914D\u5668\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<HistogramOptions>) {\n  // flow \u7684\u65B9\u5F0F\u5904\u7406\u6240\u6709\u7684\u914D\u7F6E\u5230 G2 API\n  return flow(\n    theme,\n    pattern('columnStyle'),\n    geometry,\n    meta,\n    axis,\n    state,\n    label,\n    tooltip,\n    interaction,\n    animation\n  )(params);\n}\n", "import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { HistogramOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { HistogramOptions };\n\nexport class Histogram extends Plot<HistogramOptions> {\n  /**\n   * \u83B7\u53D6 \u9ED8\u8BA4\u914D\u7F6E\u9879\n   * \u4F9B\u5916\u90E8\u4F7F\u7528\n   */\n  static getDefaultOptions(): Partial<HistogramOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'histogram';\n\n  public changeData(data: HistogramOptions['data']) {\n    this.updateOption({ data });\n\n    const { binField, binNumber, binWidth, stackField } = this.options;\n    this.chart.changeData(binHistogram(data, binField, binWidth, binNumber, stackField));\n  }\n\n  /**\n   * \u83B7\u53D6\u76F4\u65B9\u56FE\u7684\u9002\u914D\u5668\n   */\n  protected getDefaultOptions() {\n    return Histogram.getDefaultOptions();\n  }\n\n  /**\n   * \u83B7\u53D6\u76F4\u65B9\u56FE\u7684\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<HistogramOptions> {\n    return adaptor;\n  }\n}\n", "export const DEFAULT_COLOR = ['#FAAD14', '#E8EDF3'];\n\n/**\n * \u9ED8\u8BA4\u914D\u7F6E\u9879\n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0.2,\n  color: DEFAULT_COLOR,\n  animation: {},\n};\n", "import { clamp } from '@antv/util';\nimport { isRealNumber } from '../../utils/number';\n\n/**\n * \u83B7\u53D6\u8FDB\u5EA6\u6761\u6570\u636E\n */\nexport function getProgressData(percent: number) {\n  const clampPercent = clamp(isRealNumber(percent) ? percent : 0, 0, 1);\n  return [\n    {\n      type: 'current',\n      percent: clampPercent,\n    },\n    {\n      type: 'target',\n      percent: 1 - clampPercent,\n    },\n  ];\n}\n", "import { isString } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { scale, animation, theme, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { ProgressOptions } from './types';\nimport { DEFAULT_COLOR } from './constants';\nimport { getProgressData } from './utils';\n\n/**\n * \u5B57\u6BB5\n * @param params\n */\nexport function geometry(params: Params<ProgressOptions>): Params<ProgressOptions> {\n  const { chart, options } = params;\n  const { percent, progressStyle, color, barWidthRatio } = options;\n\n  chart.data(getProgressData(percent));\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: '1',\n      yField: 'percent',\n      seriesField: 'type',\n      isStack: true,\n      widthRatio: barWidthRatio,\n      interval: {\n        style: progressStyle,\n        color: isString(color) ? [color, DEFAULT_COLOR[1]] : color,\n      },\n      args: {\n        zIndexReversed: true,\n        sortZIndex: true,\n      },\n    },\n  });\n\n  interval(p);\n\n  // \u5173\u95ED\u7EC4\u4EF6\n  chart.tooltip(false);\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * other \u914D\u7F6E\n * @param params\n */\nfunction coordinate(params: Params<ProgressOptions>): Params<ProgressOptions> {\n  const { chart } = params;\n\n  chart.coordinate('rect').transpose();\n\n  return params;\n}\n\n/**\n * \u8FDB\u5EA6\u56FE\u9002\u914D\u5668\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ProgressOptions>) {\n  // @ts-ignore\n  return flow(geometry, scale({}), coordinate, animation, theme, annotation())(params);\n}\n", "import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { ProgressOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getProgressData } from './utils';\n\nexport type { ProgressOptions };\n\nexport class Progress extends Plot<ProgressOptions> {\n  /**\n   * \u83B7\u53D6 \u4EEA\u8868\u76D8 \u9ED8\u8BA4\u914D\u7F6E\u9879\n   * \u4F9B\u5916\u90E8\u4F7F\u7528\n   */\n  static getDefaultOptions(): Partial<ProgressOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'process';\n\n  /**\n   * \u66F4\u65B0\u6570\u636E\n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.updateOption({ percent });\n    this.chart.changeData(getProgressData(percent));\n  }\n\n  protected getDefaultOptions() {\n    return Progress.getDefaultOptions();\n  }\n\n  /**\n   * \u83B7\u53D6 \u8FDB\u5EA6\u56FE \u7684\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<ProgressOptions> {\n    return adaptor;\n  }\n}\n", "import { get, isNil } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, renderStatistic } from '../../utils';\nimport { scale, animation, theme, annotation } from '../../adaptor/common';\nimport { geometry } from '../progress/adaptor';\nimport { RingProgressOptions } from './types';\n\n/**\n * coordinate \u914D\u7F6E\n * @param params\n */\nfunction coordinate(params: Params<RingProgressOptions>): Params<RingProgressOptions> {\n  const { chart, options } = params;\n  const { innerRadius, radius } = options;\n\n  // coordinate\n  chart.coordinate('theta', {\n    innerRadius,\n    radius,\n  });\n\n  return params;\n}\n\n/**\n * statistic \u914D\u7F6E\n * @param params\n */\nexport function statistic(params: Params<RingProgressOptions>, updated?: boolean): Params<RingProgressOptions> {\n  const { chart, options } = params;\n  const { innerRadius, statistic, percent, meta } = options;\n\n  // \u5148\u6E05\u7A7A\u6807\u6CE8\uFF0C\u518D\u91CD\u65B0\u6E32\u67D3\n  chart.getController('annotation').clear(true);\n\n  /** \u4E2D\u5FC3\u6587\u672C \u6307\u6807\u5361 */\n  if (innerRadius && statistic) {\n    const metaFormatter = get(meta, ['percent', 'formatter']) || ((v) => `${(v * 100).toFixed(2)}%`);\n    let contentOpt = statistic.content;\n    if (contentOpt) {\n      contentOpt = deepAssign({}, contentOpt, {\n        content: !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(percent),\n      });\n    }\n    renderStatistic(\n      chart,\n      { statistic: { ...statistic, content: contentOpt }, plotType: 'ring-progress' },\n      { percent }\n    );\n  }\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * \u73AF\u5F62\u8FDB\u5EA6\u56FE\u9002\u914D\u5668\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RingProgressOptions>) {\n  return flow(geometry, scale({}), coordinate, statistic, animation, theme, annotation())(params);\n}\n", "/**\n * \u4EEA\u8868\u76D8\u9ED8\u8BA4\u914D\u7F6E\u9879\n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0.2,\n  innerRadius: 0.8,\n  radius: 0.98,\n  color: ['#FAAD14', '#E8EDF3'],\n  statistic: {\n    title: false as const,\n    content: {\n      style: {\n        fontSize: '14px',\n        fontWeight: 300,\n        fill: '#4D4D4D',\n        textAlign: 'center' as const,\n        textBaseline: 'middle' as const,\n      },\n    },\n  },\n  animation: {},\n};\n", "import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getProgressData } from '../progress/utils';\nimport { RingProgressOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { RingProgressOptions };\n\nexport class RingProgress extends Plot<RingProgressOptions> {\n  /**\n   * \u83B7\u53D6\u9ED8\u8BA4\u914D\u7F6E\u9879\n   * \u4F9B\u5916\u90E8\u4F7F\u7528\n   */\n  static getDefaultOptions(): Partial<RingProgressOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'ring-process';\n\n  /**\n   * \u66F4\u65B0\u6570\u636E\n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    this.updateOption({ percent });\n\n    this.chart.data(getProgressData(percent));\n    // todo \u540E\u7EED\u8BA9 G2 \u5C42\u5728 afterrender \u4E4B\u540E\uFF0C\u6765\u91CD\u7ED8 annotations\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  protected getDefaultOptions() {\n    return RingProgress.getDefaultOptions();\n  }\n\n  /**\n   * \u83B7\u53D6 \u73AF\u5F62\u8FDB\u5EA6\u56FE \u7684\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<RingProgressOptions> {\n    return adaptor;\n  }\n}\n", "import { get } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry } from '../../utils';\nimport { flow, transformLabel } from '../../utils';\nimport { tooltip, interaction, animation, theme, scale, annotation, state, pattern } from '../../adaptor/common';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { HeatmapOptions } from './types';\n\nfunction geometry(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { data, type, xField, yField, colorField, sizeField, sizeRatio, shape, color, tooltip, heatmapStyle } = options;\n\n  chart.data(data);\n  let geometryType = 'polygon';\n  if (type === 'density') {\n    geometryType = 'heatmap';\n  }\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, colorField]);\n\n  /**\n   * The ratio between the actual size and the max available size, must be in range `[0,1]`.\n   *\n   * If the `sizeRatio` attribute is undefined or it exceeds the range,\n   * `checkedSizeRatio` would be set to 1 as default.\n   */\n  let checkedSizeRatio = 1;\n  if (sizeRatio || sizeRatio === 0) {\n    if (!shape && !sizeField) {\n      console.warn('sizeRatio is not in effect: Must define shape or sizeField first');\n    } else if (sizeRatio < 0 || sizeRatio > 1) {\n      console.warn('sizeRatio is not in effect: It must be a number in [0,1]');\n    } else {\n      checkedSizeRatio = sizeRatio;\n    }\n  }\n\n  geometryAdaptor(\n    deepAssign({}, params, {\n      options: {\n        type: geometryType,\n        colorField,\n        tooltipFields: fields,\n        shapeField: sizeField || '',\n        label: undefined,\n        mapping: {\n          tooltip: formatter,\n          shape:\n            shape &&\n            (sizeField\n              ? (dautm) => {\n                  const field = data.map((row) => row[sizeField]);\n                  const min = Math.min(...field);\n                  const max = Math.max(...field);\n                  return [shape, (get(dautm, sizeField) - min) / (max - min), checkedSizeRatio];\n                }\n              : () => [shape, 1, checkedSizeRatio]),\n          color: color || (colorField && chart.getTheme().sequenceColors.join('-')),\n          style: heatmapStyle,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \u914D\u7F6E\n * @param params\n */\nfunction meta(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \u914D\u7F6E\n * @param params\n */\nfunction axis(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  // \u4E3A false \u5219\u662F\u4E0D\u663E\u793A\u8F74\n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \u914D\u7F6E\n * @param params\n */\nfunction legend(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { legend, colorField, sizeField, sizeLegend } = options;\n\n  /** legend \u4E0D\u4E3A false, \u5219\u5C55\u793A\u56FE\u4F8B, \u4F18\u5148\u5C55\u793A color \u5206\u7C7B\u56FE\u4F8B */\n  const showLegend = legend !== false;\n\n  if (colorField) {\n    chart.legend(colorField, showLegend ? legend : false);\n  }\n\n  // \u65E7\u7248\u672C: \u6709 sizeField \u5C31\u6709 sizeLegend. \u8FD9\u91CC\u9ED8\u8BA4\u7EE7\u627F\u4E0B legend \u914D\u7F6E\n  if (sizeField) {\n    chart.legend(sizeField, sizeLegend === undefined ? legend : sizeLegend);\n  }\n\n  /** \u9ED8\u8BA4\u6CA1\u6709 sizeField\uFF0C\u5219\u9690\u85CF\u8FDE\u7EED\u56FE\u4F8B */\n  if (!showLegend && !sizeLegend) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * fixme \u540E\u7EED\u786E\u8BA4\u4E0B\uFF0C\u6570\u636E\u6807\u7B7E\u7684\u903B\u8F91\u4E3A\u5565\u548C\u901A\u7528\u7684\u4E0D\u4E00\u81F4\n * \u6570\u636E\u6807\u7B7E\n * @param params\n */\nfunction label(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { label, colorField, type } = options;\n\n  const geometry = findGeometry(chart, type === 'density' ? 'heatmap' : 'polygon');\n\n  if (!label) {\n    geometry.label(false);\n  } else if (colorField) {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [colorField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \u6781\u5750\u6807\n * @param params\n */\nfunction coordinate(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { coordinate, reflect } = options;\n\n  if (coordinate) {\n    chart.coordinate({\n      type: coordinate.type || 'rect',\n      cfg: coordinate.cfg,\n    });\n  }\n\n  if (reflect) {\n    chart.coordinate().reflect(reflect);\n  }\n\n  return params;\n}\n\n/**\n * \u70ED\u529B\u56FE\u9002\u914D\u5668\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<HeatmapOptions>) {\n  // flow \u7684\u65B9\u5F0F\u5904\u7406\u6240\u6709\u7684\u914D\u7F6E\u5230 G2 API\n  return flow(\n    theme,\n    pattern('heatmapStyle'),\n    meta,\n    coordinate,\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    label,\n    annotation(),\n    interaction,\n    animation,\n    state\n  )(params);\n}\n", "import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \u8272\u5757\u56FE\u9ED8\u8BA4\u914D\u7F6E\u9879\n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  type: 'polygon',\n  legend: false,\n  coordinate: {\n    type: 'rect',\n  },\n  xAxis: {\n    tickLine: null,\n    line: null,\n    grid: {\n      alignTick: false,\n      line: {\n        style: {\n          lineWidth: 1,\n          lineDash: null,\n          stroke: '#f0f0f0',\n        },\n      },\n    },\n  },\n  yAxis: {\n    grid: {\n      alignTick: false,\n      line: {\n        style: {\n          lineWidth: 1,\n          lineDash: null,\n          stroke: '#f0f0f0',\n        },\n      },\n    },\n  },\n});\n", "import { registerShape, Types, IGroup } from '@antv/g2';\n\nregisterShape('polygon', 'circle', {\n  draw(cfg: Types.ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxRadius = Math.min(width, height) / 2;\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const radiusRatio = Math.sqrt(sizeRatio);\n    const radius = maxRadius * radiusRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('circle', {\n      attrs: {\n        x: cx,\n        y: cy,\n        r: radius,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n", "import { registerShape, Types, IGroup } from '@antv/g2';\n\nregisterShape('polygon', 'square', {\n  draw(cfg: Types.ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxSideLength = Math.min(width, height);\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const lenRatio = Math.sqrt(sizeRatio);\n    const sideLength = maxSideLength * lenRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('rect', {\n      attrs: {\n        x: cx - sideLength / 2,\n        y: cy - sideLength / 2,\n        width: sideLength,\n        height: sideLength,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n", "import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { HeatmapOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n// registered shapes\nimport './shapes/circle';\nimport './shapes/square';\n\nexport type { HeatmapOptions };\n\nexport class Heatmap extends Plot<HeatmapOptions> {\n  /**\n   * \u83B7\u53D6 \u67F1\u5F62\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n   * \u4F9B\u5916\u90E8\u4F7F\u7528\n   */\n  static getDefaultOptions(): Partial<HeatmapOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'heatmap';\n\n  /**\n   * \u83B7\u53D6\u76F4\u65B9\u56FE\u7684\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<HeatmapOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \u83B7\u53D6 \u8272\u5757\u56FE \u9ED8\u8BA4\u914D\u7F6E\n   */\n  protected getDefaultOptions() {\n    return Heatmap.getDefaultOptions();\n  }\n}\n", "import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\nexport const BOX_RANGE = '$$range$$';\nexport const BOX_RANGE_ALIAS = 'low-q1-median-q3-high';\n\nexport const BOX_SYNC_NAME = '$$y_outliers$$';\n\nexport const OUTLIERS_VIEW_ID = 'outliers_view';\n\n/**\n * \u9762\u79EF\u56FE\u9ED8\u8BA4\u914D\u7F6E\u9879\n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  meta: {\n    [BOX_RANGE]: { min: 0, alias: BOX_RANGE_ALIAS },\n  },\n\n  // \u9ED8\u8BA4\u533A\u57DF\u4EA4\u4E92\n  interactions: [{ type: 'active-region' }],\n\n  // \u9ED8\u8BA4 tooltips \u5171\u4EAB\uFF0C\u4E0D\u663E\u793A markers\n  tooltip: {\n    showMarkers: false,\n    shared: true,\n  },\n  boxStyle: {\n    lineWidth: 1,\n  },\n});\n", "import { map } from '@antv/util';\nimport { BOX_RANGE } from './constant';\nimport { BoxOptions } from './types';\n\n/**\n * @desc \u5C06\u6570\u636E\u8F6C\u6362\u4E3A box \u9700\u8981\u7684\u7684\u56FE\u8868\u6570\u636E,\u5982\u679CyField\u4E3A\u6570\u7EC4,\u4ECEdata\u4E2D\u89E3\u6784\u51FA\u5BF9\u5E94\u6570\u7EC4\u503C\u5E76\u5199\u5165data,\u5426\u5219\u76F4\u63A5\u8FD4\u56DEdata\n * @param data\n * @param yField\n */\nexport const transformData = (data: BoxOptions['data'], yField: BoxOptions['yField']) => {\n  let newData = data;\n  // formate data when `yField` is Array\n  if (Array.isArray(yField)) {\n    const [low, q1, median, q3, high] = yField;\n    newData = map(data, (obj) => {\n      obj[BOX_RANGE] = [obj[low], obj[q1], obj[median], obj[q3], obj[high]];\n      return obj;\n    });\n  }\n\n  return newData;\n};\n", "import { isArray } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, tooltip } from '../../adaptor/common';\nimport { point, schema } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { BoxOptions } from './types';\nimport { BOX_RANGE, BOX_SYNC_NAME, OUTLIERS_VIEW_ID } from './constant';\nimport { transformData } from './utils';\n\n/**\n * \u5B57\u6BB5\n * @param params\n */\nfunction field(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xField, yField, groupField, color, tooltip, boxStyle } = options;\n\n  chart.data(transformData(options.data, yField));\n\n  const yFieldName = isArray(yField) ? BOX_RANGE : yField;\n  const rawFields = yField ? (isArray(yField) ? yField : [yField]) : [];\n\n  let tooltipOptions = tooltip;\n  if (tooltipOptions !== false) {\n    tooltipOptions = deepAssign({}, { fields: isArray(yField) ? yField : [] }, tooltipOptions);\n  }\n\n  const { ext } = schema(\n    deepAssign({}, params, {\n      options: {\n        xField,\n        yField: yFieldName,\n        seriesField: groupField,\n        tooltip: tooltipOptions,\n        rawFields,\n        // \u53EA\u6709\u5F02\u5E38\u70B9\u89C6\u56FE\u5C55\u793A label\n        label: false,\n        schema: {\n          shape: 'box',\n          color,\n          style: boxStyle,\n        },\n      },\n    })\n  );\n\n  if (groupField) {\n    ext.geometry.adjust('dodge');\n  }\n\n  return params;\n}\n\n/**\n * \u521B\u5EFA\u5F02\u5E38\u70B9 view\n */\nfunction outliersPoint(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xField, data, outliersField, outliersStyle, padding, label } = options;\n\n  if (!outliersField) return params;\n\n  const outliersView = chart.createView({ padding, id: OUTLIERS_VIEW_ID });\n  const outliersViewData = data.reduce((ret, datum) => {\n    const outliersData = datum[outliersField];\n    outliersData.forEach((d) => ret.push({ ...datum, [outliersField]: d }));\n    return ret;\n  }, []) as Types.Datum[];\n\n  outliersView.data(outliersViewData);\n  point({\n    chart: outliersView,\n    options: {\n      xField,\n      yField: outliersField,\n      point: { shape: 'circle', style: outliersStyle },\n      label,\n    },\n  });\n\n  outliersView.axis(false);\n\n  return params;\n}\n\n/**\n * meta \u914D\u7F6E\n * @param params\n */\nfunction meta(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis, xField, yField, outliersField } = options;\n  const yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n\n  let baseMeta = {};\n\n  // make yField and outliersField share y mate\n  if (outliersField) {\n    const syncName = BOX_SYNC_NAME;\n    baseMeta = {\n      [outliersField]: { sync: syncName, nice: true },\n      [yFieldName]: { sync: syncName, nice: true },\n    };\n  }\n\n  const scales = deepAssign(baseMeta, meta, {\n    [xField]: pick(xAxis, AXIS_META_CONFIG_KEYS),\n    [yFieldName]: pick(yAxis, AXIS_META_CONFIG_KEYS),\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \u914D\u7F6E\n * @param params\n */\nfunction axis(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n  const yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n\n  // \u4E3A false \u5219\u662F\u4E0D\u663E\u793A\u8F74\n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(BOX_RANGE, false);\n  } else {\n    chart.axis(yFieldName, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \u914D\u7F6E\n * @param params\n */\nexport function legend(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { legend, groupField } = options;\n\n  if (groupField) {\n    if (legend) {\n      chart.legend(groupField, legend);\n    } else {\n      // Grouped Box Chart default has legend, and it's position is `bottom`\n      chart.legend(groupField, { position: 'bottom' });\n    }\n  } else {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \u7BB1\u578B\u56FE\u9002\u914D\u5668\n * @param params\n */\nexport function adaptor(params: Params<BoxOptions>) {\n  return flow(field, outliersPoint, meta, axis, legend, tooltip, interaction, animation, theme)(params);\n}\n", "import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { BoxOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { transformData } from './utils';\nimport { DEFAULT_OPTIONS, OUTLIERS_VIEW_ID } from './constant';\nexport type { BoxOptions };\n\nexport class Box extends Plot<BoxOptions> {\n  /**\n   * \u83B7\u53D6 \u9ED8\u8BA4\u914D\u7F6E\u9879\n   * \u4F9B\u5916\u90E8\u4F7F\u7528\n   */\n  static getDefaultOptions(): Partial<BoxOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'box';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    const { yField } = this.options;\n\n    const outliersView = this.chart.views.find((v) => v.id === OUTLIERS_VIEW_ID);\n    if (outliersView) {\n      outliersView.data(data);\n    }\n\n    this.chart.changeData(transformData(data, yField));\n  }\n\n  /**\n   * \u83B7\u53D6 \u7BB1\u578B\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n   */\n  protected getDefaultOptions(): Partial<BoxOptions> {\n    return Box.getDefaultOptions();\n  }\n\n  /**\n   * \u83B7\u53D6 \u7BB1\u578B\u56FE \u7684\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<BoxOptions> {\n    return adaptor;\n  }\n}\n", "import { groupBy, min, max } from '@antv/util';\nimport pdf from 'pdfast';\nimport { quantile } from '../../utils/transform/quantile';\nimport { ViolinOptions } from './types';\n\nexport type ViolinData = {\n  /** X\u8F74 */\n  x: string;\n\n  /** \u5C0F\u63D0\u7434\u8F6E\u5ED3\u7684 size \u901A\u9053\u6570\u636E */\n  violinSize: number[];\n  /** \u5C0F\u63D0\u7434\u8F6E\u5ED3\u7684 y \u901A\u9053\u6570\u636E */\n  violinY: number[];\n\n  // \u7BB1\u7EBF\u56FE\u57FA\u7840\u6570\u636E\n  /** \u6700\u5927\u503C */\n  high: number;\n  /** \u6700\u5C0F\u503C */\n  low: number;\n  /** \u4E0A\u56DB\u5206\u4F4D\u6570 */\n  q1: number;\n  /** \u4E0B\u56DB\u5206\u4F4D\u6570 */\n  q3: number;\n  /** \u7BB1\u7EBF\u56FE\u4E2D\u7684\u4E2D\u4F4D\u503C */\n  median: number[];\n\n  /** \u7BB1\u7EBF\u56FE\u4E2D\u7684\u4E0A\u7EBF\u8FB9\u7F18\u7EBF */\n  minMax: number[];\n  /** \u7BB1\u7EBF\u56FE\u4E2D\u7684\u4E0A\u4E0B\u56DB\u5206\u4F4D\u70B9 */\n  quantile: number[];\n};\n\nexport type PdfOptions = {\n  min: number;\n  max: number;\n  size: number;\n  width: number;\n};\n\nexport const toBoxValue = (values: number[]) => {\n  return {\n    low: min(values),\n    high: max(values),\n    q1: quantile(values, 0.25),\n    q3: quantile(values, 0.75),\n    median: quantile(values, [0.5]),\n    minMax: [min(values), max(values)],\n    quantile: [quantile(values, 0.25), quantile(values, 0.75)],\n  };\n};\n\nexport const toViolinValue = (values: number[], pdfOptions: PdfOptions) => {\n  const pdfResults: Array<{ x: number; y: number }> = pdf.create(values, pdfOptions);\n  return {\n    violinSize: pdfResults.map((result) => result.y),\n    violinY: pdfResults.map((result) => result.x),\n  };\n};\n\nexport const transformViolinData = (options: ViolinOptions): ViolinData[] => {\n  const { xField, yField, seriesField, data, kde } = options;\n\n  /** \u751F\u6210\u6982\u7387\u5BC6\u5EA6\u51FD\u6570\u7684\u914D\u7F6E */\n  const pdfOptions: PdfOptions = {\n    min: kde.min,\n    max: kde.max,\n    size: kde.sampleSize,\n    width: kde.width,\n  };\n\n  // \u65E0\u62C6\u5206\n  if (!seriesField) {\n    const group = groupBy(data, xField);\n    return Object.keys(group).map((x) => {\n      const records = group[x];\n      const values = records.map((record) => record[yField]);\n      return {\n        x,\n        ...toViolinValue(values, pdfOptions),\n        ...toBoxValue(values),\n      };\n    });\n  }\n\n  // \u6709\u62C6\u5206\n  const resultList: ViolinData[] = [];\n  const seriesGroup = groupBy(data, seriesField);\n  Object.keys(seriesGroup).forEach((series) => {\n    const group = groupBy(seriesGroup[series], xField);\n    return Object.keys(group).forEach((key) => {\n      const records = group[key];\n      const values = records.map((record) => record[yField]);\n      resultList.push({\n        x: key,\n        [seriesField]: series,\n        ...toViolinValue(values, pdfOptions),\n        ...toBoxValue(values),\n      });\n    });\n  });\n  return resultList;\n};\n", "// from https://github.com/simple-statistics\n\n/**\n * This is the internal implementation of quantiles: when you know\n * that the order is sorted, you don't need to re-sort it, and the computations\n * are faster.\n *\n * @param {Array<number>} x sample of one or more data points\n * @param {number} p desired quantile: a number between 0 to 1, inclusive\n * @returns {number} quantile value\n * @throws {Error} if p ix outside of the range from 0 to 1\n * @throws {Error} if x is empty\n * @example\n * quantileSorted([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nexport function quantileSorted(x: number[], p: number) {\n  const idx = x.length * p;\n  if (x.length === 0) {\n    throw new Error('quantile requires at least one data point.');\n  } else if (p < 0 || p > 1) {\n    throw new Error('quantiles must be between 0 and 1');\n  } else if (p === 1) {\n    // If p is 1, directly return the last element\n    return x[x.length - 1];\n  } else if (p === 0) {\n    // If p is 0, directly return the first element\n    return x[0];\n  } else if (idx % 1 !== 0) {\n    // If p is not integer, return the next element in array\n    return x[Math.ceil(idx) - 1];\n  } else if (x.length % 2 === 0) {\n    // If the list has even-length, we'll take the average of this number\n    // and the next value, if there is one\n    return (x[idx - 1] + x[idx]) / 2;\n  } else {\n    // Finally, in the simple case of an integer value\n    // with an odd-length list, return the x value at the index.\n    return x[idx];\n  }\n}\n\n/**\n * \u4EA4\u6362\u6570\u7EC4\u4F4D\u7F6E\n * @param arr T[]\n * @param i number\n * @param j number\n */\nexport function swap<T = any>(arr: T[], i: number, j: number): void {\n  const tmp = arr[i];\n  arr[i] = arr[j];\n  arr[j] = tmp;\n}\n\n/**\n * Rearrange items in `arr` so that all items in `[left, k]` range are the smallest.\n * The `k`-th element will have the `(k - left + 1)`-th smallest value in `[left, right]`.\n *\n * Implements Floyd-Rivest selection algorithm https://en.wikipedia.org/wiki/Floyd-Rivest_algorithm\n *\n * @param {Array<number>} arr input array\n * @param {number} k pivot index\n * @param {number} [left] left index\n * @param {number} [right] right index\n * @returns {void} mutates input array\n * @example\n * var arr = [65, 28, 59, 33, 21, 56, 22, 95, 50, 12, 90, 53, 28, 77, 39];\n * quickselect(arr, 8);\n * // = [39, 28, 28, 33, 21, 12, 22, 50, 53, 56, 59, 65, 90, 77, 95]\n */\nexport function quickselect(arr: number[], k, left?: number, right?: number): void {\n  left = left || 0;\n  right = right || arr.length - 1;\n\n  while (right > left) {\n    // 600 and 0.5 are arbitrary constants chosen in the original paper to minimize execution time\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp((2 * z) / 3);\n      let sd = 0.5 * Math.sqrt((z * s * (n - s)) / n);\n      if (m - n / 2 < 0) sd *= -1;\n      const newLeft = Math.max(left, Math.floor(k - (m * s) / n + sd));\n      const newRight = Math.min(right, Math.floor(k + ((n - m) * s) / n + sd));\n      quickselect(arr, k, newLeft, newRight);\n    }\n\n    const t = arr[k];\n    let i = left;\n    let j = right;\n\n    swap(arr, left, k);\n    if (arr[right] > t) swap(arr, left, right);\n\n    while (i < j) {\n      swap(arr, i, j);\n      i++;\n      j--;\n      while (arr[i] < t) i++;\n      while (arr[j] > t) j--;\n    }\n\n    if (arr[left] === t) swap(arr, left, j);\n    else {\n      j++;\n      swap(arr, j, right);\n    }\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n}\n\n/**\n * The [quantile](https://en.wikipedia.org/wiki/Quantile):\n * this is a population quantile, since we assume to know the entire\n * dataset in this library. This is an implementation of the\n * [Quantiles of a Population](http://en.wikipedia.org/wiki/Quantile#Quantiles_of_a_population)\n * algorithm from wikipedia.\n *\n * Sample is a one-dimensional array of numbers,\n * and p is either a decimal number from 0 to 1 or an array of decimal\n * numbers from 0 to 1.\n * In terms of a k/q quantile, p = k/q - it's just dealing with fractions or dealing\n * with decimal values.\n * When p is an array, the result of the function is also an array containing the appropriate\n * quantiles in input order\n *\n * @param {Array<number>} x sample of one or more numbers\n * @param {Array<number> | number} p the desired quantile, as a number between 0 and 1\n * @returns {number} quantile\n * @example\n * quantile([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nfunction quantile(x: number[], p: number): number;\nfunction quantile(x: number[], p: number[]): number[];\nfunction quantile(x: any, p: any): any {\n  const copy = x.slice();\n\n  if (Array.isArray(p)) {\n    // rearrange elements so that each element corresponding to a requested\n    // quantile is on a place it would be if the array was fully sorted\n    multiQuantileSelect(copy, p);\n    // Initialize the result array\n    const results: number[] = [];\n    // For each requested quantile\n    for (let i = 0; i < p.length; i++) {\n      results[i] = quantileSorted(copy, p[i]);\n    }\n    return results;\n  } else {\n    const idx = quantileIndex(copy.length, p);\n    quantileSelect(copy, idx, 0, copy.length - 1);\n    return quantileSorted(copy, p);\n  }\n}\n\nfunction quantileSelect(arr, k, left, right) {\n  if (k % 1 === 0) {\n    quickselect(arr, k, left, right);\n  } else {\n    k = Math.floor(k);\n    quickselect(arr, k, left, right);\n    quickselect(arr, k + 1, k + 1, right);\n  }\n}\n\nfunction multiQuantileSelect(arr, p) {\n  const indices = [0];\n  for (let i = 0; i < p.length; i++) {\n    indices.push(quantileIndex(arr.length, p[i]));\n  }\n  indices.push(arr.length - 1);\n  indices.sort(compare);\n\n  const stack = [0, indices.length - 1];\n\n  while (stack.length) {\n    const r = Math.ceil(stack.pop());\n    const l = Math.floor(stack.pop());\n    if (r - l <= 1) continue;\n\n    const m = Math.floor((l + r) / 2);\n    quantileSelect(arr, indices[m], Math.floor(indices[l]), Math.ceil(indices[r]));\n\n    stack.push(l, m, m, r);\n  }\n}\n\nfunction compare(a, b) {\n  return a - b;\n}\n\nfunction quantileIndex(len, p) {\n  const idx = len * p;\n  if (p === 1) {\n    // If p is 1, directly return the last index\n    return len - 1;\n  } else if (p === 0) {\n    // If p is 0, directly return the first index\n    return 0;\n  } else if (idx % 1 !== 0) {\n    // If index is not integer, return the next index in array\n    return Math.ceil(idx) - 1;\n  } else if (len % 2 === 0) {\n    // If the list has even-length, we'll return the middle of two indices\n    // around quantile to indicate that we need an average value of the two\n    return idx - 0.5;\n  } else {\n    // Finally, in the simple case of an integer index\n    // with an odd-length list, return the index\n    return idx;\n  }\n}\n\nexport { quantile };\n", "import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { ViolinOptions } from './types';\n\nexport const X_FIELD = 'x';\nexport const VIOLIN_Y_FIELD = 'violinY';\nexport const VIOLIN_SIZE_FIELD = 'violinSize';\nexport const MIN_MAX_FIELD = 'minMax';\nexport const QUANTILE_FIELD = 'quantile';\nexport const MEDIAN_FIELD = 'median';\n\nexport const VIOLIN_VIEW_ID = 'violin_view';\nexport const MIN_MAX_VIEW_ID = 'min_max_view';\nexport const QUANTILE_VIEW_ID = 'quantile_view';\nexport const MEDIAN_VIEW_ID = 'median_view';\n\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  // \u591A view \u7EC4\u6210\uFF0C\u4E00\u5B9A\u8981\u8BBE\u7F6E view padding \u540C\u6B65\n  syncViewPadding: true,\n  // \u9ED8\u8BA4\u6838\u51FD\u6570\n  kde: {\n    type: 'triangular',\n    sampleSize: 32,\n    width: 3,\n  },\n\n  // \u9ED8\u8BA4\u5C0F\u63D0\u7434\u8F6E\u5ED3\u6837\u5F0F\n  violinStyle: {\n    lineWidth: 1,\n    fillOpacity: 0.3,\n    strokeOpacity: 0.75,\n  },\n  // \u5750\u6807\u8F74\n  xAxis: {\n    grid: {\n      line: null,\n    },\n    tickLine: {\n      alignTick: false,\n    },\n  },\n  yAxis: {\n    grid: {\n      line: {\n        style: {\n          lineWidth: 0.5,\n          lineDash: [4, 4],\n        },\n      },\n    },\n  },\n  // \u56FE\u4F8B\n  legend: {\n    position: 'top-left',\n  },\n  // Tooltip\n  tooltip: {\n    showMarkers: false,\n  },\n  // \u9ED8\u8BA4\u533A\u57DF\u4EA4\u4E92\n  // interactions: [{ type: 'active-region' }],\n} as Partial<ViolinOptions>);\n", "import { Geometry } from '@antv/g2';\nimport { get, set, omit, each } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, theme, tooltip, annotation as baseAnnotation } from '../../adaptor/common';\nimport { interval, point, violin } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign, findViewById } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { ViolinOptions } from './types';\nimport { transformViolinData } from './utils';\nimport {\n  MEDIAN_FIELD,\n  MEDIAN_VIEW_ID,\n  MIN_MAX_FIELD,\n  MIN_MAX_VIEW_ID,\n  QUANTILE_FIELD,\n  QUANTILE_VIEW_ID,\n  VIOLIN_SIZE_FIELD,\n  VIOLIN_VIEW_ID,\n  VIOLIN_Y_FIELD,\n  X_FIELD,\n} from './constant';\n\nconst TOOLTIP_FIELDS = ['low', 'high', 'q1', 'q3', 'median'];\n\nconst adjustCfg = [\n  {\n    type: 'dodge',\n    marginRatio: 1 / 32,\n  } as const,\n];\n\n/** \u5904\u7406\u6570\u636E */\nfunction data(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  chart.data(transformViolinData(options));\n  return params;\n}\n\n/** \u5C0F\u63D0\u7434\u8F6E\u5ED3 */\nfunction violinView(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { seriesField, color, shape = 'violin', violinStyle, tooltip, state } = options;\n\n  const view = chart.createView({ id: VIOLIN_VIEW_ID });\n  violin({\n    chart: view,\n    options: {\n      xField: X_FIELD,\n      yField: VIOLIN_Y_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      sizeField: VIOLIN_SIZE_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      violin: {\n        style: violinStyle,\n        color,\n        shape,\n      },\n      state,\n    },\n  });\n  view.geometries[0].adjust(adjustCfg);\n\n  return params;\n}\n\n/** \u7BB1\u7EBF */\nfunction boxView(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { seriesField, color, tooltip, box } = options;\n\n  // \u5982\u679C\u914D\u7F6E `box` \u4E3A false \uFF0C\u4E0D\u6E32\u67D3\u5185\u90E8\u7BB1\u7EBF\u56FE\n  if (box === false) return params;\n\n  // \u8FB9\u7F18\u7EBF\n  const minMaxView = chart.createView({ id: MIN_MAX_VIEW_ID });\n  interval({\n    chart: minMaxView,\n    options: {\n      xField: X_FIELD,\n      yField: MIN_MAX_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      interval: {\n        color,\n        size: 1,\n        style: {\n          lineWidth: 0,\n        },\n      },\n    },\n  });\n  minMaxView.geometries[0].adjust(adjustCfg);\n\n  // \u56DB\u5206\u70B9\u4F4D\n  const quantileView = chart.createView({ id: QUANTILE_VIEW_ID });\n  interval({\n    chart: quantileView,\n    options: {\n      xField: X_FIELD,\n      yField: QUANTILE_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      interval: {\n        color,\n        size: 8,\n        style: {\n          fillOpacity: 1,\n        },\n      },\n    },\n  });\n  quantileView.geometries[0].adjust(adjustCfg);\n\n  // \u4E2D\u4F4D\u503C\n  const medianView = chart.createView({ id: MEDIAN_VIEW_ID });\n  point({\n    chart: medianView,\n    options: {\n      xField: X_FIELD,\n      yField: MEDIAN_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      point: {\n        color,\n        size: 1,\n        style: {\n          fill: 'white',\n          lineWidth: 0,\n        },\n      },\n    },\n  });\n  medianView.geometries[0].adjust(adjustCfg);\n\n  // \u5173\u95ED\u8F85\u52A9 view \u7684\u8F74\n  quantileView.axis(false);\n  minMaxView.axis(false);\n  medianView.axis(false);\n\n  // \u5173\u95ED\u8F85\u52A9 view \u7684\u56FE\u4F8B\n  medianView.legend(false);\n  minMaxView.legend(false);\n  quantileView.legend(false);\n\n  return params;\n}\n\n/**\n * meta \u914D\u7F6E\n */\nfunction meta(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis } = options;\n\n  const baseMeta = {};\n\n  const scales = deepAssign(baseMeta, meta, {\n    [X_FIELD]: {\n      sync: true,\n      ...pick(xAxis, AXIS_META_CONFIG_KEYS),\n      // fix:  dodge is not support linear attribute, please use category attribute!\n      // \u5F3A\u5236 x \u8F74\u7C7B\u578B\u4E3A\u5206\u7C7B\u7C7B\u578B\n      type: 'cat',\n    },\n    [VIOLIN_Y_FIELD]: {\n      sync: true,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [MIN_MAX_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [QUANTILE_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [MEDIAN_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \u914D\u7F6E\n */\nfunction axis(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis } = options;\n\n  const view = findViewById(chart, VIOLIN_VIEW_ID);\n\n  // \u4E3A false \u5219\u662F\u4E0D\u663E\u793A\u8F74\n  if (xAxis === false) {\n    view.axis(X_FIELD, false);\n  } else {\n    view.axis(X_FIELD, xAxis);\n  }\n\n  if (yAxis === false) {\n    view.axis(VIOLIN_Y_FIELD, false);\n  } else {\n    view.axis(VIOLIN_Y_FIELD, yAxis);\n  }\n\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n *\n * @param params\n * @returns\n */\nfunction legend(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField, shape } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    const legendField = seriesField ? seriesField : X_FIELD;\n    // fixme \u6682\u4E0D\u660E\u4E3A\u5565\u6709\u63CF\u8FB9\n    const legendOptions = omit(legend as any, ['selected']);\n    if (!shape || !shape.startsWith('hollow')) {\n      if (!get(legendOptions, ['marker', 'style', 'lineWidth'])) {\n        set(legendOptions, ['marker', 'style', 'lineWidth'], 0);\n      }\n    }\n    chart.legend(legendField, legendOptions);\n    // \u7279\u6B8A\u7684\u5904\u7406 fixme G2 \u5C42\u5F97\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\n    if (get(legend, 'selected')) {\n      each(chart.views, (view) => view.legend(legendField, legend));\n    }\n  }\n\n  return params;\n}\n\n/**\n * annotation, apply to violin view.\n * @param params\n * @returns\n */\nfunction annotation(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart } = params;\n\n  const violinView = findViewById(chart, VIOLIN_VIEW_ID);\n  baseAnnotation()({ ...params, chart: violinView });\n\n  return params;\n}\n\n/**\n * \u52A8\u753B\n * @param params\n */\nexport function animation(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  // \u6240\u6709\u7684 Geometry \u90FD\u4F7F\u7528\u540C\u4E00\u52A8\u753B\uFF08\u5404\u4E2A\u56FE\u5F62\u5982\u6709\u533A\u522B\uFF0C\u81EA\u884C\u8986\u76D6\uFF09\n  each(chart.views, (view) => {\n    // \u540C\u65F6\u8BBE\u7F6E\u6574\u4E2A view \u52A8\u753B\u9009\u9879\n    if (typeof animation === 'boolean') {\n      view.animate(animation);\n    } else {\n      view.animate(true);\n    }\n\n    each(view.geometries, (g: Geometry) => {\n      g.animate(animation);\n    });\n  });\n\n  return params;\n}\n\n/**\n * \u5C0F\u63D0\u7434\u56FE\u9002\u914D\u5668\n * @param params\n */\nexport function adaptor(params: Params<ViolinOptions>) {\n  return flow(\n    theme,\n    data,\n    violinView,\n    boxView,\n    meta,\n    tooltip,\n    axis,\n    legend,\n    interaction,\n    annotation,\n    animation\n  )(params);\n}\n", "import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { ViolinOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformViolinData } from './utils';\nexport type { ViolinOptions };\n\nexport class Violin extends Plot<ViolinOptions> {\n  /**\n   * \u83B7\u53D6 \u9ED8\u8BA4\u914D\u7F6E\u9879\n   * \u4F9B\u5916\u90E8\u4F7F\u7528\n   */\n  static getDefaultOptions(): Partial<ViolinOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'violin';\n\n  /**\n   * @override\n   */\n  public changeData(data: ViolinOptions['data']) {\n    this.updateOption({ data });\n    this.chart.changeData(transformViolinData(this.options));\n  }\n\n  /**\n   * \u83B7\u53D6 \u5C0F\u63D0\u7434\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n   */\n  protected getDefaultOptions(): Partial<ViolinOptions> {\n    return Violin.getDefaultOptions();\n  }\n\n  /**\n   * \u83B7\u53D6 \u5C0F\u63D0\u7434\u56FE \u7684\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<ViolinOptions> {\n    return adaptor;\n  }\n}\n", "import colorUtil from '@antv/color-util';\n/*\n * interpolates between a set of colors uzing a bezier spline\n * blend mode formulas taken from http://www.venture-ware.com/kevin/coding/lets-learn-math-photoshop-blend-modes/\n */\n\nconst each =\n  (f) =>\n  (c0: number[], c1: number[]): number[] => {\n    const out = [];\n    out[0] = f(c0[0], c1[0]);\n    out[1] = f(c0[1], c1[1]);\n    out[2] = f(c0[2], c1[2]);\n    return out;\n  };\n\n/**\n * \u6DF7\u5408\u65B9\u6CD5\u96C6\u5408\n */\nconst blendObject = {\n  normal: (a: number) => a,\n  multiply: (a: number, b: number) => (a * b) / 255,\n  screen: (a: number, b: number) => 255 * (1 - (1 - a / 255) * (1 - b / 255)),\n  overlay: (a: number, b: number) => (b < 128 ? (2 * a * b) / 255 : 255 * (1 - 2 * (1 - a / 255) * (1 - b / 255))),\n  darken: (a: number, b: number) => (a > b ? b : a),\n  lighten: (a: number, b: number) => (a > b ? a : b),\n  dodge: (a: number, b: number) => {\n    if (a === 255) return 255;\n    a = (255 * (b / 255)) / (1 - a / 255);\n    return a > 255 ? 255 : a;\n  },\n  burn: (a: number, b: number) => {\n    // \u53C2\u8003 w3c \u7684\u5199\u6CD5\uFF0C\u8003\u8651\u9664\u6570\u4E3A 0 \u7684\u60C5\u51B5\n    if (b === 255) return 255;\n    else if (a === 0) return 0;\n    else return 255 * (1 - Math.min(1, (1 - b / 255) / (a / 255)));\n  },\n};\n\n/**\n * \u83B7\u53D6\u6DF7\u5408\u65B9\u6CD5\n */\nexport const innerBlend = (mode: string) => {\n  if (!blendObject[mode]) {\n    throw new Error('unknown blend mode ' + mode);\n  }\n  return blendObject[mode];\n};\n\n/**\n * \u6DF7\u5408\u989C\u8272\uFF0C\u5E76\u5904\u7406\u900F\u660E\u5EA6\u60C5\u51B5\n * \u53C2\u8003\uFF1Ahttps://www.w3.org/TR/compositing/#blending\n * @param c0\n * @param c1\n * @param mode \u6DF7\u5408\u6A21\u5F0F\n * @return rbga\n */\nexport function blend(c0: string, c1: string, mode = 'normal') {\n  // blendRgbArr: \u751F\u6210\u4E0D\u8003\u8651\u900F\u660E\u5EA6\u7684 blend color: [r, g, b]\n  const blendRgbArr = each(innerBlend(mode))(colorToArr(c0), colorToArr(c1));\n\n  const [r0, g0, b0, a0] = colorToArr(c0);\n  const [r1, g1, b1, a1] = colorToArr(c1);\n\n  const a = Number((a0 + a1 * (1 - a0)).toFixed(2));\n\n  const r = Math.round(\n    ((a0 * (1 - a1) * (r0 / 255) + a0 * a1 * (blendRgbArr[0] / 255) + (1 - a0) * a1 * (r1 / 255)) / a) * 255\n  );\n  const g = Math.round(\n    ((a0 * (1 - a1) * (g0 / 255) + a0 * a1 * (blendRgbArr[1] / 255) + (1 - a0) * a1 * (g1 / 255)) / a) * 255\n  );\n  const b = Math.round(\n    ((a0 * (1 - a1) * (b0 / 255) + a0 * a1 * (blendRgbArr[2] / 255) + (1 - a0) * a1 * (b1 / 255)) / a) * 255\n  );\n\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n}\n\n/**\n * \u7EDF\u4E00\u989C\u8272\u8F93\u5165\u7684\u683C\u5F0F [r, g, b, a]\n * \u53C2\u8003\uFF1Ahttps://www.w3.org/TR/compositing/#blending\n * @param c color\n * @return [r, g, b, a]\n */\nexport function colorToArr(c: string): number[] {\n  const color = c.replace('/s+/g', ''); // \u53BB\u9664\u6240\u6709\u7A7A\u683C\n  let rgbaArr: any[];\n\n  // 'red' -> [r, g, b, 1]\n  if (typeof color === 'string' && !color.startsWith('rgba') && !color.startsWith('#')) {\n    return (rgbaArr = colorUtil.rgb2arr(colorUtil.toRGB(color)).concat([1]));\n  }\n\n  // rgba(255, 200, 125, 0.5) -> [r, g, b, a]\n  if (color.startsWith('rgba')) rgbaArr = color.replace('rgba(', '').replace(')', '').split(',');\n\n  // '#fff000' -> [r, g, b, 1]\n  if (color.startsWith('#')) rgbaArr = colorUtil.rgb2arr(color).concat([1]); // \u5982\u679C\u662F 16 \u8FDB\u5236\uFF086 \u4F4D\u6570\uFF09\uFF0C\u9ED8\u8BA4\u900F\u660E\u5EA6 1\n\n  // [r, g, b, a] \u524D\u4E09\u4F4D\u53D6\u6574\n  return rgbaArr.map((item, index) => (index === 3 ? Number(item) : item | 0));\n}\n", "/** finds the zeros of a function, given two starting points (which must\n * have opposite signs */\nexport function bisect(f, a, b, parameters) {\n    parameters = parameters || {};\n    var maxIterations = parameters.maxIterations || 100,\n        tolerance = parameters.tolerance || 1e-10,\n        fA = f(a),\n        fB = f(b),\n        delta = b - a;\n\n    if (fA * fB > 0) {\n        throw \"Initial bisect points must have opposite signs\";\n    }\n\n    if (fA === 0) return a;\n    if (fB === 0) return b;\n\n    for (var i = 0; i < maxIterations; ++i) {\n        delta /= 2;\n        var mid = a + delta,\n            fMid = f(mid);\n\n        if (fMid * fA >= 0) {\n            a = mid;\n        }\n\n        if ((Math.abs(delta) < tolerance) || (fMid === 0)) {\n            return mid;\n        }\n    }\n    return a + delta;\n}\n", "// need some basic operations on vectors, rather than adding a dependency,\n// just define here\nexport function zeros(x) { var r = new Array(x); for (var i = 0; i < x; ++i) { r[i] = 0; } return r; }\nexport function zerosM(x,y) { return zeros(x).map(function() { return zeros(y); }); }\n\nexport function dot(a, b) {\n    var ret = 0;\n    for (var i = 0; i < a.length; ++i) {\n        ret += a[i] * b[i];\n    }\n    return ret;\n}\n\nexport function norm2(a)  {\n    return Math.sqrt(dot(a, a));\n}\n\nexport function scale(ret, value, c) {\n    for (var i = 0; i < value.length; ++i) {\n        ret[i] = value[i] * c;\n    }\n}\n\nexport function weightedSum(ret, w1, v1, w2, v2) {\n    for (var j = 0; j < ret.length; ++j) {\n        ret[j] = w1 * v1[j] + w2 * v2[j];\n    }\n}\n", "import {dot, norm2, weightedSum} from \"./blas1\";\n\n/** minimizes a function using the downhill simplex method */\nexport function nelderMead(f, x0, parameters) {\n    parameters = parameters || {};\n\n    var maxIterations = parameters.maxIterations || x0.length * 200,\n        nonZeroDelta = parameters.nonZeroDelta || 1.05,\n        zeroDelta = parameters.zeroDelta || 0.001,\n        minErrorDelta = parameters.minErrorDelta || 1e-6,\n        minTolerance = parameters.minErrorDelta || 1e-5,\n        rho = (parameters.rho !== undefined) ? parameters.rho : 1,\n        chi = (parameters.chi !== undefined) ? parameters.chi : 2,\n        psi = (parameters.psi !== undefined) ? parameters.psi : -0.5,\n        sigma = (parameters.sigma !== undefined) ? parameters.sigma : 0.5,\n        maxDiff;\n\n    // initialize simplex.\n    var N = x0.length,\n        simplex = new Array(N + 1);\n    simplex[0] = x0;\n    simplex[0].fx = f(x0);\n    simplex[0].id = 0;\n    for (var i = 0; i < N; ++i) {\n        var point = x0.slice();\n        point[i] = point[i] ? point[i] * nonZeroDelta : zeroDelta;\n        simplex[i+1] = point;\n        simplex[i+1].fx = f(point);\n        simplex[i+1].id = i+1;\n    }\n\n    function updateSimplex(value) {\n        for (var i = 0; i < value.length; i++) {\n            simplex[N][i] = value[i];\n        }\n        simplex[N].fx = value.fx;\n    }\n\n    var sortOrder = function(a, b) { return a.fx - b.fx; };\n\n    var centroid = x0.slice(),\n        reflected = x0.slice(),\n        contracted = x0.slice(),\n        expanded = x0.slice();\n\n    for (var iteration = 0; iteration < maxIterations; ++iteration) {\n        simplex.sort(sortOrder);\n\n        if (parameters.history) {\n            // copy the simplex (since later iterations will mutate) and\n            // sort it to have a consistent order between iterations\n            var sortedSimplex = simplex.map(function (x) {\n                var state = x.slice();\n                state.fx = x.fx;\n                state.id = x.id;\n                return state;\n            });\n            sortedSimplex.sort(function(a,b) { return a.id - b.id; });\n\n            parameters.history.push({x: simplex[0].slice(),\n                                     fx: simplex[0].fx,\n                                     simplex: sortedSimplex});\n        }\n\n        maxDiff = 0;\n        for (i = 0; i < N; ++i) {\n            maxDiff = Math.max(maxDiff, Math.abs(simplex[0][i] - simplex[1][i]));\n        }\n\n        if ((Math.abs(simplex[0].fx - simplex[N].fx) < minErrorDelta) &&\n            (maxDiff < minTolerance)) {\n            break;\n        }\n\n        // compute the centroid of all but the worst point in the simplex\n        for (i = 0; i < N; ++i) {\n            centroid[i] = 0;\n            for (var j = 0; j < N; ++j) {\n                centroid[i] += simplex[j][i];\n            }\n            centroid[i] /= N;\n        }\n\n        // reflect the worst point past the centroid  and compute loss at reflected\n        // point\n        var worst = simplex[N];\n        weightedSum(reflected, 1+rho, centroid, -rho, worst);\n        reflected.fx = f(reflected);\n\n        // if the reflected point is the best seen, then possibly expand\n        if (reflected.fx < simplex[0].fx) {\n            weightedSum(expanded, 1+chi, centroid, -chi, worst);\n            expanded.fx = f(expanded);\n            if (expanded.fx < reflected.fx) {\n                updateSimplex(expanded);\n            }  else {\n                updateSimplex(reflected);\n            }\n        }\n\n        // if the reflected point is worse than the second worst, we need to\n        // contract\n        else if (reflected.fx >= simplex[N-1].fx) {\n            var shouldReduce = false;\n\n            if (reflected.fx > worst.fx) {\n                // do an inside contraction\n                weightedSum(contracted, 1+psi, centroid, -psi, worst);\n                contracted.fx = f(contracted);\n                if (contracted.fx < worst.fx) {\n                    updateSimplex(contracted);\n                } else {\n                    shouldReduce = true;\n                }\n            } else {\n                // do an outside contraction\n                weightedSum(contracted, 1-psi * rho, centroid, psi*rho, worst);\n                contracted.fx = f(contracted);\n                if (contracted.fx < reflected.fx) {\n                    updateSimplex(contracted);\n                } else {\n                    shouldReduce = true;\n                }\n            }\n\n            if (shouldReduce) {\n                // if we don't contract here, we're done\n                if (sigma >= 1) break;\n\n                // do a reduction\n                for (i = 1; i < simplex.length; ++i) {\n                    weightedSum(simplex[i], 1 - sigma, simplex[0], sigma, simplex[i]);\n                    simplex[i].fx = f(simplex[i]);\n                }\n            }\n        } else {\n            updateSimplex(reflected);\n        }\n    }\n\n    simplex.sort(sortOrder);\n    return {fx : simplex[0].fx,\n            x : simplex[0]};\n}\n", "import {dot, weightedSum} from \"./blas1\";\n\n\n/// searches along line 'pk' for a point that satifies the wolfe conditions\n/// See 'Numerical Optimization' by Nocedal and Wright p59-60\n/// f : objective function\n/// pk : search direction\n/// current: object containing current gradient/loss\n/// next: output: contains next gradient/loss\n/// returns a: step size taken\nexport function wolfeLineSearch(f, pk, current, next, a, c1, c2) {\n    var phi0 = current.fx, phiPrime0 = dot(current.fxprime, pk),\n        phi = phi0, phi_old = phi0,\n        phiPrime = phiPrime0,\n        a0 = 0;\n\n    a = a || 1;\n    c1 = c1 || 1e-6;\n    c2 = c2 || 0.1;\n\n    function zoom(a_lo, a_high, phi_lo) {\n        for (var iteration = 0; iteration < 16; ++iteration) {\n            a = (a_lo + a_high)/2;\n            weightedSum(next.x, 1.0, current.x, a, pk);\n            phi = next.fx = f(next.x, next.fxprime);\n            phiPrime = dot(next.fxprime, pk);\n\n            if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                (phi >= phi_lo)) {\n                a_high = a;\n\n            } else  {\n                if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                    return a;\n                }\n\n                if (phiPrime * (a_high - a_lo) >=0) {\n                    a_high = a_lo;\n                }\n\n                a_lo = a;\n                phi_lo = phi;\n            }\n        }\n\n        return 0;\n    }\n\n    for (var iteration = 0; iteration < 10; ++iteration) {\n        weightedSum(next.x, 1.0, current.x, a, pk);\n        phi = next.fx = f(next.x, next.fxprime);\n        phiPrime = dot(next.fxprime, pk);\n        if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n            (iteration && (phi >= phi_old))) {\n            return zoom(a0, a, phi_old);\n        }\n\n        if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n            return a;\n        }\n\n        if (phiPrime >= 0 ) {\n            return zoom(a, a0, phi);\n        }\n\n        phi_old = phi;\n        a0 = a;\n        a *= 2;\n    }\n\n    return a;\n}\n", "import {dot, norm2, scale, weightedSum} from \"./blas1\";\nimport {wolfeLineSearch} from \"./linesearch\";\n\nexport function conjugateGradient(f, initial, params) {\n    // allocate all memory up front here, keep out of the loop for perfomance\n    // reasons\n    var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n        next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n        yk = initial.slice(),\n        pk, temp,\n        a = 1,\n        maxIterations;\n\n    params = params || {};\n    maxIterations = params.maxIterations || initial.length * 20;\n\n    current.fx = f(current.x, current.fxprime);\n    pk = current.fxprime.slice();\n    scale(pk, current.fxprime,-1);\n\n    for (var i = 0; i < maxIterations; ++i) {\n        a = wolfeLineSearch(f, pk, current, next, a);\n\n        // todo: history in wrong spot?\n        if (params.history) {\n            params.history.push({x: current.x.slice(),\n                                 fx: current.fx,\n                                 fxprime: current.fxprime.slice(),\n                                 alpha: a});\n        }\n\n        if (!a) {\n            // faiiled to find point that satifies wolfe conditions.\n            // reset direction for next iteration\n            scale(pk, current.fxprime, -1);\n\n        } else {\n            // update direction using Polak\u2013Ribiere CG method\n            weightedSum(yk, 1, next.fxprime, -1, current.fxprime);\n\n            var delta_k = dot(current.fxprime, current.fxprime),\n                beta_k = Math.max(0, dot(yk, next.fxprime) / delta_k);\n\n            weightedSum(pk, beta_k, pk, -1, next.fxprime);\n\n            temp = current;\n            current = next;\n            next = temp;\n        }\n\n        if (norm2(current.fxprime) <= 1e-5) {\n            break;\n        }\n    }\n\n    if (params.history) {\n        params.history.push({x: current.x.slice(),\n                             fx: current.fx,\n                             fxprime: current.fxprime.slice(),\n                             alpha: a});\n    }\n\n    return current;\n}\n", "const SMALL = 1e-10;\n\n/** Returns the intersection area of a bunch of circles (where each circle\n is an object having an x,y and radius property) */\nexport function intersectionArea(circles, stats?: any) {\n  // get all the intersection points of the circles\n  const intersectionPoints = getIntersectionPoints(circles);\n\n  // filter out points that aren't included in all the circles\n  const innerPoints = intersectionPoints.filter(function (p) {\n    return containedInCircles(p, circles);\n  });\n\n  let arcArea = 0,\n    polygonArea = 0,\n    i;\n  const arcs = [];\n  // if we have intersection points that are within all the circles,\n  // then figure out the area contained by them\n  if (innerPoints.length > 1) {\n    // sort the points by angle from the center of the polygon, which lets\n    // us just iterate over points to get the edges\n    const center = getCenter(innerPoints);\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p = innerPoints[i];\n      p.angle = Math.atan2(p.x - center.x, p.y - center.y);\n    }\n    innerPoints.sort(function (a, b) {\n      return b.angle - a.angle;\n    });\n\n    // iterate over all points, get arc between the points\n    // and update the areas\n    let p2 = innerPoints[innerPoints.length - 1];\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p1 = innerPoints[i];\n\n      // polygon area updates easily ...\n      polygonArea += (p2.x + p1.x) * (p1.y - p2.y);\n\n      // updating the arc area is a little more involved\n      const midPoint = { x: (p1.x + p2.x) / 2, y: (p1.y + p2.y) / 2 };\n      let arc = null;\n\n      for (let j = 0; j < p1.parentIndex.length; ++j) {\n        if (p2.parentIndex.indexOf(p1.parentIndex[j]) > -1) {\n          // figure out the angle halfway between the two points\n          // on the current circle\n          const circle = circles[p1.parentIndex[j]],\n            a1 = Math.atan2(p1.x - circle.x, p1.y - circle.y),\n            a2 = Math.atan2(p2.x - circle.x, p2.y - circle.y);\n\n          let angleDiff = a2 - a1;\n          if (angleDiff < 0) {\n            angleDiff += 2 * Math.PI;\n          }\n\n          // and use that angle to figure out the width of the\n          // arc\n          const a = a2 - angleDiff / 2;\n          let width = distance(midPoint, {\n            x: circle.x + circle.radius * Math.sin(a),\n            y: circle.y + circle.radius * Math.cos(a),\n          });\n\n          // clamp the width to the largest is can actually be\n          // (sometimes slightly overflows because of FP errors)\n          if (width > circle.radius * 2) {\n            width = circle.radius * 2;\n          }\n\n          // pick the circle whose arc has the smallest width\n          if (arc === null || arc.width > width) {\n            arc = { circle: circle, width: width, p1: p1, p2: p2 };\n          }\n        }\n      }\n\n      if (arc !== null) {\n        arcs.push(arc);\n        arcArea += circleArea(arc.circle.radius, arc.width);\n        p2 = p1;\n      }\n    }\n  } else {\n    // no intersection points, is either disjoint - or is completely\n    // overlapped. figure out which by examining the smallest circle\n    let smallest = circles[0];\n    for (i = 1; i < circles.length; ++i) {\n      if (circles[i].radius < smallest.radius) {\n        smallest = circles[i];\n      }\n    }\n\n    // make sure the smallest circle is completely contained in all\n    // the other circles\n    let disjoint = false;\n    for (i = 0; i < circles.length; ++i) {\n      if (distance(circles[i], smallest) > Math.abs(smallest.radius - circles[i].radius)) {\n        disjoint = true;\n        break;\n      }\n    }\n\n    if (disjoint) {\n      arcArea = polygonArea = 0;\n    } else {\n      arcArea = smallest.radius * smallest.radius * Math.PI;\n      arcs.push({\n        circle: smallest,\n        p1: { x: smallest.x, y: smallest.y + smallest.radius },\n        p2: { x: smallest.x - SMALL, y: smallest.y + smallest.radius },\n        width: smallest.radius * 2,\n      });\n    }\n  }\n\n  polygonArea /= 2;\n  if (stats) {\n    stats.area = arcArea + polygonArea;\n    stats.arcArea = arcArea;\n    stats.polygonArea = polygonArea;\n    stats.arcs = arcs;\n    stats.innerPoints = innerPoints;\n    stats.intersectionPoints = intersectionPoints;\n  }\n\n  return arcArea + polygonArea;\n}\n\n/** returns whether a point is contained by all of a list of circles */\nexport function containedInCircles(point, circles) {\n  for (let i = 0; i < circles.length; ++i) {\n    if (distance(point, circles[i]) > circles[i].radius + SMALL) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/** Gets all intersection points between a bunch of circles */\nfunction getIntersectionPoints(circles) {\n  const ret = [];\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const intersect = circleCircleIntersection(circles[i], circles[j]);\n      for (let k = 0; k < intersect.length; ++k) {\n        const p: any = intersect[k];\n        p.parentIndex = [i, j];\n        ret.push(p);\n      }\n    }\n  }\n  return ret;\n}\n\n/** Circular segment area calculation. See http://mathworld.wolfram.com/CircularSegment.html */\nexport function circleArea(r, width) {\n  return r * r * Math.acos(1 - width / r) - (r - width) * Math.sqrt(width * (2 * r - width));\n}\n\n/** euclidean distance between two points */\nexport function distance(p1, p2) {\n  return Math.sqrt((p1.x - p2.x) * (p1.x - p2.x) + (p1.y - p2.y) * (p1.y - p2.y));\n}\n\n/** Returns the overlap area of two circles of radius r1 and r2 - that\nhave their centers separated by distance d. Simpler faster\ncircle intersection for only two circles */\nexport function circleOverlap(r1, r2, d) {\n  // no overlap\n  if (d >= r1 + r2) {\n    return 0;\n  }\n\n  // completely overlapped\n  if (d <= Math.abs(r1 - r2)) {\n    return Math.PI * Math.min(r1, r2) * Math.min(r1, r2);\n  }\n\n  const w1 = r1 - (d * d - r2 * r2 + r1 * r1) / (2 * d),\n    w2 = r2 - (d * d - r1 * r1 + r2 * r2) / (2 * d);\n  return circleArea(r1, w1) + circleArea(r2, w2);\n}\n\n/** Given two circles (containing a x/y/radius attributes),\nreturns the intersecting points if possible.\nnote: doesn't handle cases where there are infinitely many\nintersection points (circles are equivalent):, or only one intersection point*/\nexport function circleCircleIntersection(p1, p2) {\n  const d = distance(p1, p2),\n    r1 = p1.radius,\n    r2 = p2.radius;\n\n  // if to far away, or self contained - can't be done\n  if (d >= r1 + r2 || d <= Math.abs(r1 - r2)) {\n    return [];\n  }\n\n  const a = (r1 * r1 - r2 * r2 + d * d) / (2 * d),\n    h = Math.sqrt(r1 * r1 - a * a),\n    x0 = p1.x + (a * (p2.x - p1.x)) / d,\n    y0 = p1.y + (a * (p2.y - p1.y)) / d,\n    rx = -(p2.y - p1.y) * (h / d),\n    ry = -(p2.x - p1.x) * (h / d);\n\n  return [\n    { x: x0 + rx, y: y0 - ry },\n    { x: x0 - rx, y: y0 + ry },\n  ];\n}\n\n/** Returns the center of a bunch of points */\nexport function getCenter(points) {\n  const center = { x: 0, y: 0 };\n  for (let i = 0; i < points.length; ++i) {\n    center.x += points[i].x;\n    center.y += points[i].y;\n  }\n  center.x /= points.length;\n  center.y /= points.length;\n  return center;\n}\n", "import { nelderMead, bisect, conjugateGradient, zeros, zerosM, norm2, scale } from 'fmin';\nimport { intersectionArea, circleOverlap, circleCircleIntersection, distance } from './circleintersection';\n\n/** given a list of set objects, and their corresponding overlaps.\nupdates the (x, y, radius) attribute on each set such that their positions\nroughly correspond to the desired overlaps */\nexport function venn(areas, parameters?: any) {\n  parameters = parameters || {};\n  parameters.maxIterations = parameters.maxIterations || 500;\n  const initialLayout = parameters.initialLayout || bestInitialLayout;\n  const loss = parameters.lossFunction || lossFunction;\n\n  // add in missing pairwise areas as having 0 size\n  areas = addMissingAreas(areas);\n\n  // initial layout is done greedily\n  const circles = initialLayout(areas, parameters);\n\n  // transform x/y coordinates to a vector to optimize\n  const initial = [],\n    setids = [];\n  let setid;\n  for (setid in circles) {\n    // eslint-disable-next-line\n    if (circles.hasOwnProperty(setid)) {\n      initial.push(circles[setid].x);\n      initial.push(circles[setid].y);\n      setids.push(setid);\n    }\n  }\n\n  // optimize initial layout from our loss function\n  const solution = nelderMead(\n    function (values) {\n      const current = {};\n      for (let i = 0; i < setids.length; ++i) {\n        const setid = setids[i];\n        current[setid] = {\n          x: values[2 * i],\n          y: values[2 * i + 1],\n          radius: circles[setid].radius,\n          // size : circles[setid].size\n        };\n      }\n      return loss(current, areas);\n    },\n    initial,\n    parameters\n  );\n\n  // transform solution vector back to x/y points\n  const positions = solution.x;\n  for (let i = 0; i < setids.length; ++i) {\n    setid = setids[i];\n    circles[setid].x = positions[2 * i];\n    circles[setid].y = positions[2 * i + 1];\n  }\n\n  return circles;\n}\n\nconst SMALL = 1e-10;\n\n/** Returns the distance necessary for two circles of radius r1 + r2 to\nhave the overlap area 'overlap' */\nexport function distanceFromIntersectArea(r1, r2, overlap) {\n  // handle complete overlapped circles\n  if (Math.min(r1, r2) * Math.min(r1, r2) * Math.PI <= overlap + SMALL) {\n    return Math.abs(r1 - r2);\n  }\n\n  return bisect(\n    function (distance) {\n      return circleOverlap(r1, r2, distance) - overlap;\n    },\n    0,\n    r1 + r2\n  );\n}\n\n/** Missing pair-wise intersection area data can cause problems:\n treating as an unknown means that sets will be laid out overlapping,\n which isn't what people expect. To reflect that we want disjoint sets\n here, set the overlap to 0 for all missing pairwise set intersections */\nfunction addMissingAreas(areas) {\n  areas = areas.slice();\n\n  // two circle intersections that aren't defined\n  const ids: number[] = [],\n    pairs: any = {};\n  let i, j, a, b;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      ids.push(area.sets[0]);\n    } else if (area.sets.length == 2) {\n      a = area.sets[0];\n      b = area.sets[1];\n      // @ts-ignore\n      pairs[[a, b]] = true;\n      // @ts-ignore\n      pairs[[b, a]] = true;\n    }\n  }\n  ids.sort((a, b) => {\n    return a > b ? 1 : -1;\n  });\n\n  for (i = 0; i < ids.length; ++i) {\n    a = ids[i];\n    for (j = i + 1; j < ids.length; ++j) {\n      b = ids[j];\n      // @ts-ignore\n      if (!([a, b] in pairs)) {\n        areas.push({ sets: [a, b], size: 0 });\n      }\n    }\n  }\n  return areas;\n}\n\n/// Returns two matrices, one of the euclidean distances between the sets\n/// and the other indicating if there are subset or disjoint set relationships\nexport function getDistanceMatrices(areas, sets, setids) {\n  // initialize an empty distance matrix between all the points\n  const distances = zerosM(sets.length, sets.length),\n    constraints = zerosM(sets.length, sets.length);\n\n  // compute required distances between all the sets such that\n  // the areas match\n  areas\n    .filter(function (x) {\n      return x.sets.length == 2;\n    })\n    .map(function (current) {\n      const left = setids[current.sets[0]],\n        right = setids[current.sets[1]],\n        r1 = Math.sqrt(sets[left].size / Math.PI),\n        r2 = Math.sqrt(sets[right].size / Math.PI),\n        distance = distanceFromIntersectArea(r1, r2, current.size);\n\n      distances[left][right] = distances[right][left] = distance;\n\n      // also update constraints to indicate if its a subset or disjoint\n      // relationship\n      let c = 0;\n      if (current.size + 1e-10 >= Math.min(sets[left].size, sets[right].size)) {\n        c = 1;\n      } else if (current.size <= 1e-10) {\n        c = -1;\n      }\n      constraints[left][right] = constraints[right][left] = c;\n    });\n\n  return { distances: distances, constraints: constraints };\n}\n\n/// computes the gradient and loss simulatenously for our constrained MDS optimizer\nfunction constrainedMDSGradient(x, fxprime, distances, constraints) {\n  let loss = 0,\n    i;\n  for (i = 0; i < fxprime.length; ++i) {\n    fxprime[i] = 0;\n  }\n\n  for (i = 0; i < distances.length; ++i) {\n    const xi = x[2 * i],\n      yi = x[2 * i + 1];\n    for (let j = i + 1; j < distances.length; ++j) {\n      const xj = x[2 * j],\n        yj = x[2 * j + 1],\n        dij = distances[i][j],\n        constraint = constraints[i][j];\n\n      const squaredDistance = (xj - xi) * (xj - xi) + (yj - yi) * (yj - yi),\n        distance = Math.sqrt(squaredDistance),\n        delta = squaredDistance - dij * dij;\n\n      if ((constraint > 0 && distance <= dij) || (constraint < 0 && distance >= dij)) {\n        continue;\n      }\n\n      loss += 2 * delta * delta;\n\n      fxprime[2 * i] += 4 * delta * (xi - xj);\n      fxprime[2 * i + 1] += 4 * delta * (yi - yj);\n\n      fxprime[2 * j] += 4 * delta * (xj - xi);\n      fxprime[2 * j + 1] += 4 * delta * (yj - yi);\n    }\n  }\n  return loss;\n}\n\n/// takes the best working variant of either constrained MDS or greedy\nexport function bestInitialLayout(areas, params) {\n  let initial = greedyLayout(areas, params);\n  const loss = params.lossFunction || lossFunction;\n\n  // greedylayout is sufficient for all 2/3 circle cases. try out\n  // constrained MDS for higher order problems, take its output\n  // if it outperforms. (greedy is aesthetically better on 2/3 circles\n  // since it axis aligns)\n  if (areas.length >= 8) {\n    const constrained = constrainedMDSLayout(areas, params),\n      constrainedLoss = loss(constrained, areas),\n      greedyLoss = loss(initial, areas);\n\n    if (constrainedLoss + 1e-8 < greedyLoss) {\n      initial = constrained;\n    }\n  }\n  return initial;\n}\n\n/// use the constrained MDS variant to generate an initial layout\nexport function constrainedMDSLayout(areas, params) {\n  params = params || {};\n  const restarts = params.restarts || 10;\n\n  // bidirectionally map sets to a rowid  (so we can create a matrix)\n  const sets = [],\n    setids = {};\n  let i;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      setids[area.sets[0]] = sets.length;\n      sets.push(area);\n    }\n  }\n\n  const matrices = getDistanceMatrices(areas, sets, setids);\n  let distances = matrices.distances;\n  const constraints = matrices.constraints;\n\n  // keep distances bounded, things get messed up otherwise.\n  // TODO: proper preconditioner?\n  const norm = norm2(distances.map(norm2)) / distances.length;\n  distances = distances.map(function (row) {\n    return row.map(function (value) {\n      return value / norm;\n    });\n  });\n\n  const obj = function (x, fxprime) {\n    return constrainedMDSGradient(x, fxprime, distances, constraints);\n  };\n\n  let best, current;\n  for (i = 0; i < restarts; ++i) {\n    const initial = zeros(distances.length * 2).map(Math.random);\n\n    current = conjugateGradient(obj, initial, params);\n    if (!best || current.fx < best.fx) {\n      best = current;\n    }\n  }\n  const positions = best.x;\n\n  // translate rows back to (x,y,radius) coordinates\n  const circles = {};\n  for (i = 0; i < sets.length; ++i) {\n    const set = sets[i];\n    circles[set.sets[0]] = {\n      x: positions[2 * i] * norm,\n      y: positions[2 * i + 1] * norm,\n      radius: Math.sqrt(set.size / Math.PI),\n    };\n  }\n\n  if (params.history) {\n    for (i = 0; i < params.history.length; ++i) {\n      scale(params.history[i].x, norm);\n    }\n  }\n  return circles;\n}\n\n/** Lays out a Venn diagram greedily, going from most overlapped sets to\nleast overlapped, attempting to position each new set such that the\noverlapping areas to already positioned sets are basically right */\nexport function greedyLayout(areas, params) {\n  const loss = params && params.lossFunction ? params.lossFunction : lossFunction;\n  // define a circle for each set\n  const circles = {},\n    setOverlaps = {};\n  let set;\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      set = area.sets[0];\n      circles[set] = {\n        x: 1e10,\n        y: 1e10,\n        // rowid: circles.length, // fix to ->\n        rowid: Object.keys(circles).length,\n        size: area.size,\n        radius: Math.sqrt(area.size / Math.PI),\n      };\n      setOverlaps[set] = [];\n    }\n  }\n  areas = areas.filter(function (a) {\n    return a.sets.length == 2;\n  });\n\n  // map each set to a list of all the other sets that overlap it\n  for (let i = 0; i < areas.length; ++i) {\n    const current = areas[i];\n    // eslint-disable-next-line\n    let weight = current.hasOwnProperty('weight') ? current.weight : 1.0;\n    const left = current.sets[0],\n      right = current.sets[1];\n\n    // completely overlapped circles shouldn't be positioned early here\n    if (current.size + SMALL >= Math.min(circles[left].size, circles[right].size)) {\n      weight = 0;\n    }\n\n    setOverlaps[left].push({ set: right, size: current.size, weight: weight });\n    setOverlaps[right].push({ set: left, size: current.size, weight: weight });\n  }\n\n  // get list of most overlapped sets\n  const mostOverlapped = [];\n  for (set in setOverlaps) {\n    // eslint-disable-next-line\n    if (setOverlaps.hasOwnProperty(set)) {\n      let size = 0;\n      for (let i = 0; i < setOverlaps[set].length; ++i) {\n        size += setOverlaps[set][i].size * setOverlaps[set][i].weight;\n      }\n\n      mostOverlapped.push({ set: set, size: size });\n    }\n  }\n\n  // sort by size desc\n  function sortOrder(a, b) {\n    return b.size - a.size;\n  }\n  mostOverlapped.sort(sortOrder);\n\n  // keep track of what sets have been laid out\n  const positioned = {};\n  function isPositioned(element) {\n    return element.set in positioned;\n  }\n\n  // adds a point to the output\n  function positionSet(point, index) {\n    circles[index].x = point.x;\n    circles[index].y = point.y;\n    positioned[index] = true;\n  }\n\n  // add most overlapped set at (0,0)\n  positionSet({ x: 0, y: 0 }, mostOverlapped[0].set);\n\n  // get distances between all points. TODO, necessary?\n  // answer: probably not\n  // var distances = venn.getDistanceMatrices(circles, areas).distances;\n  for (let i = 1; i < mostOverlapped.length; ++i) {\n    const setIndex = mostOverlapped[i].set,\n      overlap = setOverlaps[setIndex].filter(isPositioned);\n    set = circles[setIndex];\n    overlap.sort(sortOrder);\n\n    if (overlap.length === 0) {\n      // this shouldn't happen anymore with addMissingAreas\n      throw 'ERROR: missing pairwise overlap information';\n    }\n\n    const points = [];\n    for (let j = 0; j < overlap.length; ++j) {\n      // get appropriate distance from most overlapped already added set\n      const p1 = circles[overlap[j].set],\n        d1 = distanceFromIntersectArea(set.radius, p1.radius, overlap[j].size);\n\n      // sample positions at 90 degrees for maximum aesthetics\n      points.push({ x: p1.x + d1, y: p1.y });\n      points.push({ x: p1.x - d1, y: p1.y });\n      points.push({ y: p1.y + d1, x: p1.x });\n      points.push({ y: p1.y - d1, x: p1.x });\n\n      // if we have at least 2 overlaps, then figure out where the\n      // set should be positioned analytically and try those too\n      for (let k = j + 1; k < overlap.length; ++k) {\n        const p2 = circles[overlap[k].set],\n          d2 = distanceFromIntersectArea(set.radius, p2.radius, overlap[k].size);\n\n        const extraPoints = circleCircleIntersection(\n          { x: p1.x, y: p1.y, radius: d1 },\n          { x: p2.x, y: p2.y, radius: d2 }\n        );\n\n        for (let l = 0; l < extraPoints.length; ++l) {\n          points.push(extraPoints[l]);\n        }\n      }\n    }\n\n    // we have some candidate positions for the set, examine loss\n    // at each position to figure out where to put it at\n    let bestLoss = 1e50,\n      bestPoint = points[0];\n    for (let j = 0; j < points.length; ++j) {\n      circles[setIndex].x = points[j].x;\n      circles[setIndex].y = points[j].y;\n      const localLoss = loss(circles, areas);\n      if (localLoss < bestLoss) {\n        bestLoss = localLoss;\n        bestPoint = points[j];\n      }\n    }\n\n    positionSet(bestPoint, setIndex);\n  }\n\n  return circles;\n}\n\n/** Given a bunch of sets, and the desired overlaps between these sets - computes\nthe distance from the actual overlaps to the desired overlaps. Note that\nthis method ignores overlaps of more than 2 circles */\nexport function lossFunction(sets, overlaps) {\n  let output = 0;\n\n  function getCircles(indices) {\n    return indices.map(function (i) {\n      return sets[i];\n    });\n  }\n\n  for (let i = 0; i < overlaps.length; ++i) {\n    const area = overlaps[i];\n    let overlap;\n    if (area.sets.length == 1) {\n      continue;\n    } else if (area.sets.length == 2) {\n      const left = sets[area.sets[0]],\n        right = sets[area.sets[1]];\n      overlap = circleOverlap(left.radius, right.radius, distance(left, right));\n    } else {\n      overlap = intersectionArea(getCircles(area.sets));\n    }\n\n    // eslint-disable-next-line\n    const weight = area.hasOwnProperty('weight') ? area.weight : 1.0;\n    output += weight * (overlap - area.size) * (overlap - area.size);\n  }\n\n  return output;\n}\n\n// orientates a bunch of circles to point in orientation\nfunction orientateCircles(circles, orientation, orientationOrder) {\n  if (orientationOrder === null) {\n    circles.sort(function (a, b) {\n      return b.radius - a.radius;\n    });\n  } else {\n    circles.sort(orientationOrder);\n  }\n\n  let i;\n  // shift circles so largest circle is at (0, 0)\n  if (circles.length > 0) {\n    const largestX = circles[0].x,\n      largestY = circles[0].y;\n\n    for (i = 0; i < circles.length; ++i) {\n      circles[i].x -= largestX;\n      circles[i].y -= largestY;\n    }\n  }\n\n  if (circles.length == 2) {\n    // if the second circle is a subset of the first, arrange so that\n    // it is off to one side. hack for https://github.com/benfred/venn.js/issues/120\n    const dist = distance(circles[0], circles[1]);\n    if (dist < Math.abs(circles[1].radius - circles[0].radius)) {\n      circles[1].x = circles[0].x + circles[0].radius - circles[1].radius - 1e-10;\n      circles[1].y = circles[0].y;\n    }\n  }\n\n  // rotate circles so that second largest is at an angle of 'orientation'\n  // from largest\n  if (circles.length > 1) {\n    const rotation = Math.atan2(circles[1].x, circles[1].y) - orientation;\n    let x, y;\n    const c = Math.cos(rotation),\n      s = Math.sin(rotation);\n    for (i = 0; i < circles.length; ++i) {\n      x = circles[i].x;\n      y = circles[i].y;\n      circles[i].x = c * x - s * y;\n      circles[i].y = s * x + c * y;\n    }\n  }\n\n  // mirror solution if third solution is above plane specified by\n  // first two circles\n  if (circles.length > 2) {\n    let angle = Math.atan2(circles[2].x, circles[2].y) - orientation;\n    while (angle < 0) {\n      angle += 2 * Math.PI;\n    }\n    while (angle > 2 * Math.PI) {\n      angle -= 2 * Math.PI;\n    }\n    if (angle > Math.PI) {\n      const slope = circles[1].y / (1e-10 + circles[1].x);\n      for (i = 0; i < circles.length; ++i) {\n        const d = (circles[i].x + slope * circles[i].y) / (1 + slope * slope);\n        circles[i].x = 2 * d - circles[i].x;\n        circles[i].y = 2 * d * slope - circles[i].y;\n      }\n    }\n  }\n}\n\nexport function disjointCluster(circles) {\n  // union-find clustering to get disjoint sets\n  circles.map(function (circle) {\n    circle.parent = circle;\n  });\n\n  // path compression step in union find\n  function find(circle) {\n    if (circle.parent !== circle) {\n      circle.parent = find(circle.parent);\n    }\n    return circle.parent;\n  }\n\n  function union(x, y) {\n    const xRoot = find(x),\n      yRoot = find(y);\n    xRoot.parent = yRoot;\n  }\n\n  // get the union of all overlapping sets\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const maxDistance = circles[i].radius + circles[j].radius;\n      if (distance(circles[i], circles[j]) + 1e-10 < maxDistance) {\n        union(circles[j], circles[i]);\n      }\n    }\n  }\n\n  // find all the disjoint clusters and group them together\n  const disjointClusters = {};\n  let setid;\n  for (let i = 0; i < circles.length; ++i) {\n    setid = find(circles[i]).parent.setid;\n    if (!(setid in disjointClusters)) {\n      disjointClusters[setid] = [];\n    }\n    disjointClusters[setid].push(circles[i]);\n  }\n\n  // cleanup bookkeeping\n  circles.map(function (circle) {\n    delete circle.parent;\n  });\n\n  // return in more usable form\n  const ret = [];\n  for (setid in disjointClusters) {\n    // eslint-disable-next-line\n    if (disjointClusters.hasOwnProperty(setid)) {\n      ret.push(disjointClusters[setid]);\n    }\n  }\n  return ret;\n}\n\nfunction getBoundingBox(circles) {\n  const minMax = function (d) {\n    const hi = Math.max.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] + c.radius;\n        })\n      ),\n      lo = Math.min.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] - c.radius;\n        })\n      );\n    return { max: hi, min: lo };\n  };\n\n  return { xRange: minMax('x'), yRange: minMax('y') };\n}\n\nexport function normalizeSolution(solution, orientation, orientationOrder) {\n  if (orientation === null) {\n    orientation = Math.PI / 2;\n  }\n\n  // work with a list instead of a dictionary, and take a copy so we\n  // don't mutate input\n  let circles = [],\n    i,\n    setid;\n  for (setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      const previous = solution[setid];\n      circles.push({ x: previous.x, y: previous.y, radius: previous.radius, setid: setid });\n    }\n  }\n\n  // get all the disjoint clusters\n  const clusters = disjointCluster(circles);\n\n  // orientate all disjoint sets, get sizes\n  for (i = 0; i < clusters.length; ++i) {\n    orientateCircles(clusters[i], orientation, orientationOrder);\n    const bounds = getBoundingBox(clusters[i]);\n    clusters[i].size = (bounds.xRange.max - bounds.xRange.min) * (bounds.yRange.max - bounds.yRange.min);\n    clusters[i].bounds = bounds;\n  }\n  clusters.sort(function (a, b) {\n    return b.size - a.size;\n  });\n\n  // orientate the largest at 0,0, and get the bounds\n  circles = clusters[0];\n  // @ts-ignore fixme \u4ECE\u903B\u8F91\u4E0A\u770B\u4F3C\u4E4E\u662F\u4E0D\u5BF9\u7684\uFF0C\u540E\u7EED\u770B\u770B\n  let returnBounds = circles.bounds;\n\n  const spacing = (returnBounds.xRange.max - returnBounds.xRange.min) / 50;\n\n  function addCluster(cluster, right, bottom) {\n    if (!cluster) return;\n\n    const bounds = cluster.bounds;\n    let xOffset, yOffset, centreing;\n\n    if (right) {\n      xOffset = returnBounds.xRange.max - bounds.xRange.min + spacing;\n    } else {\n      xOffset = returnBounds.xRange.max - bounds.xRange.max;\n      centreing = (bounds.xRange.max - bounds.xRange.min) / 2 - (returnBounds.xRange.max - returnBounds.xRange.min) / 2;\n      if (centreing < 0) xOffset += centreing;\n    }\n\n    if (bottom) {\n      yOffset = returnBounds.yRange.max - bounds.yRange.min + spacing;\n    } else {\n      yOffset = returnBounds.yRange.max - bounds.yRange.max;\n      centreing = (bounds.yRange.max - bounds.yRange.min) / 2 - (returnBounds.yRange.max - returnBounds.yRange.min) / 2;\n      if (centreing < 0) yOffset += centreing;\n    }\n\n    for (let j = 0; j < cluster.length; ++j) {\n      cluster[j].x += xOffset;\n      cluster[j].y += yOffset;\n      circles.push(cluster[j]);\n    }\n  }\n\n  let index = 1;\n  while (index < clusters.length) {\n    addCluster(clusters[index], true, false);\n    addCluster(clusters[index + 1], false, true);\n    addCluster(clusters[index + 2], true, true);\n    index += 3;\n\n    // have one cluster (in top left). lay out next three relative\n    // to it in a grid\n    returnBounds = getBoundingBox(circles);\n  }\n\n  // convert back to solution form\n  const ret = {};\n  for (i = 0; i < circles.length; ++i) {\n    ret[circles[i].setid] = circles[i];\n  }\n  return ret;\n}\n\n/** Scales a solution from venn.venn or venn.greedyLayout such that it fits in\na rectangle of width/height - with padding around the borders. also\ncenters the diagram in the available space at the same time */\nexport function scaleSolution(solution, width, height, padding) {\n  const circles = [],\n    setids = [];\n  for (const setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      setids.push(setid);\n      circles.push(solution[setid]);\n    }\n  }\n\n  width -= 2 * padding;\n  height -= 2 * padding;\n\n  const bounds = getBoundingBox(circles),\n    xRange = bounds.xRange,\n    yRange = bounds.yRange;\n\n  if (xRange.max == xRange.min || yRange.max == yRange.min) {\n    console.log('not scaling solution: zero size detected');\n    return solution;\n  }\n\n  const xScaling = width / (xRange.max - xRange.min),\n    yScaling = height / (yRange.max - yRange.min),\n    scaling = Math.min(yScaling, xScaling),\n    // while we're at it, center the diagram too\n    xOffset = (width - (xRange.max - xRange.min) * scaling) / 2,\n    yOffset = (height - (yRange.max - yRange.min) * scaling) / 2;\n\n  const scaled = {};\n  for (let i = 0; i < circles.length; ++i) {\n    const circle = circles[i];\n    scaled[setids[i]] = {\n      radius: scaling * circle.radius,\n      x: padding + xOffset + (circle.x - xRange.min) * scaling,\n      y: padding + yOffset + (circle.y - yRange.min) * scaling,\n    };\n  }\n\n  return scaled;\n}\n", "import { nelderMead } from 'fmin';\nimport { intersectionArea, distance, getCenter } from './circleintersection';\n\nfunction circleMargin(current, interior, exterior) {\n  let margin = interior[0].radius - distance(interior[0], current),\n    i,\n    m;\n  for (i = 1; i < interior.length; ++i) {\n    m = interior[i].radius - distance(interior[i], current);\n    if (m <= margin) {\n      margin = m;\n    }\n  }\n\n  for (i = 0; i < exterior.length; ++i) {\n    m = distance(exterior[i], current) - exterior[i].radius;\n    if (m <= margin) {\n      margin = m;\n    }\n  }\n  return margin;\n}\n\n// compute the center of some circles by maximizing the margin of\n// the center point relative to the circles (interior) after subtracting\n// nearby circles (exterior)\nexport function computeTextCentre(interior, exterior) {\n  // get an initial estimate by sampling around the interior circles\n  // and taking the point with the biggest margin\n  const points = [];\n  let i;\n  for (i = 0; i < interior.length; ++i) {\n    const c = interior[i];\n    points.push({ x: c.x, y: c.y });\n    points.push({ x: c.x + c.radius / 2, y: c.y });\n    points.push({ x: c.x - c.radius / 2, y: c.y });\n    points.push({ x: c.x, y: c.y + c.radius / 2 });\n    points.push({ x: c.x, y: c.y - c.radius / 2 });\n  }\n  let initial = points[0],\n    margin = circleMargin(points[0], interior, exterior);\n  for (i = 1; i < points.length; ++i) {\n    const m = circleMargin(points[i], interior, exterior);\n    if (m >= margin) {\n      initial = points[i];\n      margin = m;\n    }\n  }\n\n  // maximize the margin numerically\n  const solution = nelderMead(\n    function (p) {\n      return -1 * circleMargin({ x: p[0], y: p[1] }, interior, exterior);\n    },\n    [initial.x, initial.y],\n    { maxIterations: 500, minErrorDelta: 1e-10 }\n  ).x;\n  let ret: any = { x: solution[0], y: solution[1] };\n\n  // check solution, fallback as needed (happens if fully overlapped\n  // etc)\n  let valid = true;\n  for (i = 0; i < interior.length; ++i) {\n    if (distance(ret, interior[i]) > interior[i].radius) {\n      valid = false;\n      break;\n    }\n  }\n\n  for (i = 0; i < exterior.length; ++i) {\n    if (distance(ret, exterior[i]) < exterior[i].radius) {\n      valid = false;\n      break;\n    }\n  }\n\n  if (!valid) {\n    if (interior.length == 1) {\n      ret = { x: interior[0].x, y: interior[0].y };\n    } else {\n      const areaStats: any = {};\n      intersectionArea(interior, areaStats);\n\n      if (areaStats.arcs.length === 0) {\n        ret = { x: 0, y: -1000, disjoint: true };\n      } else if (areaStats.arcs.length == 1) {\n        ret = { x: areaStats.arcs[0].circle.x, y: areaStats.arcs[0].circle.y };\n      } else if (exterior.length) {\n        // try again without other circles\n        ret = computeTextCentre(interior, []);\n      } else {\n        // take average of all the points in the intersection\n        // polygon. this should basically never happen\n        // and has some issues:\n        // https://github.com/benfred/venn.js/issues/48#issuecomment-146069777\n        ret = getCenter(\n          areaStats.arcs.map(function (a) {\n            return a.p1;\n          })\n        );\n      }\n    }\n  }\n\n  return ret;\n}\n\n// given a dictionary of {setid : circle}, returns\n// a dictionary of setid to list of circles that completely overlap it\nfunction getOverlappingCircles(circles) {\n  const ret = {},\n    circleids = [];\n  for (const circleid in circles) {\n    circleids.push(circleid);\n    ret[circleid] = [];\n  }\n  for (let i = 0; i < circleids.length; i++) {\n    const a = circles[circleids[i]];\n    for (let j = i + 1; j < circleids.length; ++j) {\n      const b = circles[circleids[j]],\n        d = distance(a, b);\n\n      if (d + b.radius <= a.radius + 1e-10) {\n        ret[circleids[j]].push(circleids[i]);\n      } else if (d + a.radius <= b.radius + 1e-10) {\n        ret[circleids[i]].push(circleids[j]);\n      }\n    }\n  }\n  return ret;\n}\n\nexport function computeTextCentres(circles, areas) {\n  const ret = {},\n    overlapped = getOverlappingCircles(circles);\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i].sets,\n      areaids = {},\n      exclude = {};\n    for (let j = 0; j < area.length; ++j) {\n      areaids[area[j]] = true;\n      const overlaps = overlapped[area[j]];\n      // keep track of any circles that overlap this area,\n      // and don't consider for purposes of computing the text\n      // centre\n      for (let k = 0; k < overlaps.length; ++k) {\n        exclude[overlaps[k]] = true;\n      }\n    }\n\n    const interior = [],\n      exterior = [];\n    for (const setid in circles) {\n      if (setid in areaids) {\n        interior.push(circles[setid]);\n      } else if (!(setid in exclude)) {\n        exterior.push(circles[setid]);\n      }\n    }\n    const centre = computeTextCentre(interior, exterior);\n    ret[area] = centre;\n    if (centre.disjoint && areas[i].size > 0) {\n      console.log('WARNING: area ' + area + ' not represented on screen');\n    }\n  }\n  return ret;\n}\n\n/**\n * \u6839\u636E\u5706\u5FC3(x, y) \u534A\u5F84 r \u8FD4\u56DE\u5706\u7684\u7ED8\u5236 path\n * @param x \u5706\u5FC3\u70B9 x\n * @param y \u5706\u5FC3\u70B9 y\n * @param r \u5706\u7684\u534A\u5F84\n * @returns \u5706\u7684 path\n */\nexport function circlePath(x, y, r) {\n  const ret = [];\n  // ret.push('\\nM', x, y);\n  // ret.push('\\nm', -r, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, r * 2, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, -r * 2, 0);\n  const x0 = x - r;\n  const y0 = y;\n  ret.push('M', x0, y0);\n  ret.push('A', r, r, 0, 1, 0, x0 + 2 * r, y0);\n  ret.push('A', r, r, 0, 1, 0, x0, y0);\n\n  return ret.join(' ');\n}\n\n// inverse of the circlePath function, returns a circle object from an svg path\nexport function circleFromPath(path) {\n  const tokens = path.split(' ');\n  return { x: parseFloat(tokens[1]), y: parseFloat(tokens[2]), radius: -parseFloat(tokens[4]) };\n}\n\n/** returns a svg path of the intersection area of a bunch of circles */\nexport function intersectionAreaPath(circles) {\n  const stats: any = {};\n  intersectionArea(circles, stats);\n  const arcs = stats.arcs;\n\n  if (arcs.length === 0) {\n    return 'M 0 0';\n  } else if (arcs.length == 1) {\n    const circle = arcs[0].circle;\n    return circlePath(circle.x, circle.y, circle.radius);\n  } else {\n    // draw path around arcs\n    const ret = ['\\nM', arcs[0].p2.x, arcs[0].p2.y];\n    for (let i = 0; i < arcs.length; ++i) {\n      const arc = arcs[i],\n        r = arc.circle.radius,\n        wide = arc.width > r;\n      ret.push('\\nA', r, r, 0, wide ? 1 : 0, 1, arc.p1.x, arc.p1.y);\n    }\n    return ret.join(' ');\n  }\n}\n", "import { VennOptions } from './types';\n\n// \u4E00\u4E9B\u5B57\u6BB5\u5E38\u91CF\u5B9A\u4E49\uFF0C\u9700\u8981\u5728\u6587\u6863\u521D\u544A\u77E5\u7528\u6237\nexport const ID_FIELD = 'id';\nexport const PATH_FIELD = 'path';\n\n/**\n * \u97E6\u6069\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n */\nexport const DEFAULT_OPTIONS: Partial<VennOptions> = {\n  appendPadding: [10, 0, 20, 0],\n  blendMode: 'multiply',\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    fields: ['id', 'size'],\n    formatter: (datum) => {\n      return { name: datum.id, value: datum.size };\n    },\n  },\n  legend: { position: 'top-left' },\n  label: {\n    style: {\n      textAlign: 'center',\n      fill: '#fff',\n    },\n  },\n  // \u9ED8\u8BA4\u4E0D\u5F00\u542F \u56FE\u4F8B\u7B5B\u9009\u4EA4\u4E92\n  interactions: [{ type: 'legend-filter', enable: false }],\n  state: {\n    active: {\n      style: {\n        stroke: '#000',\n      },\n    },\n    selected: {\n      style: {\n        stroke: '#000',\n        lineWidth: 2,\n      },\n    },\n    inactive: {\n      style: {\n        fillOpacity: 0.3,\n        strokeOpacity: 0.3,\n      },\n    },\n  },\n  // \u97E6\u6069\u56FE\u7684\u9ED8\u8BA4\u5185\u7F6E\u6CE8\u518C\u7684\u4EA4\u4E92\n  defaultInteractions: ['tooltip', 'venn-legend-active'],\n};\n", "import { assign, memoize } from '@antv/util';\nimport { blend } from '../../utils/color/blend';\nimport { log, LEVEL } from '../../utils';\nimport { venn, scaleSolution } from './layout/layout';\nimport { intersectionAreaPath, computeTextCentres } from './layout/diagram';\nimport { ID_FIELD, PATH_FIELD } from './constant';\nimport { VennData, VennOptions } from './types';\n\ntype ColorMapFunction = (\n  colorPalette: string[],\n  data: VennData,\n  blendMode: VennOptions['blendMode'],\n  setsField: VennOptions['setsField']\n) => Map<string, string>;\n\n/**\n * \u83B7\u53D6 \u989C\u8272\u6620\u5C04\n * @usage colorMap.get(id) => color\n *\n * @returns Map<string, string>\n */\nexport const getColorMap = memoize(\n  ((colorPalette, data, blendMode, setsField) => {\n    const colorMap = new Map<string /** id */, string /** color */>();\n    const colorPaletteLen = colorPalette.length;\n    data.forEach((d, idx) => {\n      if (d[setsField].length === 1) {\n        colorMap.set(d[ID_FIELD], colorPalette[(idx + colorPaletteLen) % colorPaletteLen]);\n      } else {\n        /** \u4E00\u822C\u90FD\u662F\u53EF\u4EE5\u83B7\u53D6\u5230\u989C\u8272\u7684\uFF0C\u5982\u679C\u4E0D\u6B63\u786E \u5C31\u662F\u8F93\u5165\u4E86\u975E\u6CD5\u6570\u636E */\n        const colorArr = d[setsField].map((id) => colorMap.get(id));\n        colorMap.set(\n          d[ID_FIELD],\n          colorArr.slice(1).reduce((a, b) => blend(a, b, blendMode), colorArr[0])\n        );\n      }\n    });\n\n    return colorMap;\n  }) as ColorMapFunction,\n  (...params) => JSON.stringify(params)\n) as ColorMapFunction;\n\n/**\n * \u7ED9\u97E6\u6069\u56FE\u6570\u636E\u8FDB\u884C\u5E03\u5C40\n *\n * @param data\n * @param width\n * @param height\n * @param padding\n * @returns \u97E6\u6069\u56FE\u6570\u636E\n */\nexport function layoutVennData(options: VennOptions, width: number, height: number, padding: number = 0): VennData {\n  const { data, setsField, sizeField } = options;\n\n  // \u5904\u7406\u7A7A\u6570\u636E\u7684\u60C5\u51B5\n  if (data.length === 0) {\n    log(LEVEL.WARN, false, 'warn: %s', '\u6570\u636E\u4E0D\u80FD\u4E3A\u7A7A');\n    return [];\n  }\n\n  const vennData: VennData = data.map((d) => ({\n    ...d,\n    sets: d[setsField] || [],\n    size: d[sizeField],\n    [PATH_FIELD]: '',\n    [ID_FIELD]: '',\n  }));\n  // 1. \u8FDB\u884C\u6392\u5E8F\uFF0C\u907F\u514D\u56FE\u5F62\u5143\u7D20\u906E\u6321\n  vennData.sort((a, b) => a.sets.length - b.sets.length);\n  // todo 2. \u53EF\u4EE5\u5728\u8FD9\u91CC\u5904\u7406\u4E0B\u975E\u6CD5\u6570\u636E\u8F93\u5165\uFF0C\u907F\u514D\u76F4\u63A5 crash\n\n  const solution = venn(vennData);\n  const circles = scaleSolution(solution, width, height, padding);\n  const textCenters = computeTextCentres(circles, vennData);\n  vennData.forEach((row) => {\n    const sets = row.sets;\n    const id = sets.join(',');\n    row[ID_FIELD] = id;\n    // \u4FDD\u7559 vennText \u5E03\u5C40\u65B9\u6CD5\n    const setCircles = sets.map((set) => circles[set]);\n    let path = intersectionAreaPath(setCircles);\n    if (!/[zZ]$/.test(path)) {\n      path += ' Z';\n    }\n    row[PATH_FIELD] = path;\n    const center = textCenters[id] || { x: 0, y: 0 };\n    assign(row, center);\n  });\n  return vennData;\n}\n\n/**\n * \u68C0\u67E5\u662F\u5426\u5B58\u5728 \u975E\u6CD5\u5143\u7D20\n * @param legalArr \u5408\u6CD5\u96C6\u5408\uFF1A['A', 'B']\n * @param testArr \u68C0\u67E5\u96C6\u5408\uFF1A['A', 'B', 'C'] or ['A', 'C']\uFF08\u5B58\u5728\u975E\u6CD5 'C'\uFF09\n * @return boolean\n */\nexport function islegalSets(legalArr: any[], testArr: any[]): boolean {\n  for (let i = 0; i < testArr.length; i++) {\n    if (!legalArr.includes(testArr[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n", "import { IGroup } from '@antv/g-base';\nimport { registerShape, Types, Util } from '@antv/g2';\nimport { parsePathString } from '@antv/path-util';\nimport { deepAssign } from '../../utils';\nimport { Datum, Point } from '../../types';\nimport { CustomInfo } from './types';\nimport { PATH_FIELD } from './constant';\n\n/**\n * \u83B7\u53D6\u586B\u5145\u5C5E\u6027\n * @param cfg \u56FE\u5F62\u7ED8\u5236\u6570\u636E\n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  // style.fill \u4F18\u5148\u7EA7\u66F4\u9AD8\n  return deepAssign({}, cfg.defaultStyle, { fill: cfg.color }, cfg.style);\n}\n\nregisterShape('schema', 'venn', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const data = cfg.data as Datum;\n    const segments = parsePathString(data[PATH_FIELD]);\n    const fillAttrs = getFillAttrs(cfg);\n\n    const group = container.addGroup({ name: 'venn-shape' });\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: segments,\n      },\n      name: 'venn-path',\n    });\n\n    const { offsetX, offsetY } = cfg.customInfo as CustomInfo;\n\n    const matrix = Util.transform(null, [['t', offsetX, offsetY]]);\n    group.setMatrix(matrix);\n\n    return group;\n  },\n  getMarker(markerCfg: Types.ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        lineWidth: 0,\n        stroke: color,\n        fill: color,\n        r: 4,\n      },\n    };\n  },\n});\n", "import { registerGeometryLabel, GeometryLabel } from '@antv/g2';\n\n// Step 1\n// \u81EA\u5B9A\u4E49 Label \u7C7B\n// \u9700\u8981\u7EE7\u627F GeometryLabel \u57FA\u7C7B\nclass VennLabel extends GeometryLabel {\n  /**\n   * \u83B7\u53D6\u6BCF\u4E2A label \u7684\u4F4D\u7F6E\n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg, mappingData, index: number) {\n    const { x, y } = labelCfg.data;\n    const { offsetX, offsetY } = labelCfg.customLabelInfo;\n    return {\n      content: labelCfg.content[index],\n      x: x + offsetX,\n      y: y + offsetY,\n    };\n  }\n}\n\n// Step 2: \u6CE8\u518C CustomLabel\nregisterGeometryLabel('venn', VennLabel);\n", "import { View } from '@antv/g2';\n\n/** tofront: \u540C\u6B65\u6240\u6709\u5143\u7D20\u7684\u4F4D\u7F6E  */\nexport function placeElementsOrdered(view: View) {\n  if (!view) {\n    return;\n  }\n  const elements = view.geometries[0].elements;\n  elements.forEach((elem) => {\n    elem.shape.toFront();\n  });\n}\n", "import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementActiveAction: any = getActionClass('element-active');\n\nexport class VennElementActive extends ElementActiveAction {\n  /**\n   * \u540C\u6B65\u6240\u6709\u5143\u7D20\u7684\u4F4D\u7F6E\n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /** \u6FC0\u6D3B\u56FE\u5F62\u5143\u7D20 */\n  public active() {\n    super.active();\n    this.syncElementsPos();\n  }\n\n  /** toggle \u56FE\u5F62\u5143\u7D20\u6FC0\u6D3B\u72B6\u6001 */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /** \u91CD\u7F6E */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n", "import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementHighlightAction: any = getActionClass('element-highlight');\n\nexport class VennElementHighlight extends ElementHighlightAction {\n  /**\n   * \u540C\u6B65\u6240\u6709\u5143\u7D20\u7684\u4F4D\u7F6E\n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /** \u9AD8\u4EAE\u56FE\u5F62\u5143\u7D20 */\n  public highlight() {\n    super.highlight();\n    this.syncElementsPos();\n  }\n\n  /** toggle \u56FE\u5F62\u5143\u7D20\u9AD8\u4EAE\u72B6\u6001 */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /** \u6E05\u695A */\n  public clear() {\n    super.clear();\n    this.syncElementsPos();\n  }\n\n  /** \u91CD\u7F6E */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n", "import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementSelectedAction: any = getActionClass('element-selected');\nconst ElementSingleSelectedAction: any = getActionClass('element-single-selected');\n\n/**\n * \u97E6\u6069\u56FE\u5143\u7D20 \u591A\u9009\u4EA4\u4E92\n */\nexport class VennElementSelected extends ElementSelectedAction {\n  /**\n   * \u540C\u6B65\u6240\u6709\u5143\u7D20\u7684\u4F4D\u7F6E\n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /** \u6FC0\u6D3B\u56FE\u5F62\u5143\u7D20 */\n  public selected() {\n    super.selected();\n    this.syncElementsPos();\n  }\n\n  /** toggle \u56FE\u5F62\u5143\u7D20\u6FC0\u6D3B\u72B6\u6001 */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /** \u91CD\u7F6E */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n\n/**\n * \u97E6\u6069\u56FE\u5143\u7D20 \u5355\u9009\u4EA4\u4E92\n */\nexport class VennElementSingleSelected extends ElementSingleSelectedAction {\n  /**\n   * \u540C\u6B65\u6240\u6709\u5143\u7D20\u7684\u4F4D\u7F6E\n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /** \u6FC0\u6D3B\u56FE\u5F62\u5143\u7D20 */\n  public selected() {\n    super.selected();\n    this.syncElementsPos();\n  }\n\n  /** toggle \u56FE\u5F62\u5143\u7D20\u6FC0\u6D3B\u72B6\u6001 */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /** \u91CD\u7F6E */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n", "import { registerInteraction, registerAction } from '@antv/g2';\nimport { VennElementActive } from './actions/active';\nimport { VennElementHighlight } from './actions/highlight';\nimport { VennElementSelected, VennElementSingleSelected } from './actions/selected';\n\n/** ================== \u6CE8\u518C\u4EA4\u4E92\u53CD\u9988 aciton ================== */\n\nregisterAction('venn-element-active', VennElementActive as any);\nregisterAction('venn-element-highlight', VennElementHighlight as any);\nregisterAction('venn-element-selected', VennElementSelected as any);\nregisterAction('venn-element-single-selected', VennElementSingleSelected as any);\n\n/** ================== \u6CE8\u518C\u4EA4\u4E92 ================== */\n\n// ========= Active \u4EA4\u4E92 =========\nregisterInteraction('venn-element-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'venn-element-active:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'venn-element-active:reset' }],\n});\n\n// ========= \u9AD8\u4EAE \u4EA4\u4E92 =========\nregisterInteraction('venn-element-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'venn-element-highlight:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'venn-element-highlight:reset' }],\n});\n\n// ========= Selected \u4EA4\u4E92 =========\n// \u70B9\u51FB venn element \uFF08\u53EF\u591A\u9009\uFF09\nregisterInteraction('venn-element-selected', {\n  start: [{ trigger: 'element:click', action: 'venn-element-selected:toggle' }],\n  rollback: [{ trigger: 'dblclick', action: ['venn-element-selected:reset'] }],\n});\n// \u70B9\u51FB venn element \uFF08\u5355\u9009\uFF09\nregisterInteraction('venn-element-single-selected', {\n  start: [{ trigger: 'element:click', action: 'venn-element-single-selected:toggle' }],\n  rollback: [{ trigger: 'dblclick', action: ['venn-element-single-selected:reset'] }],\n});\n\n// ========= \u97E6\u6069\u56FE\u7684\u56FE\u4F8B\u4E8B\u4EF6\uFF0C\u5355\u72EC\u6CE8\u518C =========\n// legend hover\uFF0Celement active\nregisterInteraction('venn-legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: ['list-active:active', 'venn-element-active:active'] }],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['list-active:reset', 'venn-element-active:reset'] }],\n});\n\n// legend hover\uFF0Celement active\nregisterInteraction('venn-legend-highlight', {\n  start: [\n    {\n      trigger: 'legend-item:mouseenter',\n      action: ['legend-item-highlight:highlight', 'venn-element-highlight:highlight'],\n    },\n  ],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['legend-item-highlight:reset', 'venn-element-highlight:reset'] }],\n});\n", "import { Geometry } from '@antv/g2';\nimport { isArray, get, deepMix, isEqual } from '@antv/util';\nimport { interaction, animation, theme, tooltip, scale } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { schema as schemaGeometry } from '../../adaptor/geometries';\nimport {\n  deepAssign,\n  flow,\n  findGeometry,\n  transformLabel,\n  getAdjustAppendPadding,\n  normalPadding,\n  resolveAllPadding,\n} from '../../utils';\nimport { Datum } from '../../types';\nimport { log, LEVEL } from '../../utils';\nimport { getColorMap, layoutVennData, islegalSets } from './utils';\nimport { CustomInfo, VennData, VennOptions } from './types';\nimport { ID_FIELD } from './constant';\nimport './shape';\nimport './label';\nimport './interactions';\n\n/** \u56FE\u4F8B\u9ED8\u8BA4\u9884\u7559\u7A7A\u95F4 */\nexport const LEGEND_SPACE = 40;\n\n/**\n * \u83B7\u53D6 color \u6620\u5C04\n */\nfunction colorMap(params: Params<VennOptions>, data: VennData, colorPalette?: string[]) {\n  const { chart, options } = params;\n  const { blendMode, setsField } = options;\n  const { colors10, colors20 } = chart.getTheme();\n  let palette = colorPalette;\n  if (!isArray(palette)) {\n    palette = data.filter((d) => d[setsField].length === 1).length <= 10 ? colors10 : colors20;\n  }\n  const map = getColorMap(palette, data, blendMode, setsField);\n\n  return (id: string) => map.get(id) || palette[0];\n}\n\n/**\n * color options \u8F6C\u6362\n */\nfunction transformColor(params: Params<VennOptions>, data: VennData): VennOptions['color'] {\n  const { options } = params;\n  const { color } = options;\n\n  if (typeof color !== 'function') {\n    const colorPalette = typeof color === 'string' ? [color] : color;\n    const map = colorMap(params, data, colorPalette);\n    return (datum: Datum) => map(datum[ID_FIELD]);\n  }\n  return color;\n}\n\n/**\n * \u5904\u7406 padding\n */\nfunction padding(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { legend, appendPadding, padding } = options;\n\n  // \u5904\u7406 legend \u7684\u4F4D\u7F6E. \u9ED8\u8BA4\u9884\u7559 40px, \u4E1A\u52A1\u4E0A\u53EF\u4EE5\u901A\u8FC7 appendPadding \u589E\u52A0\n  let tempPadding: number[] = normalPadding(appendPadding);\n  if (legend !== false) {\n    tempPadding = getAdjustAppendPadding(appendPadding, get(legend, 'position'), LEGEND_SPACE);\n  }\n\n  chart.appendPadding = resolveAllPadding([tempPadding, padding]);\n\n  return params;\n}\n\n/**\n * \u5904\u7406\u975E\u6CD5\u6570\u636E\n * @param params\n */\nfunction data(params: Params<VennOptions>): Params<VennOptions> {\n  const { options } = params;\n\n  /* \u5982\u9047\u5230 \u4EA4\u96C6 \u4E2D\u5B58\u5728 \u975E\u6CD5\u5143\u7D20 \u7684\u60C5\u51B5\uFF0C\u5C31\u8FC7\u6EE4\u6389\n   * \u5982\uFF1A\n   * data = [\n   *   { sets: ['A'], size: 3 }, // \u96C6\u5408\n   *   { sets: ['B'], size: 4 }, // \u96C6\u5408\n   *   { sets: ['A', 'B'], size: 2 }, // \u4EA4\u96C6\n   *   { sets: ['A', 'B', 'C'], size: 2 }, // \u4EA4\u96C6 (\u5B58\u5728\u975E\u6CD5 C\uFF0C\u8FC7\u6EE4\u8BE5\u6761\u6570\u636E)\n   *   ...\n   * ]\n   */\n\n  let data = options['data'];\n  if (!data) {\n    log(LEVEL.WARN, false, 'warn: %s', '\u6570\u636E\u4E0D\u80FD\u4E3A\u7A7A');\n    data = [];\n  }\n\n  // \u5408\u6CD5\u5143\u7D20\u7684\u96C6\u5408\uFF1A['A', 'B']\n  const currSets = data.filter((datum) => datum.sets.length === 1).map((datum) => datum.sets[0]);\n  // \u8FC7\u6EE4 data\n  const filterSets = data.filter((datum) => {\n    const sets = datum.sets;\n    // \u5B58\u5728\u975E\u6CD5\u5143\u7D20\uFF0C\u5C31\u8FC7\u6EE4\u8FD9\u6761\u6570\u636E\n    return islegalSets(currSets, sets);\n  });\n\n  if (!isEqual(filterSets, data)) log(LEVEL.WARN, false, 'warn: %s', '\u4EA4\u96C6\u4E2D\u4E0D\u80FD\u51FA\u73B0\u4E0D\u5B58\u5728\u7684\u96C6\u5408, \u8BF7\u8F93\u5165\u5408\u6CD5\u6570\u636E');\n\n  return deepMix({}, params, {\n    options: {\n      data: filterSets,\n    },\n  });\n}\n\n/**\n * geometry \u5904\u7406\n * @param params\n */\nfunction geometry(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { pointStyle, setsField, sizeField } = options;\n\n  // \u83B7\u53D6\u5BB9\u5668\u5927\u5C0F\n  const [t, r, b, l] = normalPadding(chart.appendPadding);\n  // \u5904\u7406 legend \u7684\u4F4D\u7F6E. \u9ED8\u8BA4\u9884\u7559 40px, \u4E1A\u52A1\u4E0A\u53EF\u4EE5\u901A\u8FC7 appendPadding \u589E\u52A0\n  const customInfo: CustomInfo = { offsetX: l, offsetY: t };\n  // coordinateBBox + appendPadding = viewBBox, \u4E0D\u9700\u8981\u518D\u8BA1\u7B97 appendPadding \u90E8\u5206\uFF0C\u56E0\u6B64\u76F4\u63A5\u4F7F\u7528 viewBBox\n  const { width, height } = chart.viewBBox;\n  // \u5904\u7406padding\u8F93\u5165\u4E0D\u5408\u7406\u7684\u60C5\u51B5\uFF0C w \u548C h \u4E0D\u80FD\u4E3A\u8D1F\u6570\n  const vennData: VennData = layoutVennData(options, Math.max(width - (r + l), 0), Math.max(height - (t + b), 0), 0);\n  chart.data(vennData);\n\n  const { ext } = schemaGeometry(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        sizeField: sizeField,\n        seriesField: ID_FIELD,\n        rawFields: [setsField, sizeField],\n        schema: {\n          shape: 'venn',\n          style: pointStyle,\n        },\n      },\n    })\n  );\n\n  const geometry = ext.geometry as Geometry;\n  geometry.customInfo(customInfo);\n\n  const colorOptions = transformColor(params, vennData);\n  // \u97E6\u6069\u56FE\u8BD5\u70B9, color \u901A\u9053\u53EA\u80FD\u6620\u5C04\u4E00\u4E2A\u5B57\u6BB5. \u901A\u8FC7\u5916\u90E8\u67E5\u627E\u83B7\u53D6 datum\n  if (typeof colorOptions === 'function') {\n    geometry.color(ID_FIELD, (id) => {\n      const datum = vennData.find((d) => d[ID_FIELD] === id);\n      const defaultColor = colorMap(params, vennData)(id);\n      return colorOptions(datum, defaultColor);\n    });\n  }\n\n  return params;\n}\n\n/**\n * \u5904\u7406 label\n * @param params\n */\nfunction label(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  // \u83B7\u53D6\u5BB9\u5668\u5927\u5C0F\n  const [t, , , l] = normalPadding(chart.appendPadding);\n  // \u4F20\u5165 label \u5E03\u5C40\u51FD\u6570\u6240\u9700\u7684 \u81EA\u5B9A\u4E49\u53C2\u6570\n  const customLabelInfo = { offsetX: l, offsetY: t };\n\n  const geometry = findGeometry(chart, 'schema');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: ['id'],\n      callback,\n      cfg: deepMix({}, transformLabel(cfg), {\n        // \u4F7F\u7528 G2 \u7684 \u81EA\u5B9A\u4E49label \u4FEE\u6539\u4F4D\u7F6E\n        type: 'venn',\n        customLabelInfo,\n      }),\n    });\n  }\n\n  return params;\n}\n\n/**\n * legend \u914D\u7F6E\n * @param params\n */\nexport function legend(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { legend, sizeField } = options;\n\n  chart.legend(ID_FIELD, legend);\n  // \u5F3A\u5236\u4E0D\u5F00\u542F \u8FDE\u7EED\u56FE\u4F8B\n  chart.legend(sizeField, false);\n\n  return params;\n}\n\n/**\n * \u9ED8\u8BA4\u5173\u95ED\u5750\u6807\u8F74\n * @param params\n */\nexport function axis(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart } = params;\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n * \u97E6\u6069\u56FE interaction \u4EA4\u4E92\u9002\u914D\u5668\n */\nfunction vennInteraction(params: Params<VennOptions>): Params<VennOptions> {\n  const { options, chart } = params;\n  const { interactions } = options;\n\n  if (interactions) {\n    const MAP = {\n      'legend-active': 'venn-legend-active',\n      'legend-highlight': 'venn-legend-highlight',\n    };\n    interaction(\n      deepAssign({}, params, {\n        options: {\n          interactions: interactions.map((i) => ({\n            ...i,\n            type: MAP[i.type] || i.type,\n          })),\n        },\n      })\n    );\n  }\n\n  chart.removeInteraction('legend-active');\n  chart.removeInteraction('legend-highlight');\n  return params;\n}\n\n/**\n * \u56FE\u9002\u914D\u5668\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<VennOptions>) {\n  // flow \u7684\u65B9\u5F0F\u5904\u7406\u6240\u6709\u7684\u914D\u7F6E\u5230 G2 API\n  return flow(\n    padding,\n    theme,\n    data,\n    geometry,\n    label,\n    scale({}),\n    legend,\n    axis,\n    tooltip,\n    vennInteraction,\n    animation\n    // ... \u5176\u4ED6\u7684 adaptor flow\n  )(params);\n}\n", "import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { VennOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { VennOptions };\n\n/**\n * \u8FD9\u4E2A\u662F\u4E00\u4E2A\u56FE\u8868\u5F00\u53D1\u7684 \u6A21\u677F\u4EE3\u7801\uFF01\n */\nexport class Venn extends Plot<VennOptions> {\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'venn';\n\n  static getDefaultOptions() {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**\n   * \u83B7\u53D6 \u97E6\u6069\u56FE \u9ED8\u8BA4\u914D\u7F6E\n   */\n  protected getDefaultOptions() {\n    return Venn.getDefaultOptions();\n  }\n\n  /**\n   * \u83B7\u53D6\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<VennOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \u8986\u5199\u7236\u7C7B\u7684\u65B9\u6CD5\n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \u9996\u5148\u81EA\u9002\u5E94\u5BB9\u5668\u7684\u5BBD\u9AD8\n      this.chart.forceFit(); // g2 \u5185\u90E8\u6267\u884C changeSize\uFF0CchangeSize \u4E2D\u6267\u884C render(true)\n      this.chart.clear();\n      this.execAdaptor(); // \u6838\u5FC3\uFF1A\u5BBD\u9AD8\u66F4\u65B0\u4E4B\u540E\u8BA1\u7B97\u5E03\u5C40\n      // \u6E32\u67D3\n      this.chart.render(true);\n    }\n  }\n}\n", "import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\nexport const Y_FIELD = '$$stock-range$$';\n\nexport const TREND_FIELD = 'trend';\nexport const TREND_UP = 'up';\nexport const TREND_DOWN = 'down';\n\n/** tooltip \u914D\u7F6E */\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showMarkers: false,\n  showCrosshairs: true,\n  shared: true,\n  crosshairs: {\n    type: 'xy',\n    follow: true,\n    text: (type, defaultContent, items) => {\n      let textContent;\n      if (type === 'x') {\n        const item = items[0];\n        textContent = item ? item.title : defaultContent;\n      } else {\n        textContent = defaultContent;\n      }\n      return {\n        position: type === 'y' ? 'start' : 'end',\n        content: textContent,\n        style: {\n          fill: '#dfdfdf',\n        },\n      };\n    },\n    // \u81EA\u5B9A\u4E49 crosshairs textBackground \u6837\u5F0F\n    textBackground: {\n      padding: [2, 4],\n      style: {\n        fill: '#666',\n      },\n    },\n  },\n};\n\n/**\n * \u6563\u70B9\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  // \u8BBE\u7F6E\u9ED8\u8BA4\u56FE\u8868 tooltips\n  tooltip: DEFAULT_TOOLTIP_OPTIONS,\n  interactions: [{ type: 'tooltip' }],\n  legend: {\n    position: 'top-left',\n  },\n  risingFill: '#ef5350',\n  fallingFill: '#26a69a',\n});\n", "import { isArray, map } from '@antv/util';\nimport { TREND_FIELD, TREND_DOWN, TREND_UP, Y_FIELD } from './constant';\n\n/**\n * @desc \u80A1\u7968\u56FE\u6570\u636E\u5904\u7406\n * @param data\n * @param yField\n */\nexport function getStockData(data, yField) {\n  return map(data, (obj) => {\n    if (isArray(yField)) {\n      const [open, close, high, low] = yField;\n      obj[TREND_FIELD] = obj[open] <= obj[close] ? TREND_UP : TREND_DOWN;\n      obj[Y_FIELD] = [obj[open], obj[close], obj[high], obj[low]];\n    }\n    return obj;\n  });\n}\n", "import { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, annotation, slider } from '../../adaptor/common';\nimport { schema } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\n\nimport { Y_FIELD, TREND_FIELD, TREND_UP, TREND_DOWN } from './constant';\nimport { StockOptions } from './types';\nimport { getStockData } from './utils';\n\n/**\n * \u56FE\u8868\u914D\u7F6E\u5904\u7406\n * @param params\n */\nfunction geometry(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { yField } = options;\n\n  const { data, risingFill, fallingFill, tooltip, stockStyle } = options;\n\n  chart.data(getStockData(data, yField));\n\n  let tooltipOptions = tooltip;\n  if (tooltipOptions !== false) {\n    tooltipOptions = deepAssign({}, { fields: yField }, tooltipOptions);\n  }\n\n  schema(\n    deepAssign({}, params, {\n      options: {\n        schema: {\n          shape: 'candle',\n          color: [risingFill, fallingFill],\n          style: stockStyle,\n        },\n        yField: Y_FIELD,\n        seriesField: TREND_FIELD,\n        rawFields: yField,\n        tooltip: tooltipOptions,\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \u914D\u7F6E\n * @param params\n */\nexport function meta(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis, xField } = options;\n\n  const baseMeta = {\n    [xField]: {\n      type: 'timeCat',\n      tickCount: 6,\n    },\n    [TREND_FIELD]: {\n      values: [TREND_UP, TREND_DOWN],\n    },\n  };\n\n  const scales = deepAssign(baseMeta, meta, {\n    [xField]: pick(xAxis, AXIS_META_CONFIG_KEYS),\n    [Y_FIELD]: pick(yAxis, AXIS_META_CONFIG_KEYS),\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \u914D\u7F6E\n * @param params\n */\nexport function axis(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField } = options;\n\n  // \u4E3A false \u5219\u662F\u4E0D\u663E\u793A\u8F74\n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(Y_FIELD, false);\n  } else {\n    chart.axis(Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * tooltip \u914D\u7F6E\n * @param params\n */\nexport function tooltip(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip !== false) {\n    chart.tooltip(tooltip);\n  } else {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * legend \u914D\u7F6E\n * @param params\n */\nexport function legend(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n\n  if (legend) {\n    chart.legend(TREND_FIELD, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * K\u7EBF\u56FE\u9002\u914D\u5668\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<StockOptions>) {\n  // flow \u7684\u65B9\u5F0F\u5904\u7406\u6240\u6709\u7684\u914D\u7F6E\u5230 G2 API\n  flow(theme, geometry, meta, axis, tooltip, legend, interaction, animation, annotation(), slider)(params);\n}\n", "import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { StockOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { getStockData } from './utils';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { StockOptions };\n\nexport class Stock extends Plot<StockOptions> {\n  /**\n   * \u83B7\u53D6 \u6563\u70B9\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n   * \u4F9B\u5916\u90E8\u4F7F\u7528\n   */\n  static getDefaultOptions(): Partial<StockOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'stock';\n\n  /**\n   * \u9ED8\u8BA4\u914D\u7F6E\n   *  g2/g2plot\u9ED8 \u8BA4 \u914D \u7F6E -->  \u56FE \u8868 \u9ED8 \u8BA4 \u914D \u7F6E  --> \u5F00 \u53D1 \u8005 \u81EA \u5B9A \u4E49 \u914D \u7F6E  --> \u6700 \u7EC8 \u7ED8 \u56FE \u914D \u7F6E\n   */\n  protected getDefaultOptions(): Partial<StockOptions> {\n    return Stock.getDefaultOptions();\n  }\n\n  /**\n   * \u83B7\u53D6 \u8721\u70DB\u56FE \u7684\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<StockOptions> {\n    return adaptor;\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: StockOptions['data']) {\n    this.updateOption({ data });\n    const { yField } = this.options;\n    this.chart.changeData(getStockData(data, yField));\n  }\n}\n", "// \u6F0F\u6597\u5360\u6BD4: data[n][yField] / data[0][yField]\nexport const FUNNEL_PERCENT = '$$percentage$$';\n// \u6F0F\u6597\u6620\u5C04\u503C\nexport const FUNNEL_MAPPING_VALUE = '$$mappingValue$$';\n// \u6F0F\u6597\u8F6C\u5316\u7387: data[n][yField] / data[n-1][yField];\nexport const FUNNEL_CONVERSATION = '$$conversion$$';\n// \u6F0F\u6597\u5355\u9879\u5360\u603B\u4F53\u548C\u7684\u767E\u5206\u6BD4\uFF0C\u7528\u4E8E\u52A8\u6001\u6F0F\u6597\u56FE\u8BA1\u7B97\u9AD8\u5EA6\uFF1A\n// data[n][yField] / sum(data[0-n][yField])\nexport const FUNNEL_TOTAL_PERCENT = '$$totalPercentage$$';\n// \u6F0F\u6597\u591A\u8FB9\u578B x \u5750\u6807\nexport const PLOYGON_X = '$$x$$';\nexport const PLOYGON_Y = '$$y$$';\n\n/**\n * \u6F0F\u6597\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: [0, 80],\n  minSize: 0,\n  maxSize: 1,\n  meta: {\n    [FUNNEL_MAPPING_VALUE]: {\n      min: 0,\n      max: 1,\n      nice: false,\n    },\n  },\n  label: {\n    style: {\n      fill: '#fff',\n      fontSize: 12,\n    },\n  },\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    shared: false,\n  },\n  conversionTag: {\n    offsetX: 10,\n    offsetY: 0,\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.45)',\n    },\n  },\n};\n", "import { Types } from '@antv/g2';\nimport { isFunction, map, isNumber, maxBy, get } from '@antv/util';\nimport { Datum, Data } from '../../../types/common';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { Params } from '../../../core/adaptor';\nimport { FunnelOptions } from '../types';\n\n/**\n * \u6F0F\u6597\u56FE transform\n * @param geometry\n */\nexport function transformData(\n  data: FunnelOptions['data'],\n  originData: FunnelOptions['data'],\n  options: Pick<FunnelOptions, 'yField' | 'maxSize' | 'minSize'>\n): FunnelOptions['data'] {\n  let formatData = [];\n  const { yField, maxSize, minSize } = options;\n  const maxYFieldValue = get(maxBy(originData, yField), [yField]);\n  const max = isNumber(maxSize) ? maxSize : 1;\n  const min = isNumber(minSize) ? minSize : 0;\n\n  // format \u6570\u636E\n  formatData = map(data, (row, index) => {\n    const percent = (row[yField] || 0) / maxYFieldValue;\n    row[FUNNEL_PERCENT] = percent;\n    row[FUNNEL_MAPPING_VALUE] = (max - min) * percent + min;\n    // \u8F6C\u5316\u7387\u6570\u636E\u5B58\u50A8\u524D\u540E\u6570\u636E\n    row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n    return row;\n  });\n\n  return formatData;\n}\n\n/**\n * \u6F0F\u6597\u56FE\u901A\u7528\u8F6C\u5316\u7387\u7EC4\u4EF6\n * @param getLineCoordinate \u7528\u4E8E\u83B7\u53D6\u7279\u5B9A\u7684 line \u7684\u4F4D\u7F6E\u53CA\u914D\u7F6E\n */\nexport function conversionTagComponent(\n  getLineCoordinate: (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ) => Types.LineOption\n) {\n  return function (params: Params<FunnelOptions>): Params<FunnelOptions> {\n    const { chart, options } = params;\n    const { conversionTag } = options;\n\n    const { data } = chart.getOptions();\n\n    if (conversionTag) {\n      const { formatter } = conversionTag;\n      data.forEach((obj, index) => {\n        if (index <= 0 || Number.isNaN(obj[FUNNEL_MAPPING_VALUE])) return;\n        const lineOption = getLineCoordinate(obj, index, data, {\n          top: true,\n          text: {\n            content: isFunction(formatter) ? formatter(obj, data) : formatter,\n            offsetX: conversionTag.offsetX,\n            offsetY: conversionTag.offsetY,\n            position: 'end',\n            autoRotate: false,\n            style: {\n              textAlign: 'start',\n              textBaseline: 'middle',\n              ...conversionTag.style,\n            },\n          },\n        });\n\n        chart.annotation().line(lineOption);\n      });\n    }\n    return params;\n  };\n}\n", "import { Types } from '@antv/g2';\nimport { isArray } from '@antv/util';\nimport { flow, findGeometry } from '../../../utils';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { Params } from '../../../core/adaptor';\nimport { Datum, Data } from '../../../types/common';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { FunnelOptions } from '../types';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { conversionTagComponent, transformData } from './common';\n\n/**\n * \u5904\u7406\u5B57\u6BB5\u6570\u636E\n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField, maxSize, minSize } = options;\n  const formatData = transformData(data, data, {\n    yField,\n    maxSize,\n    minSize,\n  });\n\n  // \u7ED8\u5236\u6F0F\u6597\u56FE\n  chart.data(formatData);\n  return params;\n}\n\n/**\n * geometry\u5904\u7406\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { xField, yField, color, tooltip, label, shape = 'funnel', funnelStyle, state } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField]);\n\n  baseGeometry({\n    chart,\n    options: {\n      type: 'interval',\n      xField: xField,\n      yField: FUNNEL_MAPPING_VALUE,\n      colorField: xField,\n      tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n      mapping: {\n        shape,\n        tooltip: formatter,\n        color,\n        style: funnelStyle,\n      },\n      label,\n      state,\n    },\n  });\n\n  const geo = findGeometry(params.chart, 'interval');\n  geo.adjust('symmetric');\n\n  return params;\n}\n\n/**\n * \u8F6C\u7F6E\u5904\u7406\n * @param params\n */\nfunction transpose(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { isTransposed } = options;\n  chart.coordinate({\n    type: 'rect',\n    actions: !isTransposed ? [['transpose'], ['scale', 1, -1]] : [],\n  });\n  return params;\n}\n\n/**\n * \u8F6C\u5316\u7387\u7EC4\u4EF6\n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { maxSize } = options;\n\n  const getLineCoordinate = (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ): Types.LineOption => {\n    const percent = maxSize - (maxSize - datum[FUNNEL_MAPPING_VALUE]) / 2;\n    return {\n      ...initLineOption,\n      start: [datumIndex - 0.5, percent],\n      end: [datumIndex - 0.5, percent + 0.05],\n    };\n  };\n\n  conversionTagComponent(getLineCoordinate)(params);\n\n  return params;\n}\n\n/**\n * \u57FA\u7840\u6F0F\u6597\n * @param chart\n * @param options\n */\nexport function basicFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, transpose, conversionTag)(params);\n}\n", "import { Types } from '@antv/g2';\nimport { isArray } from '@antv/util';\nimport { flow, deepAssign } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { Datum, Data } from '../../../types/common';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { FunnelOptions } from '../types';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { conversionTagComponent, transformData } from './common';\n\n/**\n * \u5904\u7406\u5B57\u6BB5\u6570\u636E\n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n\n  // \u7ED8\u5236\u6F0F\u6597\u56FE\n  chart.data(data);\n  chart.scale({\n    [yField]: {\n      sync: true,\n    },\n  });\n  return params;\n}\n\n/**\n * geometry\u5904\u7406\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    xField,\n    yField,\n    color,\n    compareField,\n    isTransposed,\n    tooltip,\n    maxSize,\n    minSize,\n    label,\n    funnelStyle,\n    state,\n    showFacetTitle,\n  } = options;\n\n  chart.facet('mirror', {\n    fields: [compareField],\n    // \u6F0F\u6597\u56FE\u7684\u8F6C\u7F6E\u89C4\u5219\u4E0E\u5206\u9762\u76F8\u53CD\uFF0C\u9ED8\u8BA4\u662F\u5782\u76F4\u5E03\u5C40\n    transpose: !isTransposed,\n    padding: isTransposed ? 0 : [32, 0, 0, 0],\n    showTitle: showFacetTitle,\n    eachView(view, facet) {\n      const index = isTransposed ? facet.rowIndex : facet.columnIndex;\n\n      if (!isTransposed) {\n        view.coordinate({\n          type: 'rect',\n          actions: [['transpose'], ['scale', index === 0 ? -1 : 1, -1]],\n        });\n      }\n\n      const formatterData = transformData(facet.data, data, {\n        yField,\n        maxSize,\n        minSize,\n      });\n\n      view.data(formatterData);\n\n      // \u7ED8\u5236\u56FE\u5F62\n      const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, compareField]);\n\n      const defaultFacetLabel = isTransposed\n        ? {\n            offset: index === 0 ? 10 : -23,\n            position: (index === 0 ? 'bottom' : 'top') as Types.IntervalGeometryLabelPosition,\n          }\n        : {\n            offset: 10,\n            position: 'left' as Types.IntervalGeometryLabelPosition,\n            style: {\n              textAlign: index === 0 ? 'end' : 'start',\n            },\n          };\n\n      baseGeometry({\n        chart: view,\n        options: {\n          type: 'interval',\n          xField: xField,\n          yField: FUNNEL_MAPPING_VALUE,\n          colorField: xField,\n          tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n          mapping: {\n            // todo \u6682\u65F6\u4E0D\u63D0\u4F9B \u91D1\u5B57\u5854 shape\uFF0C\u540E\u7EED\u9700\u8981\u81EA\u5B9A\u4E49\u4E0B\u5F62\u72B6\n            shape: 'funnel',\n            tooltip: formatter,\n            color,\n            style: funnelStyle,\n          },\n          label: label === false ? false : deepAssign({}, defaultFacetLabel, label),\n          state,\n        },\n      });\n    },\n  });\n\n  return params;\n}\n\n/**\n * \u8F6C\u5316\u7387\u7EC4\u4EF6\n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { conversionTag, isTransposed } = options;\n  // @ts-ignore\n  chart.once('beforepaint', () => {\n    chart.views.forEach((view, viewIndex) => {\n      const getLineCoordinate = (\n        datum: Datum,\n        datumIndex: number,\n        data: Data,\n        initLineOption: Record<string, any>\n      ): Types.LineOption => {\n        const ratio = viewIndex === 0 ? -1 : 1;\n        return deepAssign({}, initLineOption, {\n          start: [datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE]],\n          end: [datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE] + 0.05],\n          text: isTransposed\n            ? {\n                style: {\n                  textAlign: 'start',\n                },\n              }\n            : {\n                offsetX: conversionTag !== false ? ratio * conversionTag.offsetX : 0,\n                style: {\n                  textAlign: viewIndex === 0 ? 'end' : 'start',\n                },\n              },\n        });\n      };\n\n      conversionTagComponent(getLineCoordinate)(\n        deepAssign(\n          {},\n          {\n            chart: view,\n            options,\n          }\n        )\n      );\n    });\n  });\n  return params;\n}\n\n/**\n * \u5BF9\u6BD4\u6F0F\u6597\n * @param chart\n * @param options\n */\nexport function compareFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, conversionTag)(params);\n}\n", "import { flow, deepAssign } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { FunnelOptions } from '../types';\nimport { basicFunnel } from './basic';\n\n/**\n * \u5904\u7406\u5B57\u6BB5\u6570\u636E\n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n  // \u7ED8\u5236\u6F0F\u6597\u56FE\n  chart.data(data);\n  chart.scale({\n    [yField]: {\n      sync: true,\n    },\n  });\n  return params;\n}\n\n/**\n * geometry\u5904\u7406\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { seriesField, isTransposed, showFacetTitle } = options;\n\n  chart.facet('rect', {\n    fields: [seriesField],\n    padding: [isTransposed ? 0 : 32, 10, 0, 10],\n    showTitle: showFacetTitle,\n    eachView(view, facet) {\n      basicFunnel(\n        deepAssign({}, params, {\n          chart: view,\n          options: {\n            data: facet.data,\n          },\n        })\n      );\n    },\n  });\n\n  return params;\n}\n\n/**\n * \u5206\u9762\u6F0F\u6597\n * @param chart\n * @param options\n */\nexport function facetFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry)(params);\n}\n", "import { map, reduce, maxBy, isArray, get } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { flow } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_TOTAL_PERCENT, PLOYGON_X, PLOYGON_Y } from '../constant';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { Datum, Data } from '../../../types/common';\nimport { FunnelOptions } from '../types';\nimport { conversionTagComponent } from './common';\n\n/**\n * \u52A8\u6001\u9AD8\u5EA6\u6F0F\u6597\u56FE\n * @param params\n * \u9700\u6C42: \u6BCF\u4E2A\u6F0F\u6597\u9879\u7684\u9AD8\u5EA6\u6839\u636E yfield \u7B49\u6BD4\u751F\u6210\u3002\u6F0F\u6597\u4E0A\u4E0B\u5BBD\u5EA6\u6BD4\u4E3A2\uFF0C\u5373\u659C\u7387\u4E3A 2\u3002\n * \u5B9E\u73B0\u65B9\u5F0F: \u4F7F\u7528 g2 \u591A\u8FB9\u5F62\uFF0Cdata -> \u70B9\u5750\u6807 -> \u7ED8\u5236\n * \u4EE5\u6F0F\u6597\u5E95\u90E8\u4E2D\u5FC3\u70B9\u4E3A\u5750\u6807\u8F74\u539F\u70B9\uFF0C\u6F0F\u6597\u5728 -0.5 <= x <= 0.5, 0 <= y <= 1 \u7684\u6B63\u65B9\u5F62\u4E2D\u7ED8\u5236\n * \u5148\u8BA1\u7B97\u7B2C\u4E00\u8C61\u9650\u7684\u70B9, \u7B2C\u4E8C\u8C61\u9650\u7684\u70B9\u5373\u4E3A\u955C\u50CF x \u8F74\u53D6\u53CD\u3002\n * \u7B2C\u4E00\u8C61\u9650\u5171\u9700\u8BA1\u7B97 data.length + 1 \u4E2A\u70B9\uFF0C\u5728 y = 4x - 1 \u4E0A\u3002\u9996\u5C3E\u5206\u522B\u662F[0.5, 1], [0.25, 0]\u3002\u6839\u636E data \u8BA1\u7B97\u51FA y \u503C\uFF0C\u4ECE\u800C\u5F97\u5230 y \u503C\n */\n\n/**\n * \u5904\u7406\u6570\u636E\n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n\n  // \u8BA1\u7B97\u5404\u6570\u636E\u9879\u6240\u5360\u9AD8\u5EA6\n  const sum = reduce(\n    data,\n    (total, item) => {\n      return total + (item[yField] || 0);\n    },\n    0\n  );\n\n  const max = maxBy(data, yField)[yField];\n\n  const formatData = map(data, (row, index) => {\n    // \u50A8\u5B58\u56DB\u4E2A\u70B9 x\uFF0Cy \u5750\u6807\uFF0C\u65B9\u5411\u4E3A\u987A\u65F6\u9488\uFF0C\u5373 [\u5DE6\u4E0A, \u53F3\u4E0A\uFF0C\u53F3\u4E0B\uFF0C\u5DE6\u4E0B]\n    const x = [];\n    const y = [];\n\n    row[FUNNEL_TOTAL_PERCENT] = (row[yField] || 0) / sum;\n\n    // \u83B7\u53D6\u5DE6\u4E0A\u89D2\uFF0C\u53F3\u4E0A\u89D2\u5750\u6807\n    if (index) {\n      const preItemX = data[index - 1][PLOYGON_X];\n      const preItemY = data[index - 1][PLOYGON_Y];\n      x[0] = preItemX[3];\n      y[0] = preItemY[3];\n      x[1] = preItemX[2];\n      y[1] = preItemY[2];\n    } else {\n      x[0] = -0.5;\n      y[0] = 1;\n      x[1] = 0.5;\n      y[1] = 1;\n    }\n\n    // \u83B7\u53D6\u53F3\u4E0B\u89D2\u5750\u6807\n    y[2] = y[1] - row[FUNNEL_TOTAL_PERCENT];\n    x[2] = (y[2] + 1) / 4;\n    y[3] = y[2];\n    x[3] = -x[2];\n\n    // \u8D4B\u503C\n    row[PLOYGON_X] = x;\n    row[PLOYGON_Y] = y;\n    row[FUNNEL_PERCENT] = (row[yField] || 0) / max;\n    row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n    return row;\n  });\n\n  chart.data(formatData);\n\n  return params;\n}\n\n/**\n * geometry\u5904\u7406\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { xField, yField, color, tooltip, label, funnelStyle, state } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField]);\n  // \u7ED8\u5236\u6F0F\u6597\u56FE\n  baseGeometry({\n    chart,\n    options: {\n      type: 'polygon',\n      xField: PLOYGON_X,\n      yField: PLOYGON_Y,\n      colorField: xField,\n      tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n      label,\n      state,\n      mapping: {\n        tooltip: formatter,\n        color,\n        style: funnelStyle,\n      },\n    },\n  });\n  return params;\n}\n\n/**\n * \u8F6C\u7F6E\u5904\u7406\n * @param params\n */\nfunction transpose(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { isTransposed } = options;\n  chart.coordinate({\n    type: 'rect',\n    actions: isTransposed ? [['transpose'], ['reflect', 'x']] : [],\n  });\n  return params;\n}\n\n/**\n * \u8F6C\u5316\u7387\u7EC4\u4EF6\n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const getLineCoordinate = (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ): Types.LineOption => {\n    return {\n      ...initLineOption,\n      start: [datum[PLOYGON_X][1], datum[PLOYGON_Y][1]],\n      end: [datum[PLOYGON_X][1] + 0.05, datum[PLOYGON_Y][1]],\n    };\n  };\n\n  conversionTagComponent(getLineCoordinate)(params);\n\n  return params;\n}\n\n/**\n * \u52A8\u6001\u9AD8\u5EA6\u6F0F\u6597\n * @param chart\n * @param options\n */\nexport function dynamicHeightFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, transpose, conversionTag)(params);\n}\n", "import { isFunction, clone } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, scale, annotation, tooltip } from '../../adaptor/common';\nimport { getLocale } from '../../core/locale';\nimport { Datum } from '../../types';\nimport { flow, deepAssign } from '../../utils';\nimport { conversionTagFormatter } from '../../utils/conversion';\nimport { FunnelOptions } from './types';\nimport { basicFunnel } from './geometries/basic';\nimport { compareFunnel } from './geometries/compare';\nimport { facetFunnel } from './geometries/facet';\nimport { dynamicHeightFunnel } from './geometries/dynamic-height';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT } from './constant';\n\n/**\n *\n * \u5404\u5F0F\u6F0F\u6597\u56FEgeometry\u5B9E\u73B0\u7EC6\u8282\u6709\u8F83\u5927\u4E0D\u540C,\n * 1. \u666E\u901A\u6F0F\u6597\u56FE\uFF1Ainterval.shape('funnel')\n * 2. \u5BF9\u6BD4\u6F0F\u6597\u56FE\uFF1A\u5206\u9762\n * 3. \u52A8\u6001\u9AD8\u5EA6\u6F0F\u6597\u56FE\uFF1Apolypon\n * 4. \u5206\u9762\u6F0F\u6597\u56FE\uFF1A\u666E\u901A + list \u5206\u9762\n* /\n\n/**\n * options \u5904\u7406\n * @param params\n */\nfunction defaultOptions(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { compareField, xField, yField, locale, funnelStyle, data } = options;\n  const i18n = getLocale(locale);\n\n  const defaultOption = {\n    label: compareField\n      ? {\n          fields: [xField, yField, compareField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n          formatter: (datum) => `${datum[yField]}`,\n        }\n      : {\n          fields: [xField, yField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n          offset: 0,\n          position: 'middle',\n          formatter: (datum) => `${datum[xField]} ${datum[yField]}`,\n        },\n    tooltip: {\n      title: xField,\n      formatter: (datum) => {\n        return { name: datum[xField], value: datum[yField] };\n      },\n    },\n    conversionTag: {\n      // conversionTag \u7684\u8BA1\u7B97\u548C\u663E\u793A\u903B\u8F91\u7EDF\u4E00\u4FDD\u6301\u4E00\u81F4\n      formatter: (datum) =>\n        `${i18n.get(['conversionTag', 'label'])}: ${conversionTagFormatter(\n          ...(datum[FUNNEL_CONVERSATION] as [number, number])\n        )}`,\n    },\n  };\n\n  // \u6F0F\u6597\u56FE\u6837\u5F0F\n  let style;\n  if (compareField || funnelStyle) {\n    style = (datum: Datum) => {\n      return deepAssign(\n        {},\n        // \u5BF9\u6BD4\u6F0F\u6597\u56FE\u9ED8\u8BA4\u63CF\u8FB9\n        compareField && { lineWidth: 1, stroke: '#fff' },\n        isFunction(funnelStyle) ? funnelStyle(datum) : funnelStyle\n      );\n    };\n  }\n\n  return deepAssign({ options: defaultOption }, params, { options: { funnelStyle: style, data: clone(data) } });\n}\n\n/**\n * geometry\u5904\u7406\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { compareField, dynamicHeight, seriesField } = options;\n  if (seriesField) {\n    return facetFunnel(params);\n  }\n  if (compareField) {\n    return compareFunnel(params);\n  }\n  if (dynamicHeight) {\n    return dynamicHeightFunnel(params);\n  }\n\n  return basicFunnel(params);\n}\n\n/**\n * meta \u914D\u7F6E\n * @param params\n */\nexport function meta(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * \u5750\u6807\u8F74\n * @param params\n */\nfunction axis(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * legend \u914D\u7F6E\n * @param params\n */\nfunction legend(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    chart.legend(legend);\n    // TODO FIX: legend-click \u65F6\u95F4\u548C\u8F6C\u5316\u7387\u7EC4\u4EF6\u4E4B\u95F4\u7684\u5173\u8054\n  }\n\n  return params;\n}\n\n/**\n * \u6F0F\u6597\u56FE\u9002\u914D\u5668\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FunnelOptions>) {\n  return flow(\n    defaultOptions,\n    geometry,\n    meta,\n    axis,\n    tooltip,\n    interaction,\n    legend,\n    animation,\n    theme,\n    annotation()\n  )(params);\n}\n", "import { each } from '@antv/util';\nimport { Element } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { StateName, StateCondition, StateObject } from '../..';\nimport { getAllElementsRecursively } from '../../utils';\nimport { FunnelOptions } from './types';\nimport { adaptor } from './adaptor';\nimport {\n  DEFAULT_OPTIONS,\n  FUNNEL_CONVERSATION as FUNNEL_CONVERSATION_FIELD,\n  FUNNEL_PERCENT,\n  FUNNEL_TOTAL_PERCENT,\n} from './constant';\n\nexport type { FunnelOptions };\n\nexport { FUNNEL_CONVERSATION_FIELD };\n\nexport class Funnel extends Plot<FunnelOptions> {\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'funnel';\n\n  static getDefaultOptions(): Partial<FunnelOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  // \u5185\u90E8\u53D8\u91CF\n  /** \u6F0F\u6597 \u8F6C\u5316\u7387 \u5B57\u6BB5 */\n  static CONVERSATION_FIELD = FUNNEL_CONVERSATION_FIELD;\n  /** \u6F0F\u6597 \u767E\u5206\u6BD4 \u5B57\u6BB5 */\n  static PERCENT_FIELD = FUNNEL_PERCENT;\n  /** \u6F0F\u6597 \u603B\u8F6C\u6362\u7387\u767E\u5206\u6BD4 \u5B57\u6BB5 */\n  static TOTAL_PERCENT_FIELD = FUNNEL_TOTAL_PERCENT;\n\n  /**\n   * \u83B7\u53D6 \u6F0F\u6597\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n   */\n  protected getDefaultOptions(): Partial<FunnelOptions> {\n    // \u7531\u4E8E\u4E0D\u540C\u6F0F\u6597\u56FE defaultOption \u6709\u90E8\u5206\u903B\u8F91\u4E0D\u540C\uFF0C\u6B64\u5904\u4EC5\u5904\u7406 core.getDefaultOptions \u8986\u76D6\u8303\u56F4\uFF0Cfunnel \u7684 defaulOption \u4E3A\u4E0D\u5206\u6563\u903B\u8F91\u7EDF\u4E00\u5199\u5230 adaptor \u7684 defaultOption \u4E2D\n    return Funnel.getDefaultOptions();\n  }\n\n  /**\n   * \u83B7\u53D6 \u6F0F\u6597\u56FE \u7684\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<FunnelOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \u8BBE\u7F6E\u72B6\u6001\n   * @param type \u72B6\u6001\u7C7B\u578B\uFF0C\u652F\u6301 'active' | 'inactive' | 'selected' \u4E09\u79CD\n   * @param conditions \u6761\u4EF6\uFF0C\u652F\u6301\u6570\u7EC4\n   * @param status \u662F\u5426\u6FC0\u6D3B\uFF0C\u9ED8\u8BA4 true\n   */\n  public setState(type: StateName, condition: StateCondition, status: boolean = true) {\n    const elements = getAllElementsRecursively(this.chart);\n\n    each(elements, (ele: Element) => {\n      if (condition(ele.getData())) {\n        ele.setState(type, status);\n      }\n    });\n  }\n\n  /**\n   * \u83B7\u53D6\u72B6\u6001\n   */\n  public getStates(): StateObject[] {\n    const elements = getAllElementsRecursively(this.chart);\n\n    const stateObjects: StateObject[] = [];\n    each(elements, (element: Element) => {\n      const data = element.getData();\n      const states = element.getStates();\n      each(states, (state) => {\n        stateObjects.push({ data, state, geometry: element.geometry, element });\n      });\n    });\n\n    return stateObjects;\n  }\n}\n", "const CAT_VALUE = 'liquid';\n\n/**\n * \u83B7\u53D6\u6C34\u6CE2\u56FE\u6570\u636E\n */\nexport function getLiquidData(percent: number) {\n  return [{ percent, type: CAT_VALUE }];\n}\n", "import { Geometry } from '@antv/g2';\nimport { get, isNil } from '@antv/util';\nimport { interaction, animation, theme, scale, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, renderStatistic } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { LiquidOptions, CustomInfo } from './types';\nimport { getLiquidData } from './utils';\n\n/**\n * geometry \u5904\u7406\n * @param params\n */\nfunction geometry(params: Params<LiquidOptions>): Params<LiquidOptions> {\n  const { chart, options } = params;\n  const { percent, liquidStyle, radius, outline, wave, shape, animation } = options;\n\n  chart.scale({\n    percent: {\n      min: 0,\n      max: 1,\n    },\n  });\n\n  chart.data(getLiquidData(percent));\n\n  const color = options.color || chart.getTheme().defaultColor;\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'type',\n      yField: 'percent',\n      // radius \u653E\u5230 columnWidthRatio \u4E2D\u3002\n      // \u4FDD\u8BC1\u6A2A\u5411\u7684\u5927\u5C0F\u662F\u6839\u636E  radius \u751F\u6210\u7684\n      widthRatio: radius,\n      interval: {\n        color,\n        style: liquidStyle,\n        shape: 'liquid-fill-gauge',\n      },\n    },\n  });\n  const { ext } = interval(p);\n  const geometry = ext.geometry as Geometry;\n  const { background } = chart.getTheme();\n  const customInfo: CustomInfo = {\n    radius,\n    outline,\n    wave,\n    shape,\n    background,\n    animation,\n  };\n\n  // \u5C06 radius \u4F20\u5165\u5230\u81EA\u5B9A\u4E49 shape \u4E2D\n  geometry.customInfo(customInfo);\n\n  // \u5173\u95ED\u7EC4\u4EF6\n  chart.legend(false);\n  chart.axis(false);\n  chart.tooltip(false);\n\n  return params;\n}\n\n/**\n * \u7EDF\u8BA1\u6307\u6807\u6587\u6863\n * @param params\n */\nexport function statistic(params: Params<LiquidOptions>, updated?: boolean): Params<LiquidOptions> {\n  const { chart, options } = params;\n  const { statistic, percent, meta } = options;\n\n  // \u5148\u6E05\u7A7A\u6807\u6CE8\uFF0C\u518D\u91CD\u65B0\u6E32\u67D3\n  chart.getController('annotation').clear(true);\n\n  const metaFormatter = get(meta, ['percent', 'formatter']) || ((v) => `${(v * 100).toFixed(2)}%`);\n  let contentOpt = statistic.content;\n  if (contentOpt) {\n    contentOpt = deepAssign({}, contentOpt, {\n      content: !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(percent),\n    });\n  }\n\n  renderStatistic(chart, { statistic: { ...statistic, content: contentOpt }, plotType: 'liquid' }, { percent });\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * \u6C34\u6CE2\u56FE\u9002\u914D\u5668\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<LiquidOptions>) {\n  // flow \u7684\u65B9\u5F0F\u5904\u7406\u6240\u6709\u7684\u914D\u7F6E\u5230 G2 API (\u4E3B\u9898\u524D\u7F6E\uFF0C\u4F1A\u5F71\u54CD\u7ED8\u5236\u7684\u53D6\u8272)\n  return flow(theme, pattern('liquidStyle'), geometry, statistic, scale({}), animation, interaction)(params);\n}\n", "/**\n * \u6C34\u6CE2\u56FE\u9ED8\u8BA4\u914D\u7F6E\u9879\n */\nexport const DEFAULT_OPTIONS = {\n  radius: 0.9,\n  statistic: {\n    title: false as const,\n    content: {\n      style: {\n        opacity: 0.75,\n        fontSize: '30px',\n        lineHeight: '30px',\n        textAlign: 'center',\n      },\n    },\n  },\n  outline: {\n    border: 2,\n    distance: 0,\n  },\n  wave: {\n    count: 3,\n    length: 192,\n  },\n  shape: 'circle',\n};\n", "import { registerShape } from '@antv/g2';\nimport { IGroup, IShape } from '@antv/g-base';\nimport { reduce, isNumber, mix } from '@antv/util';\nimport { transform } from '../../../utils/matrix';\nimport { Point, ShapeStyle } from '../../../types';\nimport { LiquidOptions, CustomInfo } from '../types';\n\nconst DURATION = 5000;\n\n/**\n * \u4E00\u4E2A\u7EBF\u6027\u6620\u5C04\u7684\u51FD\u6570\n * @param min\n * @param max\n * @param factor\n */\nfunction lerp(min: number, max: number, factor: number) {\n  return min + (max - min) * factor;\n}\n\n/**\n * \u6CE2\u6D6A\u7684 attrs\n * @param cfg\n */\nfunction getFillAttrs(cfg: ShapeStyle) {\n  const attrs = { opacity: 1, ...cfg.style };\n\n  if (cfg.color && !attrs.fill) {\n    attrs.fill = cfg.color;\n  }\n\n  return attrs;\n}\n\n/**\n * shape \u7684 attrs\n * @param cfg\n */\nfunction getLineAttrs(cfg: ShapeStyle) {\n  const defaultAttrs = {\n    fill: '#fff',\n    fillOpacity: 0,\n    lineWidth: 4,\n  };\n  const attrs = mix({}, defaultAttrs, cfg.style);\n\n  if (cfg.color && !attrs.stroke) {\n    attrs.stroke = cfg.color;\n  }\n  if (isNumber(cfg.opacity)) {\n    attrs.opacity = attrs.strokeOpacity = cfg.opacity;\n  }\n\n  return attrs;\n}\n\n/**\n * \u7528\u8D1D\u585E\u5C14\u66F2\u7EBF\u6A21\u62DF\u6B63\u5F26\u6CE2\n * Using Bezier curves to fit sine wave.\n * There is 4 control points for each curve of wave,\n * which is at 1/4 wave length of the sine wave.\n *\n * The control points for a wave from (a) to (d) are a-b-c-d:\n *          c *----* d\n *     b *\n *       |\n * ... a * ..................\n *\n * whose positions are a: (0, 0), b: (0.5, 0.5), c: (1, 1), d: (PI / 2, 1)\n *\n * @param x          x position of the left-most point (a)\n * @param stage      0-3, stating which part of the wave it is\n * @param waveLength wave length of the sine wave\n * @param amplitude  wave amplitude\n * @return \u6B63\u5F26\u7247\u6BB5\u66F2\u7EBF\n */\nfunction getWaterWavePositions(x: number, stage: number, waveLength: number, amplitude: number) {\n  if (stage === 0) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, amplitude],\n      [x + waveLength / 4, amplitude],\n    ];\n  }\n  if (stage === 1) {\n    return [\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), amplitude],\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), amplitude / 2],\n      [x + waveLength / 4, 0],\n    ];\n  }\n  if (stage === 2) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, -amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, -amplitude],\n      [x + waveLength / 4, -amplitude],\n    ];\n  }\n  return [\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), -amplitude],\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), -amplitude / 2],\n    [x + waveLength / 4, 0],\n  ];\n}\n/**\n * \u83B7\u53D6\u6C34\u6CE2\u8DEF\u5F84\n * @param radius          \u534A\u5F84\n * @param waterLevel      \u6C34\u4F4D\n * @param waveLength      \u6CE2\u957F\n * @param phase           \u76F8\u4F4D\n * @param amplitude       \u9707\u5E45\n * @param cx              \u5706\u5FC3x\n * @param cy              \u5706\u5FC3y\n * @return path            \u8DEF\u5F84\n * @reference http://gitlab.alipay-inc.com/datavis/g6/blob/1.2.0/src/graph/utils/path.js#L135\n */\nfunction getWaterWavePath(\n  radius: number,\n  waterLevel: number,\n  waveLength: number,\n  phase: number,\n  amplitude: number,\n  cx: number,\n  cy: number\n) {\n  const curves = Math.ceil(((2 * radius) / waveLength) * 4) * 4;\n  const path = [];\n  let _phase = phase;\n\n  // map phase to [-Math.PI * 2, 0]\n  while (_phase < -Math.PI * 2) {\n    _phase += Math.PI * 2;\n  }\n  while (_phase > 0) {\n    _phase -= Math.PI * 2;\n  }\n  _phase = (_phase / Math.PI / 2) * waveLength;\n\n  const left = cx - radius + _phase - radius * 2;\n  /**\n   * top-left corner as start point\n   *\n   * draws this point\n   *  |\n   * \\|/\n   *  ~~~~~~~~\n   *  |      |\n   *  +------+\n   */\n  path.push(['M', left, waterLevel]);\n\n  /**\n   * top wave\n   *\n   * ~~~~~~~~ <- draws this sine wave\n   * |      |\n   * +------+\n   */\n  let waveRight = 0;\n  for (let c = 0; c < curves; ++c) {\n    const stage = c % 4;\n    const pos = getWaterWavePositions((c * waveLength) / 4, stage, waveLength, amplitude);\n    path.push([\n      'C',\n      pos[0][0] + left,\n      -pos[0][1] + waterLevel,\n      pos[1][0] + left,\n      -pos[1][1] + waterLevel,\n      pos[2][0] + left,\n      -pos[2][1] + waterLevel,\n    ]);\n\n    if (c === curves - 1) {\n      waveRight = pos[2][0];\n    }\n  }\n\n  /**\n   * top-right corner\n   *\n   *                       ~~~~~~~~\n   * 3. draws this line -> |      | <- 1. draws this line\n   *                       +------+\n   *                          ^\n   *                          |\n   *                  2. draws this line\n   */\n  path.push(['L', waveRight + left, cy + radius]);\n  path.push(['L', left, cy + radius]);\n  path.push(['Z']);\n  // path.push(['L', left, waterLevel]);\n  return path;\n}\n\n/**\n * \u6DFB\u52A0\u6C34\u6CE2\n * @param x           \u4E2D\u5FC3x\n * @param y           \u4E2D\u5FC3y\n * @param level       \u6C34\u4F4D\u7B49\u7EA7 0\uFF5E1\n * @param waveCount   \u6C34\u6CE2\u6570\n * @param waveAttrs      \u8272\u503C\n * @param group       \u56FE\u7EC4\n * @param clip        \u7528\u4E8E\u526A\u5207\u7684\u56FE\u5F62\n * @param radius      \u7ED8\u5236\u56FE\u5F62\u7684\u9AD8\u5EA6\n * @param waveLength  \u6CE2\u7684\u957F\u5EA6\n */\nexport function addWaterWave(\n  x: number,\n  y: number,\n  level: number,\n  waveCount: number,\n  waveAttrs: ShapeStyle,\n  group: IGroup,\n  clip: IShape,\n  radius: number,\n  waveLength: number,\n  animation: LiquidOptions['animation']\n) {\n  // \u76D2\u5B50\u5C5E\u6027 \u989C\u8272 \u5BBD\u9AD8\n  const { fill, opacity } = waveAttrs;\n  const bbox = clip.getBBox();\n  const width = bbox.maxX - bbox.minX;\n  const height = bbox.maxY - bbox.minY;\n\n  // \u5FAA\u73AF waveCount \u4E2A\u6570\n  for (let idx = 0; idx < waveCount; idx++) {\n    const factor = waveCount <= 1 ? 0 : idx / (waveCount - 1);\n\n    // \u753B\u6CE2\n    const wave = group.addShape('path', {\n      name: `waterwave-path`,\n      attrs: {\n        // \u6CE2\u5F62\u8DEF\u5F84\u914D\u7F6E\n        path: getWaterWavePath(\n          radius,\n          bbox.minY + height * level,\n          waveLength,\n          0,\n          width / 32, // \u6CE2\u5E45\u9AD8\u5EA6\n          x,\n          y\n        ),\n        fill,\n        opacity: lerp(0.2, 0.9, factor) * opacity,\n      },\n    });\n\n    try {\n      // \u9ED8\u8BA4 underfind \u5F00\u542F\u52A8\u753B\n      if (animation === false) return;\n      const matrix = transform([['t', waveLength, 0]]);\n\n      wave.stopAnimate();\n      wave.animate(\n        { matrix },\n        {\n          duration: lerp(0.5 * DURATION, DURATION, factor),\n          repeat: true,\n        }\n      );\n    } catch (e) {\n      // TODO off-screen canvas \u4E2D\u52A8\u753B\u4F1A\u627E\u4E0D\u5230 canvas\n      console.warn('off-screen group animate error!');\n    }\n  }\n}\n\n/**\n *\n * @param x \u4E2D\u5FC3 x\n * @param y \u4E2D\u5FC3 y\n * @param width \u5916\u63A5\u77E9\u5F62\u7684\u5BBD\n * @param height \u5916\u63A5\u77E9\u5F62\u7684\u9AD8\n */\nfunction pin(x: number, y: number, width: number, height: number) {\n  const w = (width * 2) / 3;\n  const h = Math.max(w, height);\n  const r = w / 2;\n\n  // attrs of the upper circle\n  const cx = x;\n  const cy = r + y - h / 2;\n  const theta = Math.asin(r / ((h - r) * 0.85));\n  const dy = Math.sin(theta) * r;\n  const dx = Math.cos(theta) * r;\n\n  // the start point of the path\n  const x0 = cx - dx;\n  const y0 = cy + dy;\n\n  // control point\n  const cpX = x;\n  const cpY = cy + r / Math.sin(theta);\n\n  return `\n      M ${x0} ${y0}\n      A ${r} ${r} 0 1 1 ${x0 + dx * 2} ${y0}\n      Q ${cpX} ${cpY} ${x} ${y + h / 2}\n      Q ${cpX} ${cpY} ${x0} ${y0}\n      Z \n    `;\n}\n\n/**\n *\n * @param x \u4E2D\u5FC3 x\n * @param y \u4E2D\u5FC3 y\n * @param width \u5916\u63A5\u77E9\u5F62\u7684\u5BBD\n * @param height \u5916\u63A5\u77E9\u5F62\u7684\u9AD8\n */\nfunction circle(x: number, y: number, width: number, height: number) {\n  const rx = width / 2;\n  const ry = height / 2;\n  return `\n      M ${x} ${y - ry} \n      a ${rx} ${ry} 0 1 0 0 ${ry * 2}\n      a ${rx} ${ry} 0 1 0 0 ${-ry * 2}\n      Z\n    `;\n}\n\n/**\n *\n * @param x \u4E2D\u5FC3 x\n * @param y \u4E2D\u5FC3 y\n * @param width \u5916\u63A5\u77E9\u5F62\u7684\u5BBD\n * @param height \u5916\u63A5\u77E9\u5F62\u7684\u9AD8\n */\nfunction diamond(x: number, y: number, width: number, height: number) {\n  const h = height / 2;\n  const w = width / 2;\n  return `\n      M ${x} ${y - h}\n      L ${x + w} ${y}\n      L ${x} ${y + h}\n      L ${x - w} ${y}\n      Z\n    `;\n}\n\n/**\n *\n * @param x \u4E2D\u5FC3 x\n * @param y \u4E2D\u5FC3 y\n * @param width \u5916\u63A5\u77E9\u5F62\u7684\u5BBD\n * @param height \u5916\u63A5\u77E9\u5F62\u7684\u9AD8\n */\nfunction triangle(x: number, y: number, width: number, height: number) {\n  const h = height / 2;\n  const w = width / 2;\n  return `\n      M ${x} ${y - h}\n      L ${x + w} ${y + h}\n      L ${x - w} ${y + h}\n      Z\n    `;\n}\n\n/**\n *\n * @param x \u4E2D\u5FC3 x\n * @param y \u4E2D\u5FC3 y\n * @param width \u5916\u63A5\u77E9\u5F62\u7684\u5BBD\n * @param height \u5916\u63A5\u77E9\u5F62\u7684\u9AD8\n */\nfunction rect(x: number, y: number, width: number, height: number) {\n  const GOLDEN_SECTION_RATIO = 0.618;\n  const h = height / 2;\n  const w = (width / 2) * GOLDEN_SECTION_RATIO;\n  return `\n      M ${x - w} ${y - h}\n      L ${x + w} ${y - h}\n      L ${x + w} ${y + h}\n      L ${x - w} ${y + h}\n      Z\n    `;\n}\n\nconst builtInShapeByName = {\n  pin,\n  circle,\n  diamond,\n  triangle,\n  rect,\n};\n\nregisterShape('interval', 'liquid-fill-gauge', {\n  draw(cfg: any, container: IGroup) {\n    const cx = 0.5;\n    const cy = 0.5;\n\n    const { customInfo } = cfg;\n    const { radius: radio, shape, background, animation } = customInfo as CustomInfo;\n    const outline: LiquidOptions['outline'] = customInfo.outline;\n    const wave: LiquidOptions['wave'] = customInfo.wave;\n    const { border, distance } = outline;\n    const { count: waveCount, length: waveLength } = wave;\n\n    // \u83B7\u53D6\u6700\u5C0F minX\n    const minX = reduce(\n      cfg.points as Point[],\n      (r: number, p: Point) => {\n        return Math.min(r, p.x);\n      },\n      Infinity\n    );\n\n    const center = this.parsePoint({ x: cx, y: cy });\n    const minXPoint = this.parsePoint({ x: minX, y: cy });\n    const halfWidth = center.x - minXPoint.x;\n\n    // \u4FDD\u8BC1\u534A\u5F84\u662F \u753B\u5E03\u5BBD\u9AD8\u6700\u5C0F\u503C\u7684 radius \u503C\n    const radius = Math.min(halfWidth, minXPoint.y * radio);\n    const waveAttrs = getFillAttrs(cfg);\n    const outlineAttrs = getLineAttrs(mix({}, cfg, outline));\n    const innerRadius = radius - border / 2;\n\n    const buildPath = typeof shape === 'function' ? shape : builtInShapeByName[shape] || builtInShapeByName['circle'];\n    const shapePath = buildPath(center.x, center.y, innerRadius * 2, innerRadius * 2);\n\n    // 1. \u7ED8\u5236\u4E00\u4E2A\u6CE2\n    const waves = container.addGroup({\n      name: 'waves',\n    });\n\n    // 3. \u6CE2\u5BF9\u5E94\u7684 clip \u88C1\u526A\u5F62\u72B6\n    const clipPath = waves.setClip({\n      type: 'path',\n      attrs: {\n        path: shapePath,\n      },\n    });\n\n    // 4. \u7ED8\u5236\u6CE2\u5F62\n    addWaterWave(\n      center.x,\n      center.y,\n      1 - (cfg.points[1] as Point).y,\n      waveCount,\n      waveAttrs,\n      waves,\n      clipPath,\n      radius * 2,\n      waveLength,\n      animation\n    );\n\n    // 2. \u7ED8\u5236\u4E00\u4E2A distance \u5BBD\u7684 border\n    container.addShape('path', {\n      name: 'distance',\n      attrs: {\n        path: shapePath,\n        fill: 'transparent',\n        lineWidth: border + distance * 2,\n        stroke: background === 'transparent' ? '#fff' : background,\n      },\n    });\n\n    // 3. \u7ED8\u5236\u4E00\u4E2A border \u5BBD\u7684 border\n    container.addShape('path', {\n      name: 'wrap',\n      attrs: mix(outlineAttrs, {\n        path: shapePath,\n        fill: 'transparent',\n        lineWidth: border,\n      }),\n    });\n\n    return container;\n  },\n});\n", "import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { LiquidOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getLiquidData } from './utils';\n// register liquid shape\nimport './shapes/liquid';\n\nexport { addWaterWave } from './shapes/liquid';\n\nexport type { LiquidOptions };\n\n/**\n * \u4F20\u8BF4\u4E2D\u7684\u6C34\u6CE2\u56FE\n */\nexport class Liquid extends Plot<LiquidOptions> {\n  /**\n   * \u83B7\u53D6 \u997C\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n   * \u4F9B\u5916\u90E8\u4F7F\u7528\n   */\n  static getDefaultOptions(): Partial<LiquidOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'liquid';\n\n  /**\n   * \u83B7\u53D6 \u6C34\u6CE2\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879, \u4F9B base \u83B7\u53D6\n   */\n  protected getDefaultOptions(): Partial<LiquidOptions> {\n    return Liquid.getDefaultOptions();\n  }\n\n  /**\n   * \u66F4\u65B0\u6570\u636E\n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    this.updateOption({ percent });\n\n    this.chart.data(getLiquidData(percent));\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \u83B7\u53D6\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<LiquidOptions> {\n    return adaptor;\n  }\n}\n", "import { BulletOptions } from './types';\n\ntype TransformData = {\n  min: number;\n  max: number;\n  ds: any[];\n};\n\n/**\n * \u83B7\u53D6\u5206\u7C7B\u5B57\u6BB5 key \u503C \u4E00\u4E2A\u5206\u7C7B\u503C\u7684\u65F6\u5019\uFF0C \u8FD4\u56DE\u975E\u7D22\u5F15 key \u503C\uFF0C\u5728 tooltip \u4E0D\u505A\u7D22\u5F15\u533A\u5206\n * @param values \u6570\u636E\u91CF\n * @param field \u6307\u6807\u5B57\u6BB5\n * @param index \u7D22\u5F15\n * @returns string\n */\nfunction getSeriesFieldKey(values: number[], field: string, index: number): string {\n  return values.length > 1 ? `${field}_${index}` : `${field}`;\n}\n\n/**\n * bullet \u5904\u7406\u6570\u636E\n * @param options\n */\nexport function transformData(options: BulletOptions): TransformData {\n  const { data, xField, measureField, rangeField, targetField, layout } = options;\n  const ds: any[] = [];\n  const scales: number[] = [];\n  data.forEach((item: any, index: number) => {\n    // \u6784\u5EFA title * range\n    const rangeValues = [item[rangeField]].flat();\n    rangeValues.sort((a: number, b: number) => a - b);\n    rangeValues.forEach((d: number, i: number) => {\n      const range = i === 0 ? d : rangeValues[i] - rangeValues[i - 1];\n      ds.push({\n        rKey: `${rangeField}_${i}`,\n        [xField]: xField ? item[xField] : String(index), // \u6CA1\u6709xField\u5C31\u7528\u7D22\u5F15\n        [rangeField]: range,\n      });\n    });\n\n    // \u6784\u5EFA title * measure\n    const measureValues = [item[measureField]].flat();\n    measureValues.forEach((d: number, i: number) => {\n      ds.push({\n        mKey: getSeriesFieldKey(measureValues, measureField, i),\n        [xField]: xField ? item[xField] : String(index),\n        [measureField]: d,\n      });\n    });\n\n    // \u6784\u5EFA title * target\n    const targetValues = [item[targetField]].flat();\n    targetValues.forEach((d: number, i: number) => {\n      ds.push({\n        tKey: getSeriesFieldKey(targetValues, targetField, i),\n        [xField]: xField ? item[xField] : String(index),\n        [targetField]: d,\n      });\n    });\n\n    // \u4E3A\u4E86\u53D6\u6700\u5927\u503C\u548C\u6700\u5C0F\u503C\uFF0C\u5148\u5B58\u50A8\n    scales.push(item[rangeField], item[measureField], item[targetField]);\n  });\n  // scales \u662F\u5D4C\u5957\u7684\u9700\u8981\u62CD\u5E73\n  let min = Math.min(...scales.flat(Infinity));\n  const max = Math.max(...scales.flat(Infinity));\n  // min \u5927\u4E8E 0 \u4ECE 0 \u5F00\u59CB\n  min = min > 0 ? 0 : min;\n\n  // \u5782\u76F4\u60C5\u51B5\uFF0C\u9700\u8981\u53CD\u8F6C\u6570\u636E\n  if (layout === 'vertical') {\n    ds.reverse();\n  }\n  return { min, max, ds };\n}\n", "import { get, isFunction } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, tooltip, scale } from '../../adaptor/common';\nimport { flow, transformLabel, deepAssign } from '../../utils';\nimport { Datum } from '../../types';\nimport { interval, point } from '../../adaptor/geometries';\nimport { BulletOptions } from './types';\nimport { transformData } from './utils';\n\n/**\n * geometry \u5904\u7406\n * @param params\n */\nfunction geometry(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { bulletStyle, targetField, rangeField, measureField, xField, color, layout, size, label } = options;\n  // \u5904\u7406\u6570\u636E\n  const { min, max, ds } = transformData(options);\n  chart.data(ds);\n\n  // rangeGeometry\n  const r = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: rangeField,\n      seriesField: 'rKey',\n      isStack: true,\n      label: get(label, 'range'),\n      interval: {\n        color: get(color, 'range'),\n        style: get(bulletStyle, 'range'),\n        size: get(size, 'range'),\n      },\n    },\n  });\n  interval(r);\n  // \u8303\u56F4\u503C\u7684 tooltip \u9690\u85CF\u6389\n  chart.geometries[0].tooltip(false);\n\n  // measureGeometry\n  const m = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: measureField,\n      seriesField: 'mKey',\n      isStack: true,\n      label: get(label, 'measure'),\n      interval: {\n        color: get(color, 'measure'),\n        style: get(bulletStyle, 'measure'),\n        size: get(size, 'measure'),\n      },\n    },\n  });\n  interval(m);\n\n  // targetGeometry\n  const t = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: targetField,\n      seriesField: 'tKey',\n      label: get(label, 'target'),\n      point: {\n        color: get(color, 'target'),\n        style: get(bulletStyle, 'target'),\n        size: isFunction(get(size, 'target'))\n          ? (data: Datum) => get(size, 'target')(data) / 2\n          : get(size, 'target') / 2,\n        shape: layout === 'horizontal' ? 'line' : 'hyphen',\n      },\n    },\n  });\n  point(t);\n\n  // \u6C34\u5E73\u7684\u65F6\u5019\uFF0C\u8981\u8F6C\u6362\u5750\u6807\u8F74\n  if (layout === 'horizontal') {\n    chart.coordinate().transpose();\n  }\n\n  return { ...params, ext: { data: { min, max } } };\n}\n\n/**\n * meta \u914D\u7F6E\n * @param params\n */\nexport function meta(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { options, ext } = params;\n  const { xAxis, yAxis, targetField, rangeField, measureField, xField } = options;\n\n  const extData = ext.data;\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [measureField]: yAxis,\n      },\n      // \u989D\u5916\u7684 meta\n      {\n        [measureField]: { min: extData?.min, max: extData?.max, sync: true },\n        [targetField]: {\n          sync: `${measureField}`,\n        },\n        [rangeField]: {\n          sync: `${measureField}`,\n        },\n      }\n    )\n  )(params);\n}\n\n/**\n * axis \u914D\u7F6E\n * @param params\n */\nfunction axis(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, measureField, rangeField, targetField } = options;\n\n  chart.axis(`${rangeField}`, false);\n  chart.axis(`${targetField}`, false);\n\n  // \u4E3A false \u5219\u662F\u4E0D\u663E\u793A\u8F74\n  if (xAxis === false) {\n    chart.axis(`${xField}`, false);\n  } else {\n    chart.axis(`${xField}`, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(`${measureField}`, false);\n  } else {\n    chart.axis(`${measureField}`, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \u914D\u7F6E\n * @param params\n */\nfunction legend(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n  chart.removeInteraction('legend-filter');\n  // @TODO \u540E\u7EED\u770B\u662F\u5426\u5185\u90E8\u81EA\u5B9A\u4E49\u4E00\u4E2A legend\n  chart.legend(legend);\n\n  // \u9ED8\u8BA4\u5173\u95ED\u6389\u6240\u5728 color \u5B57\u6BB5\u7684 legend, \u4ECE\u800C\u4E0D\u5F71\u54CD\u81EA\u5B9A\u4E49\u7684legend\n  chart.legend('rKey', false);\n  chart.legend('mKey', false);\n  chart.legend('tKey', false);\n\n  return params;\n}\n\n/**\n * label \u914D\u7F6E\n * @param params\n */\nfunction label(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { label, measureField, targetField, rangeField } = options;\n  const [rangeGeometry, measureGeometry, targetGeometry] = chart.geometries;\n\n  if (get(label, 'range')) {\n    rangeGeometry.label(`${rangeField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.range),\n    });\n  } else {\n    rangeGeometry.label(false);\n  }\n  if (get(label, 'measure')) {\n    measureGeometry.label(`${measureField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.measure),\n    });\n  } else {\n    measureGeometry.label(false);\n  }\n  if (get(label, 'target')) {\n    targetGeometry.label(`${targetField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.target),\n    });\n  } else {\n    targetGeometry.label(false);\n  }\n\n  return params;\n}\n\n/**\n * \u5B50\u5F39\u56FE\u9002\u914D\u5668\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BulletOptions>) {\n  // flow \u7684\u65B9\u5F0F\u5904\u7406\u6240\u6709\u7684\u914D\u7F6E\u5230 G2 API\n  flow(geometry, meta, axis, legend, theme, label, tooltip, interaction, animation)(params);\n}\n", "import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \u9ED8\u8BA4\u914D\u7F6E\u9879\n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  layout: 'horizontal',\n  size: {\n    range: 30,\n    measure: 20,\n    target: 20,\n  },\n  xAxis: {\n    tickLine: false,\n    line: null,\n  },\n  bulletStyle: {\n    range: {\n      fillOpacity: 0.5,\n    },\n  },\n  label: {\n    measure: {\n      position: 'right',\n    },\n  },\n  tooltip: {\n    // \u9ED8\u8BA4\u5173\u95ED\n    showMarkers: false,\n  },\n});\n", "import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { BulletOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { transformData } from './utils';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { BulletOptions };\n\nexport class Bullet extends Plot<BulletOptions> {\n  /**\n   * \u83B7\u53D6 \u5B50\u5F39\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n   * \u4F9B\u5916\u90E8\u4F7F\u7528\n   */\n  static getDefaultOptions(): Partial<BulletOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'bullet';\n\n  public changeData(data) {\n    this.updateOption({ data });\n    const { min, max, ds } = transformData(this.options);\n    // \u5904\u7406scale\n    meta({ options: this.options, ext: { data: { min, max } }, chart: this.chart });\n    this.chart.changeData(ds);\n  }\n\n  /**\n   * \u83B7\u53D6\u5B50\u5F39\u56FE\u7684\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<BulletOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \u83B7\u53D6 \u5B50\u5F39\u56FE \u9ED8\u8BA4\u914D\u7F6E\n   */\n  protected getDefaultOptions() {\n    return Bullet.getDefaultOptions();\n  }\n}\n", "import { isArray, isString, filter } from '@antv/util';\n\n/** export \u4E00\u4E9B\u5B57\u6BB5\u5E38\u91CF */\n/** \u5728\u540C\u5C42\u7EA7\uFF0C\u540C\u4E00\u7236\u8282\u70B9\u4E0B\u7684\u8282\u70B9\u7D22\u5F15\u987A\u5E8F */\nexport const NODE_INDEX_FIELD = 'nodeIndex';\n/** child \u8282\u70B9\u6570\u91CF */\nexport const CHILD_NODE_COUNT = 'childNodeCount';\n/** \u8282\u70B9\u7684\u7956\u5148\u8282\u70B9 */\nexport const NODE_ANCESTORS_FIELD = 'nodeAncestor';\n\nconst INVALID_FIELD_ERR_MSG = 'Invalid field: it must be a string!';\n\ninterface Options {\n  field?: string | string[];\n  fields?: string | string[];\n}\n\nexport function getField(options: Options, defaultField?: string): string {\n  const { field, fields } = options;\n  if (isString(field)) {\n    return field;\n  }\n  if (isArray(field)) {\n    console.warn(INVALID_FIELD_ERR_MSG);\n    return field[0];\n  }\n  console.warn(`${INVALID_FIELD_ERR_MSG} will try to get fields instead.`);\n  if (isString(fields)) {\n    return fields;\n  }\n  if (isArray(fields) && fields.length) {\n    return fields[0];\n  }\n  if (defaultField) {\n    return defaultField;\n  }\n  throw new TypeError(INVALID_FIELD_ERR_MSG);\n}\n\nexport function getAllNodes(root: any) {\n  const nodes: any[] = [];\n  if (root && root.each) {\n    let parent;\n    let index;\n    // d3-hierarchy: Invokes the specified function for node and each descendant in **breadth-first order**\n    root.each((node: any) => {\n      if (node.parent !== parent) {\n        parent = node.parent;\n        index = 0;\n      } else {\n        index += 1;\n      }\n      const ancestors = filter(\n        (node.ancestors?.() || []).map((d: any) => nodes.find((n) => n.name === d.name) || d),\n        ({ depth }) => depth > 0 && depth < node.depth\n      );\n\n      node[NODE_ANCESTORS_FIELD] = ancestors;\n      node[CHILD_NODE_COUNT] = node.children?.length || 0;\n      node[NODE_INDEX_FIELD] = index;\n\n      nodes.push(node);\n    });\n  } else if (root && root.eachNode) {\n    // @antv/hierarchy\n    root.eachNode((node: any) => {\n      nodes.push(node);\n    });\n  }\n  return nodes;\n}\n", "import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { CHILD_NODE_COUNT, NODE_ANCESTORS_FIELD, NODE_INDEX_FIELD } from '../../utils/hierarchy/util';\nimport { SunburstOptions } from './types';\n\n/**\n * \u7956\u5148\u8282\u70B9\uFF0C\u975E root \u6839\u8282\u70B9\n */\nexport const SUNBURST_ANCESTOR_FIELD = 'ancestor-node';\nexport const SUNBURST_Y_FIELD = 'value';\nexport const SUNBURST_PATH_FIELD = 'path';\n\n/** \u9ED8\u8BA4\u7684\u6E90\u5B57\u6BB5 */\nexport const RAW_FIELDS = [\n  SUNBURST_PATH_FIELD,\n  NODE_INDEX_FIELD,\n  NODE_ANCESTORS_FIELD,\n  CHILD_NODE_COUNT,\n  'name',\n  'depth',\n  'height',\n];\n\n/**\n * \u65ED\u65E5\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n */\nexport const DEFAULT_OPTIONS: Partial<SunburstOptions> = deepAssign({}, Plot.getDefaultOptions(), {\n  innerRadius: 0,\n  radius: 0.85,\n\n  // \u5206\u5C42\u914D\u7F6E\n  hierarchyConfig: {\n    // \u6570\u503C\u5B57\u6BB5\uFF0C\u9ED8\u8BA4\u662F value\uFF08\u53EF\u914D\u7F6E\uFF09\n    field: 'value',\n  },\n\n  // \u7EC4\u4EF6\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n    showTitle: false,\n  },\n  legend: false,\n\n  // \u6837\u5F0F\u8BBE\u7F6E\n  sunburstStyle: {\n    lineWidth: 0.5,\n    stroke: '#FFF',\n  },\n\n  // \u9ED8\u8BA4\u5F00\u542F\u4EA4\u4E92\n  drilldown: { enabled: true },\n});\n", "import { Action, IGroup, Util } from '@antv/g2';\nimport { get, last, isNil, size } from '@antv/util';\nimport { Data } from '../../types';\nimport { DrillDownCfg } from '../../types/drill-down';\nimport { deepAssign } from '../../utils/deep-assign';\n\n// \u9762\u5305\u5C51\u6587\u5B57\u548C\u5206\u5272\u7B26'/'\u4E4B\u95F4\u7684\u8DDD\u79BB\nconst PADDING = 4;\n// \u9762\u5305\u5C51\u4F4D\u7F6E\u8DDD\u79BB\u6811\u56FE\u7684\u8DDD\u79BB\nconst PADDING_LEFT = 0;\n// \u9762\u5305\u5C51\u4F4D\u7F6E\u8DDD\u79BB\u6811\u56FE\u7684\u9876\u90E8\u8DDD\u79BB\nexport const PADDING_TOP = 5;\n\n/** Group name of breadCrumb: \u9762\u5305\u5C51 */\nexport const BREAD_CRUMB_NAME = 'drilldown-bread-crumb';\n\n// \u9762\u5305\u5C51\u9ED8\u8BA4\u914D\u7F6E\nexport const DEFAULT_BREAD_CRUMB_CONFIG: DrillDownCfg['breadCrumb'] = {\n  /** \u4F4D\u7F6E\uFF0C\u9ED8\u8BA4\uFF1A\u5DE6\u4E0A\u89D2 */\n  position: 'top-left',\n  dividerText: '/',\n  textStyle: {\n    fontSize: 12,\n    fill: 'rgba(0, 0, 0, 0.65)',\n    cursor: 'pointer',\n  },\n  activeTextStyle: {\n    fill: '#87B5FF',\n  },\n};\n\n/**\n * hierarchy \u6570\u636E\u8F6C\u6362\u7684\u53C2\u6570\n */\nexport const HIERARCHY_DATA_TRANSFORM_PARAMS = 'hierarchy-data-transform-params';\n\n/**\n * Hierarchy plot \u8282\u70B9\u7684\u6570\u636E\n */\nexport type HierarchyNode<N = any /** \u8282\u70B9 */> = {\n  /** \u8282\u70B9\u7684\u539F\u59CB\u6570\u636E\uFF0C\u6811\u578B\u7ED3\u6784\uFF08todo \u662F\u5426\u66F4\u6B63 key \u4E3A origin\uFF09 */\n  data: { name: string; value?: any; children: { name: string; value?: any }[] };\n  /** \u5728\u6784\u5EFA\u8282\u70B9\u6570\u636E\u65F6\u5019\uFF0C\u589E\u52A0\u7684\u6269\u5C55\u914D\u7F6E, \u7528\u4E8E\u5B58\u50A8 transformData \u7684\u5165\u53C2\u914D\u7F6E */\n  [HIERARCHY_DATA_TRANSFORM_PARAMS]: object;\n  /** \u5F53\u524D\u7684\u5C42\u7EA7\u7ED3\u6784\uFF0C\u6BCF\u4E00\u6B21\u4E0B\u94BB\u90FD\u4F1A\u66F4\u65B0. \u4E0D\u662F unique */\n  depth: number;\n  /** \u5F53\u524D\u6240\u5904\u9AD8\u5EA6\uFF0Cdepth + height = \u603B\u7684\u5C42\u7EA7 */\n  height: number;\n  parent: N;\n  children: N[];\n};\n\ntype HistoryCache = {\n  name: string;\n  id: string;\n  children: Data;\n}[];\n\n/**\n * @description \u4E0B\u94BB\u4EA4\u4E92\u7684 action\n * @author liuzhenying\n *\n * \u9002\u7528\u4E8E\uFF1Ahierarchy plot\n */\nexport class DrillDownAction extends Action {\n  /** Action name */\n  public name = 'drill-down';\n\n  // \u5B58\u50A8\u5386\u53F2\u4E0B\u94BB\u6570\u636E\n  protected historyCache: HistoryCache = [];\n  // \u9762\u5305\u5C51 group\n  private breadCrumbGroup: IGroup = null;\n  // \u9762\u5305\u5C51\u57FA\u7840\u914D\u7F6E\n  private breadCrumbCfg: DrillDownCfg['breadCrumb'] = DEFAULT_BREAD_CRUMB_CONFIG;\n\n  /**\n   * \u70B9\u51FB\u4E8B\u4EF6, \u4E0B\u94BB\u6570\u636E\uFF0C\u5E76\u7ED8\u5236\u9762\u5305\u5C51\n   */\n  public click() {\n    const data = get(this.context, ['event', 'data', 'data']);\n    if (!data) return false;\n\n    this.drill(data);\n    this.drawBreadCrumb();\n  }\n\n  /**\n   * \u91CD\u7F6E\u4F4D\u7F6E\uFF0C\u521D\u59CB\u5316\u53CA\u89E6\u53D1 chart  afterchangesize \u56DE\u8C03\u65F6\u4F7F\u7528\n   */\n  public resetPosition() {\n    // \u5F53\u5728\u7B2C\u4E00\u5C42\u7EA7\u672A\u7ED8\u5236\u9762\u5305\u5C51\uFF0C\u6B64\u65F6 changedata \u89E6\u53D1 resetPosition \u51FD\u6570\uFF0C\u9700\u5224\u65AD this.breadCrumbGroup \u662F\u5426\u5B58\u5728\n    if (!this.breadCrumbGroup) return;\n    const coordinate = this.context.view.getCoordinate();\n    const breadCrumbGroup = this.breadCrumbGroup;\n    const bbox = breadCrumbGroup.getBBox();\n\n    const { position } = this.getButtonCfg();\n\n    // @todo \u540E\u7EED\u62BD\u53D6\u4E00\u4E2A\u51FD\u6570\u6765\u5904\u7406\uFF0C\u4EE5\u53CA\u589E\u52A0 margin \u6216\u8005 padding \u7684\u8BBE\u7F6E\n    // \u975E polar \u7684\uFF0C\u9700\u8981\u4F7F\u7528 coordinate\uFF0C\u9664\u5374\u56FE\u8868\u7EC4\u4EF6\n    let point = { x: coordinate.start.x, y: coordinate.end.y - (bbox.height + PADDING_TOP * 2) };\n    if (coordinate.isPolar) {\n      // \u9ED8\u8BA4\uFF0C\u5DE6\u4E0A\u89D2\u76F4\u63A5\u51FA\u53D1\n      point = { x: 0, y: 0 };\n    }\n    if (position === 'bottom-left') {\n      // \u6D89\u53CA\u5230\u5750\u6807\u53CD\u8F6C\u7684\u95EE\u9898\n      point = { x: coordinate.start.x, y: coordinate.start.y };\n    }\n    /** PADDING_LEFT, PADDING_TOP \u4E0E\u753B\u5E03\u8FB9\u7F18\u7684\u8DDD\u79BB */\n    const matrix = Util.transform(null, [['t', point.x + PADDING_LEFT, point.y + bbox.height + PADDING_TOP]]);\n    breadCrumbGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \u8FD4\u56DE\u4E0A\u4E00\u5C42\n   */\n  public back(): void {\n    if (size(this.historyCache)) {\n      this.backTo(this.historyCache.slice(0, -1));\n    }\n  }\n\n  /**\n   * \u91CD\u7F6E\n   */\n  public reset(): void {\n    if (this.historyCache[0]) {\n      this.backTo(this.historyCache.slice(0, 1));\n    }\n    // \u6E05\u7A7A\n    this.historyCache = [];\n    this.hideCrumbGroup();\n  }\n\n  /**\n   * \u4E0B\u94BB\u6570\u636E\u5E76\u66F4\u65B0 view \u663E\u793A\u5C42\n   * @param nodeInfo \u4E0B\u94BB\u6570\u636E\n   */\n  protected drill(nodeInfo: HierarchyNode) {\n    const { view } = this.context;\n    const transformData = get(view, ['interactions', 'drill-down', 'cfg', 'transformData'], (v) => v);\n\n    // \u91CD\u65B0 update \u6570\u636E\n    const drillData = transformData({ data: nodeInfo.data, ...nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] });\n    view.changeData(drillData);\n\n    // \u5B58\u50A8\u5386\u53F2\u8BB0\u5F55\n    const historyCache: HistoryCache = [];\n\n    let node = nodeInfo;\n    while (node) {\n      const nodeData = node.data;\n      historyCache.unshift({\n        id: `${nodeData.name}_${node.height}_${node.depth}`,\n        name: nodeData.name,\n        // children \u662F\u5B9E\u9645\u6570\u636E\n        children: transformData({ data: nodeData, ...nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] }),\n      });\n      node = node.parent;\n    }\n\n    this.historyCache = (this.historyCache || []).slice(0, -1).concat(historyCache);\n  }\n\n  /**\n   * \u56DE\u9000\u4E8B\u4EF6\uFF0C\u70B9\u51FB\u9762\u5305\u5C51\u65F6\u89E6\u53D1\n   * @param historyCache \u5F53\u524D\u8981\u56DE\u9000\u5230\u7684\u5386\u53F2\n   */\n  protected backTo(historyCache: HistoryCache) {\n    if (!historyCache || historyCache.length <= 0) {\n      return;\n    }\n\n    const { view } = this.context;\n    const data = last(historyCache).children; // \u5904\u7406\u540E\u7684\u6570\u7EC4\n    view.changeData(data);\n\n    if (historyCache.length > 1) {\n      this.historyCache = historyCache;\n      this.drawBreadCrumb();\n    } else {\n      // \u6E05\u7A7A\n      this.historyCache = [];\n      this.hideCrumbGroup();\n    }\n  }\n\n  /**\n   * \u83B7\u53D6 mix \u9ED8\u8BA4\u7684\u914D\u7F6E\u548C\u7528\u6237\u914D\u7F6E\n   */\n  private getButtonCfg() {\n    const { view } = this.context;\n    const drillDownConfig: DrillDownCfg = get(view, ['interactions', 'drill-down', 'cfg', 'drillDownConfig']);\n\n    return deepAssign(this.breadCrumbCfg, drillDownConfig?.breadCrumb, this.cfg);\n  }\n\n  /**\n   * \u663E\u793A\u9762\u5305\u5C51\n   */\n  private drawBreadCrumb() {\n    this.drawBreadCrumbGroup();\n    this.resetPosition();\n    this.breadCrumbGroup.show();\n  }\n\n  /**\n   * \u7ED8\u5236 Button \u548C \u6587\u672C\n   */\n  private drawBreadCrumbGroup() {\n    const config = this.getButtonCfg();\n    const cache = this.historyCache;\n\n    // \u521D\u59CB\u5316\u9762\u5305\u5C51 group\n    if (!this.breadCrumbGroup) {\n      this.breadCrumbGroup = this.context.view.foregroundGroup.addGroup({\n        name: BREAD_CRUMB_NAME,\n      });\n    } else {\n      this.breadCrumbGroup.clear();\n    }\n\n    // \u7ED8\u5236\u9762\u5305\u5C51\n    let left = 0;\n    cache.forEach((record, index) => {\n      // \u6DFB\u52A0\u6587\u672C\n      const textShape = this.breadCrumbGroup.addShape({\n        type: 'text',\n        id: record.id,\n        name: `${BREAD_CRUMB_NAME}_${record.name}_text`,\n        attrs: {\n          text: index === 0 && !isNil(config.rootText) ? config.rootText : record.name,\n          ...config.textStyle,\n          x: left,\n          y: 0,\n        },\n      });\n\n      const textShapeBox = textShape.getBBox();\n      left += textShapeBox.width + PADDING;\n\n      // \u589E\u52A0\u6587\u672C\u4E8B\u4EF6\n      textShape.on('click', (event) => {\n        const targetId = event.target.get('id');\n        if (targetId !== last(cache)?.id) {\n          const newHistoryCache = cache.slice(0, cache.findIndex((d) => d.id === targetId) + 1);\n          this.backTo(newHistoryCache);\n        }\n      });\n      // active \u6548\u679C\u5185\u7F6E\n      textShape.on('mouseenter', (event) => {\n        const targetId = event.target.get('id');\n        if (targetId !== last(cache)?.id) {\n          textShape.attr(config.activeTextStyle);\n        } else {\n          textShape.attr({ cursor: 'default' });\n        }\n      });\n      textShape.on('mouseleave', () => {\n        textShape.attr(config.textStyle);\n      });\n\n      if (index < cache.length - 1) {\n        // \u6DFB\u52A0\u53CD\u659C\u6760\n        const dividerShape = this.breadCrumbGroup.addShape({\n          type: 'text',\n          name: `${config.name}_${record.name}_divider`,\n          attrs: {\n            text: config.dividerText,\n            ...config.textStyle,\n            x: left,\n            y: 0,\n          },\n        });\n\n        const dividerBox = dividerShape.getBBox();\n        left += dividerBox.width + PADDING;\n      }\n    });\n  }\n\n  /**\n   * \u9690\u85CF\u9762\u5305\u5C51\n   */\n  private hideCrumbGroup() {\n    if (this.breadCrumbGroup) {\n      this.breadCrumbGroup.hide();\n    }\n  }\n\n  /**\n   * @override\n   * destroy: \u9500\u6BC1\u8D44\u6E90\n   */\n  public destroy() {\n    if (this.breadCrumbGroup) {\n      this.breadCrumbGroup.remove();\n    }\n    super.destroy();\n  }\n}\n", "export {default as cluster} from \"./cluster.js\";\nexport {default as hierarchy} from \"./hierarchy/index.js\";\nexport {default as pack} from \"./pack/index.js\";\nexport {default as packSiblings} from \"./pack/siblings.js\";\nexport {default as packEnclose} from \"./pack/enclose.js\";\nexport {default as partition} from \"./partition.js\";\nexport {default as stratify} from \"./stratify.js\";\nexport {default as tree} from \"./tree.js\";\nexport {default as treemap} from \"./treemap/index.js\";\nexport {default as treemapBinary} from \"./treemap/binary.js\";\nexport {default as treemapDice} from \"./treemap/dice.js\";\nexport {default as treemapSlice} from \"./treemap/slice.js\";\nexport {default as treemapSliceDice} from \"./treemap/sliceDice.js\";\nexport {default as treemapSquarify} from \"./treemap/squarify.js\";\nexport {default as treemapResquarify} from \"./treemap/resquarify.js\";\n", "function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n", "function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n", "export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n", "export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n", "export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n", "export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n", "export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n", "export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n", "export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n", "export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n", "export default function() {\n  return Array.from(this);\n}\n", "export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n", "export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Don\u2019t include the root\u2019s parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n", "export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n", "import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n", "export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nexport function shuffle(array) {\n  var m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n", "import {shuffle} from \"../array.js\";\n\nexport default function(circles) {\n  var i = 0, n = (circles = shuffle(Array.from(circles))).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + Math.max(a.r, b.r, 1) * 1e-9, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n", "import array from \"../array.js\";\nimport enclose from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packEnclose(circles) {\n  if (!(n = (circles = array(circles)).length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle\u2026\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // \u201CCloseness\u201D is determined by linear distance along the front-chain.\n    // \u201CAhead\u201D or \u201Cbehind\u201D is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packEnclose(circles);\n  return circles;\n}\n", "export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n", "export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n", "import {packEnclose} from \"./siblings.js\";\nimport {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildren(padding, 0.5))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildren(constantZero, 1))\n          .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildren(padding, k) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packEnclose(children);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n", "export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n", "export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n", "import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n", "import {required} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar preroot = {depth: -1},\n    ambiguous = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId;\n\n  function stratify(data) {\n    var nodes = Array.from(data),\n        n = nodes.length,\n        d,\n        i,\n        root,\n        parent,\n        node,\n        nodeId,\n        nodeKey,\n        nodeByKey = new Map;\n\n    for (i = 0; i < n; ++i) {\n      d = nodes[i], node = nodes[i] = new Node(d);\n      if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = node.id = nodeId;\n        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);\n      }\n      if ((nodeId = parentId(d, i, data)) != null && (nodeId += \"\")) {\n        node.parent = nodeId;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (nodeId = node.parent) {\n        parent = nodeByKey.get(nodeId);\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      } else {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = required(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = required(x), stratify) : parentId;\n  };\n\n  return stratify;\n}\n", "import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-\u2019s ancestor is a sibling of v, returns vi-\u2019s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.\u2019s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n", "export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n", "import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n", "import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n", "export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n", "import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n", "import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n", "import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray, reduce, size } from '@antv/util';\nimport { getField, getAllNodes } from './util';\n\nconst DEFAULT_OPTIONS: Options = {\n  field: 'value',\n  size: [1, 1], // width, height\n  round: false,\n  padding: 0,\n  // \u9ED8\u8BA4\u964D\u5E8F\n  sort: (a, b) => b.value - a.value,\n  as: ['x', 'y'],\n  // \u662F\u5426\u5FFD\u7565 parentValue, \u5F53\u8BBE\u7F6E\u4E3A true \u65F6\uFF0C\u7236\u8282\u70B9\u7684\u6743\u91CD\u7531\u5B50\u5143\u7D20\u51B3\u5B9A\n  ignoreParentValue: true,\n};\n\nexport interface Options {\n  field: string;\n  size?: [number, number];\n  round?: boolean;\n  ratio?: number;\n  padding?: number;\n  sort?: Function;\n  as?: [string, string];\n\n  ignoreParentValue?: boolean;\n}\n\nexport function partition(data: any, options: Options): any[] {\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 2) {\n    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const partition = (data) =>\n    d3Hierarchy.partition().size(options.size).round(options.round).padding(options.padding)(\n      /**\n       * d3Hierarchy \u5E03\u5C40\u4E2D\u9700\u6307\u5B9A sum \u51FD\u6570\u8BA1\u7B97 node \u503C\uFF0C\u89C4\u5219\u662F\uFF1A\u4ECE\u5F53\u524D node \u5F00\u59CB\u4EE5 post-order traversal \u7684\u6B21\u5E8F\u4E3A\u5F53\u524D\u8282\u70B9\u4EE5\u53CA\u6BCF\u4E2A\u540E\u4EE3\u8282\u70B9\u8C03\u7528\u6307\u5B9A\u7684 value \u51FD\u6570\uFF0C\u5E76\u8FD4\u56DE\u5F53\u524D node\u3002\n       * for example:\n       * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n       * parent \u6240\u5F97\u7684\u8BA1\u7B97\u503C\u662F sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n       * sum \u51FD\u6570\u4E2D\uFF0Cd \u4E3A\u7528\u6237\u4F20\u5165\u7684 data, children \u4E3A\u4FDD\u7559\u5B57\u6BB5\n       */\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) =>\n          size(d.children)\n            ? options.ignoreParentValue\n              ? 0\n              : d[field] - reduce(d.children, (a, b) => a + b[field], 0)\n            : d[field]\n        )\n        .sort(options.sort)\n    );\n  const root = partition(data);\n\n  /*\n   * points:\n   *   3  2\n   *   0  1\n   */\n  const x = as[0];\n  const y = as[1];\n\n  root.each((node) => {\n    node[x] = [node.x0, node.x1, node.x1, node.x0];\n    node[y] = [node.y1, node.y1, node.y0, node.y0];\n    // \u65ED\u65E5\u56FE\u517C\u5BB9\u4E0B \u65E7\u7248\u672C\n    node.name = node.name || node.data?.name || node.data?.label;\n    node.data.name = node.name;\n\n    ['x0', 'x1', 'y0', 'y1'].forEach((prop) => {\n      if (as.indexOf(prop) === -1) {\n        delete node[prop];\n      }\n    });\n  });\n\n  return getAllNodes(root);\n}\n", "import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray } from '@antv/util';\nimport { HierarchyOption } from './types';\nimport { getField, getAllNodes } from './util';\n\nconst DEFAULT_OPTIONS: HierarchyOption = {\n  field: 'value',\n  tile: 'treemapSquarify', // treemapBinary, treemapDice, treemapSlice, treemapSliceDice, treemapSquarify, treemapResquarify\n  size: [1, 1], // width, height\n  round: false,\n  ignoreParentValue: true,\n  padding: 0,\n  paddingInner: 0,\n  paddingOuter: 0,\n  paddingTop: 0,\n  paddingRight: 0,\n  paddingBottom: 0,\n  paddingLeft: 0,\n  as: ['x', 'y'],\n  // \u9ED8\u8BA4\u964D\u5E8F\n  sort: (a, b) => b.value - a.value,\n  // \u7EB5\u6A2A\u6BD4, treemapSquarify \u5E03\u5C40\u65F6\u53EF\u7528\uFF0C\u9ED8\u8BA4\u9EC4\u91D1\u5206\u5272\u6BD4\u4F8B\n  ratio: 0.5 * (1 + Math.sqrt(5)),\n};\n\nexport function getTileMethod(tile: string, ratio: number) {\n  return tile === 'treemapSquarify' ? d3Hierarchy[tile].ratio(ratio) : d3Hierarchy[tile];\n}\n\nexport function treemap(data: any, options: HierarchyOption): any[] {\n  options = assign({} as HierarchyOption, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 2) {\n    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const tileMethod = getTileMethod(options.tile, options.ratio);\n\n  const partition = (data) =>\n    d3Hierarchy\n      .treemap()\n      .tile(tileMethod)\n      .size(options.size)\n      .round(options.round)\n      .padding(options.padding)\n      .paddingInner(options.paddingInner)\n      .paddingOuter(options.paddingOuter)\n      .paddingTop(options.paddingTop)\n      .paddingRight(options.paddingRight)\n      .paddingBottom(options.paddingBottom)\n      .paddingLeft(options.paddingLeft)(\n      /**\n       * d3Hierarchy \u5E03\u5C40\u4E2D\u9700\u6307\u5B9A sum \u51FD\u6570\u8BA1\u7B97 node \u503C\uFF0C\u89C4\u5219\u662F\uFF1A\u4ECE\u5F53\u524D node \u5F00\u59CB\u4EE5 post-order traversal \u7684\u6B21\u5E8F\u4E3A\u5F53\u524D\u8282\u70B9\u4EE5\u53CA\u6BCF\u4E2A\u540E\u4EE3\u8282\u70B9\u8C03\u7528\u6307\u5B9A\u7684 value \u51FD\u6570\uFF0C\u5E76\u8FD4\u56DE\u5F53\u524D node\u3002\n       * for example:\n       * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n       * parent \u6240\u5F97\u7684\u8BA1\u7B97\u503C\u662F sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n       * ignoreParentValue \u4E3A true(\u9ED8\u8BA4) \u65F6\uFF0C\u7236\u5143\u7D20\u7684\u503C\u7531\u5B50\u5143\u7D20\u7D2F\u52A0\u800C\u6765\uFF0C\u8BE5\u503C\u4E3A 0 + 5 + 5 = 10\n       * ignoreParentValue \u4E3A false \u65F6\uFF0C\u7236\u5143\u7D20\u7684\u503C\u7531\u5F53\u524D\u8282\u70B9 \u53CA\u5B50\u5143\u7D20\u7D2F\u52A0\u800C\u6765\uFF0C\u8BE5\u503C\u4E3A 10 + 5 + 5 = 20\n       * sum \u51FD\u6570\u4E2D\uFF0Cd \u4E3A\u7528\u6237\u4F20\u5165\u7684 data, children \u4E3A\u4FDD\u7559\u5B57\u6BB5\n       */\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) => (options.ignoreParentValue && d.children ? 0 : d[field]))\n        .sort(options.sort)\n    );\n  const root = partition(data);\n\n  /*\n   * points:\n   *   3  2\n   *   0  1\n   */\n  const x = as[0];\n  const y = as[1];\n  root.each((node) => {\n    node[x] = [node.x0, node.x1, node.x1, node.x0];\n    node[y] = [node.y1, node.y1, node.y0, node.y0];\n    ['x0', 'x1', 'y0', 'y1'].forEach((prop) => {\n      if (as.indexOf(prop) === -1) {\n        delete node[prop];\n      }\n    });\n  });\n\n  return getAllNodes(root);\n}\n", "import { omit } from '@antv/util';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { pick } from '../../utils';\nimport { partition } from '../../utils/hierarchy/partition';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD } from './constant';\nimport { SunburstOptions } from './types';\n\n/**\n * sunburst \u5904\u7406\u6570\u636E\n * @param options\n */\nexport function transformData(options: Pick<SunburstOptions, 'data' | 'colorField' | 'rawFields' | 'hierarchyConfig'>) {\n  const { data, colorField, rawFields, hierarchyConfig = {} } = options;\n  const { activeDepth } = hierarchyConfig;\n  const transform = {\n    partition: partition,\n    treemap: treemap,\n  };\n  // @ts-ignore \u517C\u5BB9\u65E7\u7248\u672C\uFF0C\u652F\u6301 seriesField \u6765\u4F5C\u4E3A hierarchyConfig.field\n  const seriesField = options.seriesField;\n  // @ts-ignore \u517C\u5BB9\u65E7\u7248\u672C\uFF0C\u652F\u6301\u77E9\u9635\u6811\u56FE\u5F62\u72B6\u7684\u65ED\u65E5\u56FE\n  const type = options.type || 'partition';\n\n  const nodes = transform[type](data, {\n    field: seriesField || 'value',\n    ...omit(hierarchyConfig, ['activeDepth']),\n    // @ts-ignore\n    type: `hierarchy.${type}`,\n    as: ['x', 'y'],\n  });\n\n  const result = [];\n\n  nodes.forEach((node) => {\n    if (node.depth === 0) {\n      return null;\n    }\n    if (activeDepth > 0 && node.depth > activeDepth) {\n      return null;\n    }\n\n    let path = node.data.name;\n    let ancestorNode = { ...node };\n    while (ancestorNode.depth > 1) {\n      path = `${ancestorNode.parent.data?.name} / ${path}`;\n      ancestorNode = ancestorNode.parent;\n    }\n\n    const nodeInfo = {\n      ...pick(node.data, [...(rawFields || []), hierarchyConfig.field]),\n      [SUNBURST_PATH_FIELD]: path,\n      [SUNBURST_ANCESTOR_FIELD]: ancestorNode.data.name,\n      ...node,\n    };\n    // note: \u517C\u5BB9\u65E7\u7248\u672C\n    if (seriesField) {\n      nodeInfo[seriesField] = node.data[seriesField] || node.parent?.data?.[seriesField];\n    }\n    if (colorField) {\n      nodeInfo[colorField] = node.data[colorField] || node.parent?.data?.[colorField];\n    }\n    nodeInfo.ext = hierarchyConfig;\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, colorField, rawFields };\n    result.push(nodeInfo);\n  });\n\n  return result;\n}\n", "import { isFunction, get, uniq } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Params } from '../../core/adaptor';\nimport { polygon as polygonAdaptor } from '../../adaptor/geometries';\nimport {\n  interaction as baseInteraction,\n  animation,\n  theme,\n  annotation,\n  scale,\n  pattern,\n  legend,\n} from '../../adaptor/common';\nimport { flow, findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding } from '../../utils/padding';\nimport { Datum } from '../../types';\nimport { RAW_FIELDS, SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD, SUNBURST_Y_FIELD } from './constant';\nimport { transformData } from './utils';\nimport { SunburstOptions } from './types';\n\n/**\n * geometry \u914D\u7F6E\u5904\u7406\n * @param params\n */\nfunction geometry(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { color, colorField = SUNBURST_ANCESTOR_FIELD, sunburstStyle, rawFields = [] } = options;\n  const data = transformData(options);\n  chart.data(data);\n\n  // \u7279\u6B8A\u5904\u7406\u4E0B\u6837\u5F0F\uFF0C\u5982\u679C\u6CA1\u6709\u8BBE\u7F6E fillOpacity \u7684\u65F6\u5019\uFF0C\u9ED8\u8BA4\u6839\u636E\u5C42\u7EA7\u8FDB\u884C\u586B\u5145\u900F\u660E\u5EA6\n  let style;\n  if (sunburstStyle) {\n    style = (datum: Datum) => {\n      return deepAssign(\n        {},\n        {\n          fillOpacity: 0.85 ** datum.depth,\n        },\n        isFunction(sunburstStyle) ? sunburstStyle(datum) : sunburstStyle\n      );\n    };\n  }\n\n  // geometry\n  polygonAdaptor(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        rawFields: uniq([...RAW_FIELDS, ...rawFields]),\n        polygon: {\n          color,\n          style,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * axis \u914D\u7F6E\n * @param params\n */\nexport function axis(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * \u6570\u636E\u6807\u7B7E\n * @param params\n */\nfunction label(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  const geometry = findGeometry(chart, 'polygon');\n\n  // \u9ED8\u8BA4\u4E0D\u5C55\u793A\uFF0Cundefined \u4E5F\u4E0D\u5C55\u793A\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { fields = ['name'], callback, ...cfg } = label;\n    geometry.label({\n      fields,\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * coord \u914D\u7F6E\n * @param params\n */\nfunction coordinate(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { innerRadius, radius, reflect } = options;\n\n  const coord = chart.coordinate({\n    type: 'polar',\n    cfg: {\n      innerRadius,\n      radius,\n    },\n  });\n  if (reflect) {\n    coord.reflect(reflect);\n  }\n\n  return params;\n}\n/**\n * meta \u914D\u7F6E\n * @param params\n */\nexport function meta(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { options } = params;\n  const { hierarchyConfig, meta } = options;\n\n  return flow(\n    scale(\n      {},\n      {\n        [SUNBURST_Y_FIELD]: get(meta, get(hierarchyConfig, ['field'], 'value')),\n      }\n    )\n  )(params);\n}\n\n/**\n * tooltip \u914D\u7F6E\n * @param params\n */\nexport function tooltip(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    // \u8BBE\u7F6E\u4E86 fields\uFF0C\u5C31\u4E0D\u8FDB\u884C customItems \u4E86; \u8BBE\u7F6E formatter \u65F6\uFF0C\u9700\u8981\u642D\u914D fields\n    if (!get(tooltip, 'fields')) {\n      tooltipOptions = deepAssign(\n        {},\n        {\n          customItems: (items: Types.TooltipItem[]) =>\n            items.map((item) => {\n              const scales = get(chart.getOptions(), 'scales');\n              const pathFormatter = get(scales, [SUNBURST_PATH_FIELD, 'formatter'], (v) => v);\n              const valueFormatter = get(scales, [SUNBURST_Y_FIELD, 'formatter'], (v) => v);\n              return {\n                ...item,\n                name: pathFormatter(item.data[SUNBURST_PATH_FIELD]),\n                value: valueFormatter(item.data.value),\n              };\n            }),\n        },\n        tooltipOptions\n      );\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\nfunction adaptorInteraction(options: SunburstOptions): SunburstOptions {\n  const { drilldown, interactions = [] } = options;\n\n  if (drilldown?.enabled) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          cfg: { drillDownConfig: drilldown, transformData },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * \u4EA4\u4E92\u914D\u7F6E\n * @param params\n * @returns\n */\nfunction interaction(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n\n  const { drilldown } = options;\n\n  baseInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  // \u9002\u5E94\u4E0B\u94BB\u4EA4\u4E92\u9762\u5305\u5C51\n  if (drilldown?.enabled) {\n    // \u4E3A\u9762\u5305\u5C51\u7559\u51FA 25px \u7684\u7A7A\u95F4\n    chart.appendPadding = getAdjustAppendPadding(chart.appendPadding, get(drilldown, ['breadCrumb', 'position']));\n  }\n\n  return params;\n}\n\n/**\n * \u65ED\u65E5\u56FE\u9002\u914D\u5668\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<SunburstOptions>) {\n  // flow \u7684\u65B9\u5F0F\u5904\u7406\u6240\u6709\u7684\u914D\u7F6E\u5230 G2 API\n  return flow(\n    theme,\n    pattern('sunburstStyle'),\n    geometry,\n    axis,\n    meta,\n    legend,\n    coordinate,\n    tooltip,\n    label,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n", "import { registerInteraction, registerAction } from '@antv/g2';\nimport { get, isArray } from '@antv/util';\nimport { DrillDownAction } from './actions/drill-down';\n\n/**\n * \u5224\u65AD\u662F\u5426\u4E3A\u7236\u8282\u70B9\n */\nexport function isParentNode(context) {\n  const data = get(context, ['event', 'data', 'data'], {});\n  return isArray(data.children) && data.children.length > 0;\n}\n\n/**\n * \u5224\u65AD\u662F\u5426\u5728\u4E2D\u5FC3\n */\nfunction inCenter(context) {\n  const coordinate = context.view.getCoordinate();\n  const { innerRadius } = coordinate;\n  if (innerRadius) {\n    const { x, y } = context.event;\n    const { x: centerX, y: centerY } = coordinate.center;\n    const r = coordinate.getRadius() * innerRadius;\n    const distance = Math.sqrt((centerX - x) ** 2 + (centerY - y) ** 2);\n    return distance < r;\n  }\n  return false;\n}\n\nregisterAction('drill-down-action', DrillDownAction);\nregisterInteraction('drill-down', {\n  showEnable: [\n    { trigger: 'element:mouseenter', action: 'cursor:pointer', isEnable: isParentNode },\n    { trigger: 'element:mouseleave', action: 'cursor:default' },\n    // \u4E2D\u5FC3\u5904\uFF0C\u80AF\u5B9A\u4F1A\u89E6\u53D1 element:mouseleave \u64CD\u4F5C\n    { trigger: 'element:mouseleave', action: 'cursor:pointer', isEnable: inCenter },\n  ],\n  start: [\n    {\n      trigger: 'element:click',\n      isEnable: isParentNode,\n      action: ['drill-down-action:click'],\n    },\n    {\n      trigger: 'afterchangesize',\n      action: ['drill-down-action:resetPosition'],\n    },\n    {\n      // \u70B9\u51FB\u4E2D\u5FC3\uFF0C\u8FD4\u56DE\u4E0A\u4E00\u5C42\n      trigger: 'click',\n      isEnable: inCenter,\n      action: ['drill-down-action:back'],\n    },\n  ],\n});\n", "import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { NODE_ANCESTORS_FIELD } from '../../utils/hierarchy/util';\nimport { SunburstOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS, SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD } from './constant';\nimport './interactions';\n\nexport type { SunburstOptions };\n\nexport class Sunburst extends Plot<SunburstOptions> {\n  /**\n   * \u83B7\u53D6 \u65ED\u65E5\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n   * \u4F9B\u5916\u90E8\u4F7F\u7528\n   */\n  static getDefaultOptions(): Partial<SunburstOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /** \u65ED\u65E5\u56FE \u8282\u70B9\u7684\u7956\u5148\u8282\u70B9 */\n  static SUNBURST_ANCESTOR_FIELD = SUNBURST_ANCESTOR_FIELD;\n  /** \u65ED\u65E5\u56FE \u8282\u70B9\u7684\u8DEF\u5F84 */\n  static SUNBURST_PATH_FIELD = SUNBURST_PATH_FIELD;\n  /** \u8282\u70B9\u7684\u7956\u5148\u8282\u70B9 */\n  static NODE_ANCESTORS_FIELD = NODE_ANCESTORS_FIELD;\n\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'sunburst';\n\n  /**\n   * \u83B7\u53D6 \u65ED\u65E5\u56FE \u9ED8\u8BA4\u914D\u7F6E\n   */\n  protected getDefaultOptions() {\n    return Sunburst.getDefaultOptions();\n  }\n\n  /**\n   * \u83B7\u53D6\u65ED\u65E5\u56FE\u7684\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<SunburstOptions> {\n    return adaptor;\n  }\n}\n", "export const RANGE_VALUE = 'range';\nexport const RANGE_TYPE = 'type';\nexport const PERCENT = 'percent';\n\nexport const DEFAULT_COLOR = '#f0f0f0';\n\n/** \u4EEA\u8868\u76D8\u7531 \u6307\u9488\u548C\u8868\u76D8 \u7EC4\u6210 */\nexport const INDICATEOR_VIEW_ID = 'indicator-view';\nexport const RANGE_VIEW_ID = 'range-view';\n\n/**\n * \u4EEA\u8868\u76D8\u9ED8\u8BA4\u914D\u7F6E\u9879\n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0, // \u5F53\u524D\u6307\u6807\u503C\n  range: {\n    ticks: [],\n  }, // \u9ED8\u8BA4\u7684\u523B\u5EA6\n  innerRadius: 0.9,\n  radius: 0.95,\n  startAngle: (-7 / 6) * Math.PI,\n  endAngle: (1 / 6) * Math.PI,\n  syncViewPadding: true,\n  axis: {\n    line: null,\n    label: {\n      offset: -24,\n      style: {\n        textAlign: 'center' as const,\n        textBaseline: 'middle' as const,\n      },\n    },\n    subTickLine: {\n      length: -8,\n    },\n    tickLine: {\n      length: -12,\n    },\n    grid: null,\n  },\n  indicator: {\n    pointer: {\n      style: {\n        lineWidth: 5,\n        lineCap: 'round' as const,\n      },\n    },\n    pin: {\n      style: {\n        r: 9.75,\n        lineWidth: 4.5,\n        fill: '#fff',\n      },\n    },\n  },\n  statistic: {\n    title: false as const,\n  },\n  meta: {\n    // \u4E24\u4E2A view \u7684 scale \u540C\u6B65\u5230 v \u4E0A\n    [RANGE_VALUE]: {\n      sync: 'v',\n    },\n    [PERCENT]: {\n      sync: 'v',\n      tickCount: 5,\n      tickInterval: 0.2,\n    },\n  },\n  animation: false as const,\n};\n", "import { clamp, get, size } from '@antv/util';\nimport { Data, Datum } from '../../types';\nimport { RANGE_VALUE, RANGE_TYPE, PERCENT } from './constants';\nimport { GaugeOptions, GaugeRangeData } from './types';\n\n/**\n * \u5C06 range \u751F\u6210\u4E3A data \u6570\u636E\n * @param range\n * @param key\n * @returns {GaugeRangeData}\n */\nexport function processRangeData(range: number[], percent: GaugeOptions['percent']): GaugeRangeData {\n  return (\n    range\n      // \u6620\u5C04\u4E3A stack \u7684\u6570\u636E\n      .map((r: number, idx: number) => {\n        return { [RANGE_VALUE]: r - (range[idx - 1] || 0), [RANGE_TYPE]: `${idx}`, [PERCENT]: percent };\n      })\n      // \u53BB\u6389 0 \u7684\u6570\u636E\n      .filter((d: Datum) => !!d[RANGE_VALUE])\n  );\n}\n\n/**\n * \u83B7\u53D6 \u4EEA\u8868\u76D8 \u6307\u9488\u6570\u636E\n * @param percent\n */\nexport function getIndicatorData(percent: GaugeOptions['percent']): Data {\n  return [{ [PERCENT]: clamp(percent, 0, 1) }];\n}\n\n/**\n * \u83B7\u53D6\u4EEA\u8868\u76D8 \u8868\u76D8\u5F27\u5F62\u6570\u636E\n * @param percent\n * @param range\n */\nexport function getRangeData(percent: GaugeOptions['percent'], range?: GaugeOptions['range']): GaugeRangeData {\n  const ticks = get(range, ['ticks'], []);\n\n  const clampTicks = size(ticks) ? ticks : [0, clamp(percent, 0, 1), 1];\n  return processRangeData(clampTicks as number[], percent);\n}\n", "import { Geometry } from '@antv/g2';\nimport { get, isString } from '@antv/util';\nimport { interaction, animation, theme, scale, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, pick, renderGaugeStatistic } from '../../utils';\nimport { RANGE_TYPE, RANGE_VALUE, PERCENT, DEFAULT_COLOR, INDICATEOR_VIEW_ID, RANGE_VIEW_ID } from './constants';\nimport { GaugeOptions } from './types';\nimport { getIndicatorData, getRangeData } from './utils';\n\n/**\n * geometry \u5904\u7406\n * @param params\n */\nfunction geometry(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { percent, range, radius, innerRadius, startAngle, endAngle, axis, indicator, gaugeStyle, type, meter } =\n    options;\n  const { color, width: rangeWidth } = range;\n\n  // \u6307\u6807 & \u6307\u9488\n  // \u5982\u679C\u5F00\u542F\u5728\u5E94\u7528\n  if (indicator) {\n    const indicatorData = getIndicatorData(percent);\n\n    const v1 = chart.createView({ id: INDICATEOR_VIEW_ID });\n    v1.data(indicatorData);\n\n    v1.point()\n      .position(`${PERCENT}*1`)\n      .shape(indicator.shape || 'gauge-indicator')\n      // \u4F20\u5165\u6307\u9488\u7684\u6837\u5F0F\u5230\u81EA\u5B9A\u4E49 shape \u4E2D\n      .customInfo({\n        defaultColor: chart.getTheme().defaultColor,\n        indicator,\n      });\n\n    v1.coordinate('polar', {\n      startAngle,\n      endAngle,\n      radius: innerRadius * radius, // \u5916\u90E8\u7684 innerRadius * radius = \u8FD9\u91CC\u7684 radius\n    });\n\n    v1.axis(PERCENT, axis);\n    // \u4E00\u90E8\u5206\u5E94\u7528\u5230 scale \u4E2D\n    v1.scale(PERCENT, pick(axis, AXIS_META_CONFIG_KEYS));\n  }\n\n  // \u8F85\u52A9 range\n  // [{ range: 1, type: '0', percent: \u539F\u59CB\u8FDB\u5EA6\u767E\u5206\u6BD4 }]\n  const rangeData = getRangeData(percent, options.range);\n  const v2 = chart.createView({ id: RANGE_VIEW_ID });\n  v2.data(rangeData);\n\n  const rangeColor = isString(color) ? [color, DEFAULT_COLOR] : color;\n\n  const { ext } = interval({\n    chart: v2,\n    options: {\n      xField: '1',\n      yField: RANGE_VALUE,\n      seriesField: RANGE_TYPE,\n      rawFields: [PERCENT],\n      isStack: true,\n      interval: {\n        color: rangeColor,\n        style: gaugeStyle,\n        shape: type === 'meter' ? 'meter-gauge' : null,\n      },\n      args: {\n        zIndexReversed: true,\n        sortZIndex: true,\n      },\n      minColumnWidth: rangeWidth,\n      maxColumnWidth: rangeWidth,\n    },\n  });\n\n  const geometry = ext.geometry as Geometry;\n  // \u4F20\u5165\u5230\u81EA\u5B9A\u4E49 shape \u4E2D\n  geometry.customInfo({ meter });\n\n  v2.coordinate('polar', {\n    innerRadius,\n    radius,\n    startAngle,\n    endAngle,\n  }).transpose();\n\n  return params;\n}\n\n/**\n * meta \u914D\u7F6E\n * @param params\n */\nfunction meta(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  return flow(\n    scale({\n      range: {\n        min: 0,\n        max: 1,\n        maxLimit: 1,\n        minLimit: 0,\n      },\n      [PERCENT]: {},\n    })\n  )(params);\n}\n\n/**\n * \u7EDF\u8BA1\u6307\u6807\u6587\u6863\n * @param params\n */\nfunction statistic(params: Params<GaugeOptions>, updated?: boolean): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { statistic, percent } = options;\n\n  // \u5148\u6E05\u7A7A\u6807\u6CE8\uFF0C\u518D\u91CD\u65B0\u6E32\u67D3\n  chart.getController('annotation').clear(true);\n  if (statistic) {\n    const { content: contentOption } = statistic;\n    let transformContent;\n    // \u5F53\u8BBE\u7F6E content \u7684\u65F6\u5019\uFF0C\u8BBE\u7F6E\u9ED8\u8BA4\u6837\u5F0F\n    if (contentOption) {\n      transformContent = deepAssign(\n        {},\n        {\n          content: `${(percent * 100).toFixed(2)}%`,\n          style: {\n            opacity: 0.75,\n            fontSize: '30px',\n            lineHeight: 1,\n            textAlign: 'center',\n            color: 'rgba(44,53,66,0.85)',\n          },\n        },\n        contentOption\n      );\n    }\n    renderGaugeStatistic(chart, { statistic: { ...statistic, content: transformContent } }, { percent });\n  }\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * tooltip \u914D\u7F6E\n */\nfunction tooltip(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip) {\n    chart.tooltip(\n      deepAssign(\n        {\n          showTitle: false,\n          showMarkers: false,\n          containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n          domStyles: {\n            'g2-tooltip': {\n              padding: '4px 8px',\n              fontSize: '10px',\n            },\n          },\n          customContent: (x: string, data: any[]) => {\n            const percent = get(data, [0, 'data', PERCENT], 0);\n            return `${(percent * 100).toFixed(2)}%`;\n          },\n        },\n        tooltip\n      )\n    );\n  } else {\n    // \u9ED8\u8BA4\uFF0C\u4E0D\u5C55\u793A tooltip\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * other \u914D\u7F6E\n * @param params\n */\nfunction other(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart } = params;\n\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * \u5BF9\u5916\u66B4\u9732\u7684 adaptor\n */\nexport { statistic };\n\n/**\n * \u56FE\u9002\u914D\u5668\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<GaugeOptions>) {\n  // flow \u7684\u65B9\u5F0F\u5904\u7406\u6240\u6709\u7684\u914D\u7F6E\u5230 G2 API\n  return flow(\n    theme,\n    // animation \u914D\u7F6E\u5FC5\u987B\u5728 createView \u4E4B\u524D\uFF0C\u4E0D\u7136\u65E0\u6CD5\u8BA9\u5B50 View \u751F\u6548\n    animation,\n    geometry,\n    meta,\n    tooltip,\n    statistic,\n    interaction,\n    annotation(),\n    other\n    // ... \u5176\u4ED6\u7684 adaptor flow\n  )(params);\n}\n", "import { registerShape, Types } from '@antv/g2';\nimport { Indicator } from '../types';\n\n// \u81EA\u5B9A\u4E49Shape \u90E8\u5206\nregisterShape('point', 'gauge-indicator', {\n  draw(cfg: Types.ShapeInfo, container) {\n    // \u4F7F\u7528 customInfo \u4F20\u9012\u53C2\u6570\n    const { indicator, defaultColor } = cfg.customInfo;\n    const { pointer, pin } = indicator as Indicator;\n\n    const group = container.addGroup();\n    // \u83B7\u53D6\u6781\u5750\u6807\u7CFB\u4E0B\u753B\u5E03\u4E2D\u5FC3\u70B9\n    const center = this.parsePoint({ x: 0, y: 0 });\n    // \u7ED8\u5236\u6307\u9488\n    if (pointer) {\n      // pointer\n      group.addShape('line', {\n        name: 'pointer',\n        attrs: {\n          x1: center.x,\n          y1: center.y,\n          x2: cfg.x,\n          y2: cfg.y,\n          stroke: defaultColor,\n          ...pointer.style,\n        },\n      });\n    }\n\n    // pin\n    if (pin) {\n      group.addShape('circle', {\n        name: 'pin',\n        attrs: {\n          x: center.x,\n          y: center.y,\n          stroke: defaultColor,\n          ...pin.style,\n        },\n      });\n    }\n    return group;\n  },\n});\n", "import { registerShape, Types, Util } from '@antv/g2';\nimport { clamp } from '@antv/util';\nimport { GaugeCustomInfo } from '../types';\n\ntype ShapeCfg = Omit<Types.ShapeInfo, 'customInfo'> & {\n  customInfo: GaugeCustomInfo;\n};\n\n/**\n * \u81EA\u5B9A\u4E49 Shape \u90E8\u5206: \u81EA\u5B9A\u4E49\u7C73\u8F68\u4EEA\u8868\u76D8\n * \u5B9A\u4E49 STEP, STEP_RATIO. \u53EF\u7ED8\u5236\u533A\u57DF: 1 / (STEP + 1) * i -> 1 / (STEP + 1) * i + (STEP_RATIO / (STEP + 1))\n */\nregisterShape('interval', 'meter-gauge', {\n  draw(cfg: ShapeCfg, container) {\n    // \u4F7F\u7528 customInfo \u4F20\u9012\u53C2\u6570\n    const { meter = {} } = cfg.customInfo;\n    let { steps: STEP = 50, stepRatio: STEP_RATIO = 0.5 } = meter;\n    STEP = STEP < 1 ? 1 : STEP;\n    // stepRatio \u53D6\u503C\u8303\u56F4: (0, 1]\n    STEP_RATIO = clamp(STEP_RATIO, 0, 1);\n\n    const { startAngle: COORD_START_ANGLE, endAngle: COORD_END_ANGLE } = this.coordinate;\n    let GAP = 0;\n    if (STEP_RATIO > 0 && STEP_RATIO < 1) {\n      const TOTAL = COORD_END_ANGLE - COORD_START_ANGLE;\n      GAP = TOTAL / STEP / (STEP_RATIO / (1 - STEP_RATIO) + 1 - 1 / STEP);\n    }\n    const INTERVAL = (GAP / (1 - STEP_RATIO)) * STEP_RATIO;\n\n    const group = container.addGroup();\n    // \u7ED8\u5236\u56FE\u5F62\u7684\u65F6\u5019\uFF0C\u7559\u4E0B gap\n    const center = this.coordinate.getCenter();\n    const radius = this.coordinate.getRadius();\n    const { startAngle: START_ANGLE, endAngle: END_ANGLE } = Util.getAngle(cfg, this.coordinate);\n\n    for (let startAngle = START_ANGLE; startAngle < END_ANGLE; ) {\n      let endAngle;\n      const r = (startAngle - COORD_START_ANGLE) % (INTERVAL + GAP);\n      if (r < INTERVAL) {\n        endAngle = startAngle + (INTERVAL - r);\n      } else {\n        startAngle += INTERVAL + GAP - r;\n        endAngle = startAngle + INTERVAL;\n      }\n      const path = Util.getSectorPath(\n        center.x,\n        center.y,\n        radius,\n        startAngle,\n        Math.min(endAngle, END_ANGLE),\n        radius * this.coordinate.innerRadius\n      );\n      group.addShape('path', {\n        name: 'meter-gauge',\n        attrs: {\n          path,\n          fill: cfg.color,\n          stroke: cfg.color,\n          lineWidth: 0.5,\n        },\n      });\n      startAngle = endAngle + GAP;\n    }\n\n    return group;\n  },\n});\n", "import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { GaugeOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { INDICATEOR_VIEW_ID, RANGE_VIEW_ID, DEFAULT_OPTIONS } from './constants';\nimport { getIndicatorData, getRangeData } from './utils';\n\n// \u6CE8\u518C shape\nimport './shapes/indicator';\nimport './shapes/meter-gauge';\n\nexport type { GaugeOptions };\n\n/**\n * \u4EEA\u8868\u76D8\n */\nexport class Gauge extends Plot<GaugeOptions> {\n  /**\n   * \u83B7\u53D6 \u4EEA\u8868\u76D8 \u9ED8\u8BA4\u914D\u7F6E\u9879\n   * \u4F9B\u5916\u90E8\u4F7F\u7528\n   */\n  static getDefaultOptions(): Partial<GaugeOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'gauge';\n\n  /**\n   * \u66F4\u65B0\u6570\u636E\n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n\n    this.updateOption({ percent });\n    const indicatorView = this.chart.views.find((v) => v.id === INDICATEOR_VIEW_ID);\n    if (indicatorView) {\n      indicatorView.data(getIndicatorData(percent));\n    }\n\n    const rangeView = this.chart.views.find((v) => v.id === RANGE_VIEW_ID);\n    if (rangeView) {\n      rangeView.data(getRangeData(percent, this.options.range));\n    }\n    // todo \u540E\u7EED\u8BA9 G2 \u5C42\u5728 afterrender \u4E4B\u540E\uFF0C\u6765\u91CD\u7ED8 annotations\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \u83B7\u53D6\u9ED8\u8BA4\u914D\u7F6E\n   * \u4F9B base \u4F7F\u7528\n   */\n  protected getDefaultOptions() {\n    return Gauge.getDefaultOptions();\n  }\n\n  /**\n   * \u83B7\u53D6\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<GaugeOptions> {\n    return adaptor;\n  }\n}\n", "export const Y_FIELD = '$$yField$$';\nexport const DIFF_FIELD = '$$diffField$$';\nexport const ABSOLUTE_FIELD = '$$absoluteField$$';\nexport const IS_TOTAL = '$$isTotal$$';\n\n/**\n * \u7011\u5E03\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n */\nexport const DEFAULT_OPTIONS = {\n  /** default: show label */\n  label: {},\n  /** default: show leaderLine */\n  leaderLine: {\n    style: {\n      lineWidth: 1,\n      stroke: '#8c8c8c',\n      lineDash: [4, 2],\n    },\n  },\n  /** default: show total */\n  total: {\n    style: {\n      fill: 'rgba(0, 0, 0, 0.25)',\n    },\n  },\n  interactions: [{ type: 'element-active' }],\n  risingFill: '#f4664a',\n  fallingFill: '#30bf78',\n  waterfallStyle: {\n    fill: 'rgba(0, 0, 0, 0.25)',\n  },\n  yAxis: {\n    grid: {\n      line: {\n        style: {\n          lineDash: [4, 2],\n        },\n      },\n    },\n  },\n};\n", "import { isUndefined, isNumber, get, reduce, isObject } from '@antv/util';\nimport { Options } from '../../types';\nimport { LEVEL, log } from '../../utils';\nimport { ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL, Y_FIELD } from './constant';\n\n/**\n * @desc \u6570\u636E\u5904\u7406\u51FD\u6570\uFF0C\u7EDF\u4E00\u5C06\u6570\u636E\u5904\u7406\u6210[start, end]\n * @param data\n * @param xField\n * @param yField\n * @param totalLabel\n */\nexport function processData(\n  data: Options['data'],\n  xField: string,\n  yField: string,\n  newYField: string,\n  total?: false | { label?: string }\n) {\n  const newData = [];\n  reduce(\n    data,\n    (r, d) => {\n      // \u6821\u9A8C\u6570\u636E\u5408\u6CD5\u6027\n      log(LEVEL.WARN, isNumber(d[yField]), `${d[yField]} is not a valid number`);\n      const value = isUndefined(d[yField]) ? null : d[yField];\n      newData.push({ ...d, [newYField]: [r, r + value] });\n\n      return r + value;\n    },\n    0\n  );\n  // \u5982\u679C\u9700\u8981\u5C55\u793A\u603B\u548C\n  if (newData.length && total) {\n    const sum = get(newData, [[data.length - 1], newYField, [1]]);\n    newData.push({\n      [xField]: total.label,\n      [yField]: sum,\n      [newYField]: [0, sum],\n    });\n  }\n  return newData;\n}\n\n/**\n * \u5904\u7406\u4E3A \u7011\u5E03\u56FE \u6570\u636E\n */\nexport function transformData(\n  data: Options['data'],\n  xField: string,\n  yField: string,\n  total?: false | { label?: string }\n) {\n  const processed = processData(data, xField, yField, Y_FIELD, total);\n  return processed.map((d, dIdx) => {\n    if (!isObject(d)) {\n      return d;\n    }\n    return {\n      ...d,\n      [ABSOLUTE_FIELD]: d[Y_FIELD][1],\n      [DIFF_FIELD]: d[Y_FIELD][1] - d[Y_FIELD][0],\n      [IS_TOTAL]: dIdx === data.length,\n    };\n  });\n}\n", "import { IGroup } from '@antv/g-base';\nimport { registerShape } from '@antv/g2';\nimport { Types } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { deepAssign } from '../../utils';\nimport { Point } from '../../types';\n\n/**\n * \u83B7\u53D6\u67F1\u5B50 path\n * @param points\n */\nfunction getRectPath(points: Point[]) {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i];\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n\n  const first = points[0];\n  path.push(['L', first.x, first.y]);\n  path.push(['z']);\n\n  return path;\n}\n\n/**\n * \u83B7\u53D6\u586B\u5145\u5C5E\u6027\n * @param cfg \u56FE\u5F62\u7ED8\u5236\u6570\u636E\n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  return deepAssign({}, cfg.defaultStyle, cfg.style, { fill: cfg.color });\n}\n\nregisterShape('interval', 'waterfall', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const { customInfo, points, nextPoints } = cfg;\n\n    const group = container.addGroup();\n\n    // \u2460 \u7ED8\u5236\u67F1\u4F53\n    const rectPath = this.parsePath(getRectPath(points));\n    const fillAttrs = getFillAttrs(cfg);\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: rectPath,\n      },\n    });\n\n    // \u2461 \u7ED8\u5236\u8FDE\u63A5\u7EBF\n    const leaderLineCfg = get(customInfo, 'leaderLine');\n    if (leaderLineCfg && nextPoints) {\n      let linkPath = [\n        ['M', points[2].x, points[2].y],\n        ['L', nextPoints[0].x, nextPoints[0].y],\n      ];\n\n      if (points[2].y === nextPoints[1].y) {\n        linkPath[1] = ['L', nextPoints[1].x, nextPoints[1].y];\n      }\n\n      linkPath = this.parsePath(linkPath);\n      group.addShape('path', {\n        attrs: {\n          path: linkPath,\n          ...(leaderLineCfg.style || {}),\n        },\n      });\n    }\n\n    return group;\n  },\n});\n", "import { Geometry } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Datum } from '../../types';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, state, scale, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { getLocale } from '../../core/locale';\nimport { findGeometry, flow, transformLabel, deepAssign } from '../../utils';\nimport { Y_FIELD, ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL } from './constant';\nimport { WaterfallOptions } from './types';\nimport { transformData } from './utils';\nimport './shape';\n\n/**\n *  \u5904\u7406\u9ED8\u8BA4\u914D\u7F6E\u9879\n * @param params\n * @returns\n */\nfunction defaultOptions(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { locale, total } = params.options;\n\n  const localeTotalLabel = getLocale(locale).get(['waterfall', 'total']);\n\n  if (total && typeof total.label !== 'string' && localeTotalLabel) {\n    // @ts-ignore\n    params.options.total.label = localeTotalLabel;\n  }\n\n  return params;\n}\n\n/**\n * \u5B57\u6BB5\n * @param params\n */\nfunction geometry(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { data, xField, yField, total, leaderLine, columnWidthRatio, waterfallStyle, risingFill, fallingFill, color } =\n    options;\n\n  // \u6570\u636E\u5904\u7406\n  chart.data(transformData(data, xField, yField, total));\n\n  // \u7011\u5E03\u56FE\u81EA\u5E26\u7684 colorMapping\n  const colorMapping =\n    color ||\n    function (datum: Datum) {\n      if (get(datum, [IS_TOTAL])) {\n        return get(total, ['style', 'fill'], '');\n      }\n      return get(datum, [Y_FIELD, 1]) - get(datum, [Y_FIELD, 0]) > 0 ? risingFill : fallingFill;\n    };\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: Y_FIELD,\n      seriesField: xField,\n      rawFields: [yField, DIFF_FIELD, IS_TOTAL, Y_FIELD],\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: waterfallStyle,\n        shape: 'waterfall',\n        color: colorMapping,\n      },\n    },\n  });\n  const { ext } = interval(p);\n  const geometry = ext.geometry as Geometry;\n\n  // \u5C06 waterfall leaderLineCfg \u4F20\u5165\u5230\u81EA\u5B9A\u4E49 shape \u4E2D\n  geometry.customInfo({ leaderLine });\n\n  return params;\n}\n\n/**\n * meta \u914D\u7F6E\n * @param params\n */\nfunction meta(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, meta } = options;\n\n  const Y_FIELD_META = deepAssign({}, { alias: yField }, get(meta, yField));\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n        [Y_FIELD]: yAxis,\n      },\n      deepAssign({}, meta, { [Y_FIELD]: Y_FIELD_META, [DIFF_FIELD]: Y_FIELD_META, [ABSOLUTE_FIELD]: Y_FIELD_META })\n    )\n  )(params);\n}\n\n/**\n * axis \u914D\u7F6E\n * @param params\n */\nfunction axis(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  // \u4E3A false \u5219\u662F\u4E0D\u663E\u793A\u8F74\n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n    chart.axis(Y_FIELD, false);\n  } else {\n    chart.axis(yField, yAxis);\n    chart.axis(Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \u914D\u7F6E todo \u6DFB\u52A0 hover \u4EA4\u4E92\n * @param params\n */\nfunction legend(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { legend, total, risingFill, fallingFill, locale } = options;\n\n  const i18n = getLocale(locale);\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    const items = [\n      {\n        name: i18n.get(['general', 'increase']),\n        value: 'increase',\n        marker: { symbol: 'square', style: { r: 5, fill: risingFill } },\n      },\n      {\n        name: i18n.get(['general', 'decrease']),\n        value: 'decrease',\n        marker: { symbol: 'square', style: { r: 5, fill: fallingFill } },\n      },\n    ];\n\n    if (total) {\n      items.push({\n        name: total.label || '',\n        value: 'total',\n        marker: {\n          symbol: 'square',\n          style: deepAssign({}, { r: 5 }, get(total, 'style')),\n        },\n      });\n    }\n    chart.legend(\n      deepAssign(\n        {},\n        {\n          custom: true,\n          position: 'top',\n          items,\n        },\n        legend\n      )\n    );\n    chart.removeInteraction('legend-filter');\n  }\n\n  return params;\n}\n\n/**\n * \u6570\u636E\u6807\u7B7E\n * @param params\n */\nfunction label(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { label, labelMode, xField } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: labelMode === 'absolute' ? [ABSOLUTE_FIELD, xField] : [DIFF_FIELD, xField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * tooltip \u914D\u7F6E\n * @param params\n */\nexport function tooltip(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { tooltip, xField, yField } = options;\n\n  if (tooltip !== false) {\n    chart.tooltip({\n      showCrosshairs: false,\n      showMarkers: false,\n      shared: true,\n      // tooltip \u9ED8\u8BA4\u5C55\u793A y \u5B57\u6BB5\u503C\n      fields: [yField],\n      ...tooltip,\n    });\n    // \u7011\u5E03\u56FE\u9ED8\u8BA4\u4EE5 yField \u4F5C\u4E3A tooltip \u5185\u5BB9\n    const geometry = chart.geometries[0];\n    tooltip?.formatter ? geometry.tooltip(`${xField}*${yField}`, tooltip.formatter) : geometry.tooltip(yField);\n  } else {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * \u7011\u5E03\u56FE\u9002\u914D\u5668\n * @param params\n */\nexport function adaptor(params: Params<WaterfallOptions>) {\n  return flow(\n    defaultOptions,\n    theme,\n    geometry,\n    meta,\n    axis,\n    legend,\n    tooltip,\n    label,\n    state,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n", "import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { WaterfallOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformData } from './utils';\n\nexport type { WaterfallOptions };\n\n/**\n * \u7011\u5E03\u56FE\n */\nexport class Waterfall extends Plot<WaterfallOptions> {\n  /**\n   * \u83B7\u53D6 \u7011\u5E03\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n   * \u4F9B\u5916\u90E8\u4F7F\u7528\n   */\n  static getDefaultOptions(): Partial<WaterfallOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /** \u56FE\u8868\u7C7B\u578B */\n  public readonly type: string = 'waterfall';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    const { xField, yField, total } = this.options;\n    this.updateOption({ data });\n    this.chart.changeData(transformData(data, xField, yField, total));\n  }\n\n  /**\n   * \u83B7\u53D6 \u7011\u5E03\u56FE \u7684\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<WaterfallOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \u83B7\u53D6 \u7011\u5E03\u56FE \u7684\u9ED8\u8BA4\u914D\u7F6E\n   */\n  protected getDefaultOptions(): Partial<WaterfallOptions> {\n    return Waterfall.getDefaultOptions();\n  }\n}\n", "import { Data } from '../../types';\n\nexport function getScaleMax(maxAngle: number, yField: string, data: Data): number {\n  const yData = data.map((item) => item[yField]).filter((v) => v !== undefined);\n  const maxValue = yData.length > 0 ? Math.max(...yData) : 0;\n  const formatRadian = Math.abs(maxAngle) % 360;\n  if (!formatRadian) {\n    return maxValue;\n  }\n  return (maxValue * 360) / formatRadian;\n}\n\n/**\n * \u83B7\u53D6\u5806\u53E0\u4E4B\u540E\u7684\u6570\u636E\n */\nexport function getStackedData(data: Data, xField: string, yField: string) {\n  const stackedData: Data = [];\n  data.forEach((item) => {\n    const valueItem = stackedData.find((v) => v[xField] === item[xField]);\n    if (valueItem) {\n      valueItem[yField] += item[yField] || null;\n    } else {\n      stackedData.push({ ...item });\n    }\n  });\n  return stackedData;\n}\n", "import { interaction, animation, theme, scale, tooltip, legend, annotation } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, findGeometry, transformLabel } from '../../utils';\nimport { interval, point } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { processIllegalData } from '../../utils';\nimport { RadialBarOptions } from './types';\nimport { getScaleMax, getStackedData } from './utils';\n\n/**\n * geometry \u5904\u7406\n * @param params\n */\nfunction geometry(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { barStyle: style, color, tooltip, colorField, type, xField, yField, data } = options;\n\n  // \u5904\u7406\u4E0D\u5408\u6CD5\u7684\u6570\u636E\n  const processData = processIllegalData(data, yField);\n  chart.data(processData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      tooltip,\n      seriesField: colorField,\n      interval: {\n        style,\n        color,\n        shape: type === 'line' ? 'line' : 'intervel',\n      },\n      // \u67F1\u5B50\u7684\u4E00\u4E9B\u6837\u5F0F\u8BBE\u7F6E\uFF1A\u67F1\u5B50\u6700\u5C0F\u5BBD\u5EA6\u3001\u67F1\u5B50\u6700\u5927\u5BBD\u5EA6\u3001\u67F1\u5B50\u80CC\u666F\n      minColumnWidth: options.minBarWidth,\n      maxColumnWidth: options.maxBarWidth,\n      columnBackground: options.barBackground,\n    },\n  });\n  interval(p);\n  if (type === 'line') {\n    point({\n      chart,\n      options: { xField, yField, seriesField: colorField, point: { shape: 'circle', color } },\n    });\n  }\n  return params;\n}\n\n/**\n * meta \u914D\u7F6E\n * @param params\n */\nexport function meta(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { options } = params;\n  const { yField, xField, data, isStack, isGroup, colorField, maxAngle } = options;\n\n  const actualData = isStack && !isGroup && colorField ? getStackedData(data, xField, yField) : data;\n  const processData = processIllegalData(actualData, yField);\n  return flow(\n    scale({\n      [yField]: {\n        min: 0,\n        max: getScaleMax(maxAngle, yField, processData),\n      },\n    })\n  )(params);\n}\n\n/**\n * coordinate \u914D\u7F6E\n * @param params\n */\nfunction coordinate(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart\n    .coordinate({\n      type: 'polar',\n      cfg: {\n        radius,\n        innerRadius,\n        startAngle,\n        endAngle,\n      },\n    })\n    .transpose();\n  return params;\n}\n\n/**\n * axis \u914D\u7F6E\n * @param params\n */\nexport function axis(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { xField, xAxis } = options;\n  chart.axis(xField, xAxis);\n  return params;\n}\n\n/**\n * \u6570\u636E\u6807\u7B7E\n * @param params\n */\nfunction label(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const intervalGeometry = findGeometry(chart, 'interval');\n\n  // label \u4E3A false, \u7A7A \u5219\u4E0D\u663E\u793A label\n  if (!label) {\n    intervalGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    intervalGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        ...transformLabel(cfg),\n        type: 'polar',\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * \u56FE\u9002\u914D\u5668\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RadialBarOptions>) {\n  return flow(\n    pattern('barStyle'),\n    geometry,\n    meta,\n    axis,\n    coordinate,\n    interaction,\n    animation,\n    theme,\n    tooltip,\n    legend,\n    annotation(),\n    label\n  )(params);\n}\n", "import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \u7389\u73CF\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  interactions: [{ type: 'element-active' }],\n  legend: false,\n  tooltip: {\n    showMarkers: false,\n  },\n  xAxis: {\n    grid: null,\n    tickLine: null,\n    line: null,\n  },\n  maxAngle: 240,\n});\n", "import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { RadialBarOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { RadialBarOptions };\n\n/**\n * \u7389\u73CF\u56FE\n */\nexport class RadialBar extends Plot<RadialBarOptions> {\n  static getDefaultOptions(): Partial<RadialBarOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'radial-bar';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    // \u66F4\u65B0\u7389\u73CF\u56FE\u7684 scale\n    meta({ chart: this.chart, options: this.options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   * \u83B7\u53D6\u9ED8\u8BA4\u914D\u7F6E\n   */\n  protected getDefaultOptions(): Partial<RadialBarOptions> {\n    return RadialBar.getDefaultOptions();\n  }\n\n  /**\n   * \u83B7\u53D6\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<RadialBarOptions> {\n    return adaptor;\n  }\n}\n", "export const FIRST_AXES_VIEW = 'first-axes-view';\nexport const SECOND_AXES_VIEW = 'second-axes-view';\n/** \u5BF9\u79F0\u6761\u5F62\u56FE\u7684\u5206\u7EC4 key \u503C */\nexport const SERIES_FIELD_KEY = 'series-field-key';\n", "import { groupBy } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Datum } from '../../types';\nimport { BidirectionalBarOptions } from './types';\n\ntype TransformData = {\n  [key: string]: string | number;\n}[];\n\n/**\n * bidirectional-bar \u5904\u7406\u6570\u636E, \u901A\u8FC7 SERIES_FIELD_KEY \u5B57\u6BB5\u5206\u6210\u5DE6\u53F3\u6570\u636E\n * @param xField\n * @param yField\n * @param data\n */\nexport function transformData(\n  xField: string,\n  yField: string[],\n  seriesField: string,\n  data: Datum,\n  reverse?: boolean\n): Types.Data[] {\n  const hopeData: TransformData = [];\n  yField.forEach((d: string) => {\n    data.forEach((k: any) => {\n      const obj = {\n        [xField]: k[xField],\n        [seriesField]: d,\n        [d]: k[d],\n      };\n      hopeData.push(obj);\n    });\n  });\n  const groupData = Object.values(groupBy(hopeData, seriesField));\n  const [data1 = [], data2 = []] = groupData;\n  return reverse ? [data1.reverse(), data2.reverse()] : [data1, data2];\n}\n\n/**\n * \u662F\u5426\u6A2A\u5411\uFF0C\u9ED8\u8BA4\u7A7A\u4E3A\u6A2A\u5411\n * @param layout\n */\nexport function isHorizontal(layout: BidirectionalBarOptions['layout']) {\n  return layout !== 'vertical';\n}\n\n/**\n * \u591A view \u8FDB\u884C\u540C\u6B65 padding \u7684\u81EA\u5B9A\u4E49\u903B\u8F91\n * @param chart\n * @param views\n * @param p\n */\nexport function syncViewPadding(chart: any, views: any, p: any) {\n  const [v1, v2] = views;\n  const p1 = v1.autoPadding;\n  const p2 = v2.autoPadding;\n  const { layout, position } = chart.__axisPosition;\n  // \u76EE\u524D\u53EA\u80FD\u6839\u636E\u5E03\u5C40\u7684\u6BD4\u4F8B\u6765\u5224\u65AD layout\n  if (isHorizontal(layout) && position === 'top') {\n    /**\n     * \u4FDD\u8BC1 v1 \u7684 left \u548C v2 right \u7684\u95F4\u9694\u76F8\u7B49\uFF0C\u56E0\u4E3A v1 \u6709\u8F74\n     * position top \u5373\u4E3A v1 \u5DE6\u8FB9\uFF0C\u4E2D\u95F4\u95F4\u8DDD\u8BBE\u7F6E\u5C31\u4E3A 0\n     */\n    v1.autoPadding = p.instance(p1.top, 0, p1.bottom, p1.left);\n    v2.autoPadding = p.instance(p2.top, p1.left, p2.bottom, 0);\n  }\n  if (isHorizontal(layout) && position === 'bottom') {\n    /**\n     * \u4FDD\u8BC1 v1 \u7684 left \u548C v2 right \u7684\u95F4\u9694\u76F8\u7B49\uFF0C\u56E0\u4E3A v1 \u6709\u8F74\n     * position bottom \u5373\u4E3A v1 \u7684\u53F3\u8FB9\uFF0Cv1 right = right / 2  v2 left = right / 2\n     * + 5 \u662F\u4E3A\u4E86 \u8BA9\u90A3\u4E2A\u8F74\u4E0D\u8981\u592A\u8D34\u8FD1\u4E86\uFF0C\u66F4\u597D\u770B\n     */\n    v1.autoPadding = p.instance(p1.top, p1.right / 2 + 5, p1.bottom, p1.left);\n    v2.autoPadding = p.instance(p2.top, p2.right, p2.bottom, p1.right / 2 + 5);\n  }\n  if (!isHorizontal(layout) && position === 'bottom') {\n    /**\n     * \u4FDD\u8BC1 v1 \u7684 left \u548C v2 left \u7684\u95F4\u9694\u76F8\u7B49 left \u53D6\u6700\u5927\u503C\n     * position bottom \u5373\u4E3A v1 \u4E0B\u8FB9\uFF0Cv1 bottom = bottom / 2  v2 top = bottom / 2\n     * + 5 \u662F\u4E3A\u4E86 \u8BA9\u90A3\u4E2A\u8F74\u4E0D\u8981\u592A\u8D34\u8FD1\u4E86\uFF0C\u66F4\u597D\u770B\n     */\n    const left = p1.left >= p2.left ? p1.left : p2.left;\n    v1.autoPadding = p.instance(p1.top, p1.right, p1.bottom / 2 + 5, left);\n    v2.autoPadding = p.instance(p1.bottom / 2 + 5, p2.right, p2.bottom, left);\n  }\n  // \u5782\u76F4\u72B6\u6001\uFF0C\u4E0D\u5EFA\u8BAE\u8BBE\u7F6Eposition \u4E3A top\uFF0C \u8FD8\u662F\u505A\u4E2A\u517C\u5BB9\u5904\u7406\n  if (!isHorizontal(layout) && position === 'top') {\n    const left = p1.left >= p2.left ? p1.left : p2.left;\n    v1.autoPadding = p.instance(p1.top, p1.right, 0, left);\n    v2.autoPadding = p.instance(0, p2.right, p1.top, left);\n  }\n}\n", "import { View } from '@antv/g2';\nimport { get, keys } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  tooltip,\n  interaction as commonInteraction,\n  animation as commonAnimation,\n  theme as commonTheme,\n  limitInPlot as commonLimitInPlot,\n  scale,\n} from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { flow, findViewById, findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { BidirectionalBarOptions } from './types';\nimport { FIRST_AXES_VIEW, SECOND_AXES_VIEW, SERIES_FIELD_KEY } from './constant';\nimport { isHorizontal, transformData } from './utils';\n\n/**\n * geometry \u5904\u7406\n * @param params\n */\nfunction geometry(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { data, xField, yField, color, barStyle, widthRatio, legend, layout } = options;\n\n  // \u5904\u7406\u6570\u636E\n  const groupData: any[] = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n  // \u5728\u521B\u5EFA\u5B50 view \u6267\u884C\u540E\u4E0D\u884C\uFF0C\u9700\u8981\u5728\u524D\u9762\u5904\u7406 legend\n  if (legend) {\n    chart.legend(SERIES_FIELD_KEY, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n  // \u521B\u5EFA view\n  let firstView: View;\n  let secondView: View;\n  const [firstViewData, secondViewData] = groupData;\n\n  // \u6A2A\u5411\n  if (isHorizontal(layout)) {\n    firstView = chart.createView({\n      region: {\n        start: { x: 0, y: 0 },\n        end: { x: 0.5, y: 1 },\n      },\n      id: FIRST_AXES_VIEW,\n    });\n\n    firstView.coordinate().transpose().reflect('x');\n\n    secondView = chart.createView({\n      region: {\n        start: { x: 0.5, y: 0 },\n        end: { x: 1, y: 1 },\n      },\n      id: SECOND_AXES_VIEW,\n    });\n    secondView.coordinate().transpose();\n\n    // @\u8BF4\u660E: \u6D4B\u8BD5\u53D1\u73B0\uFF0C\u6A2A\u5411\u56E0\u4E3A\u8F74\u7684\u53CD\u8F6C\uFF0C\u9700\u8981\u6570\u636E\u4E5F\u53CD\u8F6C\uFF0C\u4E0D\u7136\u4F1A\u56FE\u5F62\u6E32\u67D3\u662F\u53CD\u7684(\u7FFB\u8F6C\u64CD\u4F5C\u8FDB\u5165\u5230 transform \u4E2D\u5904\u7406)\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n  } else {\n    // \u7EB5\u5411\n    firstView = chart.createView({\n      region: {\n        start: { x: 0, y: 0 },\n        end: { x: 1, y: 0.5 },\n      },\n      id: FIRST_AXES_VIEW,\n    });\n    secondView = chart.createView({\n      region: {\n        start: { x: 0, y: 0.5 },\n        end: { x: 1, y: 1 },\n      },\n      id: SECOND_AXES_VIEW,\n    });\n    secondView.coordinate().reflect('y');\n\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n  }\n  const left = deepAssign({}, params, {\n    chart: firstView,\n    options: {\n      widthRatio,\n      xField,\n      yField: yField[0],\n      seriesField: SERIES_FIELD_KEY,\n      interval: {\n        color,\n        style: barStyle,\n      },\n    },\n  });\n  interval(left);\n\n  const right = deepAssign({}, params, {\n    chart: secondView,\n    options: {\n      xField,\n      yField: yField[1],\n      seriesField: SERIES_FIELD_KEY,\n      widthRatio,\n      interval: {\n        color,\n        style: barStyle,\n      },\n    },\n  });\n\n  interval(right);\n\n  return params;\n}\n\n/**\n * meta \u914D\u7F6E\n * - \u5BF9\u79F0\u6761\u5F62\u56FE\u5BF9\u6570\u636E\u8FDB\u884C\u4E86\u5904\u7406\uFF0C\u901A\u8FC7 SERIES_FIELD_KEY \u6765\u5BF9\u4E24\u6761 yField \u6570\u636E\u8FDB\u884C\u5206\u7C7B\n * @param params\n */\nfunction meta(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { options, chart } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n\n  const aliasMap = {};\n  keys(options?.meta || {}).map((metaKey) => {\n    if (get(options?.meta, [metaKey, 'alias'])) {\n      aliasMap[metaKey] = options.meta[metaKey].alias;\n    }\n  });\n\n  chart.scale({\n    [SERIES_FIELD_KEY]: {\n      sync: true,\n      formatter: (v) => {\n        return get(aliasMap, v, v);\n      },\n    },\n  });\n\n  scale({\n    [xField]: xAxis,\n    [yField[0]]: yAxis[yField[0]],\n  })(deepAssign({}, params, { chart: firstView }));\n\n  scale({\n    [xField]: xAxis,\n    [yField[1]]: yAxis[yField[1]],\n  })(deepAssign({}, params, { chart: secondView }));\n\n  return params;\n}\n\n/**\n * axis \u914D\u7F6E\n * @param params\n */\nfunction axis(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField, layout } = options;\n\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n  // \u7B2C\u4E8C\u4E2A view axis \u59CB\u7EC8\u9690\u85CF; \u6CE8\u610F bottom \u7684\u65F6\u5019\uFF0C\u53EA\u9690\u85CF label\uFF0C\u5176\u4ED6\u5171\u7528\u914D\u7F6E\n  // @ts-ignore\n  if (xAxis?.position === 'bottom') {\n    // fixme \u76F4\u63A5\u8BBE\u7F6E label: null \u4F1A\u5BFC\u81F4 tickLine \u65E0\u6CD5\u663E\u793A\n    secondView.axis(xField, { ...xAxis, label: { formatter: () => '' } });\n  } else {\n    secondView.axis(xField, false);\n  }\n\n  // \u4E3A false \u5219\u662F\u4E0D\u663E\u793A firstView \u8F74\n  if (xAxis === false) {\n    firstView.axis(xField, false);\n  } else {\n    firstView.axis(xField, {\n      // \u4E0D\u540C\u5E03\u5C40 firstView \u7684\u5750\u6807\u8F74\u663E\u793A\u4F4D\u7F6E\n      position: isHorizontal(layout) ? 'top' : 'bottom',\n      ...xAxis,\n    });\n  }\n\n  if (yAxis === false) {\n    firstView.axis(yField[0], false);\n    secondView.axis(yField[1], false);\n  } else {\n    firstView.axis(yField[0], yAxis[yField[0]]);\n    secondView.axis(yField[1], yAxis[yField[1]]);\n  }\n  /**\n   *  \u8FD9\u4E2A\u6CE8\u5165\uFF0C\u4E3B\u8981\u662F\u5728syncViewPadding\u65F6\u5019\u62FF\u5230\u76F8\u5BF9\u5E94\u7684\u914D\u7F6E\uFF1A\u5E03\u5C40\u548C\u8F74\u7684\u4F4D\u7F6E\n   *  TODO \u4E4B\u540E\u5E0C\u671B g2 View \u5BF9\u8C61\u53EF\u4EE5\u5F00\u653E setter \u53EF\u4EE5\u8BBE\u7F6E\u4E00\u4E9B\u9700\u8981\u7684\u4E1C\u897F\n   */\n\n  //@ts-ignore\n  chart.__axisPosition = {\n    position: firstView.getOptions().axes[xField].position,\n    layout,\n  };\n  return params;\n}\n\n/**\n * interaction \u914D\u7F6E\n * @param params\n */\nexport function interaction(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { yField, yAxis } = options;\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, FIRST_AXES_VIEW),\n      options: {\n        yAxis: yAxis[yField[0]],\n      },\n    })\n  );\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, SECOND_AXES_VIEW),\n      options: {\n        yAxis: yAxis[yField[1]],\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * theme\n * @param params\n */\nexport function theme(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n  commonTheme(params);\n\n  return params;\n}\n\n/**\n * animation\n * @param params\n */\nexport function animation(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * label \u914D\u7F6E (1. \u8BBE\u7F6E offset \u504F\u79FB\u91CF\u9ED8\u8BA4\u503C 2. leftView \u504F\u79FB\u91CF\u9700\u8981 *= -1)\n * @param params\n */\nfunction label(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { label, yField, layout } = options;\n\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n  const leftGeometry = findGeometry(firstView, 'interval');\n  const rightGeometry = findGeometry(secondView, 'interval');\n\n  if (!label) {\n    leftGeometry.label(false);\n    rightGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    /** ---- \u8BBE\u7F6E\u9ED8\u8BA4\u914D\u7F6E ---- */\n    // \u9ED8\u8BA4\u5C45\u4E2D\n    if (!cfg.position) {\n      cfg.position = 'middle';\n    }\n    if (cfg.offset === undefined) {\n      cfg.offset = 2;\n    }\n\n    /** ---- leftView label \u8BBE\u7F6E ---- */\n    const leftLabelCfg = { ...cfg };\n    if (isHorizontal(layout)) {\n      // \u8BBE\u7F6E textAlign \u9ED8\u8BA4\u503C\n      const textAlign = leftLabelCfg.style?.textAlign || (cfg.position === 'middle' ? 'center' : 'left');\n      cfg.style = deepAssign({}, cfg.style, { textAlign });\n      const textAlignMap = { left: 'right', right: 'left', center: 'center' };\n      leftLabelCfg.style = deepAssign({}, leftLabelCfg.style, { textAlign: textAlignMap[textAlign] });\n    } else {\n      const positionMap = { top: 'bottom', bottom: 'top', middle: 'middle' };\n      if (typeof cfg.position === 'string') {\n        cfg.position = positionMap[cfg.position];\n      } else if (typeof cfg.position === 'function') {\n        cfg.position = (...args) => positionMap[(cfg.position as Function).apply(this, args)];\n      }\n      // \u8BBE\u7F6E textBaseline \u9ED8\u8BA4\u503C\n      const textBaseline = leftLabelCfg.style?.textBaseline || 'bottom';\n      leftLabelCfg.style = deepAssign({}, leftLabelCfg.style, { textBaseline });\n      const textBaselineMap = { top: 'bottom', bottom: 'top', middle: 'middle' };\n      cfg.style = deepAssign({}, cfg.style, { textBaseline: textBaselineMap[textBaseline] });\n    }\n\n    leftGeometry.label({\n      fields: [yField[0]],\n      callback,\n      cfg: transformLabel(leftLabelCfg),\n    });\n    rightGeometry.label({\n      fields: [yField[1]],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \u5BF9\u79F0\u6761\u5F62\u56FE\u9002\u914D\u5668\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BidirectionalBarOptions>) {\n  // flow \u7684\u65B9\u5F0F\u5904\u7406\u6240\u6709\u7684\u914D\u7F6E\u5230 G2 API\n  return flow(geometry, meta, axis, limitInPlot, theme, label, tooltip, interaction, animation)(params);\n}\n", "import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign, findViewById } from '../../utils';\nimport { BidirectionalBarOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { syncViewPadding, transformData, isHorizontal } from './utils';\nimport { SERIES_FIELD_KEY, FIRST_AXES_VIEW, SECOND_AXES_VIEW } from './constant';\n\nexport type { BidirectionalBarOptions };\n\nexport class BidirectionalBar extends Plot<BidirectionalBarOptions> {\n  /**\n   * \u83B7\u53D6 \u9ED8\u8BA4\u914D\u7F6E\u9879\n   * \u4F9B\u5916\u90E8\u4F7F\u7528\n   */\n  static getDefaultOptions(): Partial<BidirectionalBarOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      syncViewPadding,\n    });\n  }\n\n  /** \u5BF9\u79F0\u6761\u5F62\u56FE\u5206\u7C7B\u5B57\u6BB5 */\n  static SERIES_FIELD_KEY = SERIES_FIELD_KEY;\n\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'bidirectional-bar';\n\n  /**\n   * @override\n   */\n  public changeData(data = []) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n\n    // \u66F4\u65B0options\n    this.updateOption({ data });\n    const { xField, yField, layout } = this.options;\n    // \u5904\u7406\u6570\u636E\n    const groupData: any[] = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n    const [firstViewData, secondViewData] = groupData;\n    const firstView = findViewById(this.chart, FIRST_AXES_VIEW);\n    const secondView = findViewById(this.chart, SECOND_AXES_VIEW);\n    // \u66F4\u65B0\u5BF9\u5E94view\u7684data\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n    // \u91CD\u65B0\u6E32\u67D3\n    this.chart.render(true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  protected getDefaultOptions() {\n    return BidirectionalBar.getDefaultOptions();\n  }\n\n  /**\n   * \u83B7\u53D6\u5BF9\u79F0\u6761\u5F62\u56FE\u7684\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<BidirectionalBarOptions> {\n    return adaptor;\n  }\n}\n", "import { isArray, get } from '@antv/util';\nimport { View } from '@antv/g2';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { Interaction } from '../../types/interaction';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { TreemapOptions } from './types';\n\nexport function findInteraction(\n  interactions: TreemapOptions['interactions'],\n  interactionType: string\n): undefined | Interaction {\n  if (!isArray(interactions)) return undefined;\n  return interactions.find((i) => i.type === interactionType);\n}\n\nexport function enableInteraction(interactions: TreemapOptions['interactions'], interactionType: string): boolean {\n  const interaction = findInteraction(interactions, interactionType);\n  return interaction && interaction.enable !== false;\n}\n\n/**\n * \u662F\u5426\u5141\u8BB8\u4E0B\u94BB\u4EA4\u4E92\n * @param interactions\n * @param interactionType\n * @returns\n */\nexport function enableDrillInteraction(options: TreemapOptions): boolean {\n  const { interactions, drilldown } = options;\n  // \u517C\u5BB9\u65E7\u7248\u672C, treemap-drill-down\n  return get(drilldown, 'enabled') || enableInteraction(interactions, 'treemap-drill-down');\n}\n\nexport function resetDrillDown(chart: View) {\n  const drillDownInteraction = chart.interactions['drill-down'];\n\n  if (!drillDownInteraction) return;\n\n  // @ts-ignore\n  const drillDownAction = drillDownInteraction.context.actions.find((i) => i.name === 'drill-down-action');\n\n  drillDownAction.reset();\n}\n\ninterface TransformDataOptions {\n  data: TreemapOptions['data'];\n  colorField: TreemapOptions['colorField'];\n  enableDrillDown: boolean;\n  hierarchyConfig: TreemapOptions['hierarchyConfig'];\n}\n\nexport function transformData(options: TransformDataOptions) {\n  const { data, colorField, enableDrillDown, hierarchyConfig } = options;\n\n  const nodes = treemap(data, {\n    ...hierarchyConfig,\n    // @ts-ignore\n    type: 'hierarchy.treemap',\n    field: 'value',\n    as: ['x', 'y'],\n  });\n\n  const result = [];\n  nodes.forEach((node) => {\n    if (node.depth === 0) {\n      return null;\n    }\n\n    // \u5F00\u542F\u4E0B\u94BB\uFF0C\u4EC5\u52A0\u8F7D depth === 1 \u7684\u6570\u636E\n    if (enableDrillDown && node.depth !== 1) {\n      return null;\n    }\n\n    // \u4E0D\u5F00\u542F\u4E0B\u94BB\uFF0C\u52A0\u8F7D\u6240\u6709\u53F6\u5B50\u8282\u70B9\n    if (!enableDrillDown && node.children) {\n      return null;\n    }\n\n    // path \u4FE1\u606F\u4EC5\u6311\u9009\u5FC5\u8981\u7956\u5148\u5143\u7D20\u5C5E\u6027\uFF0C\u56E0\u4E3A\u5728\u6709\u4E9B\u5C5E\u6027\u662F\u4E0D\u5FC5\u8981(x, y), \u6216\u662F\u4E0D\u51C6\u786E\u7684(\u4E0B\u94BB\u65F6\u7684 depth)\uFF0C\u4E0D\u5BF9\u5916\u900F\u51FA\n    const curPath = node.ancestors().map((n) => ({\n      data: n.data,\n      height: n.height,\n      value: n.value,\n    }));\n    // \u5728\u4E0B\u94BB\u6811\u56FE\u4E2D\uFF0C\u6BCF\u6B21\u7ED8\u5236\u7684\u662F\u5F53\u524D\u5C42\u7EA7\u4FE1\u606F\uFF0C\u5C06\u7236\u5143\u7D20\u7684\u5C42\u7EA7\u4FE1\u606F\uFF08data.path) \u505A\u4E00\u5C42\u62FC\u63A5\u3002\n    const path = enableDrillDown && isArray(data.path) ? curPath.concat(data.path.slice(1)) : curPath;\n\n    const nodeInfo = Object.assign({}, node.data, {\n      x: node.x,\n      y: node.y,\n      depth: node.depth,\n      value: node.value,\n      path,\n      ...node,\n    });\n    if (!node.data[colorField] && node.parent) {\n      const ancestorNode = node.ancestors().find((n) => n.data[colorField]);\n      nodeInfo[colorField] = ancestorNode?.data[colorField];\n    } else {\n      nodeInfo[colorField] = node.data[colorField];\n    }\n\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, colorField, enableDrillDown };\n    result.push(nodeInfo);\n  });\n  return result;\n}\n", "import { get } from '@antv/util';\nimport { polygon as basePolygon } from '../../adaptor/geometries/polygon';\nimport { Params } from '../../core/adaptor';\nimport { interaction as commonInteraction, animation, theme, legend, annotation, tooltip } from '../../adaptor/common';\nimport { pattern } from '../../adaptor/pattern';\nimport { flow, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding } from '../../utils/padding';\nimport { transformData, findInteraction, enableDrillInteraction } from './utils';\nimport { TreemapOptions } from './types';\n\n/**\n * \u83B7\u53D6\u9ED8\u8BA4 option\n * @param params\n */\nfunction defaultOptions(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { options } = params;\n  const { colorField } = options;\n\n  return deepAssign(\n    {\n      options: {\n        rawFields: ['value'],\n        tooltip: {\n          fields: ['name', 'value', colorField, 'path'],\n          formatter: (data) => {\n            return {\n              name: data.name,\n              value: data.value,\n            };\n          },\n        },\n      },\n    },\n    params\n  );\n}\n\n/**\n * \u5B57\u6BB5\n * @param params\n */\nfunction geometry(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart, options } = params;\n  const { color, colorField, rectStyle, hierarchyConfig, rawFields } = options;\n\n  const data = transformData({\n    data: options.data,\n    colorField: options.colorField,\n    enableDrillDown: enableDrillInteraction(options),\n    hierarchyConfig,\n  });\n\n  chart.data(data);\n\n  // geometry\n  basePolygon(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        rawFields: rawFields,\n        polygon: {\n          color,\n          style: rectStyle,\n        },\n      },\n    })\n  );\n\n  // \u505A\u4E00\u4E2A\u53CD\u8F6C\uFF0C\u8FD9\u6837\u914D\u5408\u6392\u5E8F\uFF0C\u53EF\u4EE5\u5C06\u6700\u5927\u503C\u653E\u5230\u5DE6\u4E0A\u89D2\uFF0C\u6700\u5C0F\u503C\u653E\u5230\u53F3\u4E0B\u89D2\n  chart.coordinate().reflect('y');\n\n  return params;\n}\n\n/**\n * \u5750\u6807\u8F74\n * @param params\n */\nfunction axis(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\nfunction adaptorInteraction(options: TreemapOptions): TreemapOptions {\n  const { drilldown, interactions = [] } = options;\n\n  const enableDrillDown = enableDrillInteraction(options);\n  if (enableDrillDown) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          // \uD83D\uDE93 \u8FD9\u4E0D\u662F\u4E00\u4E2A\u89C4\u8303\u7684 API\uFF0C\u540E\u7EED\u4F1A\u53D8\u66F4\u3002\u614E\u91CD\u53C2\u8003\n          cfg: { drillDownConfig: drilldown, transformData },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * Interaction \u914D\u7F6E\n * @param params\n */\nexport function interaction(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart, options } = params;\n  const { interactions, drilldown } = options;\n\n  commonInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  // \u9002\u914D view-zoom\n  const viewZoomInteraction = findInteraction(interactions, 'view-zoom');\n\n  if (viewZoomInteraction) {\n    // \u5F00\u542F\u7F29\u653E interaction \u540E\uFF0C\u5219\u963B\u6B62\u9ED8\u8BA4\u6EDA\u52A8\u4E8B\u4EF6\uFF0C\u907F\u514D\u6574\u4E2A\u7A97\u53E3\u7684\u6EDA\u52A8\n    if (viewZoomInteraction.enable !== false) {\n      chart.getCanvas().on('mousewheel', (ev) => {\n        ev.preventDefault();\n      });\n    } else {\n      // \u624B\u52A8\u5173\u95ED\u540E\uFF0C\u6E05\u9664\u3002\u4EC5\u5BF9\u58F0\u660E viewZoomInteraction \u7684\u6E05\u9664\u3002\n      chart.getCanvas().off('mousewheel');\n    }\n  }\n\n  // \u9002\u5E94\u4E0B\u94BB\u4EA4\u4E92\u9762\u5305\u5C51\n  const enableDrillDown = enableDrillInteraction(options);\n  if (enableDrillDown) {\n    // \u4E3A\u9762\u5305\u5C51\u5728\u5E95\u90E8\u7559\u51FA 25px \u7684\u7A7A\u95F4\n    chart.appendPadding = getAdjustAppendPadding(chart.appendPadding, get(drilldown, ['breadCrumb', 'position']));\n  }\n  return params;\n}\n\n/**\n * \u77E9\u5F62\u6811\u56FE\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TreemapOptions>) {\n  return flow(\n    defaultOptions,\n    theme,\n    pattern('rectStyle'),\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n", "export const DEFAULT_OPTIONS = {\n  // \u9ED8\u8BA4\u6309\u7167 name \u5B57\u6BB5\u5BF9\u989C\u8272\u8FDB\u884C\u5206\u7C7B\n  colorField: 'name',\n  rectStyle: {\n    lineWidth: 1,\n    stroke: '#fff',\n  },\n  hierarchyConfig: {\n    tile: 'treemapSquarify' as const,\n  },\n  label: {\n    fields: ['name'],\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    showMarkers: false,\n    showTitle: false,\n  },\n  // \u4E0B\u94BB\u4EA4\u4E92\u914D\u7F6E\uFF0C\u9ED8\u8BA4\u4E0D\u5F00\u542F\n  drilldown: {\n    enabled: false,\n    breadCrumb: {\n      position: 'bottom-left' as const,\n      rootText: '\u521D\u59CB',\n      dividerText: '/',\n      textStyle: {\n        fontSize: 12,\n        fill: 'rgba(0, 0, 0, 0.65)',\n        cursor: 'pointer',\n      },\n      activeTextStyle: {\n        fill: '#87B5FF',\n      },\n    },\n  },\n};\n", "import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { TreemapOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformData, enableInteraction, resetDrillDown } from './utils';\nimport './interactions';\n\nexport type { TreemapOptions };\n\nexport class Treemap extends Plot<TreemapOptions> {\n  /**\n   * \u83B7\u53D6 \u77E9\u9635\u6811\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n   * \u4F9B\u5916\u90E8\u4F7F\u7528\n   */\n  static getDefaultOptions(): Partial<TreemapOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'treemap';\n\n  /**\n   * changeData\n   */\n  public changeData(data) {\n    const { colorField, interactions, hierarchyConfig } = this.options;\n    this.updateOption({ data });\n    const transData = transformData({\n      data,\n      colorField,\n      enableDrillDown: enableInteraction(interactions, 'treemap-drill-down'),\n      hierarchyConfig,\n    });\n    this.chart.changeData(transData);\n\n    resetDrillDown(this.chart);\n  }\n\n  /**\n   * \u83B7\u53D6 \u77E9\u9635\u6811\u56FE \u9ED8\u8BA4\u914D\u7F6E\n   */\n  protected getDefaultOptions() {\n    return Treemap.getDefaultOptions();\n  }\n\n  protected getSchemaAdaptor(): Adaptor<TreemapOptions> {\n    return adaptor;\n  }\n}\n", "import { minBy } from '@antv/util';\n\nfunction targetDepth(d) {\n  return d.target.depth;\n}\n\nexport function left(node) {\n  return node.depth;\n}\n\nexport function right(node, n) {\n  return n - 1 - node.height;\n}\n\nexport function justify(node, n) {\n  return node.sourceLinks.length ? node.depth : n - 1;\n}\n\nexport function center(node) {\n  return node.targetLinks.length ? node.depth : node.sourceLinks.length ? minBy(node.sourceLinks, targetDepth) - 1 : 0;\n}\n", "export function constant(x: any) {\n  return function () {\n    return x;\n  };\n}\n\nexport function sumBy(arr, func) {\n  let r = 0;\n  for (let i = 0; i < arr.length; i++) {\n    r += func(arr[i]);\n  }\n\n  return r;\n}\n\n/**\n * \u8BA1\u7B97\u6700\u5927\u503C\n * @param arr\n * @param func\n */\nexport function maxValueBy(arr, func): number {\n  let r = -Infinity;\n  for (let i = 0; i < arr.length; i++) {\n    r = Math.max(func(arr[i]), r);\n  }\n\n  return r;\n}\n\n/**\n * \u8BA1\u7B97\u6700\u5C0F\u503C\n * @param arr\n * @param func\n */\nexport function minValueBy(arr, func): number {\n  let r = Infinity;\n  for (let i = 0; i < arr.length; i++) {\n    r = Math.min(func(arr[i]), r);\n  }\n\n  return r;\n}\n", "import { justify } from './align';\nimport { constant, sumBy, maxValueBy, minValueBy } from './helper';\n\nfunction ascendingSourceBreadth(a, b) {\n  return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\n\nfunction ascendingTargetBreadth(a, b) {\n  return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\n\nfunction ascendingBreadth(a, b) {\n  return a.y0 - b.y0;\n}\n\nfunction value(d) {\n  return d.value;\n}\n\nfunction defaultId(d) {\n  return d.index;\n}\n\nfunction defaultNodes(graph) {\n  return graph.nodes;\n}\n\nfunction defaultLinks(graph) {\n  return graph.links;\n}\n\nfunction find(nodeById, id) {\n  const node = nodeById.get(id);\n  if (!node) throw new Error('missing: ' + id);\n  return node;\n}\n\nfunction computeLinkBreadths({ nodes }) {\n  for (const node of nodes) {\n    let y0 = node.y0;\n    let y1 = y0;\n    for (const link of node.sourceLinks) {\n      link.y0 = y0 + link.width / 2;\n      y0 += link.width;\n    }\n    for (const link of node.targetLinks) {\n      link.y1 = y1 + link.width / 2;\n      y1 += link.width;\n    }\n  }\n}\n\nexport function Sankey() {\n  let x0 = 0,\n    y0 = 0,\n    x1 = 1,\n    y1 = 1; // extent\n  let dx = 24; // nodeWidth\n  let dy = 8,\n    py; // nodePadding\n  let id = defaultId;\n  let align = justify;\n  let depth;\n  let sort;\n  let linkSort;\n  let nodes = defaultNodes;\n  let links = defaultLinks;\n  let iterations = 6;\n\n  function sankey(arg) {\n    const graph = {\n      nodes: nodes(arg),\n      links: links(arg),\n    };\n    computeNodeLinks(graph);\n    computeNodeValues(graph);\n    computeNodeDepths(graph);\n    computeNodeHeights(graph);\n    computeNodeBreadths(graph);\n    computeLinkBreadths(graph);\n    return graph;\n  }\n\n  sankey.update = function (graph) {\n    computeLinkBreadths(graph);\n    return graph;\n  };\n\n  sankey.nodeId = function (_) {\n    return arguments.length ? ((id = typeof _ === 'function' ? _ : constant(_)), sankey) : id;\n  };\n\n  sankey.nodeAlign = function (_) {\n    return arguments.length ? ((align = typeof _ === 'function' ? _ : constant(_)), sankey) : align;\n  };\n\n  sankey.nodeDepth = function (_) {\n    return arguments.length ? ((depth = typeof _ === 'function' ? _ : _), sankey) : depth;\n  };\n\n  sankey.nodeSort = function (_) {\n    return arguments.length ? ((sort = _), sankey) : sort;\n  };\n\n  sankey.nodeWidth = function (_) {\n    return arguments.length ? ((dx = +_), sankey) : dx;\n  };\n\n  sankey.nodePadding = function (_) {\n    return arguments.length ? ((dy = py = +_), sankey) : dy;\n  };\n\n  sankey.nodes = function (_) {\n    return arguments.length ? ((nodes = typeof _ === 'function' ? _ : constant(_)), sankey) : nodes;\n  };\n\n  sankey.links = function (_) {\n    return arguments.length ? ((links = typeof _ === 'function' ? _ : constant(_)), sankey) : links;\n  };\n\n  sankey.linkSort = function (_) {\n    return arguments.length ? ((linkSort = _), sankey) : linkSort;\n  };\n\n  sankey.size = function (_) {\n    return arguments.length ? ((x0 = y0 = 0), (x1 = +_[0]), (y1 = +_[1]), sankey) : [x1 - x0, y1 - y0];\n  };\n\n  sankey.extent = function (_) {\n    return arguments.length\n      ? ((x0 = +_[0][0]), (x1 = +_[1][0]), (y0 = +_[0][1]), (y1 = +_[1][1]), sankey)\n      : [\n          [x0, y0],\n          [x1, y1],\n        ];\n  };\n\n  sankey.iterations = function (_) {\n    return arguments.length ? ((iterations = +_), sankey) : iterations;\n  };\n\n  function computeNodeLinks({ nodes, links }) {\n    nodes.forEach((node, idx) => {\n      node.index = idx;\n      node.sourceLinks = [];\n      node.targetLinks = [];\n    });\n\n    const nodeById = new Map(nodes.map((d) => [id(d), d]));\n\n    links.forEach((link, idx) => {\n      link.index = idx;\n      let { source, target } = link;\n      if (typeof source !== 'object') source = link.source = find(nodeById, source);\n      if (typeof target !== 'object') target = link.target = find(nodeById, target);\n      source.sourceLinks.push(link);\n      target.targetLinks.push(link);\n    });\n\n    if (linkSort != null) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(linkSort);\n        targetLinks.sort(linkSort);\n      }\n    }\n  }\n\n  function computeNodeValues({ nodes }) {\n    for (const node of nodes) {\n      node.value =\n        node.fixedValue === undefined\n          ? Math.max(sumBy(node.sourceLinks, value), sumBy(node.targetLinks, value))\n          : node.fixedValue;\n    }\n  }\n\n  function computeNodeDepths({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.depth = x;\n        for (const { target } of node.sourceLinks) {\n          next.add(target);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n\n    // \u5982\u679C\u914D\u7F6E\u4E86 depth\uFF0C\u5219\u8BBE\u7F6E\u81EA\u5B9A\u4E49 depth\n    if (depth) {\n      const maxDepth = Math.max(maxValueBy(nodes, (d: any) => d.depth) + 1, 0);\n\n      let node;\n      for (let i = 0; i < nodes.length; i++) {\n        node = nodes[i];\n        node.depth = depth.call(null, node, maxDepth);\n      }\n    }\n  }\n\n  function computeNodeHeights({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.height = x;\n        for (const { source } of node.targetLinks) {\n          next.add(source);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n  }\n\n  function computeNodeLayers({ nodes }) {\n    const x = Math.max(maxValueBy(nodes, (d: any) => d.depth) + 1, 0);\n    const kx = (x1 - x0 - dx) / (x - 1);\n    const columns = new Array(x).fill(0).map(() => []);\n    for (const node of nodes) {\n      const i = Math.max(0, Math.min(x - 1, Math.floor(align.call(null, node, x))));\n      node.layer = i;\n      node.x0 = x0 + i * kx;\n      node.x1 = node.x0 + dx;\n      if (columns[i]) columns[i].push(node);\n      else columns[i] = [node];\n    }\n    if (sort)\n      for (const column of columns) {\n        column.sort(sort);\n      }\n    return columns;\n  }\n\n  function initializeNodeBreadths(columns) {\n    const ky = minValueBy(columns, (c: any[]) => (y1 - y0 - (c.length - 1) * py) / sumBy(c, value)) as any as number;\n    for (const nodes of columns) {\n      let y = y0;\n      for (const node of nodes) {\n        node.y0 = y;\n        node.y1 = y + node.value * ky;\n        y = node.y1 + py;\n        for (const link of node.sourceLinks) {\n          link.width = link.value * ky;\n        }\n      }\n      y = (y1 - y + py) / (nodes.length + 1);\n      for (let i = 0; i < nodes.length; ++i) {\n        const node = nodes[i];\n        node.y0 += y * (i + 1);\n        node.y1 += y * (i + 1);\n      }\n      reorderLinks(nodes);\n    }\n  }\n\n  function computeNodeBreadths(graph) {\n    const columns = computeNodeLayers(graph);\n    py = Math.min(dy, (y1 - y0) / ((maxValueBy(columns, (c: any[]) => c.length) as any as number) - 1));\n    initializeNodeBreadths(columns);\n    for (let i = 0; i < iterations; ++i) {\n      const alpha = Math.pow(0.99, i);\n      const beta = Math.max(1 - alpha, (i + 1) / iterations);\n      relaxRightToLeft(columns, alpha, beta);\n      relaxLeftToRight(columns, alpha, beta);\n    }\n  }\n\n  // Reposition each node based on its incoming (target) links.\n  function relaxLeftToRight(columns, alpha, beta) {\n    for (let i = 1, n = columns.length; i < n; ++i) {\n      const column = columns[i];\n      for (const target of column) {\n        let y = 0;\n        let w = 0;\n        for (const { source, value } of target.targetLinks) {\n          const v = value * (target.layer - source.layer);\n          y += targetTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - target.y0) * alpha;\n        target.y0 += dy;\n        target.y1 += dy;\n        reorderNodeLinks(target);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  // Reposition each node based on its outgoing (source) links.\n  function relaxRightToLeft(columns, alpha, beta) {\n    for (let n = columns.length, i = n - 2; i >= 0; --i) {\n      const column = columns[i];\n      for (const source of column) {\n        let y = 0;\n        let w = 0;\n        for (const { target, value } of source.sourceLinks) {\n          const v = value * (target.layer - source.layer);\n          y += sourceTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - source.y0) * alpha;\n        source.y0 += dy;\n        source.y1 += dy;\n        reorderNodeLinks(source);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  function resolveCollisions(nodes, alpha) {\n    const i = nodes.length >> 1;\n    const subject = nodes[i];\n    resolveCollisionsBottomToTop(nodes, subject.y0 - py, i - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, subject.y1 + py, i + 1, alpha);\n    resolveCollisionsBottomToTop(nodes, y1, nodes.length - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, y0, 0, alpha);\n  }\n\n  // Push any overlapping nodes down.\n  function resolveCollisionsTopToBottom(nodes, y, i, alpha) {\n    for (; i < nodes.length; ++i) {\n      const node = nodes[i];\n      const dy = (y - node.y0) * alpha;\n      if (dy > 1e-6) (node.y0 += dy), (node.y1 += dy);\n      y = node.y1 + py;\n    }\n  }\n\n  // Push any overlapping nodes up.\n  function resolveCollisionsBottomToTop(nodes, y, i, alpha) {\n    for (; i >= 0; --i) {\n      const node = nodes[i];\n      const dy = (node.y1 - y) * alpha;\n      if (dy > 1e-6) (node.y0 -= dy), (node.y1 -= dy);\n      y = node.y0 - py;\n    }\n  }\n\n  function reorderNodeLinks({ sourceLinks, targetLinks }) {\n    if (linkSort === undefined) {\n      for (const {\n        source: { sourceLinks },\n      } of targetLinks) {\n        sourceLinks.sort(ascendingTargetBreadth);\n      }\n      for (const {\n        target: { targetLinks },\n      } of sourceLinks) {\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  function reorderLinks(nodes) {\n    if (linkSort === undefined) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(ascendingTargetBreadth);\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  // Returns the target.y0 that would produce an ideal link from source to target.\n  function targetTop(source, target) {\n    let y = source.y0 - ((source.sourceLinks.length - 1) * py) / 2;\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y += width + py;\n    }\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  // Returns the source.y0 that would produce an ideal link from source to target.\n  function sourceTop(source, target) {\n    let y = target.y0 - ((target.targetLinks.length - 1) * py) / 2;\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y += width + py;\n    }\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  return sankey;\n}\n", "import { assign, isString, isFunction } from '@antv/util';\nimport { Datum } from '../../types';\nimport { sankey, left, right, center, justify } from './sankey';\n\nconst ALIGN_METHOD = {\n  left,\n  right,\n  center,\n  justify,\n};\n\ntype InputNode = {\n  readonly name: string;\n};\n\ntype InputLink = {\n  readonly source: number;\n  readonly target: number;\n  readonly value: number;\n};\n\ntype OutputNode = {\n  readonly name: string;\n  readonly x0: number;\n  readonly x1: number;\n  readonly y0: number;\n  readonly y1: number;\n  readonly depth: number;\n  readonly value: number;\n\n  // \u7528\u4E8E\u7ED8\u5236 polygon\n  x: number[];\n  y: number[];\n};\n\ntype OutputLink = {\n  readonly source: OutputNode;\n  readonly target: OutputNode;\n  readonly value: number;\n  readonly width: number;\n  readonly y0: number;\n  readonly y1: number;\n\n  // \u7528\u4E8E\u7ED8\u5236 edge\n  x?: number[];\n  y?: number[];\n};\n\n/**\n * \u6851\u57FA\u56FE\u5E03\u5C40\u7684\u6570\u636E\u7ED3\u6784\u5B9A\u4E49\n */\nexport type SankeyLayoutInputData = {\n  readonly nodes: InputNode[];\n  readonly links: InputLink[];\n};\n\ntype SankeyLayoutOutputData = {\n  readonly nodes: OutputNode[];\n  readonly links: OutputLink[];\n};\n\n/**\n * \u5BF9\u9F50\u65B9\u5F0F\u7684\u7C7B\u578B\u5B9A\u4E49\n */\nexport type NodeAlign = keyof typeof ALIGN_METHOD | Function;\n\n/**\n * \u8282\u70B9\u7684 depth \u81EA\u5B9A\u4E49\n */\nexport type NodeDepth = (datum: Datum, maxDepth: number) => number;\n\n/**\n * \u8282\u70B9\u6392\u5E8F\u65B9\u6CD5\u7684\u7C7B\u578B\u5B9A\u4E49\n */\nexport type NodeSort = (a: Datum, b: Datum) => number;\n\n/**\n * \u5E03\u5C40\u53C2\u6570\u7684\u5B9A\u4E49\n */\nexport type SankeyLayoutOptions = {\n  readonly nodeId?: (node: Datum) => any;\n  // readonly value?: (node: Datum) => any;\n  // readonly source?: (edge: Datum) => any;\n  // readonly target?: (edge: Datum) => any;\n  // sankey.nodeSort(undefined) is the default and resorts by ascending breadth during each iteration.\n  // sankey.nodeSort(null) specifies the input order of nodes and never sorts.\n  // sankey.nodeSort(function) specifies the given order as a comparator function and sorts once on initialization.\n  readonly nodeSort?: (a: any, b: any) => number;\n  readonly nodeAlign?: NodeAlign;\n  readonly nodeWidth?: number;\n  readonly nodePadding?: number;\n  readonly nodeDepth?: NodeDepth;\n};\n\n/**\n * \u9ED8\u8BA4\u503C\n */\nconst DEFAULT_OPTIONS: Partial<SankeyLayoutOptions> = {\n  nodeId: (node: Datum) => node.index,\n  nodeAlign: 'justify',\n  nodeWidth: 0.008,\n  nodePadding: 0.03,\n  nodeSort: undefined,\n};\n\n/**\n * \u83B7\u5F97 align function\n * @param nodeAlign\n * @param nodeDepth\n */\nexport function getNodeAlignFunction(nodeAlign: NodeAlign) {\n  const func = isString(nodeAlign) ? ALIGN_METHOD[nodeAlign] : isFunction(nodeAlign) ? nodeAlign : null;\n\n  return func || justify;\n}\n\nexport function getDefaultOptions(sankeyLayoutOptions: SankeyLayoutOptions) {\n  return assign({}, DEFAULT_OPTIONS, sankeyLayoutOptions);\n}\n\n/**\n * \u6851\u57FA\u56FE\u5229\u7528\u6570\u636E\u8FDB\u884C\u5E03\u5C40\u7684\u51FD\u6570\uFF0C\u6700\u7EC8\u8FD4\u56DE\u8282\u70B9\u3001\u8FB9\u7684\u4F4D\u7F6E\uFF080 - 1 \u7684\u4FE1\u606F\uFF09\n * \u5C06\u4F1A\u4FEE\u6539 data \u6570\u636E\n * @param sankeyLayoutOptions\n * @param data\n */\nexport function sankeyLayout(\n  sankeyLayoutOptions: SankeyLayoutOptions,\n  data: SankeyLayoutInputData\n): SankeyLayoutOutputData {\n  const options = getDefaultOptions(sankeyLayoutOptions);\n\n  const { nodeId, nodeSort, nodeAlign, nodeWidth, nodePadding, nodeDepth } = options;\n\n  const sankeyProcessor = sankey()\n    // .links((d: any) => d.links)\n    // .nodes((d: any) => d.nodes)\n    .nodeSort(nodeSort)\n    .nodeWidth(nodeWidth)\n    .nodePadding(nodePadding)\n    .nodeDepth(nodeDepth)\n    .nodeAlign(getNodeAlignFunction(nodeAlign))\n    .extent([\n      [0, 0],\n      [1, 1],\n    ])\n    .nodeId(nodeId);\n\n  // \u8FDB\u884C\u6851\u57FA\u56FE\u5E03\u5C40\u5904\u7406\n  const layoutData: SankeyLayoutOutputData = sankeyProcessor(data);\n\n  // post process (x, y), etc.\n  const nodes = layoutData.nodes\n    .map((node) => {\n      const { x0, x1, y0, y1 } = node;\n      /* points\n       * 3---2\n       * |   |\n       * 0---1\n       */\n      node.x = [x0, x1, x1, x0];\n      node.y = [y0, y0, y1, y1];\n\n      return node;\n    })\n    .filter((node) => {\n      return node.name !== null;\n    });\n\n  const links = layoutData.links\n    .map((edge) => {\n      const { source, target } = edge;\n      const sx = source.x1;\n      const tx = target.x0;\n      edge.x = [sx, sx, tx, tx];\n      const offset = edge.width / 2;\n      edge.y = [edge.y0 + offset, edge.y0 - offset, edge.y1 + offset, edge.y1 - offset];\n\n      return edge;\n    })\n    .filter((edge) => {\n      const { source, target } = edge;\n      return source.name !== null && target.name !== null;\n    });\n\n  return { nodes, links };\n}\n", "import { isArray } from '@antv/util';\nimport { Data } from '../../types';\n\n/**\n * \u6839\u636E edges \u83B7\u53D6\u5BF9\u5E94\u7684 node \u7ED3\u6784\n */\nexport function getNodes(edges: Data, sourceField: string, targetField: string): string[] {\n  const nodes = [];\n  edges.forEach((e) => {\n    const source = e[sourceField] as string;\n    const target = e[targetField] as string;\n    if (!nodes.includes(source)) {\n      nodes.push(source);\n    }\n    if (!nodes.includes(target)) {\n      nodes.push(target);\n    }\n  });\n  return nodes;\n}\n\n/**\n * \u6839\u636E edges \u83B7\u53D6\u5BF9\u5E94\u7684 dfs \u90BB\u63A5\u77E9\u9635\n */\nexport function getMatrix(\n  edges: Data,\n  nodes: string[],\n  sourceField: string,\n  targetField: string\n): Record<string, Record<string, number>> {\n  const graphMatrix = {};\n\n  nodes.forEach((pre) => {\n    graphMatrix[pre] = {};\n    nodes.forEach((next) => {\n      graphMatrix[pre][next] = 0;\n    });\n  });\n\n  edges.forEach((edge) => {\n    graphMatrix[edge[sourceField]][edge[targetField]] = 1;\n  });\n\n  return graphMatrix;\n}\n\n/**\n * \u4F7F\u7528 DFS \u601D\u8DEF\u5207\u65AD\u6851\u57FA\u56FE\u6570\u636E\u4E2D\u7684\u73AF\uFF08\u4F1A\u4E22\u5931\u6570\u636E\uFF09\uFF0C\u4FDD\u8BC1\u987A\u5E8F\n * @param data\n * @param sourceField\n * @param targetField\n */\nexport function cutoffCircle(edges: Data, sourceField: string, targetField: string): Data {\n  if (!isArray(edges)) return [];\n\n  // \u5F85\u5220\u9664\u7684\u73AF\u72B6\u7ED3\u6784\n  const removedData = [];\n\n  // \u83B7\u53D6\u6240\u6709\u7684\u8282\u70B9\n  const nodes = getNodes(edges, sourceField, targetField);\n  // \u83B7\u53D6\u8282\u70B9\u4E0E\u8FB9\u7684\u90BB\u63A5\u77E9\u9635\n  const graphMatrix = getMatrix(edges, nodes, sourceField, targetField);\n\n  // visited\uFF1A\u6807\u8BB0\u8282\u70B9\u8BBF\u95EE\u72B6\u6001, 0\uFF1A\u672A\u8BBF\u95EE,1\uFF1A\u8BBF\u95EE\u4E2D, -1\uFF1A\u5DF2\u8BBF\u95EE\n  const visited = {};\n  // \u521D\u59CB\u5316visited\n  nodes.forEach((node) => {\n    visited[node] = 0;\n  });\n\n  // \u56FE\u7684\u6DF1\u5EA6\u904D\u5386\u51FD\u6570\n  function DFS(dfsNode) {\n    // \u8282\u70B9\u72B6\u6001\u7F6E\u4E3A\u6B63\u5728\u8BBF\u95EE\n    visited[dfsNode] = 1;\n    nodes.forEach((node) => {\n      if (graphMatrix[dfsNode][node] != 0) {\n        // \u5F53\u524D\u8282\u70B9\u5728\u8BBF\u95EE\u4E2D\uFF0C\u518D\u6B21\u88AB\u8BBF\u95EE\uFF0C\u8BC1\u660E\u6709\u73AF\uFF0C\u79FB\u52A8\u5230 removeData\n        if (visited[node] == 1) {\n          // \u62FC\u63A5\u4E3A\u5B57\u7B26\u4E32\uFF0C\u65B9\u4FBF\u6700\u540E\u8FC7\u6EE4\n          removedData.push(`${dfsNode}_${node}`);\n        } else if (visited[node] == -1) {\n          // \u5F53\u524D\u7ED3\u70B9\u53CA\u540E\u8FB9\u7684\u7ED3\u70B9\u90FD\u88AB\u8BBF\u95EE\u8FC7\uFF0C\u76F4\u63A5\u8DF3\u81F3\u4E0B\u4E00\u4E2A\u7ED3\u70B9\n          return;\n        } else {\n          DFS(node); // \u5426\u5219\u9012\u5F52\u8BBF\u95EE\n        }\n      }\n    });\n    //\u904D\u5386\u8FC7\u6240\u6709\u76F8\u8FDE\u7684\u7ED3\u70B9\u540E\uFF0C\u628A\u672C\u8282\u70B9\u6807\u8BB0\u4E3A-1\n    visited[dfsNode] = -1;\n  }\n\n  // \u5BF9\u6BCF\u4E2A\u8282\u70B9\u6267\u884C dfs \u64CD\u4F5C\n  nodes.forEach((node) => {\n    //\u8BE5\u7ED3\u70B9\u540E\u8FB9\u7684\u7ED3\u70B9\u90FD\u88AB\u8BBF\u95EE\u8FC7\u4E86\uFF0C\u8DF3\u8FC7\u5B83\n    if (visited[node] == -1) {\n      return;\n    }\n    DFS(node);\n  });\n\n  if (removedData.length !== 0) {\n    console.warn(`sankey data contains circle, ${removedData.length} records removed.`, removedData);\n  }\n\n  // \u8FC7\u6EE4 remove \u8DEF\u5F84\n  return edges.filter((edge) => removedData.findIndex((i) => i === `${edge[sourceField]}_${edge[targetField]}`) < 0);\n}\n", "import { isRealNumber, pick } from '../../utils';\nimport { transformDataToNodeLinkData } from '../../utils/data';\nimport { Data } from '../../types';\nimport { sankeyLayout, SankeyLayoutInputData } from './layout';\nimport { cutoffCircle } from './circle';\nimport { SankeyOptions } from './types';\n\n/**\n * \u662F\u5426\u662F node-link \u7C7B\u578B\u7684\u6570\u636E\u7ED3\u6784\n * @param dataTyp\n * @returns\n */\nfunction isNodeLink(dataType: string) {\n  return dataType === 'node-link';\n}\n\nexport function getNodeWidthRatio(nodeWidth: number, nodeWidthRatio: number, width: number) {\n  return isRealNumber(nodeWidth) ? nodeWidth / width : nodeWidthRatio;\n}\n\nexport function getNodePaddingRatio(nodePadding: number, nodePaddingRatio: number, height: number) {\n  return isRealNumber(nodePadding) ? nodePadding / height : nodePaddingRatio;\n}\n\n/**\n * \u5C06\u6851\u57FA\u56FE\u914D\u7F6E\u7ECF\u8FC7 layout\uFF0C\u751F\u6210\u6700\u7EC8\u7684 view \u6570\u636E\n * @param options\n * @param width\n * @param height\n */\nexport function transformToViewsData(options: SankeyOptions, width: number, height: number) {\n  const {\n    dataType,\n    data,\n    sourceField,\n    targetField,\n    weightField,\n    nodeAlign,\n    nodeSort,\n    nodePadding,\n    nodePaddingRatio,\n    nodeWidth,\n    nodeWidthRatio,\n    nodeDepth,\n    rawFields = [],\n  } = options;\n\n  let sankeyLayoutInputData: unknown;\n\n  if (!isNodeLink(dataType)) {\n    sankeyLayoutInputData = transformDataToNodeLinkData(\n      cutoffCircle(data as Data, sourceField, targetField),\n      sourceField,\n      targetField,\n      weightField,\n      rawFields\n    );\n  } else {\n    sankeyLayoutInputData = data;\n  }\n\n  // 3. layout \u4E4B\u540E\u7684\u6570\u636E\n  const { nodes, links } = sankeyLayout(\n    {\n      nodeAlign,\n      nodePadding: getNodePaddingRatio(nodePadding, nodePaddingRatio, height),\n      nodeWidth: getNodeWidthRatio(nodeWidth, nodeWidthRatio, width),\n      nodeSort,\n      nodeDepth,\n    },\n    sankeyLayoutInputData as SankeyLayoutInputData\n  );\n\n  // 4. \u751F\u6210\u7ED8\u56FE\u6570\u636E\n  return {\n    nodes: nodes.map((node) => {\n      return {\n        ...pick(node, ['x', 'y', 'name', ...rawFields]),\n        isNode: true,\n      };\n    }),\n    edges: links.map((link) => {\n      return {\n        source: link.source.name,\n        target: link.target.name,\n        name: link.source.name || link.target.name,\n        ...pick(link, ['x', 'y', 'value', ...rawFields]),\n        isNode: false,\n      };\n    }),\n  };\n}\n", "export const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\nexport const COLOR_FIELD = 'name';\nexport const NODES_VIEW_ID = 'nodes';\nexport const EDGES_VIEW_ID = 'edges';\n", "import { uniq } from '@antv/util';\nimport { theme } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findViewById, flow } from '../../utils';\nimport { polygon, edge } from '../../adaptor/geometries';\nimport { transformToViewsData } from './helper';\nimport { SankeyOptions } from './types';\nimport { X_FIELD, Y_FIELD, COLOR_FIELD, EDGES_VIEW_ID, NODES_VIEW_ID } from './constant';\n\n/**\n * \u9ED8\u8BA4\u914D\u7F6E\u9879 \u5904\u7406\n * @param params\n */\nfunction defaultOptions(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { options } = params;\n  const { rawFields = [] } = options;\n\n  return deepAssign(\n    {},\n    {\n      options: {\n        tooltip: {\n          fields: uniq(['name', 'source', 'target', 'value', 'isNode', ...rawFields]),\n        },\n        label: {\n          fields: uniq(['x', 'name', ...rawFields]),\n        },\n      },\n    },\n    params\n  );\n}\n\n/**\n * geometry \u5904\u7406\n * @param params\n */\nfunction geometry(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { color, nodeStyle, edgeStyle, label, tooltip, nodeState, edgeState } = options;\n\n  // 1. \u7EC4\u4EF6\uFF0C\u4F18\u5148\u8BBE\u7F6E\uFF0C\u56E0\u4E3A\u5B50 view \u4F1A\u7EE7\u627F\u914D\u7F6E\n  chart.legend(false);\n  chart.tooltip(tooltip);\n  chart.axis(false);\n  // y \u955C\u50CF\u4E00\u4E0B\uFF0C\u9632\u6B62\u56FE\u5F62\u987A\u5E8F\u548C\u6570\u636E\u987A\u5E8F\u53CD\u4E86\n  chart.coordinate().reflect('y');\n\n  // 2. node edge views\n  // @ts-ignore\n  const { nodes, edges } = transformToViewsData(options, chart.width, chart.height);\n\n  // edge view\n  const edgeView = chart.createView({ id: EDGES_VIEW_ID });\n  edgeView.data(edges);\n\n  edge({\n    chart: edgeView,\n    // @ts-ignore\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: COLOR_FIELD,\n      edge: {\n        color,\n        style: edgeStyle,\n        shape: 'arc',\n      },\n      tooltip,\n      state: edgeState,\n    },\n  });\n\n  const nodeView = chart.createView({ id: NODES_VIEW_ID });\n  nodeView.data(nodes);\n\n  polygon({\n    chart: nodeView,\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: COLOR_FIELD,\n      polygon: {\n        color,\n        style: nodeStyle,\n      },\n      label,\n      tooltip,\n      state: nodeState,\n    },\n  });\n\n  chart.interaction('element-active');\n\n  // scale\n  chart.scale({\n    x: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n    y: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n    name: { sync: 'color', type: 'cat' },\n  });\n\n  return params;\n}\n\n/**\n * \u52A8\u753B\n * @param params\n */\nexport function animation(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  // \u540C\u65F6\u8BBE\u7F6E\u6574\u4E2A view \u52A8\u753B\u9009\u9879\n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  const geometries = [...chart.views[0].geometries, ...chart.views[1].geometries];\n\n  // \u6240\u6709\u7684 Geometry \u90FD\u4F7F\u7528\u540C\u4E00\u52A8\u753B\uFF08\u5404\u4E2A\u56FE\u5F62\u5982\u6709\u533A\u522B\uFF0C\u81EA\u884C\u8986\u76D6\uFF09\n  geometries.forEach((g) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \u8282\u70B9\u62D6\u52A8\n * @param params\n */\nexport function nodeDraggable(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { nodeDraggable } = options;\n\n  const DRAG_INTERACTION = 'sankey-node-draggable';\n\n  if (nodeDraggable) {\n    chart.interaction(DRAG_INTERACTION);\n  } else {\n    chart.removeInteraction(DRAG_INTERACTION);\n  }\n\n  return params;\n}\n\n/**\n * Interaction \u914D\u7F6E\n * @param params\n */\nfunction interaction(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { interactions = [] } = options;\n\n  const nodeInteractions = [].concat(interactions, options.nodeInteractions || []);\n  const edgeInteractions = [].concat(interactions, options.edgeInteractions || []);\n\n  const nodeView = findViewById(chart, NODES_VIEW_ID);\n  const edgeView = findViewById(chart, EDGES_VIEW_ID);\n\n  nodeInteractions.forEach((i) => {\n    if (i?.enable === false) {\n      nodeView.removeInteraction(i.type);\n    } else {\n      nodeView.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  edgeInteractions.forEach((i) => {\n    if (i?.enable === false) {\n      edgeView.removeInteraction(i.type);\n    } else {\n      edgeView.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \u56FE\u9002\u914D\u5668\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<SankeyOptions>) {\n  // flow \u7684\u65B9\u5F0F\u5904\u7406\u6240\u6709\u7684\u914D\u7F6E\u5230 G2 API\n  return flow(\n    defaultOptions,\n    geometry,\n    interaction,\n    nodeDraggable,\n    animation,\n    theme\n    // ... \u5176\u4ED6\u7684 adaptor flow\n  )(params);\n}\n", "import { Action, Element } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Datum, Point } from '../../../../types';\nimport { findViewById } from '../../../../utils';\nimport { EDGES_VIEW_ID, NODES_VIEW_ID } from '../../constant';\n\nexport class SankeyNodeDragAction extends Action {\n  /**\n   * \u662F\u5426\u5728\u62D6\u62FD\u4E2D\u7684\u6807\u8BB0\n   */\n  private isDragging = false;\n\n  /**\n   * \u9F20\u6807\u4E0A\u4E00\u6B21\u7684\u4F4D\u7F6E\u7684\u5750\u6807\u70B9\n   */\n  private prevPoint: Point;\n  /**\n   * \u4E4B\u524D\u7684\u8282\u70B9\u52A8\u753B\u914D\u7F6E\n   */\n  private prevNodeAnimateCfg: any;\n  /**\n   * \u4E4B\u524D\u7684\u8FB9\u52A8\u753B\u914D\u7F6E\n   */\n  private prevEdgeAnimateCfg: any;\n  /**\n   * \u5F53\u524D\u62D6\u62FD\u7684 element \u7D22\u5F15\n   */\n  private currentElementIdx: number;\n\n  /**\n   * \u5F53\u524D\u64CD\u4F5C\u7684\u662F\u5426\u662F element\n   */\n  private isNodeElement() {\n    const shape = get(this.context, 'event.target');\n    if (shape) {\n      const element = shape.get('element');\n      return element && element.getModel().data.isNode;\n    }\n    return false;\n  }\n\n  private getNodeView() {\n    return findViewById(this.context.view, NODES_VIEW_ID);\n  }\n\n  private getEdgeView() {\n    return findViewById(this.context.view, EDGES_VIEW_ID);\n  }\n\n  /**\n   * \u83B7\u53D6\u5F53\u524D\u64CD\u4F5C\u7684 index\n   * @param element\n   */\n  private getCurrentDatumIdx(element: Element) {\n    return this.getNodeView().geometries[0].elements.indexOf(element);\n  }\n\n  /**\n   * \u70B9\u51FB\u4E0B\u53BB\uFF0C\u5F00\u59CB\n   */\n  public start() {\n    // \u8BB0\u5F55\u5F00\u59CB\u4E86\u7684\u72B6\u6001\n    if (this.isNodeElement()) {\n      this.prevPoint = {\n        x: get(this.context, 'event.x'),\n        y: get(this.context, 'event.y'),\n      };\n\n      const element = this.context.event.target.get('element');\n      const idx = this.getCurrentDatumIdx(element);\n\n      if (idx === -1) {\n        return;\n      }\n\n      this.currentElementIdx = idx;\n      this.context.isDragging = true;\n      this.isDragging = true;\n\n      // \u5173\u95ED\u52A8\u753B\u5E76\u6682\u5B58\u914D\u7F6E\n      this.prevNodeAnimateCfg = this.getNodeView().getOptions().animate;\n      this.prevEdgeAnimateCfg = this.getEdgeView().getOptions().animate;\n      this.getNodeView().animate(false);\n      this.getEdgeView().animate(false);\n    }\n  }\n\n  /**\n   * \u79FB\u52A8\u8FC7\u7A0B\u4E2D\uFF0C\u5E73\u79FB\n   */\n  public translate() {\n    if (this.isDragging) {\n      const chart = this.context.view;\n\n      const currentPoint = {\n        x: get(this.context, 'event.x'),\n        y: get(this.context, 'event.y'),\n      };\n\n      const x = currentPoint.x - this.prevPoint.x;\n      const y = currentPoint.y - this.prevPoint.y;\n\n      const nodeView = this.getNodeView();\n      const element = nodeView.geometries[0].elements[this.currentElementIdx];\n\n      // \u4FEE\u6539\u6570\u636E\n      if (element && element.getModel()) {\n        const prevDatum: Datum = element.getModel().data;\n        const data = nodeView.getOptions().data;\n        const coordinate = nodeView.getCoordinate();\n\n        const datumGap = {\n          x: x / coordinate.getWidth(),\n          y: y / coordinate.getHeight(),\n        };\n\n        const nextDatum = {\n          ...prevDatum,\n          x: prevDatum.x.map((x: number) => (x += datumGap.x)),\n          y: prevDatum.y.map((y: number) => (y += datumGap.y)),\n        };\n        // \u5904\u7406\u4E00\u4E0B\u5728 [0, 1] \u8303\u56F4\n\n        // 1. \u66F4\u65B0 node \u6570\u636E\n        const newData = [...data];\n        newData[this.currentElementIdx] = nextDatum;\n        nodeView.data(newData);\n\n        // 2. \u66F4\u65B0 edge \u6570\u636E\n        const name = prevDatum.name;\n        const edgeView = this.getEdgeView();\n        const edgeData = edgeView.getOptions().data;\n\n        edgeData.forEach((datum) => {\n          // 2.1 \u4EE5\u8BE5 node \u4E3A source \u7684\u8FB9\uFF0C\u4FEE\u6539 [x0, x1, x2, x3] \u4E2D\u7684 x0, x1\n          if (datum.source === name) {\n            datum.x[0] += datumGap.x;\n            datum.x[1] += datumGap.x;\n            datum.y[0] += datumGap.y;\n            datum.y[1] += datumGap.y;\n          }\n\n          // 2.2 \u4EE5\u8BE5 node \u4E3A target \u7684\u8FB9\uFF0C\u4FEE\u6539 [x0, x1, x2, x3] \u4E2D\u7684 x2, x3\n          if (datum.target === name) {\n            datum.x[2] += datumGap.x;\n            datum.x[3] += datumGap.x;\n            datum.y[2] += datumGap.y;\n            datum.y[3] += datumGap.y;\n          }\n        });\n        edgeView.data(edgeData);\n\n        // 3. \u66F4\u65B0\u6700\u65B0\u4F4D\u7F6E\n        this.prevPoint = currentPoint;\n\n        // node edge \u90FD\u6539\u53D8\u4E86\uFF0C\u6240\u4EE5\u8981\u4ECE\u5E95\u5C42 render\n        chart.render(true);\n      }\n    }\n  }\n\n  /**\n   * \u7ED3\u8BBA\uFF0C\u6E05\u9664\u72B6\u6001\n   */\n  public end() {\n    this.isDragging = false;\n    this.context.isDragging = false;\n    this.prevPoint = null;\n    this.currentElementIdx = null;\n\n    // \u8FD8\u539F\u52A8\u753B\n    this.getNodeView().animate(this.prevNodeAnimateCfg);\n    this.getEdgeView().animate(this.prevEdgeAnimateCfg);\n  }\n}\n", "import { registerInteraction, registerAction } from '@antv/g2';\nimport { SankeyNodeDragAction } from './actions/node-drag';\n\nregisterAction('sankey-node-drag', SankeyNodeDragAction);\n\nregisterInteraction('sankey-node-draggable', {\n  showEnable: [\n    { trigger: 'polygon:mouseenter', action: 'cursor:pointer' },\n    { trigger: 'polygon:mouseleave', action: 'cursor:default' },\n  ],\n  start: [{ trigger: 'polygon:mousedown', action: 'sankey-node-drag:start' }],\n  processing: [\n    { trigger: 'plot:mousemove', action: 'sankey-node-drag:translate' },\n    { isEnable: (context) => context.isDragging, trigger: 'plot:mousemove', action: 'cursor:move' },\n  ],\n  end: [{ trigger: 'plot:mouseup', action: 'sankey-node-drag:end' }],\n});\n", "import { get } from '@antv/util';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { Data, Datum } from '../../types';\nimport { findViewById } from '../../utils';\nimport { SankeyOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { transformToViewsData } from './helper';\nimport { EDGES_VIEW_ID, NODES_VIEW_ID } from './constant';\n// \u6851\u57FA\u56FE\u5185\u7F6E\u4EA4\u4E92\nimport './interactions';\n\nexport type { SankeyOptions };\n\n/**\n *  \u6851\u57FA\u56FE Sankey\n */\nexport class Sankey extends Plot<SankeyOptions> {\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'sankey';\n\n  static getDefaultOptions(): Partial<SankeyOptions> {\n    return {\n      appendPadding: 8,\n      syncViewPadding: true,\n      nodeStyle: {\n        opacity: 1,\n        fillOpacity: 1,\n        lineWidth: 1,\n      },\n      edgeStyle: {\n        opacity: 0.3,\n        lineWidth: 0,\n      },\n      edgeState: {\n        active: {\n          style: {\n            opacity: 0.8,\n            lineWidth: 0,\n          },\n        },\n      },\n      label: {\n        formatter: ({ name }) => name,\n        callback: (x: number[]) => {\n          const isLast = x[1] === 1; // \u6700\u540E\u4E00\u5217\u9760\u8FB9\u7684\u8282\u70B9\n          return {\n            style: {\n              fill: '#545454',\n              textAlign: isLast ? 'end' : 'start',\n            },\n            offsetX: isLast ? -8 : 8,\n          };\n        },\n        layout: [\n          {\n            type: 'hide-overlap',\n          },\n        ],\n      },\n      tooltip: {\n        showTitle: false,\n        showMarkers: false,\n        shared: false,\n        // \u5185\u7F6E\uFF1Anode \u4E0D\u663E\u793A tooltip\uFF0Cedge \u663E\u793A tooltip\n        showContent: (items) => {\n          return !get(items, [0, 'data', 'isNode']);\n        },\n        formatter: (datum: Datum) => {\n          const { source, target, value } = datum;\n          return {\n            name: source + ' -> ' + target,\n            value,\n          };\n        },\n      },\n      nodeWidthRatio: 0.008,\n      nodePaddingRatio: 0.01,\n      animation: {\n        appear: {\n          animation: 'wave-in',\n        },\n        enter: {\n          animation: 'wave-in',\n        },\n      },\n    };\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: Data) {\n    this.updateOption({ data });\n\n    const { nodes, edges } = transformToViewsData(this.options, this.chart.width, this.chart.height);\n\n    const nodesView = findViewById(this.chart, NODES_VIEW_ID);\n    const edgesView = findViewById(this.chart, EDGES_VIEW_ID);\n\n    nodesView.changeData(nodes);\n    edgesView.changeData(edges);\n  }\n\n  /**\n   * \u83B7\u53D6\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<SankeyOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \u83B7\u53D6 \u6761\u5F62\u56FE \u9ED8\u8BA4\u914D\u7F6E\n   */\n  protected getDefaultOptions() {\n    return Sankey.getDefaultOptions();\n  }\n}\n", "/*\n * for Arc Diagram (edges without weight) / Chord Diagram (edges with source and target weight)\n * graph data required (nodes, edges)\n */\nimport { assign, forIn, isFunction } from '@antv/util';\nimport { NodeLinkData } from '../../types/relation-data';\n\nconst DEFAULT_OPTIONS: ChordLayoutOptions = {\n  y: 0,\n  nodeWidthRatio: 0.05, // width of the node, (0, 1)\n  weight: false,\n  nodePaddingRatio: 0.1, // margin ratio, [0, 1)\n  id: (node) => node.id,\n  source: (edge) => edge.source,\n  target: (edge) => edge.target,\n  sourceWeight: (edge) => edge.value || 1,\n  targetWeight: (edge) => edge.value || 1,\n  sortBy: null, // optional, id | weight | frequency | {function}\n};\n\nexport type ChordLayoutOptions = {\n  weight?: boolean;\n  y?: number;\n  nodeWidthRatio?: number; // \u8282\u70B9\u7684\u5BBD\u5EA6\u6BD4\u4F8B\uFF0C\u5BF9\u5E94\u4E8E\u6781\u5750\u6807\u7CFB\u7684\u539A\u5EA6\uFF0C(0, 1)\n  nodePaddingRatio?: number; // \u8282\u70B9\u4E4B\u95F4\u7684\u95F4\u8DDD\u7684\u6BD4\u4F8B\uFF0C[0, 1)\n  id?(node: any): any;\n  source?(edge: any): any;\n  target?(edge: any): any;\n  sourceWeight?(edge: any): number;\n  targetWeight?(edge: any): number;\n  sortBy?: 'id' | 'weight' | 'frequency' | null | ((a: any, b: any) => number);\n};\n\ntype OutputNode = {\n  readonly id: number;\n  readonly name: string;\n  // readonly depth: number;\n  readonly value: number;\n\n  // \u7528\u4E8E\u7ED8\u5236 polygon\n  x: number[];\n  y: number[];\n};\n\ntype OutputLink = {\n  readonly source: OutputNode;\n  readonly target: OutputNode;\n  readonly value: number;\n\n  // \u7528\u4E8E\u7ED8\u5236 edge\n  x?: number[];\n  y?: number[];\n};\n\ntype ChordLayoutOutputData = {\n  readonly nodes: OutputNode[];\n  readonly links: OutputLink[];\n};\n\n/**\n * \u5904\u7406\u8282\u70B9\u7684value\u3001edges\n * @param nodeById\n * @param edges\n * @param options\n */\nfunction processGraph(nodeById, edges, options) {\n  forIn(nodeById, (node, id) => {\n    // in edges, out edges\n    node.inEdges = edges.filter((edge) => `${options.target(edge)}` === `${id}`);\n    node.outEdges = edges.filter((edge) => `${options.source(edge)}` === `${id}`);\n    // frequency\n    node.edges = node.outEdges.concat(node.inEdges);\n    node.frequency = node.edges.length;\n    // weight\n    node.value = 0;\n    node.inEdges.forEach((edge) => {\n      node.value += options.targetWeight(edge);\n    });\n    node.outEdges.forEach((edge) => {\n      node.value += options.sourceWeight(edge);\n    });\n  });\n}\n\n/**\n * \u8282\u70B9\u6392\u5E8F\n * @param nodes\n * @param options\n */\nfunction sortNodes(nodes, options) {\n  const sortMethods = {\n    weight: (a, b) => b.value - a.value,\n    frequency: (a, b) => b.frequency - a.frequency,\n    id: (a, b) => `${options.id(a)}`.localeCompare(`${options.id(b)}`),\n  };\n  let method = sortMethods[options.sortBy];\n  if (!method && isFunction(options.sortBy)) {\n    method = options.sortBy;\n  }\n  if (method) {\n    nodes.sort(method);\n  }\n}\n\nfunction layoutNodes(nodes, options): OutputNode[] {\n  const len = nodes.length;\n  if (!len) {\n    throw new TypeError(\"Invalid nodes: it's empty!\");\n  }\n  if (options.weight) {\n    const nodePaddingRatio = options.nodePaddingRatio;\n    if (nodePaddingRatio < 0 || nodePaddingRatio >= 1) {\n      throw new TypeError('Invalid nodePaddingRatio: it must be in range [0, 1)!');\n    }\n    const margin = nodePaddingRatio / (2 * len);\n    const nodeWidthRatio = options.nodeWidthRatio;\n    if (nodeWidthRatio <= 0 || nodeWidthRatio >= 1) {\n      throw new TypeError('Invalid nodeWidthRatio: it must be in range (0, 1)!');\n    }\n    let totalValue = 0;\n    nodes.forEach((node) => {\n      totalValue += node.value;\n    });\n    nodes.forEach((node) => {\n      node.weight = node.value / totalValue;\n      node.width = node.weight * (1 - nodePaddingRatio);\n      node.height = nodeWidthRatio;\n    });\n    nodes.forEach((node, index) => {\n      // x\n      let deltaX = 0;\n      for (let i = index - 1; i >= 0; i--) {\n        deltaX += nodes[i].width + 2 * margin;\n      }\n      const minX = (node.minX = margin + deltaX);\n      const maxX = (node.maxX = node.minX + node.width);\n      const minY = (node.minY = options.y - nodeWidthRatio / 2);\n      const maxY = (node.maxY = minY + nodeWidthRatio);\n      node.x = [minX, maxX, maxX, minX];\n      node.y = [minY, minY, maxY, maxY];\n      /* points\n       * 3---2\n       * |   |\n       * 0---1\n       */\n      // node.x = minX + 0.5 * node.width;\n      // node.y = options.y;\n    });\n  } else {\n    const deltaX = 1 / len;\n    nodes.forEach((node, index) => {\n      node.x = (index + 0.5) * deltaX;\n      node.y = options.y;\n    });\n  }\n  return nodes;\n}\n\nfunction locatingEdges(nodeById, edges, options): OutputLink[] {\n  if (options.weight) {\n    const valueById = {};\n    forIn(nodeById, (node, id) => {\n      valueById[id] = node.value;\n    });\n    edges.forEach((edge) => {\n      const sId = options.source(edge);\n      const tId = options.target(edge);\n      const sNode = nodeById[sId];\n      const tNode = nodeById[tId];\n      if (sNode && tNode) {\n        const sValue = valueById[sId];\n        const currentSValue = options.sourceWeight(edge);\n        const sStart = sNode.minX + ((sNode.value - sValue) / sNode.value) * sNode.width;\n        const sEnd = sStart + (currentSValue / sNode.value) * sNode.width;\n        valueById[sId] -= currentSValue;\n\n        const tValue = valueById[tId];\n        const currentTValue = options.targetWeight(edge);\n        const tStart = tNode.minX + ((tNode.value - tValue) / tNode.value) * tNode.width;\n        const tEnd = tStart + (currentTValue / tNode.value) * tNode.width;\n        valueById[tId] -= currentTValue;\n\n        const y = options.y;\n        edge.x = [sStart, sEnd, tStart, tEnd];\n        edge.y = [y, y, y, y];\n        // \u5C06edge\u7684source\u4E0Etarget\u7684id\u6362\u4E3A sourceNode\u4E0EtargetNode\n        edge.source = sNode;\n        edge.target = tNode;\n      }\n    });\n  } else {\n    edges.forEach((edge) => {\n      const sNode = nodeById[options.source(edge)];\n      const tNode = nodeById[options.target(edge)];\n      if (sNode && tNode) {\n        edge.x = [sNode.x, tNode.x];\n        edge.y = [sNode.y, tNode.y];\n        // \u5C06edge\u7684source\u4E0Etarget\u7684id\u6362\u4E3A sourceNode\u4E0EtargetNode\n        edge.source = sNode;\n        edge.target = tNode;\n      }\n    });\n  }\n  return edges;\n}\n\nexport function getDefaultOptions(options: ChordLayoutOptions): ChordLayoutOptions {\n  return assign({}, DEFAULT_OPTIONS, options);\n}\n\nexport function chordLayout(\n  chordLayoutOptions: ChordLayoutOptions,\n  chordLayoutInputData: NodeLinkData\n): ChordLayoutOutputData {\n  const options = getDefaultOptions(chordLayoutOptions);\n  const nodeById = {};\n  const nodes = chordLayoutInputData.nodes;\n  const links = chordLayoutInputData.links;\n  nodes.forEach((node) => {\n    const id = options.id(node);\n    nodeById[id] = node;\n  });\n  processGraph(nodeById, links, options);\n  sortNodes(nodes, options);\n  const outputNodes = layoutNodes(nodes, options);\n  const outputLinks = locatingEdges(nodeById, links, options);\n  return {\n    nodes: outputNodes,\n    links: outputLinks,\n  };\n}\n", "import { get } from '@antv/util';\nimport { Datum } from '../../types';\n\nexport const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\nexport const NODE_COLOR_FIELD = 'name';\nexport const EDGE_COLOR_FIELD = 'source';\n\nexport const DEFAULT_OPTIONS = {\n  nodeStyle: {\n    opacity: 1,\n    fillOpacity: 1,\n    lineWidth: 1,\n  },\n  edgeStyle: {\n    opacity: 0.5,\n    lineWidth: 2,\n  },\n  label: {\n    fields: ['x', 'name'],\n    callback: (x: number[], name: string) => {\n      const centerX = (x[0] + x[1]) / 2;\n      const offsetX = centerX > 0.5 ? -4 : 4;\n      return {\n        labelEmit: true,\n        style: {\n          fill: '#8c8c8c',\n        },\n        offsetX,\n        content: name,\n      };\n    },\n  },\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    fields: ['source', 'target', 'value', 'isNode'],\n    // \u5185\u7F6E\uFF1Anode \u4E0D\u663E\u793A tooltip (\u4E1A\u52A1\u5C42\u81EA\u884C\u5904\u7406)\uFF0Cedge \u663E\u793A tooltip\n    showContent: (items) => {\n      return !get(items, [0, 'data', 'isNode']);\n    },\n    formatter: (datum: Datum) => {\n      const { source, target, value } = datum;\n      return {\n        name: `${source} -> ${target}`,\n        value,\n      };\n    },\n  },\n  interactions: [\n    {\n      type: 'element-active',\n    },\n  ],\n  weight: true,\n  nodePaddingRatio: 0.1,\n  nodeWidthRatio: 0.05,\n};\n", "import { Geometry } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { interaction, theme, state } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, pick } from '../../utils';\nimport { polygon, edge } from '../../adaptor/geometries';\nimport { chordLayout } from '../../utils/transform/chord';\nimport { getAllGeometriesRecursively, transformDataToNodeLinkData } from '../../utils';\nimport { ChordOptions } from './types';\nimport { X_FIELD, Y_FIELD, NODE_COLOR_FIELD, EDGE_COLOR_FIELD } from './constant';\n\nfunction transformData(params: Params<ChordOptions>): Params<ChordOptions> {\n  // \u5C06\u5F26\u56FE\u6570\u636E\u653E\u5230ext\u4E2D\uFF0CnodeGeometry edgeGeometry\u4F7F\u7528\n\n  const { options } = params;\n  const { data, sourceField, targetField, weightField, nodePaddingRatio, nodeWidthRatio, rawFields = [] } = options;\n\n  // \u5C06\u6570\u636E\u8F6C\u6362\u4E3Anode link\u683C\u5F0F\n  const chordLayoutInputData = transformDataToNodeLinkData(data, sourceField, targetField, weightField);\n\n  const { nodes, links } = chordLayout({ weight: true, nodePaddingRatio, nodeWidthRatio }, chordLayoutInputData);\n\n  // 1. \u751F\u6210\u7ED8\u5236node\u4F7F\u7528\u6570\u636E\n  const nodesData = nodes.map((node) => {\n    return {\n      ...pick(node, ['id', 'x', 'y', 'name', ...rawFields]),\n      isNode: true,\n    };\n  });\n\n  // 2. \u751F\u6210 edge \u4F7F\u7528\u6570\u636E \uFF08\u540C\u6851\u57FA\u56FE\uFF09\n  const edgesData = links.map((link) => {\n    return {\n      source: link.source.name,\n      target: link.target.name,\n      name: link.source.name || link.target.name,\n      ...pick(link, ['x', 'y', 'value', ...rawFields]),\n      isNode: false,\n    };\n  });\n\n  return {\n    ...params,\n    ext: {\n      ...params.ext,\n      // \u5C06chordData\u653E\u5230ext\u4E2D\uFF0C\u65B9\u4FBF\u4E0B\u9762\u7684geometry\u4F7F\u7528\n      chordData: { nodesData, edgesData },\n    },\n  };\n}\n\n/**\n * scale\u914D\u7F6E\n * @param params \u53C2\u6570\n */\nfunction scale(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.scale({\n    x: { sync: true, nice: true },\n    y: { sync: true, nice: true, max: 1 },\n    [NODE_COLOR_FIELD]: { sync: 'color' },\n    [EDGE_COLOR_FIELD]: { sync: 'color' },\n  });\n  return params;\n}\n\n/**\n * axis\u914D\u7F6E\n * @param params \u53C2\u6570\n */\nfunction axis(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * legend\u914D\u7F6E\n * @param params \u53C2\u6570\n */\nfunction legend(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.legend(false);\n  return params;\n}\n\n/**\n * tooltip\u914D\u7F6E\n * @param params \u53C2\u6570\n */\nfunction tooltip(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  chart.tooltip(tooltip);\n  return params;\n}\n\n/**\n * coordinate\u914D\u7F6E\n * @param params \u53C2\u6570\n */\nfunction coordinate(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.coordinate('polar').reflect('y');\n  return params;\n}\n\n/**\n * nodeGeometry\u914D\u7F6E\n * @param params \u53C2\u6570\n */\nfunction nodeGeometry(params: Params<ChordOptions>): Params<ChordOptions> {\n  // node view\n  const { chart, options } = params;\n  const { nodesData } = params.ext.chordData;\n  const { nodeStyle, label, tooltip } = options;\n\n  const nodeView = chart.createView();\n  nodeView.data(nodesData);\n\n  // \u9762\n  polygon({\n    chart: nodeView,\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: NODE_COLOR_FIELD,\n      polygon: {\n        style: nodeStyle,\n      },\n      label,\n      tooltip,\n    },\n  });\n  return params;\n}\n\n/**\n * edgeGeometry\u914D\u7F6E\n * @param params \u53C2\u6570\n */\nfunction edgeGeometry(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { edgesData } = params.ext.chordData;\n  const { edgeStyle, tooltip } = options;\n\n  const edgeView = chart.createView();\n  edgeView.data(edgesData);\n\n  // edge\n  const edgeOptions = {\n    xField: X_FIELD,\n    yField: Y_FIELD,\n    seriesField: EDGE_COLOR_FIELD,\n    edge: {\n      style: edgeStyle,\n      shape: 'arc',\n    },\n    tooltip,\n  };\n  edge({\n    chart: edgeView,\n    options: edgeOptions,\n  });\n  return params;\n}\n\nfunction animation(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  // \u540C\u65F6\u8BBE\u7F6E\u6574\u4E2A view \u52A8\u753B\u9009\u9879\n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  // \u6240\u6709\u7684 Geometry \u90FD\u4F7F\u7528\u540C\u4E00\u52A8\u753B\uFF08\u5404\u4E2A\u56FE\u5F62\u5982\u6709\u533A\u522B\uFF0C\u81EA\u884C\u8986\u76D6\uFF09\n  each(getAllGeometriesRecursively(chart), (g: Geometry) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \u5F26\u56FE\u9002\u914D\u5668\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ChordOptions>) {\n  // flow \u7684\u65B9\u5F0F\u5904\u7406\u6240\u6709\u7684\u914D\u7F6E\u5230 G2 API\n  return flow(\n    theme,\n    transformData,\n    coordinate,\n    scale,\n    axis,\n    legend,\n    tooltip,\n    edgeGeometry,\n    nodeGeometry,\n    interaction,\n    state,\n    animation\n  )(params);\n}\n", "import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { ChordOptions } from './types';\n\nexport type { ChordOptions };\n\n/**\n *  \u5F26\u56FE Chord\n */\nexport class Chord extends Plot<ChordOptions> {\n  /**\n   * \u83B7\u53D6 \u9762\u79EF\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n   * \u4F9B\u5916\u90E8\u4F7F\u7528\n   */\n  static getDefaultOptions(): Partial<ChordOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'chord';\n\n  protected getDefaultOptions() {\n    return Chord.getDefaultOptions();\n  }\n\n  /**\n   * \u83B7\u53D6\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<ChordOptions> {\n    return adaptor;\n  }\n}\n", "import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray } from '@antv/util';\nimport { getField, getAllNodes } from './util';\nimport { HierarchyOption } from './types';\n\ntype Options = Omit<HierarchyOption, 'as'> & { as?: [string, string, string] };\n\nconst DEFAULT_OPTIONS: Options = {\n  field: 'value',\n  as: ['x', 'y', 'r'],\n  // \u9ED8\u8BA4\u964D\u5E8F\n  sort: (a, b) => b.value - a.value,\n};\n\nexport function pack(data: any, options: Options): any[] {\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 3) {\n    throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ \"x\", \"y\", \"r\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const packLayout = (data) =>\n    d3Hierarchy.pack().size(options.size).padding(options.padding)(\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) => d[field])\n        .sort(options.sort)\n    );\n\n  const root = packLayout(data);\n\n  const x = as[0];\n  const y = as[1];\n  const r = as[2];\n  root.each((node) => {\n    node[x] = node.x;\n    node[y] = node.y;\n    node[r] = node.r;\n  });\n\n  return getAllNodes(root);\n}\n", "import { Types } from '@antv/g2';\nimport { pack } from '../../utils/hierarchy/pack';\nimport { deepAssign, pick } from '../../utils';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { resolveAllPadding } from '../../utils/padding';\nimport { CirclePackingOptions } from './types';\n\ninterface TransformDataOptions {\n  data: CirclePackingOptions['data'];\n  rawFields: CirclePackingOptions['rawFields'];\n  enableDrillDown: boolean;\n  hierarchyConfig: CirclePackingOptions['hierarchyConfig'];\n}\n\n/**\n * circle-packing \u6570\u636E\u8F6C\u6362\n * @param options\n */\nexport function transformData(options: TransformDataOptions) {\n  const { data, hierarchyConfig, rawFields = [], enableDrillDown } = options;\n\n  const nodes = pack(data, {\n    ...hierarchyConfig,\n    field: 'value',\n    as: ['x', 'y', 'r'],\n  });\n\n  const result = [];\n  nodes.forEach((node) => {\n    let path = node.data.name;\n    let ancestorNode = { ...node };\n    while (ancestorNode.depth > 1) {\n      path = `${ancestorNode.parent.data?.name} / ${path}`;\n      ancestorNode = ancestorNode.parent;\n    }\n\n    // \u5F00\u542F\u4E0B\u94BB\uFF0C\u4EC5\u52A0\u8F7D depth <= 2 \u7684\u6570\u636E (\u52A0\u8F7D\u4E24\u5C42)\n    if (enableDrillDown && node.depth > 2) {\n      return null;\n    }\n\n    const nodeInfo = deepAssign({}, node.data, {\n      ...pick(node.data, rawFields),\n      path,\n      // \u4EE5\u4E0B\u5B57\u6BB5\uFF0C\u5FC5\u5907: x, y, r, name, depth, height\n      ...node,\n    });\n\n    nodeInfo.ext = hierarchyConfig;\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, rawFields, enableDrillDown };\n\n    result.push(nodeInfo);\n  });\n\n  return result;\n}\n\n/**\n * \u6839\u636E\u4F20\u5165\u7684 padding \u548C \u73B0\u6709\u7684 \u753B\u5E03\u5927\u5C0F\uFF0C \u8F93\u51FA\u9488\u5BF9\u5706\u5F62\u89C6\u56FE\u5E03\u5C40\u9700\u8981\u7684 finalPadding \u4EE5\u53CA finalSize\n * @param params\n */\nexport function resolvePaddingForCircle(\n  padding: Types.ViewPadding,\n  appendPadding: Types.ViewAppendPadding,\n  containerSize: { width: number; height: number }\n) {\n  const tempPadding = resolveAllPadding([padding, appendPadding]);\n  const [top, right, bottom, left] = tempPadding; // \u6CA1\u8BBE\u5B9A\uFF0C\u9ED8\u8BA4\u662F [0, 0, 0, 0]\n  const { width, height } = containerSize;\n\n  // \u6709\u4E86 tempPadding \u4ECB\u5165\u4EE5\u540E\uFF0C\u8BA1\u7B97\u51FAcoordinate\u8303\u56F4\u5BBD\u9AD8\u7684\u6700\u5C0F\u503C minSize = circle-packing\u7684\u76F4\u5F84\n  const wSize = width - (left + right);\n  const hSize = height - (top + bottom);\n  const minSize = Math.min(wSize, hSize); // circle-packing\u7684\u76F4\u5F84\n\n  // \u5F97\u5230\u5C45\u4E2D\u540E\u5404\u65B9\u5411\u5269\u4F59\u7684 padding\n  const restWidthPadding = (wSize - minSize) / 2;\n  const restHeightPadding = (hSize - minSize) / 2;\n\n  const finalTop = top + restHeightPadding;\n  const finalRight = right + restWidthPadding;\n  const finalBottom = bottom + restHeightPadding;\n  const finalLeft = left + restWidthPadding;\n\n  const finalPadding = [finalTop, finalRight, finalBottom, finalLeft];\n  const finalSize = minSize < 0 ? 0 : minSize; // \u9632\u6B62\u4E3A\u8D1F\u6570\n\n  return { finalPadding, finalSize };\n}\n", "import { CirclePackingOptions } from './types';\n\n/** \u9ED8\u8BA4\u7684\u6E90\u5B57\u6BB5 */\nexport const RAW_FIELDS = ['x', 'y', 'r', 'name', 'value', 'path', 'depth'];\n\nexport const DEFAULT_OPTIONS: Partial<CirclePackingOptions> = {\n  // \u9ED8\u8BA4\u6309\u7167 name \u5B57\u6BB5\u5BF9\u989C\u8272\u8FDB\u884C\u5206\u7C7B\n  colorField: 'name',\n  autoFit: true,\n  pointStyle: {\n    lineWidth: 0,\n    stroke: '#fff',\n  },\n  // \u9ED8\u8BA4\u4E0D\u5F00\u542F\u56FE\u4F8B\n  legend: false,\n  hierarchyConfig: {\n    size: [1, 1] as [number, number], // width, height\n    padding: 0,\n  },\n  label: {\n    fields: ['name'],\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    showMarkers: false,\n    showTitle: false,\n  },\n  // \u9ED8\u8BA4\u4E0D\u53EF\u4EE5\u4E0B\u94BB\n  drilldown: { enabled: false },\n};\n", "import { get } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { point } from '../../adaptor/geometries/point';\nimport { Params } from '../../core/adaptor';\nimport {\n  interaction as baseInteraction,\n  animation,\n  theme,\n  legend,\n  annotation,\n  scale,\n  pattern,\n} from '../../adaptor/common';\nimport { flow, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding, resolveAllPadding } from '../../utils/padding';\nimport { transformData, resolvePaddingForCircle } from './utils';\nimport { CirclePackingOptions } from './types';\nimport { RAW_FIELDS } from './constant';\n\n/**\n * \u83B7\u53D6\u9ED8\u8BA4 option\n * @param params\n */\nfunction defaultOptions(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart } = params;\n  const diameter = Math.min(chart.viewBBox.width, chart.viewBBox.height);\n\n  return deepAssign(\n    {\n      options: {\n        size: ({ r }) => r * diameter, // \u5F53autofit\uFF1Afalse\u65F6\uFF0C\u9ED8\u8BA4\u7ED9\u56FA\u5B9A\u534A\u5F84\n      },\n    },\n    params\n  );\n}\n\n/**\n * padding \u914D\u7F6E\n * @param params\n */\nfunction padding(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { options, chart } = params;\n  // \u901A\u8FC7\u6539\u53D8 padding\uFF0C\u4FEE\u6539 coordinate \u7684\u7ED8\u5236\u533A\u57DF\n  const containerSize = chart.viewBBox;\n  const { padding, appendPadding, drilldown } = options;\n\n  let tempAppendPadding = appendPadding;\n  if (drilldown?.enabled) {\n    const appendPaddingByDrilldown = getAdjustAppendPadding(\n      chart.appendPadding,\n      get(drilldown, ['breadCrumb', 'position'])\n    );\n    tempAppendPadding = resolveAllPadding([appendPaddingByDrilldown, appendPadding]);\n  }\n\n  const { finalPadding } = resolvePaddingForCircle(padding, tempAppendPadding, containerSize);\n  chart.padding = finalPadding;\n  chart.appendPadding = 0;\n\n  return params;\n}\n\n/**\n * \u5B57\u6BB5\n * @param params\n */\nfunction geometry(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n  const { padding, appendPadding } = chart;\n  const { color, colorField, pointStyle, hierarchyConfig, sizeField, rawFields = [], drilldown } = options;\n\n  const data = transformData({\n    data: options.data,\n    hierarchyConfig,\n    enableDrillDown: drilldown?.enabled,\n    rawFields,\n  });\n  chart.data(data);\n\n  const containerSize = chart.viewBBox;\n  const { finalSize } = resolvePaddingForCircle(padding, appendPadding, containerSize);\n  // \u6709sizeField\u7684\u65F6\u5019\uFF0C\u4F8B\u5982 value \uFF0C\u53EF\u4EE5\u9009\u62E9\u6620\u5C04 size \u51FD\u6570\uFF0C\u81EA\u5DF1\u8BA1\u7B97\u51FA\u6620\u5C04\u7684\u534A\u5F84\n  let circleSize = ({ r }) => r * finalSize; // \u9ED8\u8BA4\u914D\u7F6E\n\n  if (sizeField) {\n    circleSize = (d) => d[sizeField] * finalSize; // \u76EE\u524D\u53EA\u6709 r \u901A\u9053\u6620\u5C04\u6548\u679C\u4F1A\u6B63\u5E38\n  }\n\n  // geometry\n  point(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        sizeField,\n        rawFields: [...RAW_FIELDS, ...rawFields],\n        point: {\n          color,\n          style: pointStyle,\n          shape: 'circle',\n          size: circleSize,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \u914D\u7F6E\n * @param params\n */\nexport function meta(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  return flow(\n    scale(\n      {},\n      {\n        // \u5FC5\u987B\u5F3A\u5236\u4E3A nice\n        x: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: true },\n        y: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: true },\n      }\n    )\n  )(params);\n}\n\n/**\n * tooltip \u914D\u7F6E\n * @param params\n */\nfunction tooltip(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    // \u8BBE\u7F6E\u4E86 fields\uFF0C\u5C31\u4E0D\u8FDB\u884C customItems \u4E86; \u8BBE\u7F6E formatter \u65F6\uFF0C\u9700\u8981\u642D\u914D fields\n    if (!get(tooltip, 'fields')) {\n      tooltipOptions = deepAssign(\n        {},\n        {\n          customItems: (items: Types.TooltipItem[]) =>\n            items.map((item) => {\n              const scales = get(chart.getOptions(), 'scales');\n              const nameFormatter = get(scales, ['name', 'formatter'], (v) => v);\n              const valueFormatter = get(scales, ['value', 'formatter'], (v) => v);\n              return {\n                ...item,\n                name: nameFormatter(item.data.name),\n                value: valueFormatter(item.data.value),\n              };\n            }),\n        },\n        tooltipOptions\n      );\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\n/**\n * \u5750\u6807\u8F74, \u9ED8\u8BA4\u5173\u95ED\n * @param params\n */\nfunction axis(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\nfunction adaptorInteraction(options: CirclePackingOptions): CirclePackingOptions {\n  const { drilldown, interactions = [] } = options;\n\n  if (drilldown?.enabled) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          cfg: { drillDownConfig: drilldown, transformData, enableDrillDown: true },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * \u4EA4\u4E92\u914D\u7F6E\n * @param params\n * @returns\n */\nfunction interaction(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n\n  baseInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  return params;\n}\n\n/**\n * \u77E9\u5F62\u6811\u56FE\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<CirclePackingOptions>) {\n  return flow(\n    pattern('pointStyle'),\n    defaultOptions,\n    padding,\n    theme,\n    meta,\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n", "import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { CirclePackingOptions } from './types';\nimport './interactions';\n\nexport type { CirclePackingOptions };\n\n/**\n *  CirclePacking\n * @usage hierarchy, proportions\n */\nexport class CirclePacking extends Plot<CirclePackingOptions> {\n  /**\n   * \u83B7\u53D6 \u9762\u79EF\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n   * \u4F9B\u5916\u90E8\u4F7F\u7528\n   */\n  static getDefaultOptions(): Partial<CirclePackingOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'circle-packing';\n\n  protected getDefaultOptions() {\n    return CirclePacking.getDefaultOptions();\n  }\n\n  /**\n   * \u83B7\u53D6\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<CirclePackingOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \u8986\u5199\u7236\u7C7B\u7684\u65B9\u6CD5\n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \u9996\u5148\u81EA\u9002\u5E94\u5BB9\u5668\u7684\u5BBD\u9AD8\n      this.chart.forceFit(); // g2 \u5185\u90E8\u6267\u884C changeSize\uFF0CchangeSize \u4E2D\u6267\u884C render(true)\n      this.chart.clear();\n      this.execAdaptor(); // \u6838\u5FC3\uFF1A\u5BBD\u9AD8\u66F4\u65B0\u4E4B\u540E\u8BA1\u7B97padding\n      // \u6E32\u67D3\n      this.chart.render(true);\n    }\n  }\n}\n", "import { deepAssign } from '../utils';\nimport { Plot, PickOptions } from '../core/plot';\nimport { Adaptor } from '../core/adaptor';\n/**\n * \u7ED9 G2Plot \u63D0\u4F9B\u975E\u5E38\u7B80\u5355\u7684\u5F00\u653E\u5F00\u53D1\u7684\u673A\u5236\u3002\u76EE\u7684\u662F\u80FD\u591F\u8BA9\u793E\u533A\u548C\u4E1A\u52A1\u4E0A\u81EA\u5DF1\u57FA\u4E8E G2Plot \u5F00\u53D1\u81EA\u5DF1\u7684\u5B9A\u5236\u56FE\u8868\u5E93\u3002\u4E3B\u8981\u5206\u6210\u51E0\u7C7B\u56FE\u8868\uFF1A\n * 1. \u9886\u57DF\u4E13\u4E1A\u7684\u56FE\u8868\uFF0C\u5185\u90E8\u540C\u5B66\u56E0\u4E3A\u6CA1\u6709\u573A\u666F\uFF0C\u4E0D\u4E00\u5B9A\u80FD\u505A\u7684\u5B8C\u5584\u3002\n * 2. \u5B9A\u5236\u4E1A\u52A1\u7684\u56FE\u8868\uFF0C\u4E0D\u5177\u5907\u901A\u7528\u6027\n * 3. \u8DA3\u5473\u6027\u7684\u53EF\u89C6\u5316\u7EC4\u4EF6\n * \u7136\u540E\u5B98\u65B9\u53EF\u4EE5\u6839\u636E\u793E\u533A\u7684\u60C5\u51B5\uFF0C\u53EF\u4EE5\u8FDB\u884C\u4E00\u4E9B\u5B98\u65B9\u63A8\u8350\u548C\u91C7\u7EB3\u3002\n *\n * \u5982\u679C\u4F7F\u7528\uFF1F\n *\n * ```ts\n * import { P } from '@antv/g2plot';\n * import { GeoWorldMap, GeoWorldMapOptions } from 'g2plot-geo-world-map';\n *\n * const plot = new P('container', {\n *   geoJson: '',\n *   longitude: '',\n *   latitude: '',\n * }, GeoWorldMap, defaultOptions);\n *\n * plot.render();\n * ```\n */\nexport class P<O extends PickOptions> extends Plot<O> {\n  /** \u7EDF\u4E00\u4E3A any plot */\n  public readonly type = 'g2-plot';\n\n  /** \u5916\u90E8\u4F20\u5165\u7684 defaultOptions */\n  private defaultOptions: Partial<O>;\n\n  /** \u5916\u90E8\u4F20\u5165\u7684 adaptor \u51FD\u6570 */\n  private adaptor: Adaptor<O>;\n\n  /**\n   * \u76F8\u6BD4\u666E\u901A\u56FE\u8868\u589E\u52A0 adaptor \u53C2\u6570\u3002\n   * @param container\n   * @param options\n   * @param adaptor\n   * @param defaultOptions\n   */\n  constructor(container: string | HTMLElement, options: O, adaptor: Adaptor<O>, defaultOptions?: Partial<O>) {\n    super(container, deepAssign({}, defaultOptions, options));\n\n    this.defaultOptions = defaultOptions;\n    this.adaptor = adaptor;\n  }\n\n  /**\n   * \u5B9E\u73B0\u7236\u7C7B\u65B9\u6CD5\uFF0C\u76F4\u63A5\u4F7F\u7528\u4F20\u5165\u7684\n   */\n  protected getDefaultOptions() {\n    return this.defaultOptions;\n  }\n\n  /**\n   * \u5B9E\u73B0\u7236\u7C7B\u65B9\u6CD5\uFF0C\u76F4\u63A5\u4F7F\u7528\u4F20\u5165\u7684\n   */\n  protected getSchemaAdaptor(): Adaptor<O> {\n    return this.adaptor;\n  }\n}\n", "import { View } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { deepAssign } from '../../utils';\nimport { adaptor as lineAdaptor } from '../line/adaptor';\nimport { adaptor as pieAdaptor } from '../pie/adaptor';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nimport { adaptor as barAdaptor } from '../bar/adaptor';\nimport { adaptor as areaAdaptor } from '../area/adaptor';\nimport { adaptor as gaugeAdaptor } from '../gauge/adaptor';\nimport { adaptor as tinyLineAdaptor } from '../tiny-line/adaptor';\nimport { adaptor as tinyColumnAdaptor } from '../tiny-column/adaptor';\nimport { adaptor as tinyAreaAdaptor } from '../tiny-area/adaptor';\nimport { adaptor as ringProgressAdaptor } from '../ring-progress/adaptor';\nimport { adaptor as progressAdaptor } from '../progress/adaptor';\nimport { adaptor as scatterAdaptor } from '../scatter/adaptor';\nimport { adaptor as histogramAdaptor } from '../histogram/adaptor';\nimport { adaptor as funnelAdaptor } from '../funnel/adaptor';\nimport { adaptor as stockAdaptor } from '../stock/adaptor';\nimport { Line, LineOptions } from '../line';\nimport { Pie, PieOptions } from '../pie';\nimport { Bar, BarOptions } from '../bar';\nimport { Column, ColumnOptions } from '../column';\nimport { Area, AreaOptions } from '../area';\nimport { Gauge, GaugeOptions } from '../gauge';\nimport { TinyLine, TinyLineOptions } from '../tiny-line';\nimport { TinyArea, TinyAreaOptions } from '../tiny-area';\nimport { TinyColumn, TinyColumnOptions } from '../tiny-column';\nimport { RingProgress, RingProgressOptions } from '../ring-progress';\nimport { Progress, ProgressOptions } from '../progress';\nimport { Scatter, ScatterOptions } from '../scatter';\nimport { Histogram, HistogramOptions } from '../histogram';\nimport { Funnel, FunnelOptions } from '../funnel';\nimport { Stock, StockOptions } from '../stock';\nimport { Options } from '../../types';\n\n/**\n * \u79FB\u9664 options \u4E2D\u7684 width\u3001height \u8BBE\u7F6E, \u5C06 options \u7684 data \u8BBE\u7F6E\u4E3A\u53EF\u9009\n */\ntype PlotOptions<T> = Omit<T, 'width' | 'height' | 'data'> & Partial<Pick<T extends Options ? T : never, 'data'>>;\n\n/**\n * multi-view \u4E2D\u7684\u652F\u6301\u7684 plots \u7C7B\u578B\uFF08\u5E26 options \u5B9A\u4E49\uFF09\n */\nexport type IPlotTypes =\n  | {\n      /**\n       * plot \u7C7B\u578B\n       */\n      readonly type: 'line';\n      /**\n       * plot \u914D\u7F6E\n       */\n      readonly options: PlotOptions<LineOptions>;\n    }\n  | {\n      readonly type: 'pie';\n      readonly options: PlotOptions<PieOptions>;\n    }\n  | {\n      readonly type: 'bar';\n      readonly options: PlotOptions<BarOptions>;\n    }\n  | {\n      readonly type: 'column';\n      readonly options: PlotOptions<ColumnOptions>;\n    }\n  | {\n      readonly type: 'area';\n      readonly options: PlotOptions<AreaOptions>;\n    }\n  | {\n      readonly type: 'gauge';\n      readonly options: PlotOptions<GaugeOptions>;\n    }\n  | {\n      readonly type: 'tiny-line';\n      readonly options: PlotOptions<TinyLineOptions>;\n    }\n  | {\n      readonly type: 'tiny-area';\n      readonly options: PlotOptions<TinyAreaOptions>;\n    }\n  | {\n      readonly type: 'tiny-column';\n      readonly options: PlotOptions<TinyColumnOptions>;\n    }\n  | {\n      readonly type: 'ring-progress';\n      readonly options: PlotOptions<RingProgressOptions>;\n    }\n  | {\n      readonly type: 'progress';\n      readonly options: PlotOptions<ProgressOptions>;\n    }\n  | {\n      readonly type: 'histogram';\n      readonly options: PlotOptions<HistogramOptions>;\n    }\n  | {\n      readonly type: 'scatter';\n      readonly options: PlotOptions<ScatterOptions>;\n    }\n  | {\n      readonly type: 'funnel';\n      readonly options: PlotOptions<FunnelOptions>;\n    }\n  | {\n      readonly type: 'stock';\n      readonly options: PlotOptions<StockOptions>;\n    };\n\n/**\n * \u53EF\u5728 multi-view \u4E2D\u4F7F\u7528\u7684 plots\n */\nconst PLOT_ADAPTORS = {\n  line: lineAdaptor,\n  pie: pieAdaptor,\n  column: columnAdaptor,\n  bar: barAdaptor,\n  area: areaAdaptor,\n  gauge: gaugeAdaptor,\n  'tiny-line': tinyLineAdaptor,\n  'tiny-column': tinyColumnAdaptor,\n  'tiny-area': tinyAreaAdaptor,\n  'ring-progress': ringProgressAdaptor,\n  progress: progressAdaptor,\n  scatter: scatterAdaptor,\n  histogram: histogramAdaptor,\n  funnel: funnelAdaptor,\n  stock: stockAdaptor,\n};\n\n/**\n * \u83B7\u53D6\u6307\u5B9A plot \u7684 class contructor\n * @param {string} plot\n */\nconst PLOT_CONSTRUCTOR = {\n  line: Line,\n  pie: Pie,\n  column: Column,\n  bar: Bar,\n  area: Area,\n  gauge: Gauge,\n  'tiny-line': TinyLine,\n  'tiny-column': TinyColumn,\n  'tiny-area': TinyArea,\n  'ring-progress': RingProgress,\n  progress: Progress,\n  scatter: Scatter,\n  histogram: Histogram,\n  funnel: Funnel,\n  stock: Stock,\n};\n\n/**\n * \u5728 mix \u56FE\u8868\u4EE5\u53CA facet \u56FE\u8868\u4E2D\uFF0CdefaultOptions \u8FDB\u884C\u590D\u5199\u7B80\u5316\n */\nconst DEFAULT_OPTIONS_MAP = {\n  pie: { label: false },\n  column: { tooltip: { showMarkers: false } },\n  bar: { tooltip: { showMarkers: false } },\n};\n\n/**\n * \u6267\u884C plot \u7684 adaptor, \u9ED8\u8BA4\u90FD\u5E26\u4E0A defaultOptions\n * @param {string} plot\n */\nexport function execPlotAdaptor<T extends IPlotTypes['type']>(\n  plot: T,\n  view: View,\n  options: IPlotTypes['options']\n): void {\n  const cls = PLOT_CONSTRUCTOR[plot];\n  if (!cls) {\n    console.error(`could not find ${plot} plot`);\n    return;\n  }\n  const module = PLOT_ADAPTORS[plot];\n  module({\n    chart: view,\n    options: deepAssign({}, cls.getDefaultOptions(), get(DEFAULT_OPTIONS_MAP, plot, {}), options),\n  });\n}\n", "import { each } from '@antv/util';\nimport { Geometry } from '@antv/g2';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { interaction, animation, theme, tooltip, annotation } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { PLOT_CONTAINER_OPTIONS } from '../../core/plot';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { deepAssign, flow, pick } from '../../utils';\nimport { Axis } from '../../types/axis';\nimport { Legend } from '../../types/legend';\nimport { Interaction } from '../../types/interaction';\nimport { MixOptions, IView, IGeometry } from './types';\nimport { execPlotAdaptor } from './utils';\n\n/**\n * geometry \u5904\u7406\n * @param params\n */\nfunction multiView(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n  const { views, legend } = options;\n\n  each(views, (v: IView) => {\n    const { region, data, meta, axes, coordinate, interactions, annotations, tooltip, geometries } = v;\n\n    // 1. \u521B\u5EFA view\n    const viewOfG2 = chart.createView({\n      region,\n    });\n\n    // 2. data\n    viewOfG2.data(data);\n\n    // 3. meta\n    let scales: Record<string, any> = {};\n    if (axes) {\n      each(axes, (axis: Axis, field: string) => {\n        scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n      });\n    }\n\n    scales = deepAssign({}, meta, scales);\n    viewOfG2.scale(scales);\n\n    // 4. x y axis\n    if (!axes) {\n      viewOfG2.axis(false);\n    } else {\n      each(axes, (axis: Axis, field: string) => {\n        viewOfG2.axis(field, axis);\n      });\n    }\n\n    // 5. coordinate\n    viewOfG2.coordinate(coordinate);\n\n    // 6. geometry\n    each(geometries, (geometry: IGeometry) => {\n      const { ext } = geometryAdaptor({\n        chart: viewOfG2,\n        options: geometry,\n      });\n\n      // adjust\n      const { adjust } = geometry;\n      if (adjust) {\n        ext.geometry.adjust(adjust);\n      }\n    });\n\n    // 7. interactions\n    each(interactions, (interaction: Interaction) => {\n      if (interaction.enable === false) {\n        viewOfG2.removeInteraction(interaction.type);\n      } else {\n        viewOfG2.interaction(interaction.type, interaction.cfg);\n      }\n    });\n\n    // 8. annotations\n    each(annotations, (annotation) => {\n      viewOfG2.annotation()[annotation.type]({\n        ...annotation,\n      });\n    });\n\n    // 9. animation (\u5148\u505A\u52A8\u753B)\n    if (typeof v.animation === 'boolean') {\n      viewOfG2.animate(false);\n    } else {\n      viewOfG2.animate(true);\n      // 9.1 \u6240\u6709\u7684 Geometry \u90FD\u4F7F\u7528\u540C\u4E00\u52A8\u753B\uFF08\u5404\u4E2A\u56FE\u5F62\u5982\u6709\u533A\u522B\uFF0Ctodo \u81EA\u884C\u8986\u76D6\uFF09\n      each(viewOfG2.geometries, (g: Geometry) => {\n        g.animate(v.animation);\n      });\n    }\n\n    if (tooltip) {\n      // 10. tooltip\n      viewOfG2.interaction('tooltip');\n      viewOfG2.tooltip(tooltip);\n    }\n  });\n\n  // legend\n  if (!legend) {\n    chart.legend(false);\n  } else {\n    each(legend, (l: Legend, field: string) => {\n      chart.legend(field, l);\n    });\n  }\n\n  // tooltip\n  chart.tooltip(options.tooltip);\n  return params;\n}\n\n/**\n * \u652F\u6301\u5D4C\u5957\u4F7F\u7528 g2plot \u5185\u7F6E\u56FE\u8868\n * @param params\n */\nfunction multiPlot(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n  const { plots, data = [] } = options;\n\n  each(plots, (plot) => {\n    const { type, region, options = {}, top } = plot;\n    const { tooltip } = options;\n\n    if (top) {\n      execPlotAdaptor(type, chart, { ...options, data });\n      return;\n    }\n\n    const viewOfG2 = chart.createView({ region, ...pick(options, PLOT_CONTAINER_OPTIONS) });\n    if (tooltip) {\n      // \u914D\u7F6E tooltip \u4EA4\u4E92\n      viewOfG2.interaction('tooltip');\n    }\n\n    execPlotAdaptor(type, viewOfG2, { data, ...options });\n  });\n\n  return params;\n}\n\n/**\n * \u5904\u7406\u7F29\u7565\u8F74\u7684 adaptor (mix)\n * @param params\n */\nexport function slider(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n\n  chart.option('slider', options.slider);\n\n  return params;\n}\n\n/**\n * \u56FE\u9002\u914D\u5668\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<MixOptions>) {\n  return flow(\n    animation, // \u591A view \u7684\u56FE\uFF0C\u52A8\u753B\u914D\u7F6E\u653E\u5230\u6700\u524D\u9762\n    multiView,\n    multiPlot,\n    interaction,\n    animation,\n    theme,\n    tooltip,\n    slider,\n    annotation()\n    // ... \u5176\u4ED6\u7684 adaptor flow\n  )(params);\n}\n", "import { View, Element } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport { getAllElements } from '../../../utils';\n\n/**\n * \u83B7\u53D6\u56FE\u8868\u5143\u7D20\u5BF9\u5E94\u5B57\u6BB5\u7684\u503C\n * @param element \u56FE\u8868\u5143\u7D20\n * @param field \u5B57\u6BB5\u540D\n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * @ignore\n * \u6E05\u7406 highlight \u6548\u679C\n * @param view View \u6216\u8005 Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getAllElements(view);\n  each(elements, (el) => {\n    if (el.hasState('active')) {\n      el.setState('active', false);\n    }\n    if (el.hasState('selected')) {\n      el.setState('selected', false);\n    }\n    if (el.hasState('inactive')) {\n      el.setState('inactive', false);\n    }\n  });\n}\n", "import { each, get, map, isArray } from '@antv/util';\nimport { registerAction, registerInteraction, View, Element, Action } from '@antv/g2';\nimport { getAllElements, getViews, getSiblingViews } from '../../../utils';\nimport { clearHighlight, getElementValue } from './utils';\n\ntype EventItem = { element: Element; view: View; active: boolean; inactive: boolean };\ntype ActionParams = { linkField?: string; dim?: 'x' | 'y' };\n/**\n * \u5B58\u5728\u591A\u4E2A view \u65F6\uFF0Cview \u4E4B\u95F4\u7684\u8054\u52A8\u4EA4\u4E92\n *\n * \u63D0\u4F9B\u56DB\u4E2A\u53CD\u9988 action\uFF0C\u5747\u63A5\u53D7\u53C2\u6570\uFF1AlinkField \u5173\u8054\u5B57\u6BB5\uFF0Cdim \u7EF4\u5EA6\n * 1. showTooltip\n * 2. active\n * 3. highlight\n * 4. selected\n *\n * \u9644\u52A0\uFF0C\u4E24\u4E2A\u7ED3\u675F\u53CD\u9988 action\uFF1A\n * 1. hidetooltip\n * 2. reset \u6E05\u9664\u6FC0\u6D3B\u548C\u9AD8\u4EAE\u72B6\u6001\n */\nclass Association extends Action {\n  /**\n   * \u83B7\u53D6\u5173\u8054\u7684 elements\n   *\n   * - \u5982\u679C dim \u53C2\u6570\u5B58\u5728\uFF0C\u6839\u636E dim \u83B7\u53D6\u76F8\u5E94\u7684 field\u3002\u4E0E linkField \u4E0D\u5339\u914D\u5219 return\n   * - \u5426\u5219 dim \u53C2\u6570\u4E0D\u5B58\u5728\uFF0C\u4E14 linkField \u5B58\u5728\uFF0C\u5219\u4F5C\u4E3A\u5173\u8054\u5B57\u6BB5\n   * - \u5426\u5219\u82E5 linkField \u4E0D\u5B58\u5728\uFF0C\u5219\u83B7\u53D6\u7B2C\u4E00\u4E2A\u5206\u7C7B\u5B57\u6BB5\n   * @returns EventItem[]\n   */\n  private getAssociationItems(views: View[], params?: ActionParams): EventItem[] {\n    const { event } = this.context;\n    const { linkField, dim } = params || {};\n\n    const items = [];\n\n    if (event.data?.data) {\n      const { data } = event.data;\n      each(views, (v: View) => {\n        let field = linkField;\n        if (dim === 'x') {\n          field = v.getXScale().field;\n        } else if (dim === 'y') {\n          field = v.getYScales().find((s) => s.field === field)?.field;\n        } else if (!field) {\n          field = v.getGroupScales()[0]?.field;\n        }\n        if (!field) {\n          return;\n        }\n        const elements = map(getAllElements(v), (ele) => {\n          let active = false;\n          let inactive = false;\n          const dataValue = isArray(data) ? get(data[0], field) : get(data, field);\n          if (getElementValue(ele, field) === dataValue) {\n            active = true;\n          } else {\n            inactive = true;\n          }\n          return { element: ele, view: v, active, inactive };\n        });\n        items.push(...elements);\n      });\n    }\n\n    return items;\n  }\n\n  /**\n   * \u6240\u6709\u540C\u4E00\u5C42\u7EA7\u7684 tooltip \u663E\u793A\n   */\n  public showTooltip(params?: ActionParams) {\n    const siblings = getSiblingViews(this.context.view);\n    const elements = this.getAssociationItems(siblings, params);\n\n    each(elements, (ele) => {\n      if (ele.active) {\n        const box = ele.element.shape.getCanvasBBox();\n        ele.view.showTooltip({ x: box.minX + box.width / 2, y: box.minY + box.height / 2 });\n      }\n    });\n  }\n\n  /**\n   * \u9690\u85CF\u540C\u4E00\u5C42\u7EA7\u7684 tooltip\n   */\n  public hideTooltip() {\n    const siblings = getSiblingViews(this.context.view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n\n  /**\n   * \u8BBE\u7F6E active \u72B6\u6001\n   */\n  public active(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { active, element } = item;\n      if (active) {\n        element.setState('active', true);\n      }\n    });\n  }\n\n  /**\n   * \u8BBE\u7F6E selected \u72B6\u6001\n   */\n  public selected(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { active, element } = item;\n      if (active) {\n        element.setState('selected', true);\n      }\n    });\n  }\n\n  /**\n   * \u8FDB\u884C\u9AD8\u4EAE => \u8BBE\u7F6E inactive \u72B6\u6001\n   */\n  public highlight(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { inactive, element } = item;\n      if (inactive) {\n        element.setState('inactive', true);\n      }\n    });\n  }\n\n  public reset() {\n    const views = getViews(this.context.view);\n    each(views, (v) => {\n      clearHighlight(v);\n    });\n  }\n}\n\nregisterAction('association', Association);\n\n/**\n * \u76F8\u90BB view \u7684 active \u8054\u52A8\uFF08\u76F8\u540C\u7EF4\u503C\u7684 tooltip \u8054\u52A8\uFF09\n */\nregisterInteraction('association-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n * \u76F8\u90BB view \u7684 active \u8054\u52A8\uFF08\u76F8\u540C\u7EF4\u503C\u7684 tooltip \u8054\u52A8\uFF09\n */\nregisterInteraction('association-selected', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:selected' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n * \u76F8\u90BB view \u7684 highlight \u8054\u52A8, \u7A81\u51FA\u5F53\u524D element\n */\nregisterInteraction('association-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n * \u76F8\u90BB view \u7684 tooltip \u8054\u52A8\uFF0C\u6839\u636E groupField \u8FDB\u884C\u5173\u8054\uFF08\u76F8\u540C\u7EF4\u503C\u7684 tooltip \u8054\u52A8\uFF09\n */\nregisterInteraction('association-tooltip', {\n  start: [{ trigger: 'element:mousemove', action: 'association:showTooltip' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:hideTooltip' }],\n});\n", "import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { MixOptions } from './types';\nimport { adaptor } from './adaptor';\nimport './interactions';\n\nexport type { MixOptions };\n\n/**\n * \u591A\u56FE\u5C42\u56FE\u5F62\uFF0C\u91CA\u653E G2 80% \u7684\u529F\u80FD\uFF0C\u53EF\u4EE5\u7528\u6765\u505A\uFF1A\n * 1. \u56FE\u5C42\u53E0\u52A0\u7684\u56FE\uFF1A\n *   - \u6298\u7EBF + \u7F6E\u4FE1\u5EA6\u533A\u95F4\u8FED\u4EE3\n *   - \u5D4C\u5957\u997C\u56FE\n *   - ...\n * 2. \u56FE\u5C42\u5212\u5206\u7684\u56FE\n *   - \u591A\u7EF4\u56FE\n *   - \u67F1\u997C\u7EC4\u5408\u56FE\n *   - ...\n */\nexport class Mix extends Plot<MixOptions> {\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'mix';\n\n  /**\n   * \u83B7\u53D6\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<MixOptions> {\n    return adaptor;\n  }\n}\n", "import { Geometry, View } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { pick, deepAssign } from '../../utils';\nimport { Axis, Interaction } from '../../types';\nimport { IView } from './types';\n\n/**\n *\n * @param params \u5206\u9762\u56FE \u53C2\u6570\n * @returns facet eachView \u7684\u56DE\u8C03\u8BBE\u7F6E\u6BCF\u4E2A view \u7684\u5C55\u793A\n */\nexport function execViewAdaptor(viewOfG2: View, options: IView): void {\n  const { data, coordinate, interactions, annotations, animation, tooltip, axes, meta, geometries } = options;\n\n  // 1. data, optional\n  if (data) {\n    viewOfG2.data(data);\n  }\n\n  // 2. meta \u914D\u7F6E\n  let scales: Record<string, any> = {};\n  if (axes) {\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n  }\n\n  scales = deepAssign({}, meta, scales);\n  viewOfG2.scale(scales);\n\n  // 3. coordinate \u914D\u7F6E (\u9ED8\u8BA4\u7531\u9876\u5C42\u51B3\u5B9A)\n  if (coordinate) {\n    viewOfG2.coordinate(coordinate);\n  }\n\n  // 4. axis \u8F74\u914D\u7F6E (\u9ED8\u8BA4\u7531\u9876\u5C42\u51B3\u5B9A\uFF0C\u4F46\u53EF\u4EE5\u901A\u8FC7 false \u5F3A\u5236\u5173\u95ED)\n  if (axes === false) {\n    viewOfG2.axis(false);\n  } else {\n    each(axes, (axis: Axis, field: string) => {\n      viewOfG2.axis(field, axis);\n    });\n  }\n\n  each(geometries, (geometry) => {\n    // Geometry\n    const { ext } = geometryAdaptor({\n      chart: viewOfG2,\n      options: geometry,\n    });\n\n    // Geometry adjust\n    const { adjust } = geometry;\n    if (adjust) {\n      ext.geometry.adjust(adjust);\n    }\n  });\n\n  // 5. interactions\n  each(interactions, (interaction: Interaction) => {\n    if (interaction.enable === false) {\n      viewOfG2.removeInteraction(interaction.type);\n    } else {\n      viewOfG2.interaction(interaction.type, interaction.cfg);\n    }\n  });\n  // 6. annotations\n  each(annotations, (annotation) => {\n    viewOfG2.annotation()[annotation.type]({\n      ...annotation,\n    });\n  });\n\n  // 7. animation (\u5148\u505A\u52A8\u753B)\n  if (typeof animation === 'boolean') {\n    viewOfG2.animate(false);\n  } else {\n    viewOfG2.animate(true);\n    // \u6240\u6709\u7684 Geometry \u90FD\u4F7F\u7528\u540C\u4E00\u52A8\u753B\uFF08\u5404\u4E2A\u56FE\u5F62\u5982\u6709\u533A\u522B\uFF0Ctodo \u81EA\u884C\u8986\u76D6\uFF09\n    each(viewOfG2.geometries, (g: Geometry) => {\n      g.animate(animation);\n    });\n  }\n\n  if (tooltip) {\n    // 8. tooltip\n    viewOfG2.interaction('tooltip');\n    viewOfG2.tooltip(tooltip);\n  } else if (tooltip === false) {\n    viewOfG2.removeInteraction('tooltip');\n  }\n}\n", "import { each, omit } from '@antv/util';\nimport { theme } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { pick, flow, deepAssign } from '../../utils';\nimport { Axis, Interaction } from '../../types';\nimport { execPlotAdaptor } from '../mix/utils';\nimport { FacetOptions, IPlot, IView } from './types';\nimport { execViewAdaptor } from './utils';\n\nfunction facetAdaptor(params: Params<FacetOptions>): Params<FacetOptions> {\n  const { chart, options } = params;\n  const { type: facetType, data, fields, eachView } = options;\n\n  const restFacetCfg = omit(options as any, [\n    'type',\n    'data',\n    'fields',\n    'eachView',\n    'axes',\n    'meta',\n    'tooltip',\n    'coordinate',\n    'theme',\n    'legend',\n    'interactions',\n    'annotations',\n  ]);\n\n  // 1. data\n  chart.data(data);\n\n  // 2. facet\n  chart.facet(facetType, {\n    ...restFacetCfg,\n    fields,\n    eachView: (viewOfG2, facet) => {\n      const viewOptions = eachView(viewOfG2, facet);\n      if ((viewOptions as IView).geometries) {\n        execViewAdaptor(viewOfG2, viewOptions as IView);\n      } else {\n        const plot = viewOptions as IPlot;\n        const plotOptions = plot.options;\n        // @ts-ignore \u4EEA\u8868\u76D8\u6CA1 tooltip\n        if (plotOptions.tooltip) {\n          // \u914D\u7F6E tooltip \u4EA4\u4E92\n          viewOfG2.interaction('tooltip');\n        }\n        execPlotAdaptor(plot.type, viewOfG2, plotOptions);\n      }\n    },\n  });\n\n  return params;\n}\n\nfunction component(params: Params<FacetOptions>): Params<FacetOptions> {\n  const { chart, options } = params;\n  const { axes, meta, tooltip, coordinate, theme, legend, interactions, annotations } = options;\n\n  // 3. meta \u914D\u7F6E\n  let scales: Record<string, any> = {};\n  if (axes) {\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n  }\n\n  scales = deepAssign({}, meta, scales);\n  chart.scale(scales);\n\n  // 4. coordinate \u914D\u7F6E\n  chart.coordinate(coordinate);\n\n  // 5. axis \u8F74\u914D\u7F6E (\u9ED8\u8BA4\u4E0D\u5C55\u793A)\n  if (!axes) {\n    chart.axis(false);\n  } else {\n    each(axes, (axis: Axis, field: string) => {\n      chart.axis(field, axis);\n    });\n  }\n\n  // 6. tooltip \u914D\u7F6E\n  if (tooltip) {\n    chart.interaction('tooltip');\n    chart.tooltip(tooltip);\n  } else if (tooltip === false) {\n    chart.removeInteraction('tooltip');\n  }\n\n  // 7. legend \u914D\u7F6E\uFF08\u9ED8\u8BA4\u5C55\u793A\uFF09\n  chart.legend(legend);\n\n  // theme \u914D\u7F6E\n  if (theme) {\n    chart.theme(theme);\n  }\n\n  // 8. interactions\n  each(interactions, (interaction: Interaction) => {\n    if (interaction.enable === false) {\n      chart.removeInteraction(interaction.type);\n    } else {\n      chart.interaction(interaction.type, interaction.cfg);\n    }\n  });\n\n  // 9. annotations\n  each(annotations, (annotation) => {\n    chart.annotation()[annotation.type]({\n      ...annotation,\n    });\n  });\n\n  return params;\n}\n\n/**\n * \u5206\u9762\u56FE\u9002\u914D\u5668\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FacetOptions>) {\n  // flow \u7684\u65B9\u5F0F\u5904\u7406\u6240\u6709\u7684\u914D\u7F6E\u5230 G2 API\n  return flow(theme, facetAdaptor, component)(params);\n}\n", "/**\n * \u5206\u9762\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n */\nexport const DEFAULT_OPTIONS = {\n  title: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n  rowTitle: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n  columnTitle: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n};\n", "import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { FacetOptions } from './types';\n\nexport type { FacetOptions };\n\nexport class Facet extends Plot<FacetOptions> {\n  /**\n   * \u83B7\u53D6 \u5206\u9762\u56FE \u9ED8\u8BA4\u914D\u7F6E\u9879\n   * \u4F9B\u5916\u90E8\u4F7F\u7528\n   */\n  static getDefaultOptions(): Partial<FacetOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /** \u56FE\u8868\u7C7B\u578B */\n  public type: string = 'area';\n\n  /**\n   * \u83B7\u53D6 \u5206\u9762\u56FE \u9ED8\u8BA4\u914D\u7F6E\n   */\n  protected getDefaultOptions() {\n    return Facet.getDefaultOptions();\n  }\n\n  /**\n   * \u83B7\u53D6 \u5206\u9762\u56FE \u7684\u9002\u914D\u5668\n   */\n  protected getSchemaAdaptor(): Adaptor<FacetOptions> {\n    return adaptor;\n  }\n}\n", "import { Mix } from './plots/mix';\n\n/** \u5B9E\u9A8C\u5BA4\u56FE\u8868\u6240\u5904\u7684\u9636\u6BB5 */\nexport enum Stage {\n  DEV = 'DEV',\n  BETA = 'BETA',\n  STABLE = 'STABLE',\n}\n\n/**\n * \u4E0D\u540C\u9636\u6BB5\u6253\u5370\u4E00\u4E9B\u6D88\u606F\u7ED9\u5F00\u53D1\u8005\n * @param stage\n */\nexport function notice(stage: Stage, plotType: string) {\n  console.warn(\n    stage === Stage.DEV\n      ? `Plot '${plotType}' is in DEV stage, just give us issues.`\n      : stage === Stage.BETA\n      ? `Plot '${plotType}' is in BETA stage, DO NOT use it in production env.`\n      : stage === Stage.STABLE\n      ? `Plot '${plotType}' is in STABLE stage, import it by \"import { ${plotType} } from '@antv/g2plot'\".`\n      : 'invalid Stage type.'\n  );\n}\n\n/**\n * \u5B9E\u9A8C\u5BA4\u56FE\u8868\uFF0C\u5B9E\u9A8C\u5BA4\u4E2D\u7684\u56FE\u8868\u5206\u6210\u4E0D\u540C\u7684\u9636\u6BB5\u3002\n */\nexport class Lab {\n  static get MultiView() {\n    notice(Stage.STABLE, 'MultiView');\n    return Mix;\n  }\n}\n", "export const version = '2.4.19';\n\n// G2 \u81EA\u5B9A\u4E49\u80FD\u529B\u900F\u51FA\nimport * as G2 from '@antv/g2';\nexport { G2 };\n\n// \u56FD\u9645\u5316\u5904\u7406\nimport { registerLocale } from './core/locale';\nimport { EN_US_LOCALE } from './locales/en_US';\nimport { ZH_CN_LOCALE } from './locales/zh_CN';\n/** default locale register */\nregisterLocale('en-US', EN_US_LOCALE);\nregisterLocale('zh-CN', ZH_CN_LOCALE);\n/** \u900F\u51FA \u56FD\u9645\u5316 \u5DE5\u5177\u51FD\u6570\uFF0C\u4FBF\u4E8E\u4F7F\u7528 */\nexport { registerLocale };\n\n/** \u5168\u5C40\u53D8\u91CF */\nexport { setGlobal } from './core/global';\n\n/** G2Plot \u7684 Plot \u57FA\u7C7B */\nexport { Plot } from './core/plot';\n\n/** Adaptor \u53CA\u5176\u53C2\u6570\u7684\u7C7B\u578B\u5B9A\u4E49 */\nexport type { Adaptor, Params } from './core/adaptor';\n\n// \u7C7B\u578B\u5B9A\u4E49\u5BFC\u51FA\nexport * from './types';\n\n// \u6298\u7EBF\u56FE\u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [hustcc](https://github.com/hustcc)\nexport { Line } from './plots/line';\nexport type { LineOptions } from './plots/line';\n\n// \u9762\u79EF\u56FE\u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [hustcc](https://github.com/hustcc)\nexport { Area } from './plots/area';\nexport type { AreaOptions } from './plots/area';\n\n// \u67F1\u5F62\u56FE\u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [zqlu](https://github.com/zqlu)\nexport { Column } from './plots/column';\nexport type { ColumnOptions } from './plots/column';\n\n// \u6761\u5F62\u56FE\u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [BBSQQ](https://github.com/BBSQQ)\nexport { Bar } from './plots/bar';\nexport type { BarOptions } from './plots/bar';\n\n// \u997C\u56FE\u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [visiky](https://github.com/visiky)\nexport { Pie } from './plots/pie';\nexport type { PieOptions } from './plots/pie';\n\n// \u73AB\u7470\u56FE\u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [zhangzhonghe](https://github.com/zhangzhonghe)\nexport { Rose } from './plots/rose';\nexport type { RoseOptions } from './plots/rose';\n\n// \u8BCD\u4E91\u56FE\u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [zhangzhonghe](https://github.com/zhangzhonghe)\nexport { WordCloud } from './plots/word-cloud';\nexport type { WordCloudOptions } from './plots/word-cloud';\n\n// \u6563\u70B9\u56FE\u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [lxfu1](https://github.com/lxfu1)\nexport { Scatter } from './plots/scatter';\nexport type { ScatterOptions } from './plots/scatter';\n\n// \u96F7\u8FBE\u56FE\u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [visiky](https://github.com/visiky)\nexport { Radar } from './plots/radar';\nexport type { RadarOptions } from './plots/radar';\n\n// \u6DF7\u5408\u56FE\u5F62 | author by [liuzhenying](https://github.com/liuzhenying)\nexport { DualAxes } from './plots/dual-axes';\nexport type { DualAxesOptions } from './plots/dual-axes';\n\n// \u8FF7\u4F60\u6298\u7EBF\u56FE\u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [connono](https://github.com/connono)\nexport { TinyLine } from './plots/tiny-line';\nexport type { TinyLineOptions } from './plots/tiny-line';\n\n// \u8FF7\u4F60\u67F1\u5F62\u56FE\u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [connono](https://github.com/connono)\nexport { TinyColumn } from './plots/tiny-column';\nexport type { TinyColumnOptions } from './plots/tiny-column';\n\n// \u8FF7\u4F60\u9762\u79EF\u56FE\u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [connono](https://github.com/connono)\nexport { TinyArea } from './plots/tiny-area';\nexport type { TinyAreaOptions } from './plots/tiny-area';\n\n// \u76F4\u65B9\u56FE\u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [arcsin1](https://github.com/arcsin1), [visiky](https://github.com/visiky)\nexport { Histogram } from './plots/histogram';\nexport type { HistogramOptions } from './plots/histogram';\n\n// \u8FDB\u5EA6\u56FE\u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [connono](https://github.com/connono)\nexport { Progress } from './plots/progress';\nexport type { ProgressOptions } from './plots/progress';\n\n// \u73AF\u5F62\u8FDB\u5EA6\u56FE\u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [connono](https://github.com/connono)\nexport { RingProgress } from './plots/ring-progress';\nexport type { RingProgressOptions } from './plots/ring-progress';\n\n// \u70ED\u529B\u56FE\u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [jiazhewang](https://github.com/jiazhewang)\nexport { Heatmap } from './plots/heatmap';\nexport type { HeatmapOptions } from './plots/heatmap';\n\n// \u7BB1\u7EBF\u56FE\u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [BBSQQ](https://github.com/BBSQQ), [visiky](https://github.com/visiky)\nexport { Box } from './plots/box';\nexport type { BoxOptions } from './plots/box';\n\n// \u5C0F\u63D0\u7434\u56FE\u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [YiSiWang](https://github.com/YiSiWang), [visiky](https://github.com/visiky)\nexport { Violin } from './plots/violin';\nexport type { ViolinOptions } from './plots/violin';\n\n// \u97E6\u6069\u56FE\u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [visiky](https://github.com/visiky)\nexport { Venn } from './plots/venn';\nexport type { VennOptions } from './plots/venn';\n\n// K\u7EBF\u56FE\u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [jhwong](https://github.com/jinhuiWong), [visiky](https://github.com/visiky)\nexport { Stock } from './plots/stock';\nexport type { StockOptions } from './plots/stock';\n\n// \u6F0F\u6597\u56FE\u53CA\u7C7B\u578B\u5B9A\u4E49\nexport { Funnel, FUNNEL_CONVERSATION_FIELD } from './plots/funnel';\nexport type { FunnelOptions } from './plots/funnel';\n\n// \u6C34\u6CE2\u56FE\u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [CarisL](https://github.com/CarisL), [hustcc](https://github.com/hustcc), [pearmini](https://github.com/pearmini)\nexport { Liquid, addWaterWave } from './plots/liquid';\nexport type { LiquidOptions } from './plots/liquid';\n\n// \u5B50\u5F39\u56FE\u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [arcsin1](https://github.com/arcsin1)\nexport { Bullet } from './plots/bullet';\nexport type { BulletOptions } from './plots/bullet';\n\n// \u65ED\u65E5\u56FE\u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [lxfu1](https://github.com/lxfu1), [visiky](https://github.com/visiky)\nexport { Sunburst } from './plots/sunburst';\nexport type { SunburstOptions } from './plots/sunburst';\n\n// \u4EEA\u8868\u76D8\u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [hustcc](https://github.com/hustcc)\nexport { Gauge } from './plots/gauge';\nexport type { GaugeOptions } from './plots/gauge';\n\n// \u7011\u5E03\u56FE | author by [visiky](https://github.com/visiky)\nexport { Waterfall } from './plots/waterfall';\nexport type { WaterfallOptions } from './plots/waterfall';\n\n// \u7389\u73CF\u56FE | author by [yujs](https://github.com/yujs) | updated by [visiky](https://github.com/visiky)\nexport { RadialBar } from './plots/radial-bar';\nexport type { RadialBarOptions } from './plots/radial-bar';\n\n// \u5BF9\u79F0\u6761\u5F62\u56FE\u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [arcsin1](https://github.com/arcsin1)\nexport { BidirectionalBar } from './plots/bidirectional-bar';\nexport type { BidirectionalBarOptions } from './plots/bidirectional-bar';\n\n// \u77E9\u5F62\u6811\u56FE\nexport { Treemap } from './plots/treemap';\nexport type { TreemapOptions } from './plots/treemap';\n\n// \u6851\u57FA\u56FE\u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [hustcc](https://github.com/hustcc)\nexport { Sankey } from './plots/sankey';\nexport type { SankeyOptions } from './plots/sankey';\n\n// \u5F26\u56FE\u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [MrSmallLiu](https://github.com/MrSmallLiu), [visiky](https://github.com/visiky)\nexport { Chord } from './plots/chord';\nexport type { ChordOptions } from './plots/chord';\n\n// circle-packing \u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [visiky](https://github.com/visiky), [Angeli](https://github.com/Angelii)\nexport { CirclePacking } from './plots/circle-packing';\nexport type { CirclePackingOptions } from './plots/circle-packing';\n\n// \u4EE5\u4E0B\u5F00\u653E\u81EA\u5B9A\u4E49\u56FE\u8868\u5F00\u53D1\u7684\u80FD\u529B\uFF08\u76EE\u524D\u4EC5\u4EC5\u662F\u5B75\u5316\u4E2D\uFF09\n/** \u6240\u6709\u5F00\u653E\u56FE\u8868\u90FD\u4F7F\u7528 G2Plot.P \u4F5C\u4E3A\u5165\u53E3\u5F00\u53D1\uFF0C\u7406\u8BBA\u4E0A\u5B98\u65B9\u7684\u6240\u6709\u56FE\u8868\u90FD\u53EF\u4EE5\u8D70 G2Plot.P \u7684\u5165\u53E3\uFF08\u6682\u65F6\u4E0D\u5904\u7406\uFF09 */\nexport { P } from './plugin';\n\n/** \u5F00\u653E getCanvasPatterng \u65B9\u6CD5 */\nexport { getCanvasPattern } from './utils/pattern';\n\n// \u5DF2\u7ECF\u5E9F\u5F03\uFF0C\u66F4\u540D\u4E3A Mix\nexport { Mix as MultiView } from './plots/mix';\nexport type { MixOptions as MultiViewOptions } from './plots/mix';\n/** \u5F00\u653E\u591A\u56FE\u5C42\u56FE\u8868 (mix) */\nexport { Mix as Mix } from './plots/mix';\nexport type { MixOptions } from './plots/mix';\n\n// \u5206\u9762\u56FE\u53CA\u7C7B\u578B\u5B9A\u4E49 | author by [visiky](https://github.com/visiky)\nexport { Facet } from './plots/facet';\nexport type { FacetOptions } from './plots/facet';\n\n/** \u5F00\u53D1 adaptor \u53EF\u80FD\u4F1A\u7528\u5230\u7684\u65B9\u6CD5\u6216\u4E00\u4E9B\u5DE5\u5177\u65B9\u6CD5\uFF0C\u4E0D\u5F3A\u5236\u4F7F\u7528 */\nexport { flow, measureTextWidth } from './utils';\n\n/** \u5404\u4E2A geometry \u7684 adaptor\uFF0C\u53EF\u4EE5\u8BA9\u5F00\u53D1\u8005\u66F4\u5FEB\u7684\u6784\u9020\u56FE\u5F62 */\nexport { line, interval, area, point, polygon, schema } from './adaptor/geometries';\nexport type {\n  LineGeometryOptions,\n  IntervalGeometryOptions,\n  AreaGeometryOptions,\n  PointGeometryOptions,\n  PolygonGeometryOptions,\n  SchemaGeometryOptions,\n} from './adaptor/geometries';\n/** \u5F00\u653E\u4E00\u4E9B\u901A\u7528\u7684 adaptor \u901A\u9053\u65B9\u6CD5\uFF0C\u5B9E\u9A8C\u9636\u6BB5\uFF1A\u4E0D\u4FDD\u8BC1\u7A33\u5B9A\u6027 */\nimport { scale, legend, tooltip, annotation, interaction, theme, animation } from './adaptor/common';\nexport const adaptors = { scale, legend, tooltip, annotation, interaction, theme, animation };\n\n/** \u5BF9\u4E8E\u6CA1\u6709\u5F00\u53D1\u5B8C\u6210\u7684\u56FE\u8868\uFF0C\u53EF\u4EE5\u6682\u65F6\u5148\u653E\u5230 Lab \u4E0B\u9762\uFF0C\u5148\u505A\u4F53\u9A8C\uFF0C\u7A33\u5B9A\u540E\u653E\u5230\u6839 export */\nexport { Lab } from './lab';\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useRef, useEffect } from 'react';\nimport { isEqual, get } from '@antv/util';\nimport createNode from '../util/createNode';\nimport { hasPath, isType, deepClone, clone, setPath } from '../util';\nexport default function useInit(ChartClass, config) {\n    var chart = useRef();\n    var chartOptions = useRef();\n    var container = useRef(null);\n    var onReady = config.onReady, onEvent = config.onEvent;\n    /**\n     * Get data base64\n     * @param {string} type A DOMString indicating the image format. The default format type is image/png.\n     * @param {number} encoderOptions A Number between 0 and 1 indicating the image quality\n     */\n    var toDataURL = function (type, encoderOptions) {\n        var _a;\n        if (type === void 0) { type = 'image/png'; }\n        return (_a = chart.current) === null || _a === void 0 ? void 0 : _a.chart.canvas.cfg.el.toDataURL(type, encoderOptions);\n    };\n    /**\n     * Download Iamge\n     * @param {string} name A name of image\n     * @param {string} type A DOMString indicating the image format. The default format type is image/png.\n     * @param {number} encoderOptions A Number between 0 and 1 indicating the image quality\n     */\n    var downloadImage = function (name, type, encoderOptions) {\n        var _a;\n        if (name === void 0) { name = 'download'; }\n        if (type === void 0) { type = 'image/png'; }\n        var imageName = name;\n        if (name.indexOf('.') === -1) {\n            imageName = \"\".concat(name, \".\").concat(type.split('/')[1]);\n        }\n        var base64 = (_a = chart.current) === null || _a === void 0 ? void 0 : _a.chart.canvas.cfg.el.toDataURL(type, encoderOptions);\n        var a = document.createElement('a');\n        a.href = base64;\n        a.download = imageName;\n        document.body.appendChild(a);\n        a.click();\n        document.body.removeChild(a);\n        a = null;\n        return imageName;\n    };\n    var reactDomToString = function (source, path, type) {\n        var statisticCustomHtml = hasPath(source, path);\n        setPath(source, path, function () {\n            var arg = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                arg[_i] = arguments[_i];\n            }\n            var statisticDom = isType(statisticCustomHtml, 'Function') ? statisticCustomHtml.apply(void 0, arg) : statisticCustomHtml;\n            if (isType(statisticDom, 'String') || isType(statisticDom, 'Number') || isType(statisticDom, 'HTMLDivElement')) {\n                return statisticDom;\n            }\n            return createNode(statisticDom, type);\n        });\n    };\n    var processConfig = function () {\n        // statistic\n        if (hasPath(config, ['statistic', 'content', 'customHtml'])) {\n            reactDomToString(config, ['statistic', 'content', 'customHtml']);\n        }\n        if (hasPath(config, ['statistic', 'title', 'customHtml'])) {\n            reactDomToString(config, ['statistic', 'title', 'customHtml']);\n        }\n        // tooltip\n        if (typeof config.tooltip === 'object') {\n            if (hasPath(config, ['tooltip', 'container'])) {\n                reactDomToString(config, ['tooltip', 'container'], 'tooltip');\n            }\n            if (hasPath(config, ['tooltip', 'customContent'])) {\n                reactDomToString(config, ['tooltip', 'customContent'], 'tooltip');\n            }\n        }\n    };\n    useEffect(function () {\n        if (chart.current && !isEqual(chartOptions.current, config)) {\n            var changeData = false;\n            if (chartOptions.current) {\n                // \u4ECE options \u91CC\u9762\u53D6\u51FA data \u3001value \u3001 percent \u8FDB\u884C\u6BD4\u5BF9\uFF0C\u5224\u65AD\u662F\u5426\u4EC5\u6570\u503C\u53D1\u751F\u6539\u53D8\n                var _a = chartOptions.current, currentData = _a.data, currentValue = _a.value, currentPercent = _a.percent, currentConfig = __rest(_a, [\"data\", \"value\", \"percent\"]);\n                var inputData = config.data, inputValue = config.value, inputPercent = config.percent, inputConfig = __rest(config, [\"data\", \"value\", \"percent\"]);\n                changeData = isEqual(currentConfig, inputConfig);\n            }\n            chartOptions.current = deepClone(config);\n            if (changeData && get(config, 'chartType') !== 'Mix') {\n                var changeType_1 = 'data';\n                var typeMaps = ['percent']; // \u7279\u6B8A\u7C7B\u578B\u7684\u56FE\u8868 data \u5B57\u6BB5\uFF0C\u4F8B\u5982 RingProgress\n                var currentKeys_1 = Object.keys(config);\n                typeMaps.forEach(function (type) {\n                    if (currentKeys_1.includes(type)) {\n                        changeType_1 = type;\n                    }\n                });\n                chart.current.changeData((config === null || config === void 0 ? void 0 : config[changeType_1]) || []);\n            }\n            else {\n                processConfig();\n                chart.current.update(config);\n            }\n        }\n    }, [config]);\n    useEffect(function () {\n        if (!container.current) {\n            return function () { return null; };\n        }\n        if (!chartOptions.current) {\n            chartOptions.current = deepClone(config);\n        }\n        processConfig();\n        var chartInstance = new ChartClass(container.current, __assign({}, config));\n        chartInstance.toDataURL = function (type, encoderOptions) {\n            return toDataURL(type, encoderOptions);\n        };\n        chartInstance.downloadImage = function (name, type, encoderOptions) {\n            return downloadImage(name, type, encoderOptions);\n        };\n        chartInstance.render();\n        chart.current = clone(chartInstance);\n        if (onReady) {\n            onReady(chartInstance);\n        }\n        var handler = function (event) {\n            if (onEvent) {\n                onEvent(chartInstance, event);\n            }\n        };\n        chartInstance.on('*', handler);\n        // \u7EC4\u4EF6\u9500\u6BC1\u65F6\u9500\u6BC1\u56FE\u8868\n        return function () {\n            if (chart.current) {\n                chart.current.destroy();\n                chart.current.off('*', handler);\n                chart.current = undefined;\n            }\n        };\n    }, []);\n    return {\n        chart: chart,\n        container: container,\n    };\n}\n", "// @ts-ignore\nimport ReactDOM from 'react-dom';\nvar createNode = function (children, type) {\n    var mountPoint = document.createElement('div');\n    if (type === 'tooltip') {\n        mountPoint.className = 'g2-tooltip';\n    }\n    ReactDOM.render(children, mountPoint);\n    return mountPoint;\n};\nexport default createNode;\n", "/* eslint-disable no-restricted-syntax */\n// \u7C7B\u578B\u68C0\u6D4B\nexport var isType = function (value, type) {\n    var toString = {}.toString;\n    return toString.call(value) === \"[object \".concat(type, \"]\");\n};\nexport var clone = function (source) {\n    if (!source) {\n        return source;\n    }\n    var target = {};\n    // eslint-disable-next-line guard-for-in\n    for (var k in source) {\n        target[k] = source[k];\n    }\n    return target;\n};\nexport var getType = function (n) {\n    return Object.prototype.toString.call(n).slice(8, -1);\n};\n/**\n * \u6DF1\u514B\u9686\n * @param source \u8981\u6DF1\u514B\u9686\u7684\u76EE\u6807\u5BF9\u8C61\n */\nexport var deepClone = function (source) {\n    if (!source || typeof source !== 'object') {\n        return source;\n    }\n    var target;\n    if (Array.isArray(source)) {\n        target = source.map(function (item) { return deepClone(item); });\n    }\n    else {\n        target = {};\n        Object.keys(source).forEach(function (key) {\n            return (target[key] = deepClone(source[key]));\n        });\n    }\n    return target;\n};\n/**\n * \u5B58\u5728\u65F6\u8FD4\u56DE\u8DEF\u5F84\u503C\uFF0C\u4E0D\u5B58\u5728\u65F6\u8FD4\u56DE undefined\n */\nexport var hasPath = function (source, path) {\n    var current = source;\n    for (var i = 0; i < path.length; i += 1) {\n        if (current === null || current === void 0 ? void 0 : current[path[i]]) {\n            current = current[path[i]];\n        }\n        else {\n            current = undefined;\n            break;\n        }\n    }\n    return current;\n};\n/**\n * \u5185\u90E8\u6307\u5B9A params \uFF0C\u4E0D\u8003\u8651\u590D\u6742\u60C5\u51B5\n */\nexport var setPath = function (source, path, value) {\n    if (!source) {\n        return source;\n    }\n    var o = source;\n    path.forEach(function (key, idx) {\n        // \u4E0D\u662F\u6700\u540E\u4E00\u4E2A\n        if (idx < path.length - 1) {\n            o = o[key];\n        }\n        else {\n            o[key] = value;\n        }\n    });\n    return source;\n};\n", "import { isFunction } from '@antv/util';\n/**\n * \u83B7\u53D6\u6216\u8005\u7ED1\u5B9A\u56FE\u8868\u5B9E\u4F8B\n */\nexport var getChart = function (chartRef, chart) {\n    if (!chartRef) {\n        return;\n    }\n    if (isFunction(chartRef)) {\n        chartRef(chart);\n    }\n    else {\n        chartRef.current = chart;\n    }\n};\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport React, { Fragment } from 'react';\nvar ErrorBoundary = /** @class */ (function (_super) {\n    __extends(ErrorBoundary, _super);\n    function ErrorBoundary() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            hasError: false,\n        };\n        _this.renderError = function (e) {\n            var errorTemplate = _this.props.errorTemplate;\n            switch (e) {\n                default:\n                    // fallback\n                    return errorTemplate && typeof errorTemplate === 'function' ? (errorTemplate(e)) : (React.createElement(\"h5\", null,\n                        \"\\u7EC4\\u4EF6\\u51FA\\u9519\\u4E86\\uFF0C\\u8BF7\\u6838\\u67E5\\u540E\\u91CD\\u8BD5\\uFF1A \",\n                        e.message));\n            }\n        };\n        return _this;\n    }\n    ErrorBoundary.getDerivedStateFromError = function (error) {\n        return { hasError: true, error: error };\n    };\n    ErrorBoundary.getDerivedStateFromProps = function (nextProps, state) {\n        if (state.children !== nextProps.children) {\n            return {\n                children: nextProps.children,\n                hasError: false,\n                error: undefined,\n            };\n        }\n        return null;\n    };\n    ErrorBoundary.prototype.render = function () {\n        if (this.state.hasError) {\n            return this.renderError(this.state.error);\n        }\n        return React.createElement(Fragment, null, this.props.children);\n    };\n    return ErrorBoundary;\n}(React.Component));\nexport default ErrorBoundary;\n", "import React from 'react';\nimport ContentLoader from 'react-content-loader';\nvar ChartLoading = function (_a) {\n    var loadingTemplate = _a.loadingTemplate, _b = _a.theme, theme = _b === void 0 ? 'light' : _b;\n    var renderLoading = function () {\n        if (loadingTemplate) {\n            return loadingTemplate;\n        }\n        return (React.createElement(ContentLoader, { viewBox: \"0 0 400 180\", width: 200, height: 90, speed: 1, backgroundColor: theme === 'dark' ? '#262626' : '#D9D9D9' },\n            React.createElement(\"rect\", { x: \"20\", y: \"5\", rx: \"0\", ry: \"0\", width: \"1\", height: \"170\" }),\n            React.createElement(\"rect\", { x: \"20\", y: \"175\", rx: \"0\", ry: \"0\", width: \"360\", height: \"1\" }),\n            React.createElement(\"rect\", { x: \"40\", y: \"75\", rx: \"0\", ry: \"0\", width: \"35\", height: \"100\" }),\n            React.createElement(\"rect\", { x: \"80\", y: \"125\", rx: \"0\", ry: \"0\", width: \"35\", height: \"50\" }),\n            React.createElement(\"rect\", { x: \"120\", y: \"105\", rx: \"0\", ry: \"0\", width: \"35\", height: \"70\" }),\n            React.createElement(\"rect\", { x: \"160\", y: \"35\", rx: \"0\", ry: \"0\", width: \"35\", height: \"140\" }),\n            React.createElement(\"rect\", { x: \"200\", y: \"55\", rx: \"0\", ry: \"0\", width: \"35\", height: \"120\" }),\n            React.createElement(\"rect\", { x: \"240\", y: \"15\", rx: \"0\", ry: \"0\", width: \"35\", height: \"160\" }),\n            React.createElement(\"rect\", { x: \"280\", y: \"135\", rx: \"0\", ry: \"0\", width: \"35\", height: \"40\" }),\n            React.createElement(\"rect\", { x: \"320\", y: \"85\", rx: \"0\", ry: \"0\", width: \"35\", height: \"90\" })));\n    };\n    return (React.createElement(\"div\", { className: \"charts-loading-container\", style: {\n            position: 'absolute',\n            width: '100%',\n            height: '100%',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            left: 0,\n            top: 0,\n            zIndex: 99,\n            backgroundColor: theme === 'dark' ? 'rgb(20, 20, 20)' : 'rgb(255, 255, 255)',\n        } }, renderLoading()));\n};\nexport default ChartLoading;\n", "export default (): string =>\n  Math.random()\n    .toString(36)\n    .substring(6)\n", "import * as React from 'react'\n\nimport uid from '../shared/uid'\nimport { IContentLoaderProps } from './'\n\nconst SVG: React.FC<IContentLoaderProps> = ({\n  animate,\n  backgroundColor,\n  backgroundOpacity,\n  baseUrl,\n  children,\n  foregroundColor,\n  foregroundOpacity,\n  gradientRatio,\n  uniqueKey,\n  interval,\n  rtl,\n  speed,\n  style,\n  title,\n  ...props\n}) => {\n  const fixedId = uniqueKey || uid()\n  const idClip = `${fixedId}-diff`\n  const idGradient = `${fixedId}-animated-diff`\n  const idAria = `${fixedId}-aria`\n\n  const rtlStyle = rtl ? { transform: 'scaleX(-1)' } : null\n  const keyTimes = `0; ${interval}; 1`\n  const dur = `${speed}s`\n\n  return (\n    <svg\n      aria-labelledby={idAria}\n      role=\"img\"\n      style={{ ...style, ...rtlStyle }}\n      {...props}\n    >\n      {title ? <title id={idAria}>{title}</title> : null}\n      <rect\n        role=\"presentation\"\n        x=\"0\"\n        y=\"0\"\n        width=\"100%\"\n        height=\"100%\"\n        clipPath={`url(${baseUrl}#${idClip})`}\n        style={{ fill: `url(${baseUrl}#${idGradient})` }}\n      />\n\n      <defs role=\"presentation\">\n        <clipPath id={idClip}>{children}</clipPath>\n\n        <linearGradient id={idGradient}>\n          <stop\n            offset=\"0%\"\n            stopColor={backgroundColor}\n            stopOpacity={backgroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`${-gradientRatio}; ${-gradientRatio}; 1`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n\n          <stop\n            offset=\"50%\"\n            stopColor={foregroundColor}\n            stopOpacity={foregroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`${-gradientRatio / 2}; ${-gradientRatio / 2}; ${1 +\n                  gradientRatio / 2}`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n\n          <stop\n            offset=\"100%\"\n            stopColor={backgroundColor}\n            stopOpacity={backgroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`0; 0; ${1 + gradientRatio}`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n        </linearGradient>\n      </defs>\n    </svg>\n  )\n}\n\nSVG.defaultProps = {\n  animate: true,\n  backgroundColor: '#f5f6f7',\n  backgroundOpacity: 1,\n  baseUrl: '',\n  foregroundColor: '#eee',\n  foregroundOpacity: 1,\n  gradientRatio: 2,\n  id: null,\n  interval: 0.25,\n  rtl: false,\n  speed: 1.2,\n  style: {},\n  title: 'Loading...',\n}\n\nexport default SVG\n", "import * as React from 'react'\n\nimport { Facebook, IContentLoaderProps } from '.'\nimport Svg from './Svg'\n\nconst ContentLoader: React.FC<IContentLoaderProps> = props =>\n  props.children ? <Svg {...props} /> : <Facebook {...props} />\n\nexport default ContentLoader\n", "import * as React from 'react'\n\nimport { IContentLoaderProps } from '..'\nimport ContentLoader from '../ContentLoader'\n\nconst ReactContentLoaderFacebook: React.FC<IContentLoaderProps> = props => (\n  <ContentLoader viewBox=\"0 0 476 124\" {...props}>\n    <rect x=\"48\" y=\"8\" width=\"88\" height=\"6\" rx=\"3\" />\n    <rect x=\"48\" y=\"26\" width=\"52\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"56\" width=\"410\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"72\" width=\"380\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"88\" width=\"178\" height=\"6\" rx=\"3\" />\n    <circle cx=\"20\" cy=\"20\" r=\"20\" />\n  </ContentLoader>\n)\n\nexport default ReactContentLoaderFacebook\n", "import * as React from 'react'\n\nimport { IContentLoaderProps } from '..'\nimport ContentLoader from '../ContentLoader'\n\nconst ReactContentLoaderInstagram: React.FC<IContentLoaderProps> = props => (\n  <ContentLoader viewBox=\"0 0 400 460\" {...props}>\n    <circle cx=\"31\" cy=\"31\" r=\"15\" />\n    <rect x=\"58\" y=\"18\" rx=\"2\" ry=\"2\" width=\"140\" height=\"10\" />\n    <rect x=\"58\" y=\"34\" rx=\"2\" ry=\"2\" width=\"140\" height=\"10\" />\n    <rect x=\"0\" y=\"60\" rx=\"2\" ry=\"2\" width=\"400\" height=\"400\" />\n  </ContentLoader>\n)\n\nexport default ReactContentLoaderInstagram\n", "import * as React from 'react'\n\nimport { IContentLoaderProps } from '..'\nimport ContentLoader from '../ContentLoader'\n\nconst ReactContentLoaderCode: React.FC<IContentLoaderProps> = props => (\n  <ContentLoader viewBox=\"0 0 340 84\" {...props}>\n    <rect x=\"0\" y=\"0\" width=\"67\" height=\"11\" rx=\"3\" />\n    <rect x=\"76\" y=\"0\" width=\"140\" height=\"11\" rx=\"3\" />\n    <rect x=\"127\" y=\"48\" width=\"53\" height=\"11\" rx=\"3\" />\n    <rect x=\"187\" y=\"48\" width=\"72\" height=\"11\" rx=\"3\" />\n    <rect x=\"18\" y=\"48\" width=\"100\" height=\"11\" rx=\"3\" />\n    <rect x=\"0\" y=\"71\" width=\"37\" height=\"11\" rx=\"3\" />\n    <rect x=\"18\" y=\"23\" width=\"140\" height=\"11\" rx=\"3\" />\n    <rect x=\"166\" y=\"23\" width=\"173\" height=\"11\" rx=\"3\" />\n  </ContentLoader>\n)\n\nexport default ReactContentLoaderCode\n", "import * as React from 'react'\n\nimport { IContentLoaderProps } from '..'\nimport ContentLoader from '../ContentLoader'\n\nconst ReactContentLoaderListStyle: React.FC<IContentLoaderProps> = props => (\n  <ContentLoader viewBox=\"0 0 400 110\" {...props}>\n    <rect x=\"0\" y=\"0\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\n    <rect x=\"20\" y=\"20\" rx=\"3\" ry=\"3\" width=\"220\" height=\"10\" />\n    <rect x=\"20\" y=\"40\" rx=\"3\" ry=\"3\" width=\"170\" height=\"10\" />\n    <rect x=\"0\" y=\"60\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\n    <rect x=\"20\" y=\"80\" rx=\"3\" ry=\"3\" width=\"200\" height=\"10\" />\n    <rect x=\"20\" y=\"100\" rx=\"3\" ry=\"3\" width=\"80\" height=\"10\" />\n  </ContentLoader>\n)\n\nexport default ReactContentLoaderListStyle\n", "import * as React from 'react'\n\nimport { IContentLoaderProps } from '..'\nimport ContentLoader from '../ContentLoader'\n\nconst ReactContentLoaderBulletList: React.FC<IContentLoaderProps> = props => (\n  <ContentLoader viewBox=\"0 0 245 125\" {...props}>\n    <circle cx=\"10\" cy=\"20\" r=\"8\" />\n    <rect x=\"25\" y=\"15\" rx=\"5\" ry=\"5\" width=\"220\" height=\"10\" />\n    <circle cx=\"10\" cy=\"50\" r=\"8\" />\n    <rect x=\"25\" y=\"45\" rx=\"5\" ry=\"5\" width=\"220\" height=\"10\" />\n    <circle cx=\"10\" cy=\"80\" r=\"8\" />\n    <rect x=\"25\" y=\"75\" rx=\"5\" ry=\"5\" width=\"220\" height=\"10\" />\n    <circle cx=\"10\" cy=\"110\" r=\"8\" />\n    <rect x=\"25\" y=\"105\" rx=\"5\" ry=\"5\" width=\"220\" height=\"10\" />\n  </ContentLoader>\n)\n\nexport default ReactContentLoaderBulletList\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Bar as G2plotBar } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar BarChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotBar, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default BarChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Bullet as G2plotBullet } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar BulletChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotBullet, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default BulletChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Column as G2plotColumn } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar ColumnChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotColumn, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default ColumnChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Funnel as G2plotFunnel } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar FunnelChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotFunnel, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default FunnelChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Histogram as G2plotHistogram } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar HistogramChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotHistogram, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default HistogramChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Line as G2plotLine } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar LineChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotLine, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default LineChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Box as G2plotBox } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar BoxChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotBox, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default BoxChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Liquid as G2plotLiquid } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar LiquidChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotLiquid, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default LiquidChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Heatmap as G2plotHeatmap } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar HeatmapChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotHeatmap, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default HeatmapChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Pie as G2plotPie } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar PieChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotPie, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default PieChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Gauge as G2plotGauge } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar GaugeChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotGauge, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default GaugeChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Progress as G2plotProgress } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar ProgressChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotProgress, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default ProgressChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Radar as G2plotRadar } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar RadarChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotRadar, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default RadarChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { RingProgress as G2plotRingProgress } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar RingProgressChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotRingProgress, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default RingProgressChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Rose as G2plotRose } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar RoseChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotRose, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default RoseChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Chord as G2plotChord } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar ChordChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotChord, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default ChordChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Scatter as G2plotScatter } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar ScatterChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotScatter, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default ScatterChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { TinyArea as G2plotTinyArea } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar TinyAreaChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotTinyArea, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default TinyAreaChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { TinyColumn as G2plotTinyColumn } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar TinyColumnChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotTinyColumn, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default TinyColumnChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { DualAxes as G2plotDualAxes } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar DualAxesChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    // @ts-ignore annotations \u7C7B\u578B\u7279\u6B8A\n    var _b = useChart(G2plotDualAxes, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default DualAxesChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { TinyLine as G2plotTinyLine } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar TinyLineChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotTinyLine, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default TinyLineChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Waterfall as G2plotWaterfall } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar WaterfallChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotWaterfall, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default WaterfallChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { WordCloud as G2plotWordCloud } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar WordCloudChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotWordCloud, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default WordCloudChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Sunburst as G2plotSunburst } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar SunburstChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotSunburst, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default SunburstChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Stock as G2plotStock } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar StockChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotStock, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default StockChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { RadialBar as G2plotRadialBar } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar RadialBarChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotRadialBar, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default RadialBarChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Sankey as G2plotSankey } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar SankeyChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotSankey, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default SankeyChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Treemap as G2plotTreemap } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar TreemapChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotTreemap, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default TreemapChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Violin as G2plotViolin } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar ViolinChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotViolin, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default ViolinChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Venn as G2plotVenn } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar VennChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotVenn, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default VennChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { CirclePacking as G2plotCirclePacking } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar CirclePackingChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotCirclePacking, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default CirclePackingChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Facet as G2plotFacet } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar FacetChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotFacet, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default FacetChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Mix as G2plotMix } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar MultiViewChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotMix, __assign(__assign({}, rest), { chartType: 'Mix' })), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default MultiViewChart;\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { BidirectionalBar as G2plotBidirectionalBar } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar BidirectionalBarChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotBidirectionalBar, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default BidirectionalBarChart;\n", "import Area from './components/area';\nimport Bar from './components/bar';\nimport Bullet from './components/bullet';\nimport Column from './components/column';\nimport Funnel from './components/funnel';\nimport Histogram from './components/histogram';\nimport Line from './components/line';\nimport Box from './components/box';\nimport Liquid from './components/liquid';\nimport Heatmap from './components/heatmap';\nimport Pie from './components/pie';\nimport Gauge from './components/gauge';\nimport Progress from './components/progress';\nimport Radar from './components/radar';\nimport RingProgress from './components/ringProgress';\nimport Rose from './components/rose';\nimport Chord from './components/chord';\nimport Scatter from './components/scatter';\nimport TinyArea from './components/tinyArea';\nimport TinyColumn from './components/tinyColumn';\nimport DualAxes from './components/dualAxes';\nimport TinyLine from './components/tinyLine';\nimport Waterfall from './components/waterfall';\nimport WordCloud from './components/wordCloud';\nimport Sunburst from './components/sunburst';\nimport Stock from './components/stock';\nimport RadialBar from './components/radialBar';\nimport Sankey from './components/sankey';\nimport Treemap from './components/treemap';\nimport Violin from './components/violin';\nimport Venn from './components/venn';\nimport CirclePacking from './components/circlePacking';\nimport Facet from './components/facet';\nimport MultiView from './components/mix'; // \u548C Mix \u76F8\u540C\nimport Mix from './components/mix';\nimport BidirectionalBar from './components/bidirectionalBar';\nimport { G2, flow, measureTextWidth, adaptors, getCanvasPattern, FUNNEL_CONVERSATION_FIELD } from '@antv/g2plot';\nexport { Area, Bar, Box, Bullet, Column, Funnel, Histogram, Line, Liquid, Heatmap, Pie, Progress, Radar, Facet, RingProgress, Rose, Chord, Scatter, TinyArea, TinyColumn, TinyLine, Waterfall, WordCloud, Sunburst, DualAxes, Stock, RadialBar, CirclePacking, Gauge, Sankey, Treemap, Violin, Venn, MultiView, Mix, BidirectionalBar, G2, \n// \u76F4\u63A5\u5BFC\u51FA G2Plot \u76F8\u5173\u65B9\u6CD5\ngetCanvasPattern, FUNNEL_CONVERSATION_FIELD, flow, measureTextWidth, adaptors, };\nexport default {\n    Area: Area,\n    Bar: Bar,\n    Box: Box,\n    Bullet: Bullet,\n    Column: Column,\n    Funnel: Funnel,\n    Histogram: Histogram,\n    Line: Line,\n    Liquid: Liquid,\n    Heatmap: Heatmap,\n    Pie: Pie,\n    Progress: Progress,\n    Radar: Radar,\n    Facet: Facet,\n    RingProgress: RingProgress,\n    Rose: Rose,\n    Chord: Chord,\n    Scatter: Scatter,\n    TinyArea: TinyArea,\n    TinyColumn: TinyColumn,\n    TinyLine: TinyLine,\n    Waterfall: Waterfall,\n    WordCloud: WordCloud,\n    Sunburst: Sunburst,\n    DualAxes: DualAxes,\n    Stock: Stock,\n    RadialBar: RadialBar,\n    Gauge: Gauge,\n    CirclePacking: CirclePacking,\n    Sankey: Sankey,\n    Treemap: Treemap,\n    Violin: Violin,\n    Venn: Venn,\n    MultiView: MultiView,\n    Mix: Mix,\n    BidirectionalBar: BidirectionalBar,\n    // \u76F4\u63A5\u5BFC\u51FA G2Plot \u76F8\u5173\u65B9\u6CD5\n    getCanvasPattern: getCanvasPattern,\n    FUNNEL_CONVERSATION_FIELD: FUNNEL_CONVERSATION_FIELD,\n    G2: G2,\n    flow: flow,\n    measureTextWidth: measureTextWidth,\n    adaptors: adaptors,\n};\nexport * from './interface';\n", "import d from \"./node_modules/@ant-design/plots/es/index.js\";export default d;\nexport * from \"./node_modules/@ant-design/plots/es/index.js\""],
  "mappings": "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",
  "names": []
}
